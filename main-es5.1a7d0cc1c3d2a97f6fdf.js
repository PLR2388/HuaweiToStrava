!function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){return r(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||s(t,e)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t){if(Array.isArray(t))return t}function i(t){return function(t){if(Array.isArray(t))return u(t)}(t)||o(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function a(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return l(t,arguments,_(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,t)})(t)}function l(t,e,n){return(l=w()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&y(i,n.prototype),i}).apply(null,arguments)}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=w();return function(){var n,r=_(t);if(e){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService({instanceIdentifier:i});if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(l){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(void 0===e?"[DEFAULT]":e);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:i,options:r})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o)),o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){v(n,t);var e=g(n);function n(t,r){return h(this,n),e.call(this)}return p(n,[{key:"schedule",value:function(t){return this}}]),n}(n("quSY").a))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(o){return o.pipe(a(function(n,o){return Object(i.a)(t(n,o)).pipe(Object(r.a)(function(t,r){return e(n,t,o,r)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new s(t,n))})}var s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;h(this,t),this.project=e,this.concurrent=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}]),t}(),u=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return h(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return p(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new o.a(this),n=this.destination;n.add(e);var r=Object(o.c)(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(o.b)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),c=function(t){v(n,t);var e=g(n);function n(t,r,o){var a;switch(h(this,n),(a=e.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!t){a.destination=i.a;break}if("object"==typeof t){t instanceof n?(a.syncErrorThrowable=t.syncErrorThrowable,a.destination=t,t.add(b(a))):(a.syncErrorThrowable=!0,a.destination=new l(b(a),t));break}default:a.syncErrorThrowable=!0,a.destination=new l(b(a),t,r,o)}return a}return p(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,f(_(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(t){v(n,t);var e=g(n);function n(t,o,a,s){var u,c;h(this,n),(u=e.call(this))._parentSubscriber=t;var l=b(u);return Object(r.a)(o)?c=o:o&&(c=o.next,a=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(b(u)))),u._context=l,u._next=c,u._error=a,u._complete=s,u}return p(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(c)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function f(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}(t,e);if(Object(l.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(function(n){var r,i=new o.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[u.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a"),i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return c});var r,i=n("XNiG"),o=n("HDdC"),a=(n("7o/Q"),n("quSY")),s=n("x+ZX"),u=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return p(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new l(this.getSubject(),this))),t.closed&&(this._connection=null,t=a.a.EMPTY)),t}},{key:"refCount",value:function(){return Object(s.a)()(this)}}]),n}(o.a),c={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(r=u.prototype)._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}},l=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).connectable=r,i}return p(n,[{key:"_error",value:function(t){this._unsubscribe(),f(_(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),f(_(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(i.b)},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC"),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r,i=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),s=n("kJWO"),u=n("SpAZ"),c=n("2fFW"),l=((r=function(){function t(e){h(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return p(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(s.add(r?r.call(s,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof i.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=f(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(r=e).length?u.a:1===r.length?r[0]:function(t){return r.reduce(function(t,e){return e(t)},t)})(this);var r}},{key:"toPromise",value:function(t){var e=this;return new(t=f(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}}]),t}()).create=function(t){return new r(t)},r);function f(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;h(this,t),this.SchedulerAction=e,this.now=n}return p(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){v(n,t);var e=g(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return h(this,n),(i=e.call(this,t,function(){return n.delegate&&n.delegate!==b(i)?n.delegate.now():o()})).actions=[],i.active=!1,i.scheduled=void 0,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):f(_(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.3.1","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return Object(r.a)(a)?(e.pop(),Object(o.a)(e,a)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[a.a])return l=t,function(t){var e=l[a.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,l,f=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(f," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=e[e.length-1];return Object(i.a)(c)?(u=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof c&&(s=e.pop()),null===u&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(s)(Object(a.a)(e,u))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EY2u"),i=n("LRne"),o=n("z6cu"),a=function(){var t=function(){function t(e,n,r){h(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return p(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}();return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),c=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),l=function(){var t=function(t){v(n,t);var e=g(n);function n(){var t;return h(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return p(n,[{key:u.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new d(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new a.a;return f(_(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new d(t,e)},t}(),d=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).destination=t,i.source=r,i}return p(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return p(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,n,r){"use strict";r.d(n,"a",function(){return yn}),r.d(n,"b",function(){return Xc}),r.d(n,"c",function(){return Kc}),r.d(n,"d",function(){return zc}),r.d(n,"e",function(){return Gc}),r.d(n,"f",function(){return Hl}),r.d(n,"g",function(){return Rl}),r.d(n,"h",function(){return zu}),r.d(n,"i",function(){return ul}),r.d(n,"j",function(){return pu}),r.d(n,"k",function(){return tl}),r.d(n,"l",function(){return mu}),r.d(n,"m",function(){return Ar}),r.d(n,"n",function(){return Ec}),r.d(n,"o",function(){return jo}),r.d(n,"p",function(){return Ln}),r.d(n,"q",function(){return H}),r.d(n,"r",function(){return vn}),r.d(n,"s",function(){return Ko}),r.d(n,"t",function(){return Mu}),r.d(n,"u",function(){return Uu}),r.d(n,"v",function(){return $c}),r.d(n,"w",function(){return tc}),r.d(n,"x",function(){return Pl}),r.d(n,"y",function(){return $u}),r.d(n,"z",function(){return Cl}),r.d(n,"A",function(){return fl}),r.d(n,"B",function(){return Mn}),r.d(n,"C",function(){return Jc}),r.d(n,"D",function(){return Qc}),r.d(n,"E",function(){return _u}),r.d(n,"F",function(){return wu}),r.d(n,"G",function(){return Mr}),r.d(n,"H",function(){return Eu}),r.d(n,"I",function(){return Sr}),r.d(n,"J",function(){return Fn}),r.d(n,"K",function(){return Fl}),r.d(n,"L",function(){return Ju}),r.d(n,"M",function(){return ml}),r.d(n,"N",function(){return gn}),r.d(n,"O",function(){return Su}),r.d(n,"P",function(){return Ou}),r.d(n,"Q",function(){return nc}),r.d(n,"R",function(){return Y}),r.d(n,"S",function(){return xl}),r.d(n,"T",function(){return Tl}),r.d(n,"U",function(){return S}),r.d(n,"V",function(){return Sl}),r.d(n,"W",function(){return ql}),r.d(n,"X",function(){return wl}),r.d(n,"Y",function(){return Zc}),r.d(n,"Z",function(){return Ro}),r.d(n,"ab",function(){return hs}),r.d(n,"bb",function(){return Er}),r.d(n,"cb",function(){return or}),r.d(n,"db",function(){return Wn}),r.d(n,"eb",function(){return Qn}),r.d(n,"fb",function(){return $n}),r.d(n,"gb",function(){return Xn}),r.d(n,"hb",function(){return Jn}),r.d(n,"ib",function(){return Zn}),r.d(n,"jb",function(){return us}),r.d(n,"kb",function(){return Vl}),r.d(n,"lb",function(){return cs}),r.d(n,"mb",function(){return ls}),r.d(n,"nb",function(){return Yn}),r.d(n,"ob",function(){return $}),r.d(n,"pb",function(){return na}),r.d(n,"qb",function(){return ka}),r.d(n,"rb",function(){return wa}),r.d(n,"sb",function(){return _a}),r.d(n,"tb",function(){return ss}),r.d(n,"ub",function(){return Lt}),r.d(n,"vb",function(){return k}),r.d(n,"wb",function(){return Kn}),r.d(n,"xb",function(){return Yo}),r.d(n,"yb",function(){return jt}),r.d(n,"zb",function(){return fu}),r.d(n,"Ab",function(){return ji}),r.d(n,"Bb",function(){return sa}),r.d(n,"Cb",function(){return Va}),r.d(n,"Db",function(){return ns}),r.d(n,"Eb",function(){return Ua}),r.d(n,"Fb",function(){return Mc}),r.d(n,"Gb",function(){return ft}),r.d(n,"Hb",function(){return mt}),r.d(n,"Ib",function(){return R}),r.d(n,"Jb",function(){return D}),r.d(n,"Kb",function(){return vt}),r.d(n,"Lb",function(){return bt}),r.d(n,"Mb",function(){return fa}),r.d(n,"Nb",function(){return ya}),r.d(n,"Ob",function(){return ma}),r.d(n,"Pb",function(){return ga}),r.d(n,"Qb",function(){return va}),r.d(n,"Rb",function(){return pa}),r.d(n,"Sb",function(){return ba}),r.d(n,"Tb",function(){return fn}),r.d(n,"Ub",function(){return rs}),r.d(n,"Vb",function(){return eu}),r.d(n,"Wb",function(){return ru}),r.d(n,"Xb",function(){return nu}),r.d(n,"Yb",function(){return Nn}),r.d(n,"Zb",function(){return dn}),r.d(n,"ac",function(){return Hc}),r.d(n,"bc",function(){return Ea}),r.d(n,"cc",function(){return Fc}),r.d(n,"dc",function(){return Ta}),r.d(n,"ec",function(){return _c}),r.d(n,"fc",function(){return kc}),r.d(n,"gc",function(){return xa}),r.d(n,"hc",function(){return Ca}),r.d(n,"ic",function(){return ha}),r.d(n,"jc",function(){return Aa}),r.d(n,"kc",function(){return ja}),r.d(n,"lc",function(){return yc}),r.d(n,"mc",function(){return gc}),r.d(n,"nc",function(){return mc}),r.d(n,"oc",function(){return Pc}),r.d(n,"pc",function(){return la}),r.d(n,"qc",function(){return ne}),r.d(n,"rc",function(){return Tr}),r.d(n,"sc",function(){return yt}),r.d(n,"tc",function(){return Fa}),r.d(n,"uc",function(){return ca}),r.d(n,"vc",function(){return Bc}),r.d(n,"wc",function(){return Za}),r.d(n,"xc",function(){return $a}),r.d(n,"yc",function(){return ts}),r.d(n,"zc",function(){return es}),r.d(n,"Ac",function(){return Lc});var o=r("XNiG"),s=r("quSY"),u=r("HDdC"),d=r("VRyK"),y=r("w1tV");function m(t){for(var e in t)if(t[e]===m)return e;throw Error("Could not find renamed property on target object.")}function w(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function k(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(k).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function E(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var O=m({__forward_ref__:m});function S(t){return t.__forward_ref__=S,t.toString=function(){return k(this())},t}function T(t){return I(t)?t():t}function I(t){return"function"==typeof t&&t.hasOwnProperty(O)&&t.__forward_ref__===S}var C=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,r))).code=t,i}return n}(c(Error));function x(t){return"string"==typeof t?t:null==t?"":String(t)}function A(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():x(t)}function j(t,e){var n=e?" in ".concat(e):"";throw new C("201","No provider for ".concat(A(t)," found").concat(n))}function N(t,e,n,r){throw new Error("ASSERTION ERROR: ".concat(t)+(null==r?"":" [Expected=> ".concat(n," ").concat(r," ").concat(e," <=Actual]")))}function R(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function D(t){return{providers:t.providers||[],imports:t.imports||[]}}function P(t){return L(t,U)||L(t,q)}function L(t,e){return t.hasOwnProperty(e)?t[e]:null}function M(t){return t&&(t.hasOwnProperty(V)||t.hasOwnProperty(B))?t[V]:null}var F,U=m({"\u0275prov":m}),V=m({"\u0275inj":m}),q=m({ngInjectableDef:m}),B=m({ngInjectorDef:m}),H=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function z(t){var e=F;return F=t,e}function G(t,e,n){var r=P(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&H.Optional?null:void 0!==e?e:void j(k(t),"Injector")}function K(t){return{toString:t}.toString()}var W=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Y=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),Q="undefined"!=typeof globalThis&&globalThis,J="undefined"!=typeof window&&window,X="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Z="undefined"!=typeof global&&global,$=Q||Z||J||X,tt={},et=[],nt=[],rt=m({"\u0275cmp":m}),it=m({"\u0275dir":m}),ot=m({"\u0275pipe":m}),at=m({"\u0275mod":m}),st=m({"\u0275loc":m}),ut=m({"\u0275fac":m}),ct=m({__NG_ELEMENT_ID__:m}),lt=0;function ft(t){return K(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===W.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||nt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Y.Emulated,id:"c",styles:t.styles||nt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=lt++,n.inputs=gt(t.inputs,e),n.outputs=gt(t.outputs),i&&i.forEach(function(t){return t(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(ht)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(dt)}:null,n})}function ht(t){return wt(t)||function(t){return t[it]||null}(t)}function dt(t){return function(t){return t[ot]||null}(t)}var pt={};function vt(t){var e={type:t.type,bootstrap:t.bootstrap||nt,declarations:t.declarations||nt,imports:t.imports||nt,exports:t.exports||nt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&K(function(){pt[t.id]=t.type}),e}function yt(t,e){return K(function(){var n=_t(t,!0);n.declarations=e.declarations||nt,n.imports=e.imports||nt,n.exports=e.exports||nt})}function gt(t,e){if(null==t)return tt;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var mt=ft;function bt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function wt(t){return t[rt]||null}function _t(t,e){var n=t[at]||null;if(!n&&!0===e)throw new Error("Type ".concat(k(t)," does not have '\u0275mod' property."));return n}function kt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Et(t){return Array.isArray(t)&&!0===t[1]}function Ot(t){return 0!=(8&t.flags)}function St(t){return 2==(2&t.flags)}function Tt(t){return 1==(1&t.flags)}function It(t){return null!==t.template}function Ct(t,e){return t.hasOwnProperty(ut)?t[ut]:null}var xt,At=function(){function t(e,n,r){h(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return p(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function jt(){return Nt}function Nt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Dt),Rt}function Rt(){var t=Pt(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===tt)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Dt(t,e,n,r){var i=Pt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:tt,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new At(u&&u.currentValue,e,a===tt),t[r]=e}function Pt(t){return t.__ngSimpleChanges__||null}function Lt(t){xt=t}function Mt(){return void 0!==xt?xt:"undefined"!=typeof document?document:void 0}function Ft(t){return!!t.listen}jt.ngInherit=!0;var Ut={createRenderer:function(t,e){return Mt()}};function Vt(t){for(;Array.isArray(t);)t=t[0];return t}function qt(t,e){return Vt(e[t])}function Bt(t,e){return Vt(e[t.index])}function Ht(t,e){return t.data[e]}function zt(t,e){return t[e]}function Gt(t,e){var n=e[t];return kt(n)?n:n[0]}function Kt(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Wt(t){return 4==(4&t[2])}function Yt(t){return 128==(128&t[2])}function Qt(t,e){return null==e?null:t[e]}function Jt(t){t[18]=0}function Xt(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var Zt={lFrame:Ee(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function $t(){return Zt.bindingsEnabled}function te(){return Zt.lFrame.lView}function ee(){return Zt.lFrame.tView}function ne(t){Zt.lFrame.contextLView=t}function re(){for(var t=ie();null!==t&&64===t.type;)t=t.parent;return t}function ie(){return Zt.lFrame.currentTNode}function oe(){var t=Zt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ae(t,e){var n=Zt.lFrame;n.currentTNode=t,n.isParent=e}function se(){return Zt.lFrame.isParent}function ue(){Zt.lFrame.isParent=!1}function ce(){return Zt.isInCheckNoChangesMode}function le(t){Zt.isInCheckNoChangesMode=t}function fe(){var t=Zt.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function he(){return Zt.lFrame.bindingIndex}function de(){return Zt.lFrame.bindingIndex++}function pe(t){var e=Zt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ve(t){Zt.lFrame.inI18n=t}function ye(t){Zt.lFrame.currentDirectiveIndex=t}function ge(){return Zt.lFrame.currentQueryIndex}function me(t){Zt.lFrame.currentQueryIndex=t}function be(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function we(t,e,n){if(n&H.SkipSelf){for(var r=e,i=t;!(null!==(r=r.parent)||n&H.Host||(r=be(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}var o=Zt.lFrame=ke();return o.currentTNode=e,o.lView=t,!0}function _e(t){var e=ke(),n=t[1];Zt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ke(){var t=Zt.lFrame,e=null===t?null:t.child;return null===e?Ee(t):e}function Ee(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Oe(){var t=Zt.lFrame;return Zt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Se=Oe;function Te(){var t=Oe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ie(){return Zt.lFrame.selectedIndex}function Ce(t){Zt.lFrame.selectedIndex=t}function xe(){var t=Zt.lFrame;return Ht(t.tView,t.selectedIndex)}function Ae(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function je(t,e,n){De(t,e,3,n)}function Ne(t,e,n,r){(3&t[2])===n&&De(t,e,n,r)}function Re(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function De(t,e,n,r){for(var i=null!=r?r:-1,o=e.length-1,a=0,s=void 0!==r?65535&t[18]:0;s<o;s++)if("number"==typeof e[s+1]){if(a=e[s],null!=r&&a>=r)break}else e[s]<0&&(t[18]+=65536),(a<i||-1==i)&&(Pe(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Pe(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var Le=function t(e,n,r){h(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Me(t,e,n){for(var r=Ft(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];Ue(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Fe(t){return 3===t||4===t||6===t}function Ue(t){return 64===t.charCodeAt(0)}function Ve(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||qe(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function qe(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Be(t){return-1!==t}function He(t){return 32767&t}function ze(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}var Ge=!0;function Ke(t){var e=Ge;return Ge=t,e}var We=0;function Ye(t,e){var n=Je(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Qe(r.data,t),Qe(e,null),Qe(r.blueprint,null));var i=Xe(t,e),o=t.injectorIndex;if(Be(i))for(var a=He(i),s=ze(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function Qe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Je(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Xe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ze(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ct)&&(r=n[ct]),null==r&&(r=n[ct]=We++);var i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function $e(t,e,n){if(n&H.Optional)return t;j(e,"NodeInjector")}function tn(t,e,n,r){if(n&H.Optional&&void 0===r&&(r=null),0==(n&(H.Self|H.Host))){var i=t[9],o=z(void 0);try{return i?i.get(e,r,n&H.Optional):G(e,r,n&H.Optional)}finally{z(o)}}return $e(r,e,n)}function en(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(ct)?t[ct]:void 0;return"number"==typeof e?e>=0?255&e:rn:e}(n);if("function"==typeof o){if(!we(e,t,r))return r&H.Host?$e(i,n,r):tn(e,n,r,i);try{var a=o();if(null!=a||r&H.Optional)return a;j(n)}finally{Se()}}else if("number"==typeof o){var s=null,u=Je(t,e),c=-1,l=r&H.Host?e[16][6]:null;for((-1===u||r&H.SkipSelf)&&(-1!==(c=-1===u?Xe(t,e):e[u+8])&&cn(r,!1)?(s=e[1],u=He(c),e=ze(c,e)):u=-1);-1!==u;){var f=e[1];if(un(o,u,f.data)){var h=on(u,e,n,s,r,l);if(h!==nn)return h}-1!==(c=e[u+8])&&cn(r,e[1].data[u+8]===l)&&un(o,u,e)?(s=f,u=He(c),e=ze(c,e)):u=-1}}}return tn(e,n,r,i)}var nn={};function rn(){return new ln(re(),te())}function on(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=an(s,a,n,null==r?St(s)&&Ge:r!=a&&0!=(3&s.type),i&H.Host&&o===s);return null!==u?sn(e,a,u,s):nn}function an(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=1048575&o,u=t.directiveStart,c=o>>20,l=i?s+c:t.directiveEnd,f=r?s:s+c;f<l;f++){var h=a[f];if(f<u&&n===h||f>=u&&h.type===n)return f}if(i){var d=a[u];if(d&&It(d)&&d.type===n)return u}return null}function sn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Le){var a=i;a.resolving&&function(t,e){throw new C("200","Circular dependency in DI detected for ".concat(t))}(A(o[n]));var s=Ke(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?z(a.injectImpl):null;we(t,r,H.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,a=r.ngDoCheck;if(i){var s=Nt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a))}(n,o[n],e)}finally{null!==u&&z(u),Ke(s),a.resolving=!1,Se()}}return i}function un(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function cn(t,e){return!(t&H.Self||t&H.Host&&e)}var ln=function(){function t(e,n){h(this,t),this._tNode=e,this._lView=n}return p(t,[{key:"get",value:function(t,e){return en(this._tNode,this._lView,t,void 0,e)}}]),t}();function fn(t){return K(function(){for(var e=t.prototype.constructor,n=e[ut]||hn(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[ut]||hn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}})}function hn(t){return I(t)?function(){var e=hn(T(t));return e&&e()}:Ct(t)}function dn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Fe(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(re(),t)}function pn(t,e,n){return K(function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=l(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var vn=function(){function t(e,n){h(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return p(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),yn=new vn("AnalyzeForEntryComponents"),gn=Function;function mn(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),mn(r,e)):e!==t&&e.push(r)}return e}function bn(t,e){t.forEach(function(t){return Array.isArray(t)?bn(t,e):e(t)})}function wn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function _n(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function kn(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function En(t,e,n){var r=Sn(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function On(t,e){var n=Sn(t,e);if(n>=0)return t[1|n]}function Sn(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var Tn,In={},Cn=/\n/gm,xn=m({provide:String,useValue:m});function An(t){var e=Tn;return Tn=t,e}function jn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.Default;if(void 0===Tn)throw new Error("inject() must be called from an injection context");return null===Tn?G(t,void 0,e):Tn.get(t,e&H.Optional?null:void 0,e)}function Nn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.Default;return(F||jn)(T(t),e)}function Rn(t){for(var e=[],n=0;n<t.length;n++){var r=T(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=H.Default,a=0;a<r.length;a++){var s=r[a],u=s.__NG_DI_FLAG__;"number"==typeof u?-1===u?i=s.token:o|=u:i=s}e.push(Nn(i,o))}else e.push(Nn(r))}return e}function Dn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}var Pn,Ln=Dn(pn("Inject",function(t){return{token:t}}),-1),Mn=Dn(pn("Optional"),8),Fn=Dn(pn("SkipSelf"),4);function Un(t){var e;return(null===(e=function(){if(void 0===Pn&&(Pn=null,$.trustedTypes))try{Pn=$.trustedTypes.createPolicy("angular",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(e){}return Pn}())||void 0===e?void 0:e.createHTML(t))||t}var Vn=function(){function t(e){h(this,t),this.changingThisBreaksApplicationSecurity=e}return p(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),t}(),qn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Vn),Bn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Vn),Hn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Vn),zn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Vn),Gn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Vn);function Kn(t){return t instanceof Vn?t.changingThisBreaksApplicationSecurity:t}function Wn(t,e){var n=Yn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}function Yn(t){return t instanceof Vn&&t.getTypeName()||null}function Qn(t){return new qn(t)}function Jn(t){return new Bn(t)}function Xn(t){return new Hn(t)}function Zn(t){return new zn(t)}function $n(t){return new Gn(t)}function tr(t){var e=new nr(t);return function(){try{return!!(new window.DOMParser).parseFromString(Un(""),"text/html")}catch(t){return!1}}()?new er(e):e}var er=function(){function t(e){h(this,t),this.inertDocumentHelper=e}return p(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(Un(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(n){return null}}}]),t}(),nr=function(){function t(e){if(h(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return p(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Un(t),e;var n=this.inertDocument.createElement("body");return n.innerHTML=Un(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),rr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ir=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function or(t){return(t=String(t)).match(rr)||t.match(ir)?t:"unsafe:"+t}function ar(t){return(t=String(t)).split(",").map(function(t){return or(t.trim())}).join(", ")}function sr(t){var e,n={},r=a(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function ur(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var cr,lr=sr("area,br,col,hr,img,wbr"),fr=sr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hr=sr("rp,rt"),dr=ur(hr,fr),pr=ur(lr,ur(fr,sr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ur(hr,sr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dr),vr=sr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yr=sr("srcset"),gr=ur(vr,yr,sr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),sr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mr=sr("script,style,template"),br=function(){function t(){h(this,t),this.sanitizedSomething=!1,this.buf=[]}return p(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!pr.hasOwnProperty(e))return this.sanitizedSomething=!0,!mr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n=t.attributes,r=0;r<n.length;r++){var i=n.item(r),o=i.name,a=o.toLowerCase();if(gr.hasOwnProperty(a)){var s=i.value;vr[a]&&(s=or(s)),yr[a]&&(s=ar(s)),this.buf.push(" ",o,'="',kr(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();pr.hasOwnProperty(e)&&!lr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(kr(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),wr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_r=/([^\#-~ |!])/g;function kr(t){return t.replace(/&/g,"&amp;").replace(wr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(_r,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Er(t,e){var n=null;try{cr=cr||tr(t);var r=e?String(e):"";n=cr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=cr.getInertBodyElement(r)}while(r!==o);return Un((new br).sanitizeChildren(Or(n)||n))}finally{if(n)for(var a=Or(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}function Or(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Sr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Tr(t){var e,n=(e=te())&&e[12];return n?n.sanitize(Sr.URL,t)||"":Wn(t,"URL")?Kn(t):or(x(t))}function Ir(t){return t.ngDebugContext}function Cr(t){return t.ngOriginalError}function xr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Ar=function(){function t(){h(this,t),this._console=console}return p(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||xr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Ir(t)?Ir(t):this._findContext(Cr(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Cr(t);e&&Cr(e);)e=Cr(e);return e}}]),t}(),jr=/^>|^->|<!--|-->|--!>|<!-$/g,Nr=/(<|>)/;function Rr(t,e){t.__ngContext__=e}var Dr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($);function Pr(t){return t instanceof Function?t():t}var Lr,Mr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Fr(t,e){return Lr(t,e)}function Ur(t){var e=t[3];return Et(e)?e[3]:e}function Vr(t){return Br(t[13])}function qr(t){return Br(t[4])}function Br(t){for(;null!==t&&!Et(t);)t=t[4];return t}function Hr(t,e,n,r,i){if(null!=r){var o,a=!1;Et(r)?o=r:kt(r)&&(a=!0,r=r[0]);var s=Vt(r);0===t&&null!==n?null==i?ei(e,n,s):ti(e,n,s,i||null,!0):1===t&&null!==n?ti(e,n,s,i||null,!0):2===t?di(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Vt(n)&&Hr(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];vi(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function zr(t,e){return Ft(t)?t.createText(e):t.createTextNode(e)}function Gr(t,e,n){Ft(t)?t.setValue(e,n):e.textContent=n}function Kr(t,e){return t.createComment(function(t){return t.replace(jr,function(t){return t.replace(Nr,"\u200b$1\u200b")})}(e))}function Wr(t,e,n){return Ft(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Yr(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Xt(i,-1)),n.splice(r,1)}function Qr(t,e){if(!(t.length<=10)){var n,r=10+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&Yr(o,i),e>0&&(t[r-1][4]=i[4]);var a=_n(t,10+e);vi(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Jr(t,e){if(!(256&e[2])){var n=e[11];Ft(n)&&n.destroyNode&&vi(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Xr(t[1],t);for(;e;){var n=null;if(kt(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)kt(e)&&Xr(e[1],e),e=e[3];null===e&&(e=t),kt(e)&&Xr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Xr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Le)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup,r=e[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(e):Vt(e[a]),u=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var f=i+1;f<r.length;f++)(0,r[f])();e[7]=null}}(t,e),1===e[1].type&&Ft(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&Et(e[3])){n!==e[3]&&Yr(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function Zr(t,e,n){return $r(t,e.parent,n)}function $r(t,e,n){for(var r=e;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){var i=t.data[r.directiveStart].encapsulation;if(i===Y.None||i===Y.Emulated)return null}return Bt(r,n)}function ti(t,e,n,r,i){Ft(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function ei(t,e,n){Ft(t)?t.appendChild(e,n):e.appendChild(n)}function ni(t,e,n,r,i){null!==r?ti(t,e,n,r,i):ei(t,e,n)}function ri(t,e){return Ft(t)?t.parentNode(e):e.parentNode}function ii(t,e,n){return si(t,e,n)}function oi(t,e,n){return 40&t.type?Bt(t,n):null}var ai,si=oi;function ui(t,e){si=t,ai=e}function ci(t,e,n,r){var i=Zr(t,r,e),o=e[11],a=ii(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)ni(o,i,n[s],a,!1);else ni(o,i,n,a,!1);void 0!==ai&&ai(o,r,e,n,i)}function li(t,e){if(null!==e){var n=e.type;if(3&n)return Bt(e,t);if(4&n)return hi(-1,t[e.index]);if(8&n){var r=e.child;if(null!==r)return li(t,r);var i=t[e.index];return Et(i)?hi(-1,i):Vt(i)}if(32&n)return Fr(e,t)()||Vt(t[e.index]);var o=fi(t,e);return null!==o?Array.isArray(o)?o[0]:li(Ur(t[16]),o):li(t,e.next)}return null}function fi(t,e){return null!==e?t[16][6].projection[e.projection]:null}function hi(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return li(r,i)}return e[7]}function di(t,e,n){var r=ri(t,e);r&&function(t,e,n,r){Ft(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function pi(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;if(a&&0===e&&(s&&Rr(Vt(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)pi(t,e,n.child,r,i,o,!1),Hr(e,t,i,s,o);else if(32&u){for(var c=Fr(n,r),l=void 0;l=c();)Hr(e,t,i,l,o);Hr(e,t,i,s,o)}else 16&u?yi(t,e,r,n,i,o):Hr(e,t,i,s,o);n=a?n.projectionNext:n.next}}function vi(t,e,n,r,i,o){pi(n,r,t.firstChild,e,i,o,!1)}function yi(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Hr(e,t,i,s[u],o);else pi(t,e,s,a[3],i,o,!0)}function gi(t,e,n){Ft(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function mi(t,e,n){Ft(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function bi(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function wi(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==bi((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function _i(t){return 4===t.type&&"ng-template"!==t.value}function ki(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function Ei(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Fe(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!ki(t,u,n)||""===u&&1===e.length){if(Oi(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!wi(t.attrs,c,n)){if(Oi(r))return!1;a=!0}continue}var l=Si(8&r?"class":u,i,_i(t),n);if(-1===l){if(Oi(r))return!1;a=!0;continue}if(""!==c){var f;f=l>o?"":i[l+1].toLowerCase();var h=8&r?f:null;if(h&&-1!==bi(h,c,0)||2&r&&c!==f){if(Oi(r))return!1;a=!0}}}}else{if(!a&&!Oi(r)&&!Oi(u))return!1;if(a&&Oi(u))continue;a=!1,r=u|1&r}}return Oi(r)||a}function Oi(t){return 0==(1&t)}function Si(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ti(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(Ei(t,e[r],n))return!0;return!1}function Ii(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}function Ci(t,e){return t?":not("+e.trim()+")":e}function xi(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Oi(a)||(e+=Ci(o,i),i=""),r=a,o=o||!Oi(r);n++}return""!==i&&(e+=Ci(o,i)),e}var Ai={};function ji(t){Ni(ee(),te(),Ie()+t,ce())}function Ni(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&je(e,i,n)}else{var o=t.preOrderHooks;null!==o&&Ne(e,o,0,n)}Ce(n)}function Ri(t,e){return t<<17|e<<2}function Di(t){return t>>17&32767}function Pi(t){return 2|t}function Li(t){return(131068&t)>>2}function Mi(t,e){return-131069&t|e<<2}function Fi(t){return 1|t}function Ui(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];me(i),a.contentQueries(2,e[o],o)}}}function Vi(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Jt(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function qi(t,e,n,r,i){var o=t.data[e];if(null===o)o=Bi(t,e,n,r,i),Zt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;var a=oe();o.injectorIndex=null===a?-1:a.injectorIndex}return ae(o,!0),o}function Bi(t,e,n,r,i){var o=ie(),a=se(),s=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}function Hi(t,e,n,r){if(0===n)return-1;for(var i=e.length,o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function zi(t,e,n){_e(e);try{var r=t.viewQuery;null!==r&&ko(1,r,n);var i=t.template;null!==i&&Wi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ui(t,e),t.staticViewQueries&&ko(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)go(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,Te()}}function Gi(t,e,n,r){var i=e[2];if(256!=(256&i)){_e(e);var o=ce();try{Jt(e),Zt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Wi(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&je(e,s,null)}else{var u=t.preOrderHooks;null!==u&&Ne(e,u,0,null),Re(e,0)}if(function(t){for(var e=Vr(t);null!==e;e=qr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Xt(o,1),i[2]|=1024}}(e),function(t){for(var e=Vr(t);null!==e;e=qr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Yt(r)&&Gi(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Ui(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&je(e,c)}else{var l=t.contentHooks;null!==l&&Ne(e,l,1),Re(e,1)}!function(t,e){var n,r,i,o=t.hostBindingOpCodes;if(null!==o)try{for(var a=0;a<o.length;a++){var s=o[a];if(s<0)Ce(~s);else{var u=s,c=o[++a],l=o[++a];n=c,r=u,i=void 0,(i=Zt.lFrame).bindingIndex=i.bindingRootIndex=n,ye(r),l(2,e[u])}}}finally{Ce(-1)}}(t,e);var f=t.components;null!==f&&function(t,e){for(var n=0;n<e.length;n++)vo(t,e[n])}(e,f);var h=t.viewQuery;if(null!==h&&ko(2,h,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&je(e,d)}else{var p=t.viewHooks;null!==p&&Ne(e,p,2),Re(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Xt(e[3],-1))}finally{Te()}}}function Ki(t,e,n,r){var i=e[10],o=!ce(),a=Wt(e);try{o&&!a&&i.begin&&i.begin(),a&&zi(t,e,r),Gi(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Wi(t,e,n,r,i){var o=Ie();try{Ce(-1),2&r&&e.length>20&&Ni(t,e,20,ce()),n(r,i)}finally{Ce(o)}}function Yi(t,e,n){if(Ot(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Qi(t,e,n){$t()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ye(n,e),Rr(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=It(u);c&&co(e,n,u);var l=sn(e,t,s,n);Rr(l,e),null!==a&&fo(0,s-i,l,u,0,a),c&&(Gt(n.index,e)[8]=l)}}(t,e,n,Bt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Zt.lFrame.currentDirectiveIndex;try{Ce(o);for(var s=r;s<i;s++){var u=t.data[s],c=e[s];ye(s),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||io(u,c)}}finally{Ce(-1),ye(a)}}(t,e,n))}function Ji(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function Xi(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Zi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Zi(t,e,n,r,i,o,a,s,u,c){var l=20+r,f=l+i,h=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:Ai);return n}(l,f),d="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:s,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function $i(t,e,n,r){var i=Oo(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&So(t).push(r,i.length-1))}function to(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function eo(t,e,n,r,i,o,a,s){var u,c,l=Bt(e,n),f=e.inputs;!s&&null!=f&&(u=f[r])?(Io(t,n,u,r,i),St(e)&&function(t,e){var n=Gt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,e.value||"",r):i,Ft(o)?o.setProperty(l,r,i):Ue(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function no(t,e,n,r){var i=!1;if($t()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Ti(n,a.selectors,!1)&&(i||(i=[]),Ze(Ye(n,e),t,a.type),It(a)?(oo(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){i=!0,so(n,t.data.length,o.length);for(var s=0;s<o.length;s++){var u=o[s];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,f=Hi(t,e,o.length,null),h=0;h<o.length;h++){var d=o[h];n.mergedAttrs=Ve(n.mergedAttrs,d.hostAttrs),uo(t,n,e,f,d),ao(f,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),f++}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,f=null===i||_i(e)?null:ho(l,i);o.push(f),a=to(l,u,a),s=to(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new C("301","Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=Ve(n.mergedAttrs,n.attrs),i}function ro(t,e,n,r,i,o){var a=o.hostBindings;if(a){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var u=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,i,a)}}function io(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function oo(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ao(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;It(e)&&(n[""]=t)}}function so(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function uo(t,e,n,r,i){t.data[r]=i;var o=i.factory||(i.factory=Ct(i.type)),a=new Le(o,It(i),null);t.blueprint[r]=a,n[r]=a,ro(t,e,0,r,Hi(t,n,i.hostVars,Ai),i)}function co(t,e,n){var r=Bt(e,t),i=Xi(n),o=t[10],a=mo(t,Vi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=a}function lo(t,e,n,r,i,o,a){if(null==o)Ft(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{var s=null==a?x(o):a(o,r||"",i);Ft(t)?t.setAttribute(e,i,s,n):n?e.setAttributeNS(n,i,s):e.setAttribute(i,s)}}function fo(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],f=a[u++];null!==s?r.setInput(n,f,c,l):n[l]=f}}function ho(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function po(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function vo(t,e){var n=Gt(e,t);if(Yt(n)){var r=n[1];80&n[2]?Gi(r,n,r.template,n[8]):n[5]>0&&yo(n)}}function yo(t){for(var e=Vr(t);null!==e;e=qr(e))for(var n=10;n<e.length;n++){var r=e[n];if(1024&r[2]){var i=r[1];Gi(i,r,i.template,r[8])}else r[5]>0&&yo(r)}var o=t[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=Gt(o[a],t);Yt(s)&&s[5]>0&&yo(s)}}function go(t,e){var n=Gt(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),zi(r,n,n[8])}function mo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function bo(t){for(;t;){t[2]|=64;var e=Ur(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function wo(t,e,n){var r=e[10];r.begin&&r.begin();try{Gi(t,e,t.template,n)}catch(i){throw To(e,i),i}finally{r.end&&r.end()}}function _o(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Kt(n),i=r[1];Ki(i,r,i.template,n)}}(t[8])}function ko(t,e,n){me(0),e(t,n)}var Eo=Promise.resolve(null);function Oo(t){return t[7]||(t[7]=[])}function So(t){return t.cleanup||(t.cleanup=[])}function To(t,e){var n=t[9],r=n?n.get(Ar,null):null;r&&r.handleError(e)}function Io(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function Co(t,e,n){var r=qt(e,t);Gr(t[11],r,n)}function xo(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=E(i,s):2==o&&(r=E(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ao,jo=new vn("INJECTOR",-1),No=function(){function t(){h(this,t)}return p(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:In;if(e===In){var n=new Error("NullInjectorError: No provider for ".concat(k(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),Ro=new vn("Set Injector scope."),Do={},Po={},Lo=[];function Mo(){return void 0===Ao&&(Ao=new No),Ao}function Fo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Uo(t,n,e||Mo(),r)}var Uo=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&bn(n,function(t){return i.processProvider(t,e,n)}),bn([e],function(t){return i.processInjectorType(t,[],a)}),this.records.set(jo,Bo(void 0,this));var s=this.records.get(Ro);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:k(e))}return p(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:In,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H.Default;this.assertNotDestroyed();var r,i=An(this);try{if(!(n&H.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof vn)&&P(t);o=a&&this.injectableDefInScope(a)?Bo(Vo(t),Do):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&H.Self?Mo():this.parent).get(t,e=n&H.Optional&&e===In?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(k(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=k(e);if(Array.isArray(e))i=e.map(k).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):k(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(Cn,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{An(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(k(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=T(t)))return!1;var i=M(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=M(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{bn(i.imports,function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))})}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;bn(i,function(t){return r.processProvider(t,n,i||Lo)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a);var f=Ct(a)||function(){return new a};this.records.set(a,Bo(f,Do));var h=i.providers;if(null!=h&&!s){var d=t;bn(h,function(t){return r.processProvider(t,d,h)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=zo(t=T(t))?t:T(t&&t.provide),i=function(t,e,n){return Ho(t)?Bo(void 0,t.useValue):Bo(qo(t),Do)}(t);if(zo(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=Bo(void 0,Do,!0)).factory=function(){return Rn(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===Do&&(e.value=Po,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}]),t}();function Vo(t){var e=P(t),n=null!==e?e.factory:Ct(t);if(null!==n)return n;if(t instanceof vn)throw new Error("Token ".concat(k(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=kn(e,"?");throw new Error("Can't resolve all parameters for ".concat(k(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[U]||t[q]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function qo(t,e,n){var r,o;if(zo(t)){var a=T(t);return Ct(a)||Vo(a)}if(Ho(t))r=function(){return T(t.useValue)};else if((o=t)&&o.useFactory)r=function(){return t.useFactory.apply(t,i(Rn(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))r=function(){return Nn(T(t.useExisting))};else{var s=T(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Ct(s)||Vo(s);r=function(){return l(s,i(Rn(t.deps)))}}return r}function Bo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function Ho(t){return null!==t&&"object"==typeof t&&xn in t}function zo(t){return"function"==typeof t}var Go=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=Fo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},Ko=function(){var t=function(){function t(){h(this,t)}return p(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Go(t,e,""):Go(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=In,t.NULL=new No,t.\u0275prov=R({token:t,providedIn:"any",factory:function(){return Nn(jo)}}),t.__NG_ELEMENT_ID__=-1,t}();function Wo(t,e){Ae(Kt(t)[1],re())}function Yo(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(It(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=Qo(t.inputs),o.declaredInputs=Qo(t.declaredInputs),o.outputs=Qo(t.outputs);var a=i.hostBindings;a&&Zo(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&Jo(t,s),u&&Xo(t,u),w(t.inputs,i.inputs),w(t.declaredInputs,i.declaredInputs),w(t.outputs,i.outputs),It(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var f=0;f<l.length;f++){var h=l[f];h&&h.ngInherit&&h(t),h===Yo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ve(i.hostAttrs,n=Ve(n,i.hostAttrs))}}(r)}function Qo(t){return t===tt?{}:t===nt?[]:t}function Jo(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function Xo(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function Zo(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var $o=null;function ta(){if(!$o){var t=$.Symbol;if(t&&t.iterator)$o=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&($o=r)}}return $o}var ea=function(){function t(e){h(this,t),this.wrapped=e}return p(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function na(t){return!!ra(t)&&(Array.isArray(t)||!(t instanceof Map)&&ta()in t)}function ra(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ia(t,e,n){return t[e]=n}function oa(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function aa(t,e,n,r){var i=oa(t,e,n);return oa(t,e+1,r)||i}function sa(t,e,n,r){var i=te();return oa(i,de(),e)&&(ee(),function(t,e,n,r,i,o){var a=Bt(t,e);lo(e[11],a,o,t.value,n,r,i)}(xe(),i,t,e,n,r)),sa}function ua(t,e,n,r){return oa(t,de(),n)?e+x(n)+r:Ai}function ca(t,e,n,r,i,o,a,s){var u=te(),c=ee(),l=t+20,f=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=qi(e,t,4,a||null,Qt(c,s));no(e,n,l,Qt(c,u)),Ae(e,l);var f=l.tViews=Zi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),f.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,a):c.data[l];ae(f,!1);var h=u[11].createComment("");ci(c,u,h,f),Rr(h,u),mo(u,u[l]=po(h,u,h,f)),Tt(f)&&Qi(c,u,f),null!=a&&Ji(u,f,s)}function la(t){return zt(Zt.lFrame.contextLView,20+t)}function fa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.Default,n=te();return null===n?Nn(t,e):en(re(),n,T(t),e)}function ha(t,e,n){var r=te();return oa(r,de(),e)&&eo(ee(),xe(),r,t,e,r[11],n,!1),ha}function da(t,e,n,r,i){var o=i?"class":"style";Io(t,n,e.inputs[o],o,r)}function pa(t,e,n,r){var i=te(),o=ee(),a=20+t,s=i[11],u=i[a]=Wr(s,e,Zt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=qi(e,t,2,i,Qt(s,o));return no(e,n,u,Qt(s,a)),null!==u.attrs&&xo(u,u.attrs,!1),null!==u.mergedAttrs&&xo(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(a,o,i,0,e,n,r):o.data[a];ae(c,!0);var l=c.mergedAttrs;null!==l&&Me(s,u,l);var f=c.classes;null!==f&&mi(s,u,f);var h=c.styles;null!==h&&gi(s,u,h),64!=(64&c.flags)&&ci(o,i,u,c),0===Zt.lFrame.elementDepthCount&&Rr(u,i),Zt.lFrame.elementDepthCount++,Tt(c)&&(Qi(o,i,c),Yi(o,c,i)),null!==r&&Ji(i,c)}function va(){var t=re();se()?ue():ae(t=t.parent,!1);var e=t;Zt.lFrame.elementDepthCount--;var n=ee();n.firstCreatePass&&(Ae(n,t),Ot(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&da(n,e,te(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&da(n,e,te(),e.stylesWithoutHost,!1)}function ya(t,e,n,r){pa(t,e,n,r),va()}function ga(t,e,n){var r=te(),i=ee(),o=t+20,a=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,a=Qt(o,r),s=qi(e,t,8,"ng-container",a);return null!==a&&xo(s,a,!0),no(e,n,s,Qt(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(o,i,r,e,n):i.data[o];ae(a,!0);var s=r[o]=r[11].createComment("");ci(i,r,s,a),Rr(s,r),Tt(a)&&(Qi(i,r,a),Yi(i,a,r)),null!=n&&Ji(r,a)}function ma(){var t=re(),e=ee();se()?ue():ae(t=t.parent,!1),e.firstCreatePass&&(Ae(e,t),Ot(t)&&e.queries.elementEnd(t))}function ba(){return te()}function wa(t){return!!t&&"function"==typeof t.then}function _a(t){return!!t&&"function"==typeof t.subscribe}var ka=_a;function Ea(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=te(),o=ee(),a=re();return function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=Tt(r),c=t.firstCreatePass&&So(t),l=Oo(e),f=!0;if(3&r.type){var h=Bt(r,e),d=s?s(h):tt,p=d.target||h,v=l.length,y=s?function(t){return s(Vt(t[r.index])).target}:r.index;if(Ft(n)){var g=null;if(!s&&u&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,f=!1;else{o=Sa(r,e,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=Sa(r,e,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,y,v,a)}else o=Sa(r,e,o,!1);var b,w=r.outputs;if(f&&null!==w&&(b=w[i])){var _=b.length;if(_)for(var k=0;k<_;k+=2){var E=e[b[k]][b[k+1]].subscribe(o),O=l.length;l.push(o,E),c&&c.push(i,r.index,O,-(O+1))}}}(o,i,i[11],a,t,e,n,r),Ea}function Oa(t,e,n){try{return!1!==e(n)}catch(r){return To(t,r),!1}}function Sa(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?Gt(t.index,e):e;0==(32&e[2])&&bo(a);for(var s=Oa(e,n,o),u=i.__ngNextListenerFn__;u;)s=Oa(e,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Ta(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(Zt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Zt.lFrame.contextLView))[8]}(t)}function Ia(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?Ti(t,o,!0):Ii(r,o))return i}else n=i}return n}function Ca(t){var e=te()[16][6];if(!e.projection)for(var n=e.projection=kn(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?Ia(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function xa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=te(),i=ee(),o=qi(i,20+t,16,null,n||null);null===o.projection&&(o.projection=e),ue(),64!=(64&o.flags)&&function(t,e,n){yi(e[11],0,e,n,Zr(t,n,e),ii(n.parent||e[6],n,e))}(i,r,o)}function Aa(t,e,n){return ja(t,"",e,"",n),Aa}function ja(t,e,n,r,i){var o=te(),a=ua(o,e,n,r);return a!==Ai&&eo(ee(),xe(),o,t,a,o[11],i,!1),ja}function Na(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?Di(o):Li(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];Ra(t[s],e)&&(u=!0,t[s+1]=r?Fi(c):Pi(c)),s=r?Di(c):Li(c)}u&&(t[n+1]=r?Pi(o):Fi(o))}function Ra(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Sn(t,e)>=0}var Da={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Pa(t){return t.substring(Da.key,Da.keyEnd)}function La(t,e){var n=Da.textEnd;return n===e?-1:(e=Da.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Da.key=e,n),Ma(t,e,n))}function Ma(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Fa(t,e,n){return Ba(t,e,n,!1),Fa}function Ua(t,e){return Ba(t,e,null,!0),Ua}function Va(t){Ha(En,qa,t,!0)}function qa(t,e){for(var n=function(t){return function(t){Da.key=0,Da.keyEnd=0,Da.value=0,Da.valueEnd=0,Da.textEnd=t.length}(t),La(t,Ma(t,0,Da.textEnd))}(e);n>=0;n=La(e,n))En(t,Pa(e),!0)}function Ba(t,e,n,r){var i=te(),o=ee(),a=pe(2);o.firstUpdatePass&&Ga(o,t,a,r),e!==Ai&&oa(i,a,e)&&Ya(o,o.data[Ie()],i,i[11],t,i[a+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=k(Kn(t)))),t}(e,n),r,a)}function Ha(t,e,n,r){var i=ee(),o=pe(2);i.firstUpdatePass&&Ga(i,null,o,r);var a=te();if(n!==Ai&&oa(a,o,n)){var s=i.data[Ie()];if(Xa(s,r)&&!za(i,o)){var u=r?s.classesWithoutHost:s.stylesWithoutHost;null!==u&&(n=E(u,n||"")),da(i,s,a,n,r)}else!function(t,e,n,r,i,o,a,s){i===Ai&&(i=et);for(var u=0,c=0,l=0<i.length?i[0]:null,f=0<o.length?o[0]:null;null!==l||null!==f;){var h=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=void 0,v=null;l===f?(u+=2,c+=2,h!==d&&(v=f,p=d)):null===f||null!==l&&l<f?(u+=2,v=l):(c+=2,v=f,p=d),null!==v&&Ya(t,e,n,r,v,p,a,s),l=u<i.length?i[u]:null,f=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return et;var r=[],i=Kn(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&t(r,a,i[a]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function za(t,e){return e>=t.expandoStartIndex}function Ga(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Ie()],a=za(t,n);Xa(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=Zt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Wa(n=Ka(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=Ka(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==Li(r))return t[Di(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[Di(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=Wa(s=Ka(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=Wa(r,t[o].hostAttrs,n);return Wa(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=o?e.classBindings:e.styleBindings,s=Di(a),u=Li(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var f=n;(null===(c=f[1])||Sn(f,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var h=Di(t[s+1]);t[r+1]=Ri(h,s),0!==h&&(t[h+1]=Mi(t[h+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=Ri(s,0),0!==s&&(t[s+1]=Mi(t[s+1],r)),s=r;else t[r+1]=Ri(u,0),0===s?s=r:t[u+1]=Mi(t[u+1],r),u=r;l&&(t[r+1]=Pi(t[r+1])),Na(t,c,r,!0),Na(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Sn(o,e)>=0&&(n[r+1]=Fi(n[r+1]))}(e,c,t,r,o),a=Ri(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}function Ka(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Wa(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function Wa(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),En(t,a,!!n||e[++o]))}return void 0===t?null:t}function Ya(t,e,n,r,i,o,a,s){if(3&e.type){var u=t.data,c=u[s+1];Ja(1==(1&c)?Qa(u,e,n,i,Li(c),a):void 0)||(Ja(o)||2==(2&c)&&(o=Qa(u,null,n,i,s,a)),function(t,e,n,r,i){var o=Ft(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var a=-1===r.indexOf("-")?void 0:Mr.DashCase;if(null==i)o?t.removeStyle(n,r,a):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),a|=Mr.Important),o?t.setStyle(n,r,i,a):n.style.setProperty(r,i,s?"important":"")}}}(r,a,qt(Ie(),n),i,o))}}function Qa(t,e,n,r,i,o){for(var a,s=null===e;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,f=null===l,h=n[i+1];h===Ai&&(h=f?et:void 0);var d=f?On(h,r):l===r?h:void 0;if(c&&!Ja(d)&&(d=On(u,r)),Ja(d)&&(a=d,s))return a;var p=t[i+1];i=s?Di(p):Li(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(a=On(v,r))}return a}function Ja(t){return void 0!==t}function Xa(t,e){return 0!=(t.flags&(e?16:32))}function Za(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=te(),r=ee(),i=t+20,o=r.firstCreatePass?qi(r,i,1,e,null):r.data[i],a=n[i]=zr(n[11],e);ci(r,n,a,o),ae(o,!1)}function $a(t){return ts("",t,""),$a}function ts(t,e,n){var r=te(),i=ua(r,t,e,n);return i!==Ai&&Co(r,Ie(),i),ts}function es(t,e,n,r,i){var o=te(),a=function(t,e,n,r,i,o){var a=aa(t,he(),n,i);return pe(2),a?e+x(n)+r+x(i)+o:Ai}(o,t,e,n,r,i);return a!==Ai&&Co(o,Ie(),a),es}function ns(t,e,n,r,i,o,a,s,u){Ha(En,qa,function(t,e,n,r,i,o,a,s,u,c){var l=function(t,e,n,r,i,o){var a=aa(t,e,n,r);return aa(t,e+2,i,o)||a}(t,he(),n,i,a,u);return pe(4),l?e+x(n)+r+x(i)+o+x(a)+s+x(u)+c:Ai}(te(),t,e,n,r,i,o,a,s,u),!0)}function rs(t,e,n){var r=te();return oa(r,de(),e)&&eo(ee(),xe(),r,t,e,r[11],n,!0),rs}var is=void 0,os=["en",[["a","p"],["AM","PM"],is],[["AM","PM"],is,is],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],is,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],is,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",is,"{1} 'at' {0}",is],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],as={};function ss(t,e,n){"string"!=typeof e&&(n=e,e=t[hs.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),as[e]=t,n&&(as[e][hs.ExtraData]=n)}function us(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=fs(e);if(n)return n;var r=e.split("-")[0];if(n=fs(r))return n;if("en"===r)return os;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function cs(t){return us(t)[hs.CurrencyCode]||null}function ls(t){return us(t)[hs.PluralCase]}function fs(t){return t in as||(as[t]=$.ng&&$.ng.common&&$.ng.common.locales&&$.ng.common.locales[t]),as[t]}var hs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({}),ds=["zero","one","two","few","many"],ps={marker:"element"},vs={marker:"ICU"},ys=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({}),gs="en-US";function ms(t){var e;null==(e=t)&&N("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(gs=t.toLowerCase().replace(/_/g,"-"))}function bs(t,e,n){var r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?oi(t,0,n):Vt(n[i])}function ws(t,e,n,r,i){var o=e.insertBeforeIndex;if(Array.isArray(o)){var a=r,s=null;if(3&e.type||(s=a,a=i),null!==a&&0==(2&e.flags))for(var u=1;u<o.length;u++)ti(t,a,n[o[u]],s,!1)}}function _s(t,e){if(t.push(e),t.length>1)for(var n=t.length-2;n>=0;n--){var r=t[n];ks(r)||Es(r,e)&&null===(i=void 0,i=r.insertBeforeIndex,Array.isArray(i)?i[0]:i)&&Os(r,e.index)}var i}function ks(t){return!(64&t.type)}function Es(t,e){return ks(e)||t.index>e.index}function Os(t,e){var n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(ui(bs,ws),t.insertBeforeIndex=e)}function Ss(t,e){var n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Ts(t,e,n){var r=Bi(t,n,64,null,null);return _s(e,r),r}function Is(t,e){var n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}var Cs=0,xs=0;function As(t,e,n,r){for(var i,o=n[11],a=null,s=0;s<e.length;s++){var u=e[s];if("string"==typeof u){var c=e[++s];null===n[c]&&(n[c]=zr(o,u))}else if("number"==typeof u)switch(1&u){case 0:var l=u>>>17,f=void 0,h=void 0;if(null===a&&(a=l,i=ri(o,r)),l===a?(f=r,h=i):(f=null,h=Vt(n[l])),null!==h){var d=(131070&u)>>>1;ti(o,h,n[d],f,!1);var p=Ss(t,d);if(null!==p&&"object"==typeof p){var v=Is(p,n);null!==v&&As(t,p.create[v],n,n[p.anchorIdx])}}break;case 1:var y=e[++s],g=e[++s];lo(o,qt(u>>>1,n),null,null,y,g,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(u,'"'))}else switch(u){case vs:var m=e[++s],b=e[++s];null===n[b]&&Rr(n[b]=Kr(o,m),n);break;case ps:var w=e[++s],_=e[++s];null===n[_]&&Rr(n[_]=Wr(o,w,null),n)}}}function js(t,e,n,r,i){for(var o=0;o<n.length;o++){var a=n[o],s=n[++o];if(a&i)for(var u="",c=o+1;c<=o+s;c++){var l=n[c];if("string"==typeof l)u+=l;else if("number"==typeof l)if(l<0)u+=x(e[r-l]);else{var f=l>>>2;switch(3&l){case 1:var h=n[++c],d=n[++c],p=t.data[f];"string"==typeof p?lo(e[11],e[f],null,p,h,u,d):eo(t,p,e,h,u,e[11],d,!1);break;case 0:var v=e[f];null!==v&&Gr(e[11],v,u);break;case 2:Rs(t,Ss(t,f),e,u);break;case 3:Ns(t,Ss(t,f),r,e)}}}else{var y=n[o+1];if(y>0&&3==(3&y)){var g=Ss(t,y>>>2);e[g.currentCaseLViewIndex]<0&&Ns(t,g,r,e)}}o+=s}}function Ns(t,e,n,r){var i=r[e.currentCaseLViewIndex];if(null!==i){var o=Cs;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),js(t,r,e.update[i],n,o)}}function Rs(t,e,n,r){var i=function(t,e){var n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:var r=function(t,e){var n=ls(e)(parseInt(t,10)),r=ds[n];return void 0!==r?r:"other"}(e,gs);-1===(n=t.cases.indexOf(r))&&"other"!==r&&(n=t.cases.indexOf("other"));break;case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Is(e,n)!==i&&(Ds(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){var o=n[e.anchorIdx];o&&As(t,e.create[i],n,o)}}function Ds(t,e,n){var r=Is(e,n);if(null!==r)for(var i=e.remove[r],o=0;o<i.length;o++){var a=i[o];if(a>0){var s=qt(a,n);null!==s&&di(n[11],s)}else Ds(t,Ss(t,~a),n)}}var Ps=/\ufffd(\d+):?\d*\ufffd/gi,Ls=/\ufffd(\d+)\ufffd/,Ms=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Fs=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Us=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Vs=/\uE500/g;function qs(t,e,n,r,i,o,a){var s=Hi(t,r,1,null),u=s<<ys.SHIFT,c=oe();e===c&&(c=null),null===c&&(u|=ys.APPEND_EAGERLY),a&&(u|=ys.COMMENT,void 0===Lr&&(Lr=function(){var t,e,n=[],r=-1;function i(t,n){r=0;var i=Is(t,n);e=null!==i?t.remove[i]:nt}function o(){if(r<e.length){var a=e[r++];return a>0?t[a]:(n.push(r,e),i(t[1].data[~a],t),o())}return 0===n.length?null:(e=n.pop(),r=n.pop(),o())}return function(e,r){for(t=r;n.length;)n.pop();return i(e.value,r),o}}())),i.push(u,null===o?"":o);var l=Bi(t,s,a?32:1,null===o?"":o,null);_s(n,l);var f=l.index;return ae(l,!1),null!==c&&e!==c&&function(t,e){var n,r=t.insertBeforeIndex;null===r?(ui(bs,ws),r=t.insertBeforeIndex=[null,e]):(1!=(n=Array.isArray(r))&&N("Expecting array here",n,!0,"=="),r.push(e))}(c,f),l}function Bs(t,e,n,r,i,o,a){var s=a.match(Ps),u=qs(t,e,n,o,r,s?null:a,!1);s&&Hs(i,a,u.index)}function Hs(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=t.length,a=o+1;t.push(null,null);for(var s=o+2,u=e.split(Ps),c=0,l=0;l<u.length;l++){var f=u[l];if(1&l){var h=parseInt(f,10);t.push(-1-h),c|=zs(h)}else""!==f&&t.push(f)}return t.push(n<<2|(r?1:0)),r&&t.push(r,i),t[o]=c,t[a]=t.length-s,c}function zs(t){return 1<<Math.min(t,31)}function Gs(t){for(var e,n,r="",i=0,o=!1;null!==(e=Fs.exec(t));)o?e[0]==="\ufffd/*".concat(n,"\ufffd")&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i)}function Ks(t,e,n,r,i,o){var a=0,s={type:i.type,currentCaseLViewIndex:Hi(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(zs(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){var r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,s);for(var u=i.values,c=0;c<u.length;c++){for(var l=u[c],f=[],h=0;h<l.length;h++){var d=l[h];if("string"!=typeof d){var p=f.push(d)-1;l[h]="\x3c!--\ufffd".concat(p,"\ufffd--\x3e")}}a=Qs(t,s,e,n,r,i.cases[c],l.join(""),f)|a}a&&function(t,e,n){t.push(e,1,n<<2|3)}(n,a,o)}function Ws(t){for(var e=[],n=[],r=1,i=0,o=Ys(t=t.replace(Ms,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})),a=0;a<o.length;){var s=o[a++].trim();1===r&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&e.push(s);var u=Ys(o[a++]);e.length>n.length&&n.push(u)}return{type:r,mainBinding:i,cases:e,values:n}}function Ys(t){if(!t)return[];var e,n=0,r=[],i=[],o=/[{}]/g;for(o.lastIndex=0;e=o.exec(t);){var a=e.index;if("}"==e[0]){if(r.pop(),0==r.length){var s=t.substring(n,a);Ms.test(s)?i.push(Ws(s)):i.push(s),n=a+1}}else{if(0==r.length){var u=t.substring(n,a);i.push(u),n=a+1}r.push("{")}}var c=t.substring(n);return i.push(c),i}function Qs(t,e,n,r,i,o,a,s){var u=[],c=[],l=[];e.cases.push(o),e.create.push(u),e.remove.push(c),e.update.push(l);var f=tr(Mt()).getInertBodyElement(a),h=Or(f)||f;return h?Js(t,e,n,r,u,c,l,h,i,s,0):0}function Js(t,e,n,r,i,o,a,s,u,c,l){for(var f=0,h=s.firstChild;h;){var d=Hi(t,n,1,null);switch(h.nodeType){case Node.ELEMENT_NODE:var p=h,v=p.tagName.toLowerCase();if(pr.hasOwnProperty(v)){$s(i,ps,v,u,d),t.data[d]=v;for(var y=p.attributes,g=0;g<y.length;g++){var m=y.item(g),b=m.name.toLowerCase();m.value.match(Ps)?gr.hasOwnProperty(b)&&(vr[b]?Hs(a,m.value,d,m.name,or):yr[b]?Hs(a,m.value,d,m.name,ar):Hs(a,m.value,d,m.name)):tu(i,d,m)}f=Js(t,e,n,r,i,o,a,h,d,c,l+1)|f,Xs(o,d,l)}break;case Node.TEXT_NODE:var w=h.textContent||"",_=w.match(Ps);$s(i,null,_?"":w,u,d),Xs(o,d,l),_&&(f=Hs(a,w,d)|f);break;case Node.COMMENT_NODE:var k=Ls.exec(h.textContent||"");if(k){var E=c[parseInt(k[1],10)];$s(i,vs,"",u,d),Ks(t,n,r,u,E,d),Zs(o,d,l)}}h=h.nextSibling}return f}function Xs(t,e,n){0===n&&t.push(e)}function Zs(t,e,n){0===n&&(t.push(~e),t.push(e))}function $s(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function tu(t,e,n){t.push(e<<1|1,n.name,n.value)}function eu(t,e,n){(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=ee(),i=te(),o=20+t,a=Qt(r.consts,e),s=oe();r.firstCreatePass&&function(t,e,n,r,i,o){for(var a,s=oe(),u=[],c=[],l=[[]],f=(a=i=function(t,e){if(function(t){return-1===t}(e))return Gs(t);var n=t.indexOf(":".concat(e,"\ufffd"))+2+e.toString().length,r=t.search(new RegExp("\ufffd\\/\\*\\d+:".concat(e,"\ufffd")));return Gs(t.substring(n,r))}(i,o),a.replace(Vs," ")).split(Us),h=0;h<f.length;h++){var d=f[h];if(0==(1&h))for(var p=Ys(d),v=0;v<p.length;v++){var y=p[v];if(0==(1&v)){var g=y;""!==g&&Bs(t,s,l[0],u,c,n,g)}else{var m=y;if("object"!=typeof m)throw new Error('Unable to parse ICU expression in "'.concat(i,'" message.'));Ks(t,n,c,e,m,qs(t,s,l[0],n,u,"",!0).index)}}else{var b=47===d.charCodeAt(0),w=(d.charCodeAt(b?1:0),20+Number.parseInt(d.substring(b?2:1)));if(b)l.shift(),ae(oe(),!1);else{var _=Ts(t,l[0],w);l.unshift([]),ae(_,!0)}}}t.data[r]={create:u,update:c}}(r,null===s?0:s.index,i,o,a,n);var u=r.data[o],c=$r(r,s===i[6]?null:s,i);!function(t,e,n,r){for(var i=t[11],o=0;o<e.length;o++){var a=e[o++],s=e[o],u=(a&ys.COMMENT)===ys.COMMENT,c=(a&ys.APPEND_EAGERLY)===ys.APPEND_EAGERLY,l=a>>>ys.SHIFT,f=t[l];null===f&&(f=t[l]=u?i.createComment(s):zr(i,s)),c&&null!==n&&ti(i,n,f,r,!1)}}(i,u.create,c,s&&8&s.type?i[s.index]:null),ve(!0)})(t,e,n),ve(!1)}function nu(t){return oa(te(),de(),t)&&(Cs|=1<<Math.min(xs,31)),xs++,nu}function ru(t){!function(t,e,n){if(xs>0){var r=t.data[n];js(t,e,Array.isArray(r)?r:r.update,he()-xs-1,Cs)}Cs=0,xs=0}(ee(),te(),t+20)}function iu(t,e,n,r,i){if(t=T(t),Array.isArray(t))for(var o=0;o<t.length;o++)iu(t[o],e,n,r,i);else{var a=ee(),s=te(),u=zo(t)?t:T(t.provide),c=qo(t),l=re(),f=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(zo(t)||!t.multi){var p=new Le(c,i,fa),v=su(u,e,i?f:f+d,h);-1===v?(Ze(Ye(l,s),a,u),ou(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var y=su(u,e,f+d,h),g=su(u,e,f,f+d),m=y>=0&&n[y],b=g>=0&&n[g];if(i&&!b||!i&&!m){Ze(Ye(l,s),a,u);var w=function(t,e,n,r,i){var o=new Le(t,n,fa);return o.multi=[],o.index=e,o.componentProviders=0,au(o,i,r&&!n),o}(i?cu:uu,n.length,i,r,c);!i&&b&&(n[g].providerFactory=w),ou(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(w),s.push(w)}else ou(a,t,y>-1?y:g,au(n[i?g:y],c,!i&&r));!i&&r&&b&&n[g].componentProviders++}}}function ou(t,e,n,r){var i=zo(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function au(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function su(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function uu(t,e,n,r){return lu(this.multi,[])}function cu(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=sn(n,n[1],this.providerFactory.index,r);lu(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else lu(o,i=[]);return i}function lu(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function fu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=ee();if(r.firstCreatePass){var i=It(t);iu(n,r.data,r.blueprint,i,!0),iu(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var hu=function t(){h(this,t)},du=function(){function t(){h(this,t)}return p(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(k(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),pu=function(){var t=function t(){h(this,t)};return t.NULL=new du,t}();function vu(){}function yu(t,e){return new mu(Bt(t,e))}var gu=function(){return yu(re(),te())},mu=function(){var t=function t(e){h(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=gu,t}();function bu(t){return t instanceof mu?t.nativeElement:t}var wu=function t(){h(this,t)},_u=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=function(){return ku()},t}(),ku=function(){var t=te(),e=Gt(re().index,t);return function(t){return t[11]}(kt(e)?e:t)},Eu=function(){var t=function t(){h(this,t)};return t.\u0275prov=R({token:t,providedIn:"root",factory:function(){return null}}),t}(),Ou=function t(e){h(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Su=new Ou("11.2.6"),Tu=function(){function t(){h(this,t)}return p(t,[{key:"supports",value:function(t){return na(t)}},{key:"create",value:function(t){return new Cu(t)}}]),t}(),Iu=function(t,e){return e},Cu=function(){function t(e){h(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Iu}return p(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Nu(n,r,i)?e:n,a=Nu(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var f=l<i.length?i[l]:i[l]=0,h=f+l;c<=h&&h<u&&(i[l]=f+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!na(t))throw new Error("Error trying to diff '".concat(k(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[ta()]();!(r=i.next()).done;)e(r.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new xu(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ju),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ju),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),xu=function t(e,n){h(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Au=function(){function t(){h(this,t),this._head=null,this._tail=null}return p(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),ju=function(){function t(){h(this,t),this.map=new Map}return p(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Au,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function Nu(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Ru=function(){function t(){h(this,t)}return p(t,[{key:"supports",value:function(t){return t instanceof Map||ra(t)}},{key:"create",value:function(){return new Du}}]),t}(),Du=function(){function t(){h(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return p(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||ra(t)))throw new Error("Error trying to diff '".concat(k(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Pu(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),Pu=function t(e){h(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function Lu(){return new Mu([new Tu])}var Mu=function(){var t=function(){function t(e){h(this,t),this.factories=e}return p(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||Lu())},deps:[[t,new Fn,new Mn]]}}}]),t}();return t.\u0275prov=R({token:t,providedIn:"root",factory:Lu}),t}();function Fu(){return new Uu([new Ru])}var Uu=function(){var t=function(){function t(e){h(this,t),this.factories=e}return p(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||Fu())},deps:[[t,new Fn,new Mn]]}}}]),t}();return t.\u0275prov=R({token:t,providedIn:"root",factory:Fu}),t}();function Vu(t,e,n,r){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var a=e[n.index];if(null!==a&&r.push(Vt(a)),Et(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&Vu(u[1],u,c,r)}var l=n.type;if(8&l)Vu(t,e,n.child,r);else if(32&l)for(var f=Fr(n,e),h=void 0;h=f();)r.push(h);else if(16&l){var d=fi(e,n);if(Array.isArray(d))r.push.apply(r,i(d));else{var p=Ur(e[16]);Vu(p[1],p,d,r,!0)}}n=o?n.projectionNext:n.next}return r}var qu=function(){function t(e,n){h(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return p(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return Vu(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(Et(t)){var e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Qr(t,n),_n(e,n))}this._attachedToViewContainer=!1}Jr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){$i(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){bo(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){wo(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){le(!0);try{wo(t,e,n)}finally{le(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,vi(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),Bu=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t))._view=t,r}return p(n,[{key:"detectChanges",value:function(){_o(this._view)}},{key:"checkNoChanges",value:function(){!function(t){le(!0);try{_o(t)}finally{le(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(qu),Hu=Gu,zu=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=Hu,t.__ChangeDetectorRef__=!0,t}();function Gu(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&St(t)){var r=Gt(t.index,e);return new qu(r,r)}return 47&t.type?new qu(e[16],e):null}(re(),te(),t)}var Ku=[new Ru],Wu=new Mu([new Tu]),Yu=new Uu(Ku),Qu=function(){return Zu(re(),te())},Ju=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=Qu,t}(),Xu=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=r,o.elementRef=i,o}return p(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Vi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),zi(e,n,t),new qu(n)}}]),n}(Ju);function Zu(t,e){return 4&t.type?new Xu(e,t,yu(t,e)):null}var $u=function t(){h(this,t)},tc=function t(){h(this,t)},ec=function(){return ac(re(),te())},nc=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=ec,t}(),rc=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=r,o._hostLView=i,o}return p(n,[{key:"element",get:function(){return yu(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new ln(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=Xe(this._hostTNode,this._hostLView);if(Be(t)){var e=ze(t,this._hostLView),n=He(t);return new ln(e[1].data[n+8],e)}return new ln(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=ic(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get($u,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var r=t._lView,i=r[1];if(Et(r[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var a=r[3],s=new n(a,a[6],a[3]);s.detach(s.indexOf(t))}}var u=this._adjustIndex(e),c=this._lContainer;!function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],wn(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(i,r,c,u);var l=hi(u,c),f=r[11],h=ri(f,c[7]);return null!==h&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,vi(t,r,n,1,i,o)}(i,c[6],f,r,h,l),t.attachToViewContainerRef(),wn(oc(c),u,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=ic(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=Qr(this._lContainer,e);n&&(_n(oc(this._lContainer),e),Jr(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=Qr(this._lContainer,e);return n&&null!=_n(oc(this._lContainer),e)?new qu(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(nc);function ic(t){return t[8]}function oc(t){return t[8]||(t[8]=[])}function ac(t,e){var n,r=e[t.index];if(Et(r))n=r;else{var i;if(8&t.type)i=Vt(r);else{var o=e[11];i=o.createComment("");var a=Bt(t,e);ti(o,ri(o,a),i,function(t,e){return Ft(t)?t.nextSibling(e):e.nextSibling}(o,a),!1)}e[t.index]=n=po(r,e,i,t),mo(e,n)}return new rc(n,t,e)}var sc={},uc=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this)).ngModule=t,r}return p(n,[{key:"resolveComponentFactory",value:function(t){var e=wt(t);return new fc(e,this.ngModule)}}]),n}(pu);function cc(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var lc=new vn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Dr}}),fc=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(xi).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return p(n,[{key:"inputs",get:function(){return cc(this.componentDef.inputs)}},{key:"outputs",get:function(){return cc(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,sc,i);return o!==sc||r===sc?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(wu,Ut),u=a.get(Eu,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",f=n?function(t,e,n){if(Ft(t))return t.selectRootElement(e,n===Y.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Wr(s.createRenderer(null,this.componentDef),l,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,d={components:[],scheduler:Dr,clean:Eo,playerHandler:null,flags:0},p=Zi(0,null,null,1,0,null,null,null,null,null),v=Vi(null,p,d,h,null,null,s,c,u,a);_e(v);try{var y=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=qi(a,20,2,"#host",null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(xo(s,u,!0),null!==t&&(Me(i,t,u),null!==s.classes&&mi(i,t,s.classes),null!==s.styles&&gi(i,t,s.styles)));var c=r.createRenderer(t,e),l=Vi(n,Xi(e),null,e.onPush?64:16,n[20],s,r,c,null,null);return a.firstCreatePass&&(Ze(Ye(s,n),a,e.type),oo(a,s),so(s,n.length,1)),mo(n,l),n[20]=l}(f,this.componentDef,v,s,c);if(f)if(n)Me(c,f,["ng-version",Su.full]);else{var g=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Oi(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),m=g.attrs,b=g.classes;m&&Me(c,f,m),b&&b.length>0&&mi(c,f,b.join(" "))}if(o=Ht(p,20),void 0!==e)for(var w=o.projection=[],_=0;_<this.ngContentSelectors.length;_++){var k=e[_];w.push(null!=k?Array.from(k):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=re();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),uo(t,r,e,Hi(t,e,1,null),n));var i=sn(e,t,r.directiveStart,r);Rr(i,e);var o=Bt(r,e);return o&&Rr(o,e),i}(o,n,e);if(r.components.push(a),t[8]=a,i&&i.forEach(function(t){return t(a,e)}),e.contentQueries){var s=re();e.contentQueries(1,a,s.directiveStart)}var u=re();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ce(u.index),ro(n[1],u,0,u.directiveStart,u.directiveEnd,e),io(e,a)),a}(y,this.componentDef,v,d,[Wo]),zi(p,v,null)}finally{Te()}return new hc(this.componentType,i,yu(o,v),v,o)}}]),n}(hu),hc=function(t){v(n,t);var e=g(n);function n(t,r,i,o,a){var s;return h(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.instance=r,s.hostView=s.changeDetectorRef=new Bu(o),s.componentType=t,s}return p(n,[{key:"injector",get:function(){return new ln(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(function(){return function t(){h(this,t)}}()),dc=new Map,pc=function(t){v(n,t);var e=g(n);function n(t,r){var i;h(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=b(i),i.destroyCbs=[],i.componentFactoryResolver=new uc(b(i));var o=_t(t),a=t[st]||null;return a&&ms(a),i._bootstrapComponents=Pr(o.bootstrap),i._r3Injector=Fo(t,r,[{provide:$u,useValue:b(i)},{provide:pu,useValue:i.componentFactoryResolver}],k(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return p(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ko.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H.Default;return t===Ko||t===$u||t===jo?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}($u),vc=function(t){v(n,t);var e=g(n);function n(t){var r,i,o;return h(this,n),(r=e.call(this)).moduleType=t,null!==_t(t)&&(i=t,o=new Set,function t(e){var n=_t(e,!0),r=n.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(k(e)," vs ").concat(k(e.name)))}(r,dc.get(r),e),dc.set(r,e));var i,s=a(Pr(n.imports));try{for(s.s();!(i=s.n()).done;){var u=i.value;o.has(u)||(o.add(u),t(u))}}catch(c){s.e(c)}finally{s.f()}}(i)),r}return p(n,[{key:"create",value:function(t){return new pc(this.moduleType,t)}}]),n}(tc);function yc(t,e,n,r){return wc(te(),fe(),t,e,n,r)}function gc(t,e,n,r,i){return function(t,e,n,r,i,o,a){var s=e+n;return aa(t,s,i,o)?ia(t,s+2,a?r.call(a,i,o):r(i,o)):bc(t,s+2)}(te(),fe(),t,e,n,r,i)}function mc(t,e,n,r,i,o){return function(t,e,n,r,i,o,a,s){var u=e+n;return function(t,e,n,r,i){var o=aa(t,e,n,r);return oa(t,e+2,i)||o}(t,u,i,o,a)?ia(t,u+3,s?r.call(s,i,o,a):r(i,o,a)):bc(t,u+3)}(te(),fe(),t,e,n,r,i,o)}function bc(t,e){var n=t[e];return n===Ai?void 0:n}function wc(t,e,n,r,i,o){var a=e+n;return oa(t,a,i)?ia(t,a+1,o?r.call(o,i):r(i)):bc(t,a+1)}function _c(t,e){var n,r=ee(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new C("302","The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Ct(n.type)),a=z(fa);try{var s=Ke(!1),u=o();return Ke(s),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(r,te(),i,u),u}finally{z(a)}}function kc(t,e,n){var r=t+20,i=te(),o=zt(i,r);return function(t,e){return ea.isWrapped(e)&&(e=ea.unwrap(e),t[he()]=Ai),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?wc(i,fe(),e,o.transform,n,o):o.transform(n))}var Ec=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return h(this,n),(t=e.call(this)).__isAsync=r,t}return p(n,[{key:"emit",value:function(t){f(_(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o=function(t){return null},a=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var u=f(_(n.prototype),"subscribe",this).call(this,i,o,a);return t instanceof s.a&&t.add(u),u}}]),n}(o.a);function Oc(){return this._results[ta()]()}var Sc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];h(this,t),this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=ta(),r=t.prototype;r[n]||(r[n]=Oc)}return p(t,[{key:"changes",get:function(){return this._changes||(this._changes=new Ec)}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,e){this.dirty=!1;var n=mn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Tc=function(){function t(e){h(this,t),this.queryList=e,this.matches=null}return p(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),Ic=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];h(this,t),this.queries=e}return p(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==qc(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Cc=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;h(this,t),this.predicate=e,this.flags=n,this.read=r},xc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];h(this,t),this.queries=e}return p(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),Ac=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;h(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return p(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,jc(e,i)),this.matchTNodeWithReadOption(t,e,an(e,t,i,!1,!1))}else n===Ju?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,an(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===mu||r===nc||r===Ju&&4&e.type)this.addMatch(e.index,-2);else{var i=an(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function jc(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Nc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?yu(t,e):4&t.type?Zu(t,e):null}(e,t):-2===n?function(t,e,n){return n===mu?yu(e,t):n===Ju?Zu(e,t):n===nc?ac(e,t):void 0}(t,e,r):sn(t,t[1],n,e)}function Rc(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:Nc(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Dc(t,e,n,r){var i=t.queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=Rc(t,e,i,n),s=0;s<o.length;s+=2){var u=o[s];if(u>0)r.push(a[s/2]);else{for(var c=o[s+1],l=e[-u],f=10;f<l.length;f++){var h=l[f];h[17]===h[3]&&Dc(h[1],h,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];Dc(v[1],v,c,r)}}}return r}function Pc(t){var e=te(),n=ee(),r=ge();me(r+1);var i=qc(n,r);if(t.dirty&&Wt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?Dc(n,e,r,[]):Rc(n,e,i,r);t.reset(o,bu),t.notifyOnChanges()}return!0}return!1}function Lc(t,e,n){var r=ee();r.firstCreatePass&&(Vc(r,new Cc(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Uc(r,te(),e)}function Mc(t,e,n,r){var i=ee();if(i.firstCreatePass){var o=re();Vc(i,new Cc(e,n,r),o.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Uc(i,te(),n)}function Fc(){return t=te(),e=ge(),t[19].queries[e].queryList;var t,e}function Uc(t,e,n){var r=new Sc(4==(4&n));$i(t,e,r,r.destroy),null===e[19]&&(e[19]=new Ic),e[19].queries.push(new Tc(r))}function Vc(t,e,n){null===t.queries&&(t.queries=new xc),t.queries.track(new Ac(e,n))}function qc(t,e){return t.queries.getByIndex(e)}function Bc(t,e){return Zu(t,e)}function Hc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.Default,e=Gu(!0);if(null!=e||t&H.Optional)return e;j("ChangeDetectorRef")}var zc=new vn("Application Initializer"),Gc=function(){var t=function(){function t(e){var n=this;h(this,t),this.appInits=e,this.resolve=vu,this.reject=vu,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return p(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();wa(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(zc,8))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),Kc=new vn("AppId"),Wc={provide:Kc,useFactory:function(){return"".concat(Yc()).concat(Yc()).concat(Yc())},deps:[]};function Yc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Qc=new vn("Platform Initializer"),Jc=new vn("Platform ID"),Xc=new vn("appBootstrapListener"),Zc=function(){var t=function(){function t(){h(this,t)}return p(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),$c=new vn("LocaleId"),tl=new vn("DefaultCurrencyCode"),el=function t(e,n){h(this,t),this.ngModuleFactory=e,this.componentFactories=n},nl=function(t){return new vc(t)},rl=nl,il=function(t){return Promise.resolve(nl(t))},ol=function(t){var e=nl(t),n=Pr(_t(t).declarations).reduce(function(t,e){var n=wt(e);return n&&t.push(new fc(n)),t},[]);return new el(e,n)},al=ol,sl=function(t){return Promise.resolve(ol(t))},ul=function(){var t=function(){function t(){h(this,t),this.compileModuleSync=rl,this.compileModuleAsync=il,this.compileModuleAndAllComponentsSync=al,this.compileModuleAndAllComponentsAsync=sl}return p(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),cl=Promise.resolve(0);function ll(t){"undefined"==typeof Zone?cl.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var fl=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a,u=e.shouldCoalesceRunChangeDetection,c=void 0!==u&&u;if(h(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ec(!1),this.onMicrotaskEmpty=new Ec(!1),this.onStable=new Ec(!1),this.onError=new Ec(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!c&&s,this.shouldCoalesceRunChangeDetection=c,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=$.requestAnimationFrame,e=$.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,pl(t),dl(t)},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),pl(t))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,i,o,a,s){try{return vl(n),t.invokeTask(i,o,a,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&r(),yl(n)}},onInvoke:function(t,e,i,o,a,s,u){try{return vl(n),t.invoke(i,o,a,s,u)}finally{n.shouldCoalesceRunChangeDetection&&r(),yl(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,pl(n),dl(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular(function(){return n.onError.emit(i)}),!1}})}return p(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,hl,vu,vu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),hl={};function dl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function pl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function vl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yl(t){t._nesting--,dl(t)}var gl=function(){function t(){h(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ec,this.onMicrotaskEmpty=new Ec,this.onStable=new Ec,this.onError=new Ec}return p(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),ml=function(){var t=function(){function t(e){var n=this;h(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return p(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){fl.assertNotInAngularZone(),ll(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())ll(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(fl))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),bl=function(){var t=function(){function t(){h(this,t),this._applications=new Map,kl.addToWindow(this)}return p(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return kl.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function wl(t){kl=t}var _l,kl=new(function(){function t(){h(this,t)}return p(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),El=!0,Ol=!1;function Sl(){return Ol=!0,El}function Tl(){if(Ol)throw new Error("Cannot enable prod mode after platform setup.");El=!1}var Il=new vn("AllowMultipleToken"),Cl=function t(e,n){h(this,t),this.name=e,this.token=n};function xl(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new vn(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Al();if(!o||o.injector.get(Il,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:Ro,useValue:"platform"});!function(t){if(_l&&!_l.destroyed&&!_l.injector.get(Il,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");_l=t.get(jl);var e=t.get(Qc,null);e&&e.forEach(function(t){return t()})}(Ko.create({providers:a,name:r}))}return function(t){var e=Al();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Al(){return _l&&!_l.destroyed?_l:null}var jl=function(){var t=function(){function t(e){h(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return p(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r={ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1},"noop"===n?new gl:("zone.js"===n?void 0:n)||new fl({enableLongStackTrace:Sl(),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),a=[{provide:fl,useValue:o}];return o.run(function(){var e=Ko.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(Ar,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){r.handleError(t)}});n.onDestroy(function(){Dl(i._modules,n),t.unsubscribe()})}),function(t,e,r){try{var o=((a=n.injector.get(Gc)).runInitializers(),a.donePromise.then(function(){return ms(n.injector.get($c,"en-US")||"en-US"),i._moduleDoBootstrap(n),n}));return wa(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(r,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Nl({},n);return function(t,e,n){var r=new vc(n);return Promise.resolve(r)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,r)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Rl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(k(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(Ko))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function Nl(t,e){return Array.isArray(e)?e.reduce(Nl,t):Object.assign(Object.assign({},t),e)}var Rl=function(){var t=function(){function t(e,n,r,i,o){var a=this;h(this,t),this._zone=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new u.a(function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){t.next(a._stable),t.complete()})}),c=new u.a(function(t){var e;a._zone.runOutsideAngular(function(){e=a._zone.onStable.subscribe(function(){fl.assertNotInAngularZone(),ll(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){fl.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(d.a)(s,c.pipe(Object(y.a)()))}return p(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof hu?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get($u),o=n.create(Ko.NULL,[],e||n.selector,i),a=o.location.nativeElement,s=o.injector.get(ml,null),u=s&&o.injector.get(bl);return s&&u&&u.registerApplication(a,s),o.onDestroy(function(){r.detachView(o.hostView),Dl(r.components,o),u&&u.unregisterApplication(a)}),this._loadComponent(o),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=a(this._views);try{for(n.s();!(e=n.n()).done;){e.value.detectChanges()}}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Dl(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Xc,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(fl),Nn(Ko),Nn(Ar),Nn(pu),Nn(Gc))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function Dl(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Pl=function t(){h(this,t)},Ll=function t(){h(this,t)},Ml={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Fl=function(){var t=function(){function t(e,n){h(this,t),this._compiler=e,this._config=n||Ml}return p(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var n=this,i=e(t.split("#"),2),o=i[0],a=i[1];return void 0===a&&(a="default"),r("zn8P")(o).then(function(t){return t[a]}).then(function(t){return Ul(t,o,a)}).then(function(t){return n._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(t){var n=e(t.split("#"),2),i=n[0],o=n[1],a="NgFactory";return void 0===o&&(o="default",a=""),r("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+a]}).then(function(t){return Ul(t,i,o)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(ul),Nn(Ll,8))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function Ul(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Vl=function(t){return null},ql=xl(null,"core",[{provide:Jc,useValue:"unknown"},{provide:jl,deps:[Ko]},{provide:bl,deps:[]},{provide:Zc,deps:[]}]),Bl=[{provide:Rl,useClass:Rl,deps:[fl,Ko,Ar,pu,Gc]},{provide:lc,deps:[fl],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Gc,useClass:Gc,deps:[[new Mn,zc]]},{provide:ul,useClass:ul,deps:[]},Wc,{provide:Mu,useFactory:function(){return Wu},deps:[]},{provide:Uu,useFactory:function(){return Yu},deps:[]},{provide:$c,useFactory:function(t){return ms(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new Ln($c),new Mn,new Fn]]},{provide:tl,useValue:"USD"}],Hl=function(){var t=function t(e){h(this,t)};return t.\u0275fac=function(e){return new(e||t)(Nn(Rl))},t.\u0275mod=vt({type:t}),t.\u0275inj=D({providers:Bl}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){h(this,t),this.project=e,this.thisArg=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}]),t}(),a=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||b(o),o}return p(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return s});var r=n("7o/Q"),i=n("WMd4");function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new a(t,e))}}var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h(this,t),this.scheduler=e,this.delay=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.scheduler,this.delay))}}]),t}(),s=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return h(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return p(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new u(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(i.a.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(r.a),u=function t(e,n){h(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",function(){return a}),n.d(e,"b",function(){return f}),n.d(e,"c",function(){return h}),n.d(e,"d",function(){return d});var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},f=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function h(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return g}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return f}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return h}),n.d(e,"o",function(){return v});var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function s(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(s())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function h(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return s().indexOf("Electron/")>=0}function p(){var t=s();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return s().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return Object(r.c)(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?m(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new y(i,s,r);return u},t}();function m(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new k(t,e);return n.subscribe.bind(n)}var k=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?f(_(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?f(_(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?f(_(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=new(function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(r),o=i},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r,i,o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),u=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=((i=function(){function t(e){h(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return p(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var f=0;f<n.length;++f)n[f].remove(this);if(Object(s.a)(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(v){e=v instanceof u?l(v.errors):[v]}}if(Object(o.a)(c))for(var h=-1,d=c.length;++h<d;){var p=c[h];if(Object(a.a)(p))try{p.unsubscribe()}catch(v){e=e||[],v instanceof u?e=e.concat(l(v.errors)):e.push(v)}}if(e)throw new u(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new i).closed=!0,r),i);function l(t){return t.reduce(function(t,e){return t.concat(e instanceof u?e.errors:e)},[])}},spgP:function(t,e,a){"use strict";(function(t){a.d(e,"a",function(){return R}),a.d(e,"b",function(){return T}),a.d(e,"c",function(){return S}),a.d(e,"d",function(){return w}),a.d(e,"e",function(){return O}),a.d(e,"f",function(){return j}),a.d(e,"g",function(){return C}),a.d(e,"h",function(){return _}),a.d(e,"i",function(){return E}),a.d(e,"j",function(){return x});var u=a("qgXg"),c=a("D0XW"),l=a("vkgz"),f=a("tf+s"),d=a("pxpQ"),v=a("fXoL"),y=a("Jgta");function g(){}var m=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.b;h(this,t),this.zone=e,this.delegate=n}return p(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule(function(e){var n=this;r.runGuarded(function(){t.apply(n,[e])})},e,n)}}]),t}(),b=function(){function t(e){h(this,t),this.zone=e,this.task=null}return p(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",g,{},g,g)}),e.pipe(Object(l.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout(function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)},10)}}]),t}(),w=function t(e){h(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular(function(){return new m(Zone.current)}),this.insideAngular=e.run(function(){return new m(Zone.current,c.b)})};function _(t){return function(e){return(e=e.lift(new b(t.ngZone))).pipe(Object(f.a)(t.outsideAngular),Object(d.b)(t.insideAngular))}}var k=["ngOnDestroy"],E=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(o,a){return n.runOutsideAngular(function(){var o;if(t[a])return(null===(o=null==r?void 0:r.spy)||void 0===o?void 0:o.get)&&r.spy.get(a,t[a]),t[a];if(k.indexOf(a)>-1)return function(){};var s=e.toPromise().then(function(t){var e=t&&t[a];return"function"==typeof e?e.bind(t):e&&e.then?e.then(function(t){return n.run(function(){return t})}):n.run(function(){return e})});return new Proxy(function(){},{get:function(t,e){return s[e]},apply:function(t,e,n){return s.then(function(t){var e,o=t&&t.apply(void 0,i(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(a,n,o),o})}})})}})},O=function(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype||e).forEach(function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},S=new v.r("angularfire2.app.options"),T=new v.r("angularfire2.app.nameOrConfig"),I=new v.P("6.1.4");function C(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=y.a.apps.filter(function(t){return t&&t.name===i.name})[0]||n.runOutsideAngular(function(){return y.a.initializeApp(e,i)});try{JSON.stringify(e)!==JSON.stringify(o.options)&&A("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var x=function(){A("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},A=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(v.V)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function j(e,a,u,c,l){var f,h=globalThis.\u0275AngularfireInstanceCache.get(e)||[],d=r(f=h)||o(f)||s(f)||n(),p=d[0],v=d.slice(1);if(p){try{l.some(function(t,e){var n=v[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&A("error","".concat(a," was already initialized on the ").concat(u.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(g){}return p}var y=c();return globalThis.\u0275AngularfireInstanceCache.set(e,[y].concat(i(l))),y}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var N={provide:function t(){h(this,t)},useFactory:C,deps:[S,v.A,[new v.B,T]]},R=function(){var t=function(){function t(e){h(this,t),y.a.registerVersion("angularfire",I.full,e.toString()),y.a.registerVersion("angular",v.O.full)}return p(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:S,useValue:e},{provide:T,useValue:n}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(v.Yb(v.C))},t.\u0275mod=v.Kb({type:t}),t.\u0275inj=v.Jb({providers:[N]}),t}()}).call(this,a("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("HDdC"),i=1,o=Promise.resolve(),a={};function s(t){return t in a&&(delete a[t],!0)}var u=function(t){var e=i++;return a[e]=!0,o.then(function(){return s(e)&&t()}),e},c=function(t){s(t)},l=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return p(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?f(_(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=u(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return f(_(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(c(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),d=new(function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(l),y=n("Y7HM"),m=function(t){v(n,t);var e=g(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return h(this,n),(r=e.call(this)).source=t,r.delayTime=i,r.scheduler=o,(!Object(y.a)(i)||i<0)&&(r.delayTime=0),o&&"function"==typeof o.schedule||(r.scheduler=d),r}return p(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.a);function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new w(t,e))}}var w=function(){function t(e,n){h(this,t),this.scheduler=e,this.delay=n}return p(t,[{key:"call",value:function(t,e){return new m(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function a(t,e,n){return function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(e,n,r){h(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),u=function(t){v(n,t);var e=g(n);function n(t,r,a,s){var u;return h(this,n),(u=e.call(this,t))._tapNext=i.a,u._tapError=i.a,u._tapComplete=i.a,u._tapError=a||i.a,u._tapComplete=s||i.a,Object(o.a)(r)?(u._context=b(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i.a,u._tapError=r.error||i.a,u._tapComplete=r.complete||i.a),u}return p(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("EQ5u"),i=n("x+ZX"),o=n("XNiG");function a(){return new o.a}function s(){return function(t){return Object(i.a)()((e=a,function(t){var n;n="function"==typeof e?e:function(){return e};var i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}var o=function(){function t(e){h(this,t),this.connectable=e}return p(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new a(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),a=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).connectable=r,i}return p(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(r.a)},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?function(n){return e.schedule(o,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function o(t){var e=t.error;t.subscriber.error(e)}},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),f="@firebase/app",h=((i={})[f]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.b("@firebase/app"),p=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.e)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.c)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}o(new s.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(a.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return d.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Object(a.f)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var c=0,f=Object.keys(e);c<f.length;c++)e[f[c]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(p);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.f)(e,t)},createSubscribe:a.d,ErrorFactory:a.b,deepExtend:a.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(a.h)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.m)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var b=v;!function(t,e){t.INTERNAL.registerComponent(new s.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(f,"0.6.17",void 0),t.registerVersion("fire-js","")}(b),e.a=b},zUnb:function(n,r,o){"use strict";o.r(r);var s=o("fXoL"),u=null;function c(){return u}var l,d=new s.r("DocumentToken"),y=((l=function t(){h(this,t)}).\u0275fac=function(t){return new(t||l)},l.\u0275prov=Object(s.Ib)({factory:w,token:l,providedIn:"platform"}),l);function w(){return Object(s.Yb)(O)}var k,E=new s.r("Location Initialized"),O=((k=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this))._doc=t,r._init(),r}return p(n,[{key:"_init",value:function(){this.location=c().getLocation(),this._history=c().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return c().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){c().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){c().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){S()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){S()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(y)).\u0275fac=function(t){return new(t||k)(s.Yb(d))},k.\u0275prov=Object(s.Ib)({factory:T,token:k,providedIn:"platform"}),k);function S(){return!!window.history.pushState}function T(){return new O(Object(s.Yb)(d))}function I(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function C(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function x(t){return t&&"?"!==t[0]?"?"+t:t}var A,j=((A=function t(){h(this,t)}).\u0275fac=function(t){return new(t||A)},A.\u0275prov=Object(s.Ib)({factory:N,token:A,providedIn:"root"}),A);function N(t){var e=Object(s.Yb)(d).location;return new M(Object(s.Yb)(y),e&&e.origin||"")}var R,D,P,L=new s.r("appBaseHref"),M=((P=function(t){v(n,t);var e=g(n);function n(t,r){var i;if(h(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,m(i)}return p(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return I(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+x(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(j)).\u0275fac=function(t){return new(t||P)(s.Yb(y),s.Yb(L,8))},P.\u0275prov=s.Ib({token:P,factory:P.\u0275fac}),P),F=((D=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return p(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=I(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(j)).\u0275fac=function(t){return new(t||D)(s.Yb(y),s.Yb(L,8))},D.\u0275prov=s.Ib({token:D,factory:D.\u0275fac}),D),U=((R=function(){function t(e,n){var r=this;h(this,t),this._subject=new s.n,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=C(q(i)),this._platformStrategy.onPopState(function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})})}return p(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+x(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,q(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+x(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+x(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||R)(s.Yb(j),s.Yb(y))},R.normalizeQueryParams=x,R.joinWithSlash=I,R.stripTrailingSlash=C,R.\u0275prov=Object(s.Ib)({factory:V,token:R,providedIn:"root"}),R);function V(){return new U(Object(s.Yb)(j),Object(s.Yb)(y))}function q(t){return t.replace(/\/index.html$/,"")}var B,H=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),z=s.mb,G=function t(){h(this,t)},K=((B=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this)).locale=t,r}return p(n,[{key:"getPluralCategory",value:function(t,e){switch(z(e||this.locale)(t)){case H.Zero:return"zero";case H.One:return"one";case H.Two:return"two";case H.Few:return"few";case H.Many:return"many";default:return"other"}}}]),n}(G)).\u0275fac=function(t){return new(t||B)(s.Yb(s.v))},B.\u0275prov=s.Ib({token:B,factory:B.\u0275fac}),B);function W(t,n){n=encodeURIComponent(n);var r,i=a(t.split(";"));try{for(i.s();!(r=i.n()).done;){var o=r.value,s=o.indexOf("="),u=e(-1==s?[o,""]:[o.slice(0,s),o.slice(s+1)],2),c=u[0],l=u[1];if(c.trim()===n)return decodeURIComponent(l)}}catch(f){i.e(f)}finally{i.f()}return null}var Y,Q=((Y=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Y)},Y.\u0275mod=s.Kb({type:Y}),Y.\u0275inj=s.Jb({providers:[{provide:G,useClass:K}]}),Y);function J(t){return"server"===t}var X,Z=((X=function t(){h(this,t)}).\u0275prov=Object(s.Ib)({token:X,providedIn:"root",factory:function(){return new $(Object(s.Yb)(d),window)}}),X),$=function(){function t(e,n){h(this,t),this.document=e,this.window=n,this.offset=function(){return[0,0]}}return p(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){var e;if(this.supportsScrolling()){var n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(t){return t.focus(),this.document.activeElement===t}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=tt(this.window.history)||tt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}]),t}();function tt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var et,nt,rt,it,ot=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=at||(at=document.querySelector("base"))?at.getAttribute("href"):null;return null==n?null:(e=n,et||(et=document.createElement("a")),et.setAttribute("href",e),"/"===et.pathname.charAt(0)?et.pathname:"/"+et.pathname)}},{key:"resetBaseElement",value:function(){at=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return W(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,u||(u=t)}}]),n}(function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.call(this)}return p(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){h(this,t)}}())),at=null,st=new s.r("TRANSITION_ID"),ut=[{provide:s.d,useFactory:function(t,e,n){return function(){n.get(s.e).donePromise.then(function(){var n=c();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[st,d,s.s],multi:!0}],ct=function(){function t(){h(this,t)}return p(t,[{key:"addToWindow",value:function(t){s.ob.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},s.ob.getAllAngularTestabilities=function(){return t.getAllTestabilities()},s.ob.getAllAngularRootElements=function(){return t.getAllRootElements()},s.ob.frameworkStabilizers||(s.ob.frameworkStabilizers=[]),s.ob.frameworkStabilizers.push(function(t){var e=s.ob.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?c().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(s.X)(new t)}}]),t}(),lt=new s.r("EventManagerPlugins"),ft=((nt=function(){function t(e,n){var r=this;h(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=r}),this._plugins=e.slice().reverse()}return p(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}()).\u0275fac=function(t){return new(t||nt)(s.Yb(lt),s.Yb(s.A))},nt.\u0275prov=s.Ib({token:nt,factory:nt.\u0275fac}),nt),ht=function(){function t(e){h(this,t),this._doc=e}return p(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=c().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),dt=((it=function(){function t(){h(this,t),this._stylesSet=new Set}return p(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||it)},it.\u0275prov=s.Ib({token:it,factory:it.\u0275fac}),it),pt=((rt=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return p(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(t){return c().remove(t)})}}]),n}(dt)).\u0275fac=function(t){return new(t||rt)(s.Yb(d))},rt.\u0275prov=s.Ib({token:rt,factory:rt.\u0275fac}),rt),vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},yt=/%COMP%/g;function gt(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?gt(t,i,n):(i=i.replace(yt,t),n.push(i))}return n}function mt(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var bt,wt,_t,kt,Et=((bt=function(){function t(e,n,r){h(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ot(e)}return p(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case s.R.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new St(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case s.R.ShadowDom:return new Tt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=gt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||bt)(s.Yb(ft),s.Yb(pt),s.Yb(s.c))},bt.\u0275prov=s.Ib({token:bt,factory:bt.\u0275fac}),bt),Ot=function(){function t(e){h(this,t),this.eventManager=e,this.data=Object.create(null)}return p(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(vt[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=vt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=vt[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&(s.G.DashCase|s.G.Important)?t.style.setProperty(e,n,r&s.G.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&s.G.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,mt(n)):this.eventManager.addEventListener(t,e,mt(n))}}]),t}(),St=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;h(this,n),(a=e.call(this,t)).component=i;var s=gt(o+"-"+i.id,i.styles,[]);return r.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(yt,o+"-"+i.id),a.hostAttr="_nghost-%COMP%".replace(yt,o+"-"+i.id),a}return p(n,[{key:"applyToHost",value:function(t){f(_(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=f(_(n.prototype),"createElement",this).call(this,t,e);return f(_(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Ot),Tt=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;h(this,n),(a=e.call(this,t)).sharedStylesHost=r,a.hostEl=i,a.shadowRoot=i.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=gt(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return p(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return f(_(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return f(_(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return f(_(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(f(_(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(Ot),It=((wt=function(t){v(n,t);var e=g(n);function n(t){return h(this,n),e.call(this,t)}return p(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(ht)).\u0275fac=function(t){return new(t||wt)(s.Yb(d))},wt.\u0275prov=s.Ib({token:wt,factory:wt.\u0275fac}),wt),Ct=["alt","control","meta","shift"],xt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},At={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Nt=((_t=function(t){v(n,t);var e=g(n);function n(t){return h(this,n),e.call(this,t)}return p(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return c().onAndCancel(t,i.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Ct.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&At.hasOwnProperty(e)&&(e=At[e]))}return xt[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Ct.forEach(function(r){r!=n&&(0,jt[r])(t)&&(e+=r+".")}),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(ht)).\u0275fac=function(t){return new(t||_t)(s.Yb(d))},_t.\u0275prov=s.Ib({token:_t,factory:_t.\u0275fac}),_t),Rt=[{provide:s.C,useValue:"browser"},{provide:s.D,useValue:function(){ot.makeCurrent(),ct.init()},multi:!0},{provide:d,useFactory:function(){return Object(s.ub)(document),document},deps:[]}],Dt=Object(s.S)(s.W,"browser",Rt),Pt=[[],{provide:s.Z,useValue:"root"},{provide:s.m,useFactory:function(){return new s.m},deps:[]},{provide:lt,useClass:It,multi:!0,deps:[d,s.A,s.C]},{provide:lt,useClass:Nt,multi:!0,deps:[d]},[],{provide:Et,useClass:Et,deps:[ft,pt,s.c]},{provide:s.F,useExisting:Et},{provide:dt,useExisting:pt},{provide:pt,useClass:pt,deps:[d]},{provide:s.M,useClass:s.M,deps:[s.A]},{provide:ft,useClass:ft,deps:[lt,s.A]},[]],Lt=((kt=function(){function t(e){if(h(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return p(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:s.c,useValue:e.appId},{provide:st,useExisting:s.c},ut]}}}]),t}()).\u0275fac=function(t){return new(t||kt)(s.Yb(kt,12))},kt.\u0275mod=s.Kb({type:kt}),kt.\u0275inj=s.Jb({providers:Pt,imports:[Q,s.f]}),kt);"undefined"!=typeof window&&window;var Mt=o("Cfvw"),Ft=o("LRne"),Ut=o("XNiG"),Vt=o("9ppp"),qt=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this))._value=t,r}return p(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=f(_(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Vt.a;return this._value}},{key:"next",value:function(t){f(_(n.prototype),"next",this).call(this,this._value=t)}}]),n}(Ut.a),Bt=o("z+Ro"),Ht=o("DH7j"),zt=o("7o/Q"),Gt=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(zt.a),Kt=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return p(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(zt.a),Wt=o("SeVD"),Yt=o("HDdC");function Qt(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Kt(t,n,r);if(!i.closed)return e instanceof Yt.a?e.subscribe(i):Object(Wt.a)(e)(i)}var Jt=o("yCtX"),Xt={},Zt=function(){function t(e){h(this,t),this.resultSelector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new $t(t,this.resultSelector))}}]),t}(),$t=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return p(n,[{key:"_next",value:function(t){this.values.push(Xt),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add(Qt(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var r=this.values,i=this.toRespond?r[n]===Xt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Gt),te=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),ee=o("bHdf");function ne(){return Object(ee.a)(1)(Object(Ft.a).apply(void 0,arguments))}var re=o("EY2u");function ie(t){return new Yt.a(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Mt.a)(n):Object(re.b)()).subscribe(e)})}var oe=o("EQ5u"),ae=o("lJxs"),se=o("zx2A");function ue(t,e){return"function"==typeof e?function(n){return n.pipe(ue(function(n,r){return Object(Mt.a)(t(n,r)).pipe(Object(ae.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new ce(t))}}var ce=function(){function t(e){h(this,t),this.project=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new le(t,this.project))}}]),t}(),le=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return p(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new se.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(se.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||f(_(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&f(_(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(se.b),fe=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function he(t){return function(e){return 0===t?Object(re.b)():e.lift(new de(t))}}var de=function(){function t(e){if(h(this,t),this.total=e,this.total<0)throw new fe}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new pe(t,this.total))}}]),t}(),pe=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return p(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(zt.a);function ve(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(Bt.a)(r)?(e.pop(),function(t){return ne(e,t,r)}):function(t){return ne(e,t)}}function ye(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ge(t,e,n))}}var ge=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];h(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new me(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),me=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return h(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return p(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}}]),n}(zt.a);function be(t,e){return function(n){return n.lift(new we(t,e))}}var we=function(){function t(e,n){h(this,t),this.predicate=e,this.thisArg=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new _e(t,this.predicate,this.thisArg))}}]),t}(),_e=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return p(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(zt.a);function ke(t){return function(e){var n=new Ee(t),r=e.lift(n);return n.caught=r}}var Ee=function(){function t(e){h(this,t),this.selector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Oe(t,this.selector,this.caught))}}]),t}(),Oe=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return p(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void f(_(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new se.a(this);this.add(r);var i=Object(se.c)(e,r);i!==r&&this.add(i)}}}]),n}(se.b),Se=o("5+tZ");function Te(t,e){return Object(Se.a)(t,e,1)}function Ie(t){return function(e){return 0===t?Object(re.b)():e.lift(new Ce(t))}}var Ce=function(){function t(e){if(h(this,t),this.total=e,this.total<0)throw new fe}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new xe(t,this.total))}}]),t}(),xe=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return p(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(zt.a);function Ae(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re;return function(e){return e.lift(new je(t))}}var je=function(){function t(e){h(this,t),this.errorFactory=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Ne(t,this.errorFactory))}}]),t}(),Ne=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return p(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(r_){t=r_}this.destination.error(t)}}]),n}(zt.a);function Re(){return new te}function De(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new Pe(t))}}var Pe=function(){function t(e){h(this,t),this.defaultValue=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Le(t,this.defaultValue))}}]),t}(),Le=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return p(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(zt.a),Me=o("SpAZ");function Fe(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?be(function(e,n){return t(e,n,r)}):Me.a,he(1),n?De(e):Ae(function(){return new te}))}}var Ue=o("vkgz"),Ve=o("x+ZX"),qe=o("quSY"),Be=function(){function t(e){h(this,t),this.callback=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new He(t,this.callback))}}]),t}(),He=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).add(new qe.a(r)),i}return n}(zt.a),ze=function t(e,n){h(this,t),this.id=e,this.url=n},Ge=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return p(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ze),Ke=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return p(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(ze),We=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t,r)).reason=i,o}return p(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ze),Ye=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t,r)).error=i,o}return p(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(ze),Qe=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return h(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ze),Je=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return h(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ze),Xe=function(t){v(n,t);var e=g(n);function n(t,r,i,o,a){var s;return h(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return p(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(ze),Ze=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return h(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ze),$e=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return h(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ze),tn=function(){function t(e){h(this,t),this.route=e}return p(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),en=function(){function t(e){h(this,t),this.route=e}return p(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),nn=function(){function t(e){h(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),rn=function(){function t(e){h(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),on=function(){function t(e){h(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),an=function(){function t(e){h(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),sn=function(){function t(e,n,r){h(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return p(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),un=function(){function t(e){h(this,t),this.params=e||{}}return p(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function cn(t){return new un(t)}function ln(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function fn(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function hn(t,e){var n,r=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!dn(t[n=r[o]],e[n]))return!1;return!0}function dn(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=i(t).sort(),r=i(e).sort();return n.every(function(t,e){return r[e]===t})}return t===e}function pn(t){return Array.prototype.concat.apply([],t)}function vn(t){return t.length>0?t[t.length-1]:null}function yn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function gn(t){return Object(s.qb)(t)?t:Object(s.rb)(t)?Object(Mt.a)(Promise.resolve(t)):Object(Ft.a)(t)}function mn(t,e,n){return n?function(t,e){return hn(t,e)}(t.queryParams,e.queryParams)&&bn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return dn(t[n],e[n])})}(t.queryParams,e.queryParams)&&wn(t.root,e.root)}function bn(t,e){if(!Sn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!bn(t.children[n],e.children[n]))return!1}return!0}function wn(t,e){return _n(t,e,e.segments)}function _n(t,e,n){if(t.segments.length>n.length)return!!Sn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Sn(t.segments,n))return!1;for(var r in e.children){if(!t.children[r])return!1;if(!wn(t.children[r],e.children[r]))return!1}return!0}var i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!Sn(t.segments,i)&&!!t.children.primary&&_n(t.children.primary,e,o)}var kn=function(){function t(e,n,r){h(this,t),this.root=e,this.queryParams=n,this.fragment=r}return p(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=cn(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Cn.serialize(this)}}]),t}(),En=function(){function t(e,n){var r=this;h(this,t),this.segments=e,this.children=n,this.parent=null,yn(n,function(t,e){return t.parent=r})}return p(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return xn(this)}}]),t}(),On=function(){function t(e,n){h(this,t),this.path=e,this.parameters=n}return p(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=cn(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Ln(this)}}]),t}();function Sn(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}var Tn=function t(){h(this,t)},In=function(){function t(){h(this,t)}return p(t,[{key:"parse",value:function(t){var e=new qn(t);return new kn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,r;return"/".concat(An(t.root,!0)).concat((n=t.queryParams,r=Object.keys(n).map(function(t){var e=n[t];return Array.isArray(e)?e.map(function(e){return"".concat(Nn(t),"=").concat(Nn(e))}).join("&"):"".concat(Nn(t),"=").concat(Nn(e))}),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),Cn=new In;function xn(t){return t.segments.map(function(t){return Ln(t)}).join("/")}function An(t,e){if(!t.hasChildren())return xn(t);if(e){var n=t.children.primary?An(t.children.primary,!1):"",r=[];return yn(t.children,function(t,e){"primary"!==e&&r.push("".concat(e,":").concat(An(t,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(t,e){var n=[];return yn(t.children,function(t,r){"primary"===r&&(n=n.concat(e(t,r)))}),yn(t.children,function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,function(e,n){return"primary"===n?[An(t.children.primary,!1)]:["".concat(n,":").concat(An(e,!1))]});return 1===Object.keys(t.children).length&&null!=t.children.primary?"".concat(xn(t),"/").concat(i[0]):"".concat(xn(t),"/(").concat(i.join("//"),")")}function jn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nn(t){return jn(t).replace(/%3B/gi,";")}function Rn(t){return jn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dn(t){return decodeURIComponent(t)}function Pn(t){return Dn(t.replace(/\+/g,"%20"))}function Ln(t){return"".concat(Rn(t.path)).concat((e=t.parameters,Object.keys(e).map(function(t){return";".concat(Rn(t),"=").concat(Rn(e[t]))}).join("")));var e}var Mn=/^[^\/()?;=#]+/;function Fn(t){var e=t.match(Mn);return e?e[0]:""}var Un=/^[^=?&#]+/,Vn=/^[^?&#]+/,qn=function(){function t(e){h(this,t),this.url=e,this.remaining=e}return p(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new En([],{}):new En([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new En(t,e)),n}},{key:"parseSegment",value:function(){var t=Fn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new On(Dn(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Fn(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Fn(this.remaining);r&&(n=r,this.capture(n))}t[Dn(e)]=Dn(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Un);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Vn);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Pn(e),o=Pn(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Fn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new En([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Bn=function(){function t(e){h(this,t),this._root=e}return p(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Hn(t,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(t){var e=Hn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=zn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(t){return zn(t,this._root).map(function(t){return t.value})}}]),t}();function Hn(t,e){if(t===e.value)return e;var n,r=a(e.children);try{for(r.s();!(n=r.n()).done;){var i=Hn(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function zn(t,e){if(t===e.value)return[e];var n,r=a(e.children);try{for(r.s();!(n=r.n()).done;){var i=zn(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var Gn=function(){function t(e,n){h(this,t),this.value=e,this.children=n}return p(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Kn(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var Wn=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).snapshot=r,$n(b(i),t),i}return p(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Bn);function Yn(t,e){var n=function(t,e){var n=new Xn([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Zn("",new Gn(n,[]))}(t,e),r=new qt([new On("",{})]),i=new qt({}),o=new qt({}),a=new qt({}),s=new qt(""),u=new Qn(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new Wn(new Gn(u,[]),n)}var Qn=function(){function t(e,n,r,i,o,a,s,u){h(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return p(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(ae.a)(function(t){return cn(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(ae.a)(function(t){return cn(t)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function Jn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var Xn=function(){function t(e,n,r,i,o,a,s,u,c,l,f){h(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=f}return p(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=cn(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=cn(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(t){return t.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),t}(),Zn=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,r)).url=t,$n(b(i),r),i}return p(n,[{key:"toString",value:function(){return tr(this._root)}}]),n}(Bn);function $n(t,e){e.value._routerState=t,e.children.forEach(function(e){return $n(t,e)})}function tr(t){var e=t.children.length>0?" { ".concat(t.children.map(tr).join(", ")," } "):"";return"".concat(t.value).concat(e)}function er(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,hn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),hn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!hn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),hn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function nr(t,e){return hn(t.params,e.params)&&function(t,e){return Sn(t,e)&&t.every(function(t,n){return hn(t.parameters,e[n].parameters)})}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||nr(t.parent,e.parent))}function rr(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=e.value;var i=function(t,e,n){return e.children.map(function(e){var r,i=a(n.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(t.shouldReuseRoute(e.value,o.value.snapshot))return rr(t,e,o)}}catch(s){i.e(s)}finally{i.f()}return rr(t,e)})}(t,e,n);return new Gn(r,i)}var o=t.retrieve(e.value);if(o){var s=o.route;return ir(e,s),s}var u,c=new Qn(new qt((u=e.value).url),new qt(u.params),new qt(u.queryParams),new qt(u.fragment),new qt(u.data),u.outlet,u.component,u),l=e.children.map(function(e){return rr(t,e)});return new Gn(c,l)}function ir(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)ir(t.children[n],e.children[n])}function or(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ar(t){return"object"==typeof t&&null!=t&&t.outlets}function sr(t,e,n,r,i){var o={};return r&&yn(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return"".concat(t)}):"".concat(t)}),new kn(n.root===t?e:ur(n.root,t,e),o,i)}function ur(t,e,n){var r={};return yn(t.children,function(t,i){r[i]=t===e?n:ur(t,e,n)}),new En(t.segments,r)}var cr=function(){function t(e,n,r){if(h(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&or(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(ar);if(i&&i!==vn(r))throw new Error("{outlets:{}} has to be the last command")}return p(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),lr=function t(e,n,r){h(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function fr(t,e,n){if(t||(t=new En([],{})),0===t.segments.length&&t.hasChildren())return hr(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=n[r];if(ar(s))break;var u="".concat(s),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!yr(u,c,a))return o;r+=2}else{if(!yr(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new En(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new En(t.segments.slice(r.pathIndex),t.children),hr(o,0,i)}return r.match&&0===i.length?new En(t.segments,{}):r.match&&!t.hasChildren()?dr(t,e,n):r.match?hr(t,0,i):dr(t,e,n)}function hr(t,e,n){if(0===n.length)return new En(t.segments,{});var r=function(t){return ar(t[0])?t[0].outlets:{primary:t}}(n),i={};return yn(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=fr(t.children[r],e,n))}),yn(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new En(t.segments,i)}function dr(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){var o=n[i];if(ar(o)){var a=pr(o.outlets);return new En(r,a)}if(0===i&&or(n[0]))r.push(new On(t.segments[e].path,vr(n[0]))),i++;else{var s=ar(o)?o.outlets.primary:"".concat(o),u=i<n.length-1?n[i+1]:null;s&&u&&or(u)?(r.push(new On(s,vr(u))),i+=2):(r.push(new On(s,{})),i++)}}return new En(r,{})}function pr(t){var e={};return yn(t,function(t,n){"string"==typeof t&&(t=[t]),null!==t&&(e[n]=dr(new En([],{}),0,t))}),e}function vr(t){var e={};return yn(t,function(t,n){return e[n]="".concat(t)}),e}function yr(t,e,n){return t==n.path&&hn(e,n.parameters)}var gr=function(){function t(e,n,r,i){h(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return p(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),er(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=Kn(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),yn(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){for(var n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Kn(t),o=0,a=Object.keys(i);o<a.length;o++){var s=a[o];this.deactivateRouteAndItsChildren(i[s],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=Kn(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new an(t.value.snapshot))}),t.children.length&&this.forwardEvent(new rn(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(er(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),mr(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function mr(t){er(t.value),t.children.forEach(mr)}var br=function t(e,n){h(this,t),this.routes=e,this.module=n};function wr(t){return"function"==typeof t}function _r(t){return t instanceof kn}var kr=Symbol("INITIAL_VALUE");function Er(){return ue(function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i;return Object(Bt.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(Ht.a)(e[0])&&(e=e[0]),Object(Jt.a)(e,i).lift(new Zt(r))}(t.map(function(t){return t.pipe(he(1),ve(kr))})).pipe(ye(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==kr)return t;if(r===kr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||_r(r))return r}return t},t)},kr),be(function(t){return t!==kr}),Object(ae.a)(function(t){return _r(t)?t:!0===t}),he(1))})}var Or,Sr=((Or=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Or)},Or.\u0275cmp=s.Gb({type:Or,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&s.Nb(0,"router-outlet")},directives:function(){return[bi]},encapsulation:2}),Or);function Tr(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];Ir(r,Cr(e,r))}}function Ir(t,e){t.children&&Tr(t.children,e)}function Cr(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function xr(t){var e=t.children&&t.children.map(xr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Sr),n}function Ar(t){return t.outlet||"primary"}function jr(t,e){var n=t.filter(function(t){return Ar(t)===e});return n.push.apply(n,i(t.filter(function(t){return Ar(t)!==e}))),n}var Nr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Rr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Nr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(e.matcher||fn)(n,t,e);if(!i)return Object.assign({},Nr);var o={};yn(i.posParams,function(t,e){o[e]=t.path});var a=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Dr(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(t,e,n){return n.some(function(n){return Pr(t,e,n)&&"primary"!==Ar(n)})}(t,n,r)){var o=new En(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,s=a(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(""===u.path&&"primary"!==Ar(u)){var c=new En([],{});c._sourceSegment=t,c._segmentIndexShift=e.length,i[Ar(u)]=c}}}catch(l){s.e(l)}finally{s.f()}return i}(t,e,r,new En(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(function(n){return Pr(t,e,n)})}(t,n,r)){var s=new En(t.segments,function(t,e,n,r,i,o){var s,u={},c=a(r);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(Pr(t,n,l)&&!i[Ar(l)]){var f=new En([],{});f._sourceSegment=t,f._segmentIndexShift="legacy"===o?t.segments.length:e.length,u[Ar(l)]=f}}}catch(h){c.e(h)}finally{c.f()}return Object.assign(Object.assign({},i),u)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}var u=new En(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}function Pr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Lr(t,e,n,r){return!!(Ar(t)===r||"primary"!==r&&Pr(e,n,t))&&("**"===t.path||Rr(e,t,n).matched)}function Mr(t,e,n){return 0===e.length&&!t.children[n]}var Fr=function t(e){h(this,t),this.segmentGroup=e||null},Ur=function t(e){h(this,t),this.urlTree=e};function Vr(t){return new Yt.a(function(e){return e.error(new Fr(t))})}function qr(t){return new Yt.a(function(e){return e.error(new Ur(t))})}function Br(t){return new Yt.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var Hr=function(){function t(e,n,r,i,o){h(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(s.y)}return p(t,[{key:"apply",value:function(){var t=this,e=Dr(this.urlTree.root,[],[],this.config).segmentGroup,n=new En(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe(Object(ae.a)(function(e){return t.createUrlTree(zr(e),t.urlTree.queryParams,t.urlTree.fragment)})).pipe(ke(function(e){if(e instanceof Ur)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Fr)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(ae.a)(function(n){return e.createUrlTree(zr(n),t.queryParams,t.fragment)})).pipe(ke(function(t){if(t instanceof Fr)throw e.noMatchError(t);throw t}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new En([],{primary:t}):t;return new kn(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(ae.a)(function(t){return new En([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){for(var r=this,i=[],o=0,a=Object.keys(n.children);o<a.length;o++){var s=a[o];"primary"===s?i.unshift(s):i.push(s)}return Object(Mt.a)(i).pipe(Te(function(i){var o=n.children[i],a=jr(e,i);return r.expandSegmentGroup(t,a,o,i).pipe(Object(ae.a)(function(t){return{segment:t,outlet:i}}))}),ye(function(t,e){return t[e.outlet]=e.segment,t},{}),function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?be(function(e,n){return t(e,n,r)}):Me.a,Ie(1),n?De(e):Ae(function(){return new te}))}}())}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return Object(Mt.a)(n).pipe(Te(function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(ke(function(t){if(t instanceof Fr)return Object(Ft.a)(null);throw t}))}),Fe(function(t){return!!t}),ke(function(t,n){if(t instanceof te||"EmptyError"===t.name){if(Mr(e,r,i))return Object(Ft.a)(new En([],{}));throw new Fr(e)}throw t}))}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return Lr(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Vr(e):Vr(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?qr(o):this.lineralizeSegments(n,o).pipe(Object(Se.a)(function(n){var o=new En(n,{});return i.expandSegment(t,o,e,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=Rr(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,f=s.positionalParamSegments;if(!u)return Vr(e);var h=this.applyRedirectCommands(c,r.redirectTo,f);return r.redirectTo.startsWith("/")?qr(h):this.lineralizeSegments(r,h).pipe(Object(Se.a)(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(Ft.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(ae.a)(function(t){return n._loadedConfig=t,new En(r,{})})):Object(Ft.a)(new En(r,{}));var a=Rr(e,n,r),s=a.matched,u=a.consumedSegments,c=a.lastChild;if(!s)return Vr(e);var l=r.slice(c);return this.getChildConfig(t,n,r).pipe(Object(Se.a)(function(t){var r=t.module,a=t.routes,s=Dr(e,u,l,a),c=s.segmentGroup,f=s.slicedSegments,h=new En(c.segments,c.children);if(0===f.length&&h.hasChildren())return o.expandChildren(r,a,h).pipe(Object(ae.a)(function(t){return new En(u,t)}));if(0===a.length&&0===f.length)return Object(Ft.a)(new En(u,{}));var d=Ar(n)===i;return o.expandSegment(r,h,a,f,d?"primary":i,!0).pipe(Object(ae.a)(function(t){return new En(u.concat(t.segments),t.children)}))}))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(Ft.a)(new br(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ft.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Se.a)(function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(ae.a)(function(t){return e._loadedConfig=t,t})):function(t){return new Yt.a(function(e){return e.error(ln("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(e)})):Object(Ft.a)(new br([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r=this,i=e.canLoad;if(!i||0===i.length)return Object(Ft.a)(!0);var o=i.map(function(r){var i,o=t.get(r);if(function(t){return t&&wr(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!wr(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return gn(i)});return Object(Ft.a)(o).pipe(Er(),Object(Ue.a)(function(t){if(_r(t)){var e=ln('Redirecting to "'.concat(r.urlSerializer.serialize(t),'"'));throw e.url=t,e}}),Object(ae.a)(function(t){return!0===t}))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ft.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Br(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new kn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return yn(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return yn(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new En(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=a(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(s){i.e(s)}finally{i.f()}return t}}]),t}();function zr(t){for(var e={},n=0,r=Object.keys(t.children);n<r.length;n++){var i=r[n],o=zr(t.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new En(t.segments.concat(e.segments),e.children)}return t}(new En(t.segments,e))}var Gr=function t(e){h(this,t),this.path=e,this.route=this.path[this.path.length-1]},Kr=function t(e,n){h(this,t),this.component=e,this.route=n};function Wr(t,e,n){var r=t._root;return Qr(r,e?e._root:null,n,[r.value])}function Yr(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Qr(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=Kn(e);return t.children.forEach(function(t){!function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Sn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Sn(t.url,e.url)||!hn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nr(t,e)||!hn(t.queryParams,e.queryParams);case"paramsChange":default:return!nr(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Gr(r)):(o.data=a.data,o._resolvedData=a._resolvedData),Qr(t,e,o.component?s?s.children:null:n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new Kr(s.outlet.component,a))}else a&&Jr(e,s,i),i.canActivateChecks.push(new Gr(r)),Qr(t,null,o.component?s?s.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),yn(o,function(t,e){return Jr(t,n.getContext(e),i)}),i}function Jr(t,e,n){var r=Kn(t),i=t.value;yn(r,function(t,r){Jr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Kr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Xr=function t(){h(this,t)};function Zr(t){return new Yt.a(function(e){return e.error(t)})}var $r=function(){function t(e,n,r,i,o,a){h(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return p(t,[{key:"recognize",value:function(){var t=Dr(this.urlTree.root,[],[],this.config.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;var n=new Xn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Gn(n,e),i=new Zn(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=Jn(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){for(var n=[],r=0,o=Object.keys(e.children);r<o.length;r++){var s=o[r],u=e.children[s],c=jr(t,s),l=this.processSegmentGroup(c,u,s);if(null===l)return null;n.push.apply(n,i(l))}var f=function(t){var e,n=[],r=a(t);try{var o=function(){var t,r=e.value;if(!function(t){var e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}(r))return n.push(r),"continue";var o=n.find(function(t){return r.value.routeConfig===t.value.routeConfig});void 0!==o?(t=o.children).push.apply(t,i(r.children)):n.push(r)};for(r.s();!(e=r.n()).done;)o()}catch(s){r.e(s)}finally{r.f()}return n}(n);return f.sort(function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)}),f}},{key:"processSegment",value:function(t,e,n,r){var i,o=a(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=this.processSegmentAgainstRoute(s,e,n,r);if(null!==u)return u}}catch(c){o.e(c)}finally{o.f()}return Mr(e,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo||!Lr(t,e,n,r))return null;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?vn(n).parameters:{};i=new Xn(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ni(t),Ar(t),t.component,t,ti(e),ei(e)+n.length,ri(t))}else{var u=Rr(e,t,n);if(!u.matched)return null;o=u.consumedSegments,a=n.slice(u.lastChild),i=new Xn(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ni(t),Ar(t),t.component,t,ti(e),ei(e)+o.length,ri(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=Dr(e,o,a,c.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution),f=l.segmentGroup,h=l.slicedSegments;if(0===h.length&&f.hasChildren()){var d=this.processChildren(c,f);return null===d?null:[new Gn(i,d)]}if(0===c.length&&0===h.length)return[new Gn(i,[])];var p=Ar(t)===r,v=this.processSegment(c,f,h,p?"primary":r);return null===v?null:[new Gn(i,v)]}}]),t}();function ti(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function ei(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ni(t){return t.data||{}}function ri(t){return t.resolve||{}}function ii(t){return ue(function(e){var n=t(e);return n?Object(Mt.a)(n).pipe(Object(ae.a)(function(){return e})):Object(Ft.a)(e)})}var oi=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return n}(function(){function t(){h(this,t)}return p(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),ai=new s.r("ROUTES"),si=function(){function t(e,n,r,i){h(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return p(t,[{key:"load",value:function(t,e){var n=this;if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren).pipe(Object(ae.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new br(pn(i.injector.get(ai,void 0,s.q.Self|s.q.Optional)).map(xr),i)}),ke(function(t){throw e._loader$=void 0,t}));return e._loader$=new oe.a(r,function(){return new Ut.a}).pipe(Object(Ve.a)()),e._loader$}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(Mt.a)(this.loader.load(t)):gn(t()).pipe(Object(Se.a)(function(t){return t instanceof s.w?Object(Ft.a)(t):Object(Mt.a)(e.compiler.compileModuleAsync(t))}))}}]),t}(),ui=function t(){h(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new ci,this.attachRef=null},ci=function(){function t(){h(this,t),this.contexts=new Map}return p(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new ui,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),li=function(){function t(){h(this,t)}return p(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function fi(t){throw t}function hi(t,e,n){return e.parse("/")}function di(t,e){return Object(Ft.a)(null)}var pi,vi,yi,gi,mi=((vi=function(){function t(e,n,r,i,o,a,u,c){var l=this;h(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ut.a,this.errorHandler=fi,this.malformedUriErrorHandler=hi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:di,afterPreactivation:di},this.urlHandlingStrategy=new li,this.routeReuseStrategy=new oi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(s.y),this.console=o.get(s.Y);var f=o.get(s.A);this.isNgZoneEnabled=f instanceof s.A&&s.A.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new kn(new En([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new si(a,u,function(t){return l.triggerEvent(new tn(t))},function(t){return l.triggerEvent(new en(t))}),this.routerState=Yn(this.currentUrlTree,this.rootComponentType),this.transitions=new qt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return p(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(be(function(t){return 0!==t.id}),Object(ae.a)(function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),ue(function(t){var r,i,o,a,s=!1,u=!1;return Object(Ft.a)(t).pipe(Object(Ue.a)(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ue(function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ft.a)(t).pipe(ue(function(t){var r=e.transitions.getValue();return n.next(new Ge(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?re.a:Promise.resolve(t)}),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,ue(function(t){return function(t,e,n,r,i){return new Hr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(ae.a)(function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})}))})),Object(Ue.a)(function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,n,r,i,o){return Object(Se.a)(function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new $r(t,e,n,r,i,o).recognize();return null===a?Zr(new Xr):Object(Ft.a)(a)}catch(r_){return Zr(r_)}}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(ae.a)(function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})}));var a})}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(Ue.a)(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects);var r=new Qe(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,f=t.restoredState,h=t.extras,d=new Ge(u,e.serializeUrl(c),l,f);n.next(d);var p=Yn(c,e.rootComponentType).snapshot;return Object(Ft.a)(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},h),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),re.a}),ii(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),Object(Ue.a)(function(t){var n=new Je(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(ae.a)(function(t){return Object.assign(Object.assign({},t),{guards:Wr(t.targetSnapshot,t.currentSnapshot,e.rootContexts)})}),function(t,e){return Object(Se.a)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(Ft.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Mt.a)(t).pipe(Object(Se.a)(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Ft.a)(!0);var a=o.map(function(o){var a,s=Yr(o,e,i);if(function(t){return t&&wr(t.canDeactivate)}(s))a=gn(s.canDeactivate(t,e,n,r));else{if(!wr(s))throw new Error("Invalid CanDeactivate guard");a=gn(s(t,e,n,r))}return a.pipe(Fe())});return Object(Ft.a)(a).pipe(Er())}(t.component,t.route,n,e,r)}),Fe(function(t){return!0!==t},!0))}(s,r,i,t).pipe(Object(Se.a)(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(Mt.a)(e).pipe(Te(function(e){return ne(function(t,e){return null!==t&&e&&e(new nn(t)),Object(Ft.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new on(t)),Object(Ft.a)(!0)}(e.route,r),function(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return ie(function(){var i=e.guards.map(function(i){var o,a=Yr(i,e.node,n);if(function(t){return t&&wr(t.canActivateChild)}(a))o=gn(a.canActivateChild(r,t));else{if(!wr(a))throw new Error("Invalid CanActivateChild guard");o=gn(a(r,t))}return o.pipe(Fe())});return Object(Ft.a)(i).pipe(Er())})});return Object(Ft.a)(i).pipe(Er())}(t,e.path,n),function(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ft.a)(!0);var i=r.map(function(r){return ie(function(){var i,o=Yr(r,e,n);if(function(t){return t&&wr(t.canActivate)}(o))i=gn(o.canActivate(e,t));else{if(!wr(o))throw new Error("Invalid CanActivate guard");i=gn(o(e,t))}return i.pipe(Fe())})});return Object(Ft.a)(i).pipe(Er())}(t,e.route,n))}),Fe(function(t){return!0!==t},!0))}(r,a,t,e):Object(Ft.a)(n)}),Object(ae.a)(function(t){return Object.assign(Object.assign({},n),{guardsResult:t})}))})}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),Object(Ue.a)(function(t){if(_r(t.guardsResult)){var n=ln('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}var r=new Xe(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(r)}),be(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new We(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),ii(function(t){if(t.guards.canActivateChecks.length)return Object(Ft.a)(t).pipe(Object(Ue.a)(function(t){var n=new Ze(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),ue(function(t){var r,i,o=!1;return Object(Ft.a)(t).pipe((r=e.paramsInheritanceStrategy,i=e.ngModule.injector,Object(Se.a)(function(t){var e=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return Object(Ft.a)(t);var o=0;return Object(Mt.a)(n).pipe(Te(function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(Ft.a)({});var o={};return Object(Mt.a)(i).pipe(Object(Se.a)(function(i){return function(t,e,n,r){var i=Yr(t,e,r);return gn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Ue.a)(function(t){o[i]=t}))}),Ie(1),Object(Se.a)(function(){return Object.keys(o).length===i.length?Object(Ft.a)(o):re.a}))}(t._resolve,t,e,r).pipe(Object(ae.a)(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Jn(t,n).resolve),null}))}(t.route,e,r,i)}),Object(Ue.a)(function(){return o++}),Ie(1),Object(Se.a)(function(e){return o===n.length?Object(Ft.a)(t):re.a}))})),Object(Ue.a)({next:function(){return o=!0},complete:function(){if(!o){var r=new We(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),t.resolve(!1)}}}))}),Object(Ue.a)(function(t){var n=new $e(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}))}),ii(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),Object(ae.a)(function(t){var n=function(t,e,n){var r=rr(t,e._root,n?n._root:void 0);return new Wn(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})}),Object(Ue.a)(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},Object(ae.a)(function(t){return new gr(o,t.targetRouterState,t.currentRouterState,a).activate(i),t})),Object(Ue.a)({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){e.resetUrlToCurrentUrlTree();var r=new We(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Be(r))}),ke(function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=_r(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new We(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout(function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new Ye(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(Th){t.reject(Th)}}var s;return re.a}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout(function(){var e=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var a=Object.assign({},r);delete a.navigationId,0!==Object.keys(a).length&&(o.state=a)}t.scheduleNavigation(i,e,r,o)},0),t.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Tr(t),this.config=t.map(xr),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,r=e.queryParams,o=e.fragment,a=e.queryParamsHandling,s=e.preserveFragment,u=n||this.routerState.root,c=s?this.currentUrlTree.fragment:o,l=null;switch(a){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,o){if(0===n.length)return sr(e.root,e.root,e,r,o);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new cr(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,o){if("object"==typeof r&&null!=r){if(r.outlets){var a={};return yn(r.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),[].concat(i(t),[{outlets:a}])}if(r.segmentPath)return[].concat(i(t),[r.segmentPath])}return"string"!=typeof r?[].concat(i(t),[r]):0===o?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[].concat(i(t),[r])},[]);return new cr(n,e,r)}(n);if(a.toRoot())return sr(e.root,new En([],{}),e,r,o);var s=function(t,e,n){if(t.isAbsolute)return new lr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new lr(r,r===e.root,0)}var i=or(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new lr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(a,e,t),u=s.processChildren?hr(s.segmentGroup,s.index,a.commands):fr(s.segmentGroup,s.index,a.commands);return sr(s.segmentGroup,u,e,r,o)}(u,this.currentUrlTree,t,l,c)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=_r(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(r_){e=this.malformedUriErrorHandler(r_,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(_r(t))return mn(this.currentUrlTree,t,e);var n=this.parseUrl(t);return mn(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Ke(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);var o,a,s,u=this.getTransition(),c="imperative"!==e&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===t.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise(function(t,e){o=t,a=e});var f=++this.navigationId;return this.setTransition({id:f,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),t}()).\u0275fac=function(t){return new(t||vi)(s.Yb(s.N),s.Yb(Tn),s.Yb(ci),s.Yb(U),s.Yb(s.s),s.Yb(s.x),s.Yb(s.i),s.Yb(void 0))},vi.\u0275prov=s.Ib({token:vi,factory:vi.\u0275fac}),vi),bi=((pi=function(){function t(e,n,r,i,o){h(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.n,this.deactivateEvents=new s.n,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return p(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new wi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}()).\u0275fac=function(t){return new(t||pi)(s.Mb(ci),s.Mb(s.Q),s.Mb(s.j),s.Zb("name"),s.Mb(s.h))},pi.\u0275dir=s.Hb({type:pi,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),pi),wi=function(){function t(e,n,r){h(this,t),this.route=e,this.childContexts=n,this.parent=r}return p(t,[{key:"get",value:function(t,e){return t===Qn?this.route:t===ci?this.childContexts:this.parent.get(t,e)}}]),t}(),_i=function t(){h(this,t)},ki=function(){function t(){h(this,t)}return p(t,[{key:"preload",value:function(t,e){return Object(Ft.a)(null)}}]),t}(),Ei=((gi=function(){function t(e,n,r,i,o){h(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new si(n,r,function(t){return e.triggerEvent(new tn(t))},function(t){return e.triggerEvent(new en(t))})}return p(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(be(function(t){return t instanceof Ke}),Te(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(s.y);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=a(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(u){i.e(u)}finally{i.f()}return Object(Mt.a)(r).pipe(Object(ee.a)(),Object(ae.a)(function(t){}))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return(e._loadedConfig?Object(Ft.a)(e._loadedConfig):n.loader.load(t.injector,e)).pipe(Object(Se.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})}}]),t}()).\u0275fac=function(t){return new(t||gi)(s.Yb(mi),s.Yb(s.x),s.Yb(s.i),s.Yb(s.s),s.Yb(_i))},gi.\u0275prov=s.Ib({token:gi,factory:gi.\u0275fac}),gi),Oi=((yi=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return p(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Ge?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ke&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof sn&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new sn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||yi)(s.Yb(mi),s.Yb(Z),s.Yb(void 0))},yi.\u0275prov=s.Ib({token:yi,factory:yi.\u0275fac}),yi),Si=new s.r("ROUTER_CONFIGURATION"),Ti=new s.r("ROUTER_FORROOT_GUARD"),Ii=[U,{provide:Tn,useClass:In},{provide:mi,useFactory:function(t,e,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,f=new mi(null,t,e,n,r,i,o,pn(a));if(u&&(f.urlHandlingStrategy=u),l&&(f.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(s,f),s.enableTracing){var h=c();f.events.subscribe(function(t){h.logGroup("Router Event: ".concat(t.constructor.name)),h.log(t.toString()),h.log(t),h.logGroupEnd()})}return f},deps:[Tn,ci,U,s.s,s.x,s.i,ai,Si,[function(){return function t(){h(this,t)}}(),new s.B],[function(){return function t(){h(this,t)}}(),new s.B]]},ci,{provide:Qn,useFactory:function(t){return t.routerState.root},deps:[mi]},{provide:s.x,useClass:s.K},Ei,ki,function(){function t(){h(this,t)}return p(t,[{key:"preload",value:function(t,e){return e().pipe(ke(function(){return Object(Ft.a)(null)}))}}]),t}(),{provide:Si,useValue:{enableTracing:!1}}];function Ci(){return new s.z("Router",mi)}var xi,Ai=((xi=function(){function t(e,n){h(this,t)}return p(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[Ii,Di(e),{provide:Ti,useFactory:Ri,deps:[[mi,new s.B,new s.J]]},{provide:Si,useValue:n||{}},{provide:j,useFactory:Ni,deps:[y,[new s.p(L),new s.B],Si]},{provide:Oi,useFactory:ji,deps:[mi,Z,Si]},{provide:_i,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ki},{provide:s.z,multi:!0,useFactory:Ci},[Li,{provide:s.d,multi:!0,useFactory:Mi,deps:[Li]},{provide:Vi,useFactory:Fi,deps:[Li]},{provide:s.b,multi:!0,useExisting:Vi}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Di(e)]}}}]),t}()).\u0275fac=function(t){return new(t||xi)(s.Yb(Ti,8),s.Yb(mi,8))},xi.\u0275mod=s.Kb({type:xi}),xi.\u0275inj=s.Jb({}),xi);function ji(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Oi(t,e,n)}function Ni(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new F(t,e):new M(t,e)}function Ri(t){return"guarded"}function Di(t){return[{provide:s.a,multi:!0,useValue:t},{provide:ai,multi:!0,useValue:t}]}var Pi,Li=((Pi=function(){function t(e){h(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new Ut.a}return p(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(E,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(mi),i=t.injector.get(Si);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),e(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return t.initNavigation?Object(Ft.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()):e(!0),n})}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Si),n=this.injector.get(Ei),r=this.injector.get(Oi),i=this.injector.get(mi),o=this.injector.get(s.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),t}()).\u0275fac=function(t){return new(t||Pi)(s.Yb(s.s))},Pi.\u0275prov=s.Ib({token:Pi,factory:Pi.\u0275fac}),Pi);function Mi(t){return t.appInitializer.bind(t)}function Fi(t){return t.bootstrapListener.bind(t)}var Ui,Vi=new s.r("Router Initializer"),qi=((Ui=function t(){h(this,t),this.title="huaweiToStrava"}).\u0275fac=function(t){return new(t||Ui)},Ui.\u0275cmp=s.Gb({type:Ui,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-xs-12"]],template:function(t,e){1&t&&(s.Rb(0,"div",0),s.Rb(1,"div",1),s.Rb(2,"div",2),s.Nb(3,"router-outlet"),s.Qb(),s.Qb(),s.Qb())},directives:[bi],styles:[""]}),Ui),Bi=o("n6bG");function Hi(t,e,n,r){return Object(Bi.a)(n)&&(r=n,n=void 0),r?Hi(t,e,n).pipe(Object(ae.a)(function(t){return Object(Ht.a)(t)?r.apply(void 0,i(t)):r(t)})):new Yt.a(function(r){zi(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function zi(t,e,n,r,i){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var a=t;t.addEventListener(e,n,i),o=function(){return a.removeEventListener(e,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var s=t;t.on(e,n),o=function(){return s.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var u=t;t.addListener(e,n),o=function(){return u.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,l=t.length;c<l;c++)zi(t[c],e,n,r,i)}r.add(o)}var Gi=o("D0XW"),Ki=o("Y7HM");function Wi(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}var Yi=function(){function t(){h(this,t)}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Qi(t))}}]),t}(),Qi=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).hasFirst=!1,r.observables=[],r.subscriptions=[],r}return p(n,[{key:"_next",value:function(t){this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=Qt(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}},{key:"notifyNext",value:function(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(e)}}]),n}(Gt);o("KqfI");var Ji=o("Lhse");function Xi(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return"function"==typeof r&&e.pop(),Object(Jt.a)(e,void 0).lift(new Zi(r))}var Zi=function(){function t(e){h(this,t),this.resultSelector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new $i(t,this.resultSelector))}}]),t}(),$i=function(t){v(n,t);var e=g(n);function n(t,r){var i;arguments.length>2&&void 0!==arguments[2]||Object.create(null);return h(this,n),(i=e.call(this,t)).resultSelector=r,i.iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:void 0,i}return p(n,[{key:"_next",value:function(t){var e=this.iterators;Object(Ht.a)(t)?e.push(new eo(t)):e.push("function"==typeof t[Ji.a]?new to(t[Ji.a]()):new no(this.destination,this,t))}},{key:"_complete",value:function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){var i=t[r];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,a=[],s=0;s<e;s++){var u=t[s],c=u.next();if(u.hasCompleted()&&(o=!0),c.done)return void n.complete();a.push(c.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),o&&n.complete()}},{key:"_tryresultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(zt.a),to=function(){function t(e){h(this,t),this.iterator=e,this.nextResult=e.next()}return p(t,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t}},{key:"hasCompleted",value:function(){var t=this.nextResult;return Boolean(t&&t.done)}}]),t}(),eo=function(){function t(e){h(this,t),this.array=e,this.index=0,this.length=0,this.length=e.length}return p(t,[{key:Ji.a,value:function(){return this}},{key:"next",value:function(t){var e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),t}(),no=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).parent=r,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return p(n,[{key:Ji.a,value:function(){return this}},{key:"next",value:function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(t){this.buffer.push(t),this.parent.checkIterators()}},{key:"subscribe",value:function(){return Object(se.c)(this.observable,new se.a(this))}}]),n}(se.b),ro=o("VRyK");function io(t){return function(e){return e.lift(new oo(t))}}var oo=function(){function t(e){h(this,t),this.notifier=e}return p(t,[{key:"call",value:function(t,e){var n=new ao(t),r=Object(se.c)(this.notifier,new se.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}]),t}(),ao=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).seenValue=!1,r}return p(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(se.b),so=function(){function t(e,n){h(this,t),this.compare=e,this.keySelector=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new uo(t,this.compare,this.keySelector))}}]),t}(),uo=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return p(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(zt.a);function co(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new lo(e,n))}}var lo=function(){function t(e,n){h(this,t),this.observables=e,this.project=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new fo(t,this.observables,this.project))}}]),t}(),fo=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;h(this,n),(o=e.call(this,t)).observables=r,o.project=i,o.toRespond=[];var a=r.length;o.values=new Array(a);for(var s=0;s<a;s++)o.toRespond.push(s);for(var u=0;u<a;u++)o.add(Qt(b(o),r[u],void 0,u));return o}return p(n,[{key:"notifyNext",value:function(t,e,n){this.values[n]=e;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat(i(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Gt);o("WMd4"),o("w1tV"),o("XoHu");var ho,po,vo,yo=((vo=function t(){h(this,t)}).\u0275fac=function(t){return new(t||vo)},vo.\u0275mod=s.Kb({type:vo}),vo.\u0275inj=s.Jb({}),vo),go=((po=function t(){h(this,t)}).\u0275fac=function(t){return new(t||po)},po.\u0275mod=s.Kb({type:po}),po.\u0275inj=s.Jb({imports:[[yo]]}),po),mo=((ho=function t(){h(this,t)}).\u0275fac=function(t){return new(t||ho)},ho.\u0275mod=s.Kb({type:ho}),ho.\u0275inj=s.Jb({imports:[go]}),ho),bo=["*"],wo=["dialog"];function _o(t){return null!=t}function ko(t){return(t||document.body).offsetHeight}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var Eo,Oo,So,To,Io,Co,xo=!0,Ao=5,jo=((Eo=function t(){h(this,t),this.animation=xo}).\u0275fac=function(t){return new(t||Eo)},Eo.\u0275prov=Object(s.Ib)({factory:function(){return new Eo},token:Eo,providedIn:"root"}),Eo),No=function(){},Ro=Ao,Do=new Map,Po=function(t,e,n,r){var i=r.context||{},o=Do.get(e);if(o)switch(r.runningTransition){case"continue":return re.a;case"stop":t.run(function(){return o.transition$.complete()}),i=Object.assign(o.context,i),Do.delete(e)}var a=n(e,r.animation,i)||No;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(function(){return a()}),Object(Ft.a)(void 0).pipe(function(t){return function(e){return new Yt.a(function(n){return e.subscribe(function(e){return t.run(function(){return n.next(e)})},function(e){return t.run(function(){return n.error(e)})},function(){return t.run(function(){return n.complete()})})})}}(t));var s=new Ut.a,u=new Ut.a,c=s.pipe(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return ne(t,Object(Ft.a).apply(void 0,e))}}(!0));Do.set(e,{transition$:s,complete:function(){u.next(),u.complete()},context:i});var l=function(t){var e=window.getComputedStyle(t),n=e.transitionDelay,r=e.transitionDuration;return 1e3*(parseFloat(n)+parseFloat(r))}(e);return t.runOutsideAngular(function(){var n=Hi(e,"transitionend").pipe(io(c),be(function(t){return t.target===e}));(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){if(!Object(Ht.a)(e[0]))return e[0];e=e[0]}return Object(Jt.a)(e,void 0).lift(new Yi)})(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return Object(Ki.a)(e)?r=Number(e)<1?1:Number(e):Object(Bt.a)(e)&&(n=e),Object(Bt.a)(n)||(n=Gi.a),new Yt.a(function(e){var i=Object(Ki.a)(t)?t:+t-n.now();return n.schedule(Wi,i,{index:0,period:r,subscriber:e})})}(l+Ro).pipe(io(c)),n,u).pipe(io(c)).subscribe(function(){Do.delete(e),t.run(function(){a(),s.next(),s.complete()})})}),s.asObservable()},Lo=((Co=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Co)},Co.\u0275mod=s.Kb({type:Co}),Co.\u0275inj=s.Jb({imports:[[Q]]}),Co),Mo=((Io=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Io)},Io.\u0275mod=s.Kb({type:Io}),Io.\u0275inj=s.Jb({imports:[[Q]]}),Io),Fo=((To=function t(){h(this,t)}).\u0275fac=function(t){return new(t||To)},To.\u0275mod=s.Kb({type:To}),To.\u0275inj=s.Jb({}),To),Uo=((So=function t(){h(this,t)}).\u0275fac=function(t){return new(t||So)},So.\u0275mod=s.Kb({type:So}),So.\u0275inj=s.Jb({imports:[[Q]]}),So),Vo=((Oo=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Oo)},Oo.\u0275mod=s.Kb({type:Oo}),Oo.\u0275inj=s.Jb({}),Oo),qo=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));var Bo=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ho(t){var e=Array.from(t.querySelectorAll(Bo)).filter(function(t){return-1!==t.tabIndex});return[e[0],e[e.length-1]]}new(function(){function t(){h(this,t)}return p(t,[{key:"getAllStyles",value:function(t){return window.getComputedStyle(t)}},{key:"getStyle",value:function(t,e){return this.getAllStyles(t)[e]}},{key:"isStaticPositioned",value:function(t){return"static"===(this.getStyle(t,"position")||"static")}},{key:"offsetParent",value:function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}},{key:"position",value:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))e={top:(e=t.getBoundingClientRect()).top,bottom:e.bottom,left:e.left,right:e.right,height:e.height,width:e.width};else{var i=this.offsetParent(t);e=this.offset(t,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return e.top-=r.top,e.bottom-=r.top,e.left-=r.left,e.right-=r.left,n&&(e.top=Math.round(e.top),e.bottom=Math.round(e.bottom),e.left=Math.round(e.left),e.right=Math.round(e.right)),e}},{key:"offset",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}},{key:"positionElements",value:function(t,n,r,i){var o=e(r.split("-"),2),a=o[0],s=void 0===a?"top":a,u=o[1],c=void 0===u?"center":u,l=i?this.offset(t,!1):this.position(t,!1),f=this.getAllStyles(n),h=parseFloat(f.marginTop),d=parseFloat(f.marginBottom),p=parseFloat(f.marginLeft),v=parseFloat(f.marginRight),y=0,g=0;switch(s){case"top":y=l.top-(n.offsetHeight+h+d);break;case"bottom":y=l.top+l.height;break;case"left":g=l.left-(n.offsetWidth+p+v);break;case"right":g=l.left+l.width}switch(c){case"top":y=l.top;break;case"bottom":y=l.top+l.height-n.offsetHeight;break;case"left":g=l.left;break;case"right":g=l.left+l.width-n.offsetWidth;break;case"center":"top"===s||"bottom"===s?g=l.left+l.width/2-n.offsetWidth/2:y=l.top+l.height/2-n.offsetHeight/2}n.style.transform="translate(".concat(Math.round(g),"px, ").concat(Math.round(y),"px)");var m=n.getBoundingClientRect(),b=document.documentElement,w=window.innerHeight||b.clientHeight,_=window.innerWidth||b.clientWidth;return m.left>=0&&m.top>=0&&m.right<=_&&m.bottom<=w}}]),t}()),new Date(1882,10,12),new Date(2174,10,25);var zo,Go,Ko,Wo,Yo,Qo,Jo,Xo,Zo,$o,ta,ea,na,ra,ia,oa,aa,sa=((Ko=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Ko)},Ko.\u0275mod=s.Kb({type:Ko}),Ko.\u0275inj=s.Jb({imports:[[Q,mo]]}),Ko),ua=((Go=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Go)},Go.\u0275mod=s.Kb({type:Go}),Go.\u0275inj=s.Jb({}),Go),ca=((zo=function(){function t(e){h(this,t),this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}return p(t,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(t){this._animation=t}}]),t}()).\u0275fac=function(t){return new(t||zo)(s.Yb(jo))},zo.\u0275prov=Object(s.Ib)({factory:function(){return new zo(Object(s.Yb)(jo))},token:zo,providedIn:"root"}),zo),la=function t(e,n,r){h(this,t),this.nodes=e,this.viewRef=n,this.componentRef=r},fa=function(){},ha=((Yo=function(){function t(e){h(this,t),this._document=e}return p(t,[{key:"compensate",value:function(){var t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):fa}},{key:"_adjustBody",value:function(t){var e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]="".concat(r+t,"px"),function(){return e.style["padding-right"]=n}}},{key:"_isPresent",value:function(t){var e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}},{key:"_getWidth",value:function(){var t=this._document.createElement("div");t.className="modal-scrollbar-measure";var e=this._document.body;e.appendChild(t);var n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}]),t}()).\u0275fac=function(t){return new(t||Yo)(s.Yb(d))},Yo.\u0275prov=Object(s.Ib)({factory:function(){return new Yo(Object(s.Yb)(d))},token:Yo,providedIn:"root"}),Yo),da=((Wo=function(){function t(e,n){h(this,t),this._el=e,this._zone=n}return p(t,[{key:"ngOnInit",value:function(){var t=this;this._zone.onStable.asObservable().pipe(he(1)).subscribe(function(){Po(t._zone,t._el.nativeElement,function(t,e){e&&ko(t),t.classList.add("show")},{animation:t.animation,runningTransition:"continue"})})}},{key:"hide",value:function(){return Po(this._zone,this._el.nativeElement,function(t){return t.classList.remove("show")},{animation:this.animation,runningTransition:"stop"})}}]),t}()).\u0275fac=function(t){return new(t||Wo)(s.Mb(s.l),s.Mb(s.A))},Wo.\u0275cmp=s.Gb({type:Wo,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(s.Cb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),s.Eb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),Wo),pa=function(){function t(){h(this,t)}return p(t,[{key:"close",value:function(t){}},{key:"dismiss",value:function(t){}}]),t}(),va=function(){function t(e,n,r,i){var o=this;h(this,t),this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Ut.a,this._dismissed=new Ut.a,this._hidden=new Ut.a,e.instance.dismissEvent.subscribe(function(t){o.dismiss(t)}),this.result=new Promise(function(t,e){o._resolve=t,o._reject=e}),this.result.then(null,function(){})}return p(t,[{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}},{key:"closed",get:function(){return this._closed.asObservable().pipe(io(this._hidden))}},{key:"dismissed",get:function(){return this._dismissed.asObservable().pipe(io(this._hidden))}},{key:"hidden",get:function(){return this._hidden.asObservable()}},{key:"shown",get:function(){return this._windowCmptRef.instance.shown.asObservable()}},{key:"close",value:function(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}},{key:"_dismiss",value:function(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}},{key:"dismiss",value:function(t){var e=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then(function(n){!1!==n&&e._dismiss(t)},function(){}):!1!==n&&this._dismiss(t)}else this._dismiss(t)}},{key:"_removeModalElements",value:function(){var t=this,e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(Ft.a)(void 0);e.subscribe(function(){var e=t._windowCmptRef.location.nativeElement;e.parentNode.removeChild(e),t._windowCmptRef.destroy(),t._contentRef&&t._contentRef.viewRef&&t._contentRef.viewRef.destroy(),t._windowCmptRef=null,t._contentRef=null}),n.subscribe(function(){if(t._backdropCmptRef){var e=t._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),t._backdropCmptRef.destroy(),t._backdropCmptRef=null}}),Xi(e,n).subscribe(function(){t._hidden.next(),t._hidden.complete()})}}]),t}(),ya=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({}),ga=((aa=function(){function t(e,n,r){h(this,t),this._document=e,this._elRef=n,this._zone=r,this._closed$=new Ut.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new s.n,this.shown=new Ut.a,this.hidden=new Ut.a}return p(t,[{key:"dismiss",value:function(t){this.dismissEvent.emit(t)}},{key:"ngOnInit",value:function(){this._elWithFocus=this._document.activeElement}},{key:"ngAfterViewInit",value:function(){this._show()}},{key:"ngOnDestroy",value:function(){this._disableEventHandling()}},{key:"hide",value:function(){var t=this,e=this._elRef.nativeElement,n={animation:this.animation,runningTransition:"stop"},r=Xi(Po(this._zone,e,function(){return e.classList.remove("show")},n),Po(this._zone,this._dialogEl.nativeElement,function(){},n));return r.subscribe(function(){t.hidden.next(),t.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}},{key:"_show",value:function(){var t=this,e={animation:this.animation,runningTransition:"continue"};Xi(Po(this._zone,this._elRef.nativeElement,function(t,e){e&&ko(t),t.classList.add("show")},e),Po(this._zone,this._dialogEl.nativeElement,function(){},e)).subscribe(function(){t.shown.next(),t.shown.complete()}),this._enableEventHandling(),this._setFocus()}},{key:"_enableEventHandling",value:function(){var t=this,e=this._elRef.nativeElement;this._zone.runOutsideAngular(function(){Hi(e,"keydown").pipe(io(t._closed$),be(function(t){return t.which===qo.Escape})).subscribe(function(e){t.keyboard?requestAnimationFrame(function(){e.defaultPrevented||t._zone.run(function(){return t.dismiss(ya.ESC)})}):"static"===t.backdrop&&t._bumpBackdrop()});var n=!1;Hi(t._dialogEl.nativeElement,"mousedown").pipe(io(t._closed$),Object(Ue.a)(function(){return n=!1}),ue(function(){return Hi(e,"mouseup").pipe(io(t._closed$),he(1))}),be(function(t){var n=t.target;return e===n})).subscribe(function(){n=!0}),Hi(e,"click").pipe(io(t._closed$)).subscribe(function(r){var i=r.target;e===i&&("static"===t.backdrop?t._bumpBackdrop():!0!==t.backdrop||n||t._zone.run(function(){return t.dismiss(ya.BACKDROP_CLICK)})),n=!1})})}},{key:"_disableEventHandling",value:function(){this._closed$.next()}},{key:"_setFocus",value:function(){var t=this._elRef.nativeElement;if(!t.contains(document.activeElement)){var e=t.querySelector("[ngbAutofocus]"),n=Ho(t)[0];(e||n||t).focus()}}},{key:"_restoreFocus",value:function(){var t,e=this,n=this._document.body,r=this._elWithFocus;t=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular(function(){setTimeout(function(){return t.focus()}),e._elWithFocus=null})}},{key:"_bumpBackdrop",value:function(){"static"===this.backdrop&&Po(this._zone,this._elRef.nativeElement,function(t){var e=t.classList;return e.add("modal-static"),function(){return e.remove("modal-static")}},{animation:this.animation,runningTransition:"continue"})}}]),t}()).\u0275fac=function(t){return new(t||aa)(s.Mb(d),s.Mb(s.l),s.Mb(s.A))},aa.\u0275cmp=s.Gb({type:aa,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;1&t&&s.Ac(wo,3),2&t&&s.oc(n=s.cc())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(s.Bb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),s.Cb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),s.Eb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:bo,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(s.hc(),s.Rb(0,"div",0,1),s.Rb(2,"div",2),s.gc(3),s.Qb(),s.Qb()),2&t&&s.Cb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),aa),ma=((oa=function(){function t(n,r,i,o,a,u){var c=this;h(this,t),this._applicationRef=n,this._injector=r,this._document=i,this._scrollBar=o,this._rendererFactory=a,this._ngZone=u,this._activeWindowCmptHasChanged=new Ut.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new s.n,this._activeWindowCmptHasChanged.subscribe(function(){if(c._windowCmpts.length){var t=c._windowCmpts[c._windowCmpts.length-1];(function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];c._ngZone.runOutsideAngular(function(){var t=Hi(n,"focusin").pipe(io(r),Object(ae.a)(function(t){return t.target}));Hi(n,"keydown").pipe(io(r),be(function(t){return t.which===qo.Tab}),co(t)).subscribe(function(t){var r=e(t,2),i=r[0],o=r[1],a=e(Ho(n),2),s=a[0],u=a[1];o!==s&&o!==n||!i.shiftKey||(u.focus(),i.preventDefault()),o!==u||i.shiftKey||(s.focus(),i.preventDefault())}),i&&Hi(n,"click").pipe(io(r),co(t),Object(ae.a)(function(t){return t[1]})).subscribe(function(t){return t.focus()})})})(0,t.location.nativeElement,c._activeWindowCmptHasChanged),c._revertAriaHidden(),c._setAriaHidden(t.location.nativeElement)}})}return p(t,[{key:"open",value:function(t,e,n,r){var i=this,o=r.container instanceof HTMLElement?r.container:_o(r.container)?this._document.querySelector(r.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),u=function(){i._modalRefs.length||(a.removeClass(i._document.body,"modal-open"),i._revertAriaHidden())};if(!o)throw new Error('The specified modal container "'.concat(r.container||"body",'" was not found in the DOM.'));var c=new pa,l=this._getContentRef(t,r.injector||e,n,c,r),f=!1!==r.backdrop?this._attachBackdrop(t,o):void 0,h=this._attachWindowComponent(t,o,l),d=new va(h,l,f,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(s,s),d.result.then(u,u),c.close=function(t){d.close(t)},c.dismiss=function(t){d.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),f&&f.instance&&this._applyBackdropOptions(f.instance,r),d}},{key:"activeInstances",get:function(){return this._activeInstances}},{key:"dismissAll",value:function(t){this._modalRefs.forEach(function(e){return e.dismiss(t)})}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(t,e){var n=t.resolveComponentFactory(da).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(t,e,n){var r=t.resolveComponentFactory(ga).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}},{key:"_applyWindowOptions",value:function(t,e){this._windowAttributes.forEach(function(n){_o(e[n])&&(t[n]=e[n])})}},{key:"_applyBackdropOptions",value:function(t,e){this._backdropAttributes.forEach(function(n){_o(e[n])&&(t[n]=e[n])})}},{key:"_getContentRef",value:function(t,e,n,r,i){return n?n instanceof s.L?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,r,i):new la([])}},{key:"_createFromTemplateRef",value:function(t,e){var n=t.createEmbeddedView({$implicit:e,close:function(t){e.close(t)},dismiss:function(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new la([n.rootNodes],n)}},{key:"_createFromString",value:function(t){var e=this._document.createTextNode("".concat(t));return new la([[e]])}},{key:"_createFromComponent",value:function(t,e,n,r,i){var o=t.resolveComponentFactory(n),a=s.s.create({providers:[{provide:pa,useValue:r}],parent:e}),u=o.create(a),c=u.location.nativeElement;return i.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new la([[c]],u.hostView,u)}},{key:"_setAriaHidden",value:function(t){var e=this,n=t.parentElement;n&&t!==this._document.body&&(Array.from(n.children).forEach(function(n){n!==t&&"SCRIPT"!==n.nodeName&&(e._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach(function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(t){var e=this,n=function(){var n=e._modalRefs.indexOf(t);n>-1&&(e._modalRefs.splice(n,1),e._activeInstances.emit(e._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(t){var e=this;this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(function(){var n=e._windowCmpts.indexOf(t);n>-1&&(e._windowCmpts.splice(n,1),e._activeWindowCmptHasChanged.next())})}}]),t}()).\u0275fac=function(t){return new(t||oa)(s.Yb(s.g),s.Yb(s.s),s.Yb(d),s.Yb(ha),s.Yb(s.F),s.Yb(s.A))},oa.\u0275prov=Object(s.Ib)({factory:function(){return new oa(Object(s.Yb)(s.g),Object(s.Yb)(s.o),Object(s.Yb)(d),Object(s.Yb)(ha),Object(s.Yb)(s.F),Object(s.Yb)(s.A))},token:oa,providedIn:"root"}),oa),ba=((ia=function(){function t(e,n,r,i){h(this,t),this._moduleCFR=e,this._injector=n,this._modalStack=r,this._config=i}return p(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}},{key:"activeInstances",get:function(){return this._modalStack.activeInstances}},{key:"dismissAll",value:function(t){this._modalStack.dismissAll(t)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),t}()).\u0275fac=function(t){return new(t||ia)(s.Yb(s.j),s.Yb(s.s),s.Yb(ma),s.Yb(ca))},ia.\u0275prov=Object(s.Ib)({factory:function(){return new ia(Object(s.Yb)(s.j),Object(s.Yb)(s.o),Object(s.Yb)(ma),Object(s.Yb)(ca))},token:ia,providedIn:"root"}),ia),wa=((ra=function t(){h(this,t)}).\u0275fac=function(t){return new(t||ra)},ra.\u0275mod=s.Kb({type:ra}),ra.\u0275inj=s.Jb({providers:[ba]}),ra),_a=((na=function t(){h(this,t)}).\u0275fac=function(t){return new(t||na)},na.\u0275mod=s.Kb({type:na}),na.\u0275inj=s.Jb({imports:[[Q]]}),na),ka=((ea=function t(){h(this,t)}).\u0275fac=function(t){return new(t||ea)},ea.\u0275mod=s.Kb({type:ea}),ea.\u0275inj=s.Jb({imports:[[Q]]}),ea),Ea=((ta=function t(){h(this,t)}).\u0275fac=function(t){return new(t||ta)},ta.\u0275mod=s.Kb({type:ta}),ta.\u0275inj=s.Jb({imports:[[Q]]}),ta),Oa=(($o=function t(){h(this,t)}).\u0275fac=function(t){return new(t||$o)},$o.\u0275mod=s.Kb({type:$o}),$o.\u0275inj=s.Jb({imports:[[Q]]}),$o),Sa=((Zo=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Zo)},Zo.\u0275mod=s.Kb({type:Zo}),Zo.\u0275inj=s.Jb({imports:[[Q]]}),Zo),Ta=((Xo=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Xo)},Xo.\u0275mod=s.Kb({type:Xo}),Xo.\u0275inj=s.Jb({imports:[[Q]]}),Xo),Ia=((Jo=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Jo)},Jo.\u0275mod=s.Kb({type:Jo}),Jo.\u0275inj=s.Jb({imports:[[Q]]}),Jo),Ca=((Qo=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Qo)},Qo.\u0275mod=s.Kb({type:Qo}),Qo.\u0275inj=s.Jb({}),Qo);new s.r("live announcer delay",{providedIn:"root",factory:function(){return 100}});var xa,Aa,ja=((xa=function t(){h(this,t)}).\u0275fac=function(t){return new(t||xa)},xa.\u0275mod=s.Kb({type:xa}),xa.\u0275inj=s.Jb({imports:[[Q]]}),xa),Na=[Lo,Mo,Fo,Uo,Vo,sa,ua,wa,_a,ka,Ea,Oa,Sa,Ta,Ia,Ca,ja],Ra=((Aa=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Aa)},Aa.\u0275mod=s.Kb({type:Aa}),Aa.\u0275inj=s.Jb({imports:[Na,Lo,Mo,Fo,Uo,Vo,sa,ua,wa,_a,ka,Ea,Oa,Sa,Ta,Ia,Ca,ja]}),Aa),Da=o("spgP");function Pa(){return function(t){return t.lift(new La)}}var La=function(){function t(){h(this,t)}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Ma(t))}}]),t}(),Ma=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).hasPrev=!1,r}return p(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(zt.a),Fa=o("pxpQ"),Ua=o("Jgta"),Va=o("zIRd"),qa=o("q/0M"),Ba=o("qOnz"),Ha=function(t,e){return(Ha=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function za(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ga,Ka="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Wa=Wa||{},Ya=Ka||self;function Qa(){}function Ja(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Xa(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Za="closure_uid_"+(1e9*Math.random()>>>0),$a=0;function ts(t,e,n){return t.call.apply(t.bind,arguments)}function es(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function ns(t,e,n){return(ns=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ts:es).apply(null,arguments)}function rs(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function is(){return Date.now()}function os(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function as(){this.j=this.j,this.i=this.i}as.prototype.j=!1,as.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Za)&&t[Za]||(t[Za]=++$a)}(this)},as.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ss=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},us=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function cs(t){return Array.prototype.concat.apply([],arguments)}function ls(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function fs(t){return/^[\s\xa0]*$/.test(t)}var hs,ds=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ps(t,e){return-1!=t.indexOf(e)}function vs(t,e){return t<e?-1:t>e?1:0}t:{var ys=Ya.navigator;if(ys){var gs=ys.userAgent;if(gs){hs=gs;break t}}hs=""}function ms(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function bs(t){var e={};for(var n in t)e[n]=t[n];return e}var ws="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _s(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ws.length;o++)n=ws[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ks(t){return ks[" "](t),t}ks[" "]=Qa;var Es,Os,Ss=ps(hs,"Opera"),Ts=ps(hs,"Trident")||ps(hs,"MSIE"),Is=ps(hs,"Edge"),Cs=Is||Ts,xs=ps(hs,"Gecko")&&!(ps(hs.toLowerCase(),"webkit")&&!ps(hs,"Edge"))&&!(ps(hs,"Trident")||ps(hs,"MSIE"))&&!ps(hs,"Edge"),As=ps(hs.toLowerCase(),"webkit")&&!ps(hs,"Edge");function js(){var t=Ya.document;return t?t.documentMode:void 0}t:{var Ns="",Rs=(Os=hs,xs?/rv:([^\);]+)(\)|;)/.exec(Os):Is?/Edge\/([\d\.]+)/.exec(Os):Ts?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Os):As?/WebKit\/(\S+)/.exec(Os):Ss?/(?:Version)[ \/]?(\S+)/.exec(Os):void 0);if(Rs&&(Ns=Rs?Rs[1]:""),Ts){var Ds=js();if(null!=Ds&&Ds>parseFloat(Ns)){Es=String(Ds);break t}}Es=Ns}var Ps={};function Ls(t){return function(t,e){var n=Ps;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=ds(String(Es)).split("."),r=ds(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=vs(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||vs(0==a[2].length,0==s[2].length)||vs(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var Ms=Ya.document&&Ts&&(js()||parseInt(Es,10))||void 0,Fs=!Ts||9<=Number(Ms),Us=Ts&&!Ls("9"),Vs=function(){if(!Ya.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ya.addEventListener("test",Qa,e),Ya.removeEventListener("test",Qa,e)}catch(n){}return t}();function qs(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Bs(t,e){if(qs.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(xs){t:{try{ks(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Hs[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}qs.prototype.b=function(){this.defaultPrevented=!0},os(Bs,qs);var Hs={2:"touch",3:"pen",4:"mouse"};Bs.prototype.b=function(){Bs.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Us)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var zs="closure_listenable_"+(1e6*Math.random()|0),Gs=0;function Ks(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Gs,this.Y=this.Z=!1}function Ws(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Ys(t){this.src=t,this.a={},this.b=0}function Qs(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=ss(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ws(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Js(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Ys.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Js(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new Ks(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Xs="closure_lm_"+(1e6*Math.random()|0),Zs={};function $s(t,e,n,r,i){if(r&&r.once)return eu(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)$s(t,e[o],n,r,i);return null}return n=cu(n),t&&t[zs]?t.va(e,n,Xa(r)?!!r.capture:!!r,i):tu(t,e,n,!1,r,i)}function tu(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Xa(i)?!!i.capture:!!i;if(a&&!Fs)return null;var s=su(t);if(s||(t[Xs]=s=new Ys(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=au,e=Fs?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Vs||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(iu(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function eu(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)eu(t,e[o],n,r,i);return null}return n=cu(n),t&&t[zs]?t.wa(e,n,Xa(r)?!!r.capture:!!r,i):tu(t,e,n,!0,r,i)}function nu(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)nu(t,e[o],n,r,i);else r=Xa(r)?!!r.capture:!!r,n=cu(n),t&&t[zs]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Js(o=t.a[e],n,r,i))&&(Ws(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=su(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Js(e,n,r,i)),(n=-1<t?e[t]:null)&&ru(n))}function ru(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[zs])Qs(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(iu(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=su(e))?(Qs(n,t),0==n.b&&(n.src=null,e[Xs]=null)):Ws(t)}}}function iu(t){return t in Zs?Zs[t]:Zs[t]="on"+t}function ou(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ru(t),n.call(r,e)}function au(t,e){if(t.Y)return!0;if(!Fs){if(!e)t:{e=["window","event"];for(var n=Ya,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ou(t,e=new Bs(e,this))}return ou(t,new Bs(e,this))}function su(t){return(t=t[Xs])instanceof Ys?t:null}var uu="__closure_events_fn_"+(1e9*Math.random()>>>0);function cu(t){return"function"==typeof t?t:(t[uu]||(t[uu]=function(e){return t.handleEvent(e)}),t[uu])}function lu(){as.call(this),this.c=new Ys(this),this.J=this,this.C=null}function fu(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new qs(e,t);else if(e instanceof qs)e.target=e.target||t;else{var i=e;_s(e=new qs(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=hu(a,r,!0,e)&&i}if(i=hu(a=e.a=t,r,!0,e)&&i,i=hu(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=hu(a=e.a=n[o],r,!1,e)&&i}function hu(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&Qs(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}os(lu,as),lu.prototype[zs]=!0,(Ga=lu.prototype).addEventListener=function(t,e,n,r){$s(this,t,e,n,r)},Ga.removeEventListener=function(t,e,n,r){nu(this,t,e,n,r)},Ga.G=function(){if(lu.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ws(n[r]);delete e.a[t],e.b--}}this.C=null},Ga.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ga.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var du=Ya.JSON.stringify;function pu(){this.b=this.a=null}var vu,yu=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new mu},function(t){t.reset()});function gu(){var t=ku,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function mu(){this.next=this.b=this.a=null}function bu(t){Ya.setTimeout(function(){throw t},0)}function wu(t,e){vu||function(){var t=Ya.Promise.resolve(void 0);vu=function(){t.then(Eu)}}(),_u||(vu(),_u=!0),ku.add(t,e)}pu.prototype.add=function(t,e){var n=yu.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},mu.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},mu.prototype.reset=function(){this.next=this.b=this.a=null};var _u=!1,ku=new pu;function Eu(){for(var t;t=gu();){try{t.a.call(t.b)}catch(n){bu(n)}var e=yu;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}_u=!1}function Ou(t,e){lu.call(this),this.b=t||1,this.a=e||Ya,this.f=ns(this.Za,this),this.g=is()}function Su(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Tu(t,e,n){if("function"==typeof t)n&&(t=ns(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ns(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ya.setTimeout(t,e||0)}function Iu(t){t.a=Tu(function(){t.a=null,t.c&&(t.c=!1,Iu(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}os(Ou,lu),(Ga=Ou.prototype).aa=!1,Ga.M=null,Ga.Za=function(){if(this.aa){var t=is()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),fu(this,"tick"),this.aa&&(Su(this),this.start()))}},Ga.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=is())},Ga.G=function(){Ou.X.G.call(this),Su(this),delete this.a};var Cu=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Ha(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Iu(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ya.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(as);function xu(t){as.call(this),this.b=t,this.a={}}os(xu,as);var Au=[];function ju(t,e,n,r){Array.isArray(n)||(n&&(Au[0]=n.toString()),n=Au);for(var i=0;i<n.length;i++){var o=$s(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Nu(t){ms(t.a,function(t,e){this.a.hasOwnProperty(e)&&ru(t)},t),t.a={}}function Ru(){this.a=!0}function Du(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return du(n)}catch(s){return e}}(t,n)+(r?" "+r:"")})}xu.prototype.G=function(){xu.X.G.call(this),Nu(this)},xu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ru.prototype.info=function(){};var Pu={},Lu=null;function Mu(){return Lu=Lu||new lu}function Fu(t){qs.call(this,Pu.Fa,t)}function Uu(t){var e=Mu();fu(e,new Fu(e,t))}function Vu(t,e){qs.call(this,Pu.STAT_EVENT,t),this.stat=e}function qu(t){var e=Mu();fu(e,new Vu(e,t))}function Bu(t){qs.call(this,Pu.Ga,t)}function Hu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ya.setTimeout(function(){t()},e)}Pu.Fa="serverreachability",os(Fu,qs),Pu.STAT_EVENT="statevent",os(Vu,qs),Pu.Ga="timingevent",os(Bu,qs);var zu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Gu={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Ku(){}function Wu(){}Ku.prototype.a=null;var Yu,Qu={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ju(){qs.call(this,"d")}function Xu(){qs.call(this,"c")}function Zu(){}function $u(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new xu(this),this.P=tc,this.R=new Ou(t=Cs?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}os(Ju,qs),os(Xu,qs),os(Zu,Ku),Yu=new Zu;var tc=45e3,ec={},nc={};function rc(t,e,n){t.H=1,t.i=Sc(bc(e)),t.j=n,t.I=!0,ic(t,null)}function ic(t,e){t.u=is(),sc(t),t.l=bc(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Fc(n.b,"t",r),t.D=0,t.a=Nl(t.g,t.g.C?e:null),0<t.O&&(t.F=new Cu(ns(t.Ca,t,t.a),t.O)),ju(t.J,t.a,"readystatechange",t.Xa),e=t.B?bs(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Uu(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.c,t.m,t.l,t.f,t.S,t.j)}function oc(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ac(t,n);if(i==nc){4==e&&(t.h=4,qu(14),r=!1),Du(t.c,t.f,null,"[Incomplete Response]");break}if(i==ec){t.h=4,qu(15),Du(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Du(t.c,t.f,i,null),hc(t,i)}4==e&&0==n.length&&(t.h=1,qu(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ol(e),e.F=!0,qu(11))):(Du(t.c,t.f,n,"[Invalid Chunked Response]"),fc(t),lc(t))}function ac(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?nc:(n=Number(e.substring(n,r)),isNaN(n)?ec:(r+=1)+n>e.length?nc:(e=e.substr(r,n),t.D=r+n,e))}function sc(t){t.T=is()+t.P,uc(t,t.P)}function uc(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Hu(ns(t.Va,t),e)}function cc(t){t.o&&(Ya.clearTimeout(t.o),t.o=null)}function lc(t){0==t.g.v||t.A||Il(t.g,t)}function fc(t){cc(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Su(t.R),Nu(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function hc(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Gc(n.b,t)))if(n.I=t.N,!t.C&&Gc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(yw){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Tl(n),vl(n)}El(n),qu(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Hu(ns(n.Sa,n),6e3));if(1>=zc(n.b)&&n.ea){try{n.ea()}catch(yw){}n.ea=void 0}}else xl(n,11)}else if((t.C||n.a==t)&&Tl(n),!fs(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=u.b;!f.a&&(ps(l,"spdy")||ps(l,"quic")||ps(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(Kc(f,f.b),f.b=null))}if(u.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(u.na=h,Oc(u.B,u.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=is()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=jl(u,u.C?u.ga:null,u.fa),d.C){Wc(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(cc(p),sc(p)),u.a=d}else kl(u);0<n.g.length&&ml(n)}else"stop"!=i[0]&&"close"!=i[0]||xl(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?xl(n,7):pl(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Uu(4)}catch(yw){}}function dc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ja(t)||"string"==typeof t)us(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Ja(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Ja(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function pc(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof pc)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function vc(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];yc(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)yc(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function yc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ga=$u.prototype).setTimeout=function(t){this.P=t},Ga.Xa=function(t){t=t.target;var e=this.F;e&&3==ll(t)?e.f():this.Ca(t)},Ga.Ca=function(t){try{if(t==this.a)t:{var e=ll(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Cs&&!this.a.$())){this.A||4!=e||7==n||Uu(8==n||0>=r?3:2),cc(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fs(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,qu(12),fc(this),lc(this);break t}Du(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,hc(this,u)}this.I?(oc(this,e,o),Cs&&this.b&&3==e&&(ju(this.J,this.R,"tick",this.Wa),this.R.start())):(Du(this.c,this.f,o,null),hc(this,o)),4==e&&fc(this),this.b&&!this.A&&(4==e?Il(this.g,this):(this.b=!1,sc(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,qu(12)):(this.h=0,qu(13)),fc(this),lc(this)}}}catch(c){}},Ga.Wa=function(){if(this.a){var t=ll(this.a),e=this.a.$();this.D<e.length&&(cc(this),oc(this,t,e),this.b&&4!=t&&sc(this))}},Ga.cancel=function(){this.A=!0,fc(this)},Ga.Va=function(){this.o=null;var t=is();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Uu(3),qu(17)),fc(this),this.h=2,lc(this)):uc(this,this.T-t)},(Ga=pc.prototype).K=function(){vc(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ga.L=function(){return vc(this),this.a.concat()},Ga.get=function(t,e){return yc(this.b,t)?this.b[t]:e},Ga.set=function(t,e){yc(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ga.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var gc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mc(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof mc){this.a=void 0!==e?e:t.a,wc(this,t.f),this.j=t.j,_c(this,t.c),kc(this,t.h),this.g=t.g,e=t.b;var n=new Dc;n.c=e.c,e.a&&(n.a=new pc(e.a),n.b=e.b),Ec(this,n),this.i=t.i}else t&&(n=String(t).match(gc))?(this.a=!!e,wc(this,n[1]||"",!0),this.j=Tc(n[2]||""),_c(this,n[3]||"",!0),kc(this,n[4]),this.g=Tc(n[5]||"",!0),Ec(this,n[6]||"",!0),this.i=Tc(n[7]||"")):(this.a=!!e,this.b=new Dc(null,this.a))}function bc(t){return new mc(t)}function wc(t,e,n){t.f=n?Tc(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function _c(t,e,n){t.c=n?Tc(e,!0):e}function kc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ec(t,e,n){e instanceof Dc?(t.b=e,function(t,e){e&&!t.f&&(Pc(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Lc(this,e),Fc(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Ic(e,Nc)),t.b=new Dc(e,t.a))}function Oc(t,e,n){t.b.set(e,n)}function Sc(t){return Oc(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^is()).toString(36)),t}function Tc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ic(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Cc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Cc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}mc.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ic(e,xc,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ic(e,xc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ic(n,"/"==n.charAt(0)?jc:Ac,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ic(n,Rc)),t.join("")};var xc=/[#\/\?@]/g,Ac=/[#\?:]/g,jc=/[#\?]/g,Nc=/[#\?@]/g,Rc=/#/g;function Dc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Pc(t){t.a||(t.a=new pc,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Lc(t,e){Pc(t),e=Uc(t,e),yc(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,yc((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&vc(t)))}function Mc(t,e){return Pc(t),e=Uc(t,e),yc(t.a.b,e)}function Fc(t,e,n){Lc(t,e),0<n.length&&(t.c=null,t.a.set(Uc(t,e),ls(n)),t.b+=n.length)}function Uc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ga=Dc.prototype).add=function(t,e){Pc(this),this.c=null,t=Uc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ga.forEach=function(t,e){Pc(this),this.a.forEach(function(n,r){us(n,function(n){t.call(e,n,r,this)},this)},this)},Ga.L=function(){Pc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Ga.K=function(t){Pc(this);var e=[];if("string"==typeof t)Mc(this,t)&&(e=cs(e,this.a.get(Uc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=cs(e,t[n])}return e},Ga.set=function(t,e){return Pc(this),this.c=null,Mc(this,t=Uc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ga.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ga.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Vc=function(t,e){this.b=t,this.a=e};function qc(t){this.g=t||Bc,t=Ya.PerformanceNavigationTiming?0<(t=Ya.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ya.ia&&Ya.ia.ya&&Ya.ia.ya()&&Ya.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Bc=10;function Hc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function zc(t){return t.b?1:t.a?t.a.size:0}function Gc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Kc(t,e){t.a?t.a.add(e):t.b=e}function Wc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Yc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=za(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ls(t.c)}function Qc(){}function Jc(){this.a=new Qc}function Xc(t,e,n){var r=n||"";try{dc(t,function(t,n){var i=t;Xa(t)&&(i=du(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(r_){throw e.push(r+"type="+encodeURIComponent("_badmap")),r_}}function Zc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}qc.prototype.cancel=function(){var t,e;if(this.c=Yc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=za(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Qc.prototype.stringify=function(t){return Ya.JSON.stringify(t,void 0)},Qc.prototype.parse=function(t){return Ya.JSON.parse(t,void 0)};var $c=Ya.JSON.parse;function tl(t){lu.call(this),this.headers=new pc,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=el,this.D=this.F=!1}os(tl,lu);var el="",nl=/^https?$/i,rl=["POST","PUT"];function il(t){return"content-type"==t.toLowerCase()}function ol(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,al(t),ul(t)}function al(t){t.u||(t.u=!0,fu(t,"complete"),fu(t,"error"))}function sl(t){if(t.b&&void 0!==Wa&&(!t.s[1]||4!=ll(t)||2!=t.W()))if(t.l&&4==ll(t))Tu(t.za,0,t);else if(fu(t,"readystatechange"),4==ll(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(gc)[1]||null;if(!o&&Ya.self&&Ya.self.location){var a=Ya.self.location.protocol;o=a.substr(0,a.length-1)}i=!nl.test(o?o.toLowerCase():"")}e=i}if(e)fu(t,"complete"),fu(t,"success");else{t.h=6;try{var s=2<ll(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",al(t)}}finally{ul(t)}}}function ul(t,e){if(t.a){cl(t);var n=t.a,r=t.s[0]?Qa:null;t.a=null,t.s=null,e||fu(t,"ready");try{n.onreadystatechange=r}catch(r_){}}}function cl(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ya.clearTimeout(t.m),t.m=null)}function ll(t){return t.a?t.a.readyState:0}function fl(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ms(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Oc(t,e,n))}function hl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function dl(t){this.pa=0,this.g=[],this.c=new Ru,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=hl("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=hl("baseRetryDelayMs",5e3,t),this.Ra=hl("retryDelaySeedMs",1e4,t),this.Ma=hl("forwardChannelMaxRetries",2,t),this.ma=hl("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new qc(t&&t.concurrentRequestLimit),this.ka=new Jc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function pl(t){if(yl(t),3==t.v){var e=t.R++,n=bc(t.B);Oc(n,"SID",t.J),Oc(n,"RID",e),Oc(n,"TYPE","terminate"),wl(t,n),(e=new $u(t,t.c,e,void 0)).H=2,e.i=Sc(bc(n)),n=!1,Ya.navigator&&Ya.navigator.sendBeacon&&(n=Ya.navigator.sendBeacon(e.i.toString(),"")),!n&&Ya.Image&&((new Image).src=e.i,n=!0),n||(e.a=Nl(e.g,null),e.a.ba(e.i)),e.u=is(),sc(e)}Al(t)}function vl(t){t.a&&(Ol(t),t.a.cancel(),t.a=null)}function yl(t){vl(t),t.j&&(Ya.clearTimeout(t.j),t.j=null),Tl(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Ya.clearTimeout(t.h),t.h=null)}function gl(t,e){t.g.push(new Vc(t.Oa++,e)),3==t.v&&ml(t)}function ml(t){Hc(t.b)||t.h||(t.h=!0,wu(t.Ba,t),t.u=0)}function bl(t,e){var n;n=e?e.f:t.R++;var r=bc(t.B);Oc(r,"SID",t.J),Oc(r,"RID",n),Oc(r,"AID",t.P),wl(t,r),t.i&&t.l&&fl(r,t.i,t.l),n=new $u(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=_l(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Kc(t.b,n),rc(n,r,e)}function wl(t,e){t.f&&dc({},function(t,n){Oc(e,n,t)})}function _l(t,e,n){n=Math.min(t.g.length,n);var r=t.f?ns(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{Xc(l,a,"req"+c+"_")}catch(hf){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function kl(t){t.a||t.j||(t.T=1,wu(t.Aa,t),t.o=0)}function El(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Hu(ns(t.Aa,t),Cl(t,t.o)),t.o++,0))}function Ol(t){null!=t.s&&(Ya.clearTimeout(t.s),t.s=null)}function Sl(t){t.a=new $u(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=bc(t.la);Oc(e,"RID","rpc"),Oc(e,"SID",t.J),Oc(e,"CI",t.H?"0":"1"),Oc(e,"AID",t.P),wl(t,e),Oc(e,"TYPE","xmlhttp"),t.i&&t.l&&fl(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Sc(bc(e)),n.j=null,n.I=!0,ic(n,t)}function Tl(t){null!=t.m&&(Ya.clearTimeout(t.m),t.m=null)}function Il(t,e){var n=null;if(t.a==e){Tl(t),Ol(t),t.a=null;var r=2}else{if(!Gc(t.b,e))return;n=e.s,Wc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=is()-e.u;var i=t.u;fu(r=Mu(),new Bu(r,n,e,i)),ml(t)}else kl(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(zc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Hu(ns(t.Ba,t,e),Cl(t,t.u)),t.u++,0)))}(t,e)||2==r&&El(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:xl(t,5);break;case 4:xl(t,10);break;case 3:xl(t,6);break;default:xl(t,2)}}function Cl(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function xl(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=ns(t.Ya,t);n||(n=new mc("//www.google.com/images/cleardot.gif"),Ya.location&&"http"==Ya.location.protocol||wc(n,"https"),Sc(n)),function(t,e){var n=new Ru;if(Ya.Image){var r=new Image;r.onload=rs(Zc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=rs(Zc,n,r,"TestLoadImage: error",!1,e),r.onabort=rs(Zc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=rs(Zc,n,r,"TestLoadImage: timeout",!1,e),Ya.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else qu(2);t.v=0,t.f&&t.f.ra(e),Al(t),yl(t)}function Al(t){t.v=0,t.I=-1,t.f&&(0==Yc(t.b).length&&0==t.g.length||(t.b.c.length=0,ls(t.g),t.g.length=0),t.f.qa())}function jl(t,e,n){var r=function(t){return t instanceof mc?bc(t):new mc(t,void 0)}(n);if(""!=r.c)e&&_c(r,e+"."+r.c),kc(r,r.h);else{var i=Ya.location;r=function(t,e,n,r){var i=new mc(null,void 0);return t&&wc(i,t),e&&_c(i,e),n&&kc(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&ms(t.V,function(t,e){Oc(r,e,t)}),n=t.na,(e=t.A)&&n&&Oc(r,e,n),Oc(r,"VER",t.ha),wl(t,r),r}function Nl(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tl(t.Na)).F=t.C,e}function Rl(){}function Dl(){if(Ts&&!(10<=Number(Ms)))throw Error("Environmental error: no available transport.")}function Pl(t,e){lu.call(this),this.a=new dl(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!fs(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fs(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Fl(this)}function Ll(t){Ju.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ml(){Xu.call(this),this.status=1}function Fl(t){this.a=t}(Ga=tl.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Yu),this.a.onreadystatechange=ns(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void ol(this,o)}t=n||"";var i=new pc(this.headers);r&&dc(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=il,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Ya.FormData&&t instanceof Ya.FormData,!(0<=ss(rl,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{cl(this),0<this.o&&((this.D=function(t){return Ts&&Ls(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ns(this.xa,this)):this.m=Tu(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){ol(this,o)}},Ga.xa=function(){void 0!==Wa&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,fu(this,"timeout"),this.abort(8))},Ga.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,fu(this,"complete"),fu(this,"abort"),ul(this))},Ga.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ul(this,!0)),tl.X.G.call(this)},Ga.za=function(){this.j||(this.A||this.l||this.g?sl(this):this.Ua())},Ga.Ua=function(){sl(this)},Ga.W=function(){try{return 2<ll(this)?this.a.status:-1}catch(Os){return-1}},Ga.$=function(){try{return this.a?this.a.responseText:""}catch(Os){return""}},Ga.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),$c(e)}},Ga.ua=function(){return this.h},Ga.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Ga=dl.prototype).ha=8,Ga.v=1,Ga.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new $u(this,this.c,t,void 0),r=this.l;if(this.O&&(r?_s(r=bs(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=_l(this,n,e),Oc(i=bc(this.B),"RID",t),Oc(i,"CVER",22),this.A&&Oc(i,"X-HTTP-Session-Id",this.A),wl(this,i),this.i&&r&&fl(i,this.i,r),Kc(this.b,n),this.Ia&&Oc(i,"TYPE","init"),this.da?(Oc(i,"$req",e),Oc(i,"SID","null"),n.U=!0,rc(n,i,null)):rc(n,i,e),this.v=2}}else 3==this.v&&(t?bl(this,t):0==this.g.length||Hc(this.b)||bl(this))},Ga.Aa=function(){if(this.j=null,Sl(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Hu(ns(this.Ta,this),t)}},Ga.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,qu(10),vl(this),Sl(this))},Ga.Sa=function(){null!=this.m&&(this.m=null,vl(this),El(this),qu(19))},Ga.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),qu(2)):(this.c.info("Failed to ping google.com"),qu(1))},(Ga=Rl.prototype).ta=function(){},Ga.sa=function(){},Ga.ra=function(){},Ga.qa=function(){},Ga.Ja=function(){},Dl.prototype.a=function(t,e){return new Pl(t,e)},os(Pl,lu),Pl.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;qu(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=jl(t,null,t.fa),ml(t)},Pl.prototype.close=function(){pl(this.a)},Pl.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,gl(this.a,e)}else this.l?((e={}).__data__=du(t),gl(this.a,e)):gl(this.a,t)},Pl.prototype.G=function(){this.a.f=null,delete this.f,pl(this.a),delete this.a,Pl.X.G.call(this)},os(Ll,Ju),os(Ml,Xu),os(Fl,Rl),Fl.prototype.ta=function(){fu(this.a,"a")},Fl.prototype.sa=function(t){fu(this.a,new Ll(t))},Fl.prototype.ra=function(t){fu(this.a,new Ml(t))},Fl.prototype.qa=function(){fu(this.a,"b")},Dl.prototype.createWebChannel=Dl.prototype.a,Pl.prototype.send=Pl.prototype.h,Pl.prototype.open=Pl.prototype.g,Pl.prototype.close=Pl.prototype.close,zu.NO_ERROR=0,zu.TIMEOUT=8,zu.HTTP_ERROR=6,Gu.COMPLETE="complete",Wu.EventType=Qu,Qu.OPEN="a",Qu.CLOSE="b",Qu.ERROR="c",Qu.MESSAGE="d",lu.prototype.listen=lu.prototype.va,tl.prototype.listenOnce=tl.prototype.wa,tl.prototype.getLastError=tl.prototype.Qa,tl.prototype.getLastErrorCode=tl.prototype.ua,tl.prototype.getStatus=tl.prototype.W,tl.prototype.getResponseJson=tl.prototype.Pa,tl.prototype.getResponseText=tl.prototype.$,tl.prototype.send=tl.prototype.ba;var Ul=zu,Vl=Gu,ql=Pu,Bl=Wu,Hl=tl,zl=o("mrSG"),Gl=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Gl.o=-1;var Kl=new qa.b("@firebase/firestore");function Wl(){return Kl.logLevel}function Yl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Kl.logLevel<=qa.a.DEBUG){var r=e.map(Xl);Kl.debug.apply(Kl,Object(zl.f)(["Firestore (8.3.1): "+t],r))}}function Ql(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Kl.logLevel<=qa.a.ERROR){var r=e.map(Xl);Kl.error.apply(Kl,Object(zl.f)(["Firestore (8.3.1): "+t],r))}}function Jl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Kl.logLevel<=qa.a.WARN){var r=e.map(Xl);Kl.warn.apply(Kl,Object(zl.f)(["Firestore (8.3.1): "+t],r))}}function Xl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(r_){return t}}function Zl(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+t;throw Ql(e),new Error(e)}function $l(t,e){t||Zl()}function tf(t,e){return t}function ef(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var nf=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=ef(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function rf(t,e){return t<e?-1:t>e?1:0}function of(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function af(t){return t+"\0"}function sf(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uf(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cf(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lf(t){return null==t}function ff(t){return 0===t&&1/t==-1/0}function hf(t){return"number"==typeof t&&Number.isInteger(t)&&!ff(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var df={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},pf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(zl.c)(e,t),e}(Error),vf=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Zl(),void 0===n?n=t.length-e:n>t.length-e&&Zl(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),yf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zl.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new pf(df.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(vf),gf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,mf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zl.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return gf.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new pf(df.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new pf(df.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new pf(df.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new pf(df.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(vf),bf=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(yf.fromString(e))},t.fromName=function(e){return new t(yf.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===yf.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return yf.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new yf(e.slice()))},t}(),wf=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return rf(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();wf.EMPTY_BYTE_STRING=new wf("");var _f=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kf(t){if($l(!!t),"string"==typeof t){var e=0,n=_f.exec(t);if($l(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ef(t.seconds),nanos:Ef(t.nanos)}}function Ef(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Of(t){return"string"==typeof t?wf.fromBase64String(t):wf.fromUint8Array(t)}var Sf=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new pf(df.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new pf(df.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new pf(df.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pf(df.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?rf(this.nanoseconds,t.nanoseconds):rf(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}();function Tf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function If(t){var e=t.mapValue.fields.__previous_value__;return Tf(e)?If(e):e}function Cf(t){var e=kf(t.mapValue.fields.__local_write_time__.timestampValue);return new Sf(e.seconds,e.nanos)}function xf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tf(t)?4:10:Zl()}function Af(t,e){var n=xf(t);if(n!==xf(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cf(t).isEqual(Cf(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=kf(t.timestampValue),r=kf(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Of(t.bytesValue).isEqual(Of(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ef(t.geoPointValue.latitude)===Ef(e.geoPointValue.latitude)&&Ef(t.geoPointValue.longitude)===Ef(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ef(t.integerValue)===Ef(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ef(t.doubleValue),r=Ef(e.doubleValue);return n===r?ff(n)===ff(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return of(t.arrayValue.values||[],e.arrayValue.values||[],Af);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(sf(n)!==sf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Af(n[i],r[i])))return!1;return!0}(t,e);default:return Zl()}}function jf(t,e){return void 0!==(t.values||[]).find(function(t){return Af(t,e)})}function Nf(t,e){var n=xf(t),r=xf(e);if(n!==r)return rf(n,r);switch(n){case 0:return 0;case 1:return rf(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ef(t.integerValue||t.doubleValue),r=Ef(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Rf(t.timestampValue,e.timestampValue);case 4:return Rf(Cf(t),Cf(e));case 5:return rf(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Of(t),r=Of(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=rf(n[i],r[i]);if(0!==o)return o}return rf(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=rf(Ef(t.latitude),Ef(e.latitude));return 0!==n?n:rf(Ef(t.longitude),Ef(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Nf(n[i],r[i]);if(o)return o}return rf(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=rf(r[a],o[a]);if(0!==s)return s;var u=Nf(n[r[a]],i[o[a]]);if(0!==u)return u}return rf(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Zl()}}function Rf(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return rf(t,e);var n=kf(t),r=kf(e),i=rf(n.seconds,r.seconds);return 0!==i?i:rf(n.nanos,r.nanos)}function Df(t){return Pf(t)}function Pf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=kf(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Of(t.bytesValue).toBase64():"referenceValue"in t?bf.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Pf(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Pf(t.fields[o])}return e+"}"}(t.mapValue):Zl();var e}function Lf(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Mf(t){return!!t&&"integerValue"in t}function Ff(t){return!!t&&"arrayValue"in t}function Uf(t){return!!t&&"nullValue"in t}function Vf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qf(t){return!!t&&"mapValue"in t}var Bf=function(t,e){this.key=t,this.version=e},Hf=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).objectValue=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(zl.c)(e,t),e.prototype.field=function(t){return this.objectValue.field(t)},e.prototype.data=function(){return this.objectValue},e.prototype.toProto=function(){return this.objectValue.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.objectValue.isEqual(t.objectValue)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Bf),zf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(zl.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Bf),Gf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zl.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Bf),Kf=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Wf(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Kf(t,e,n,r,i,o,a)}function Yf(t){var e=tf(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Df(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=sh(e.startAt)),e.endAt&&(n+="|ub:",n+=sh(e.endAt)),e.h=n}return e.h}function Qf(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!ch(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Af(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fh(t.startAt,e.startAt)&&fh(t.endAt,e.endAt)}function Jf(t){return bf.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Xf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(zl.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Zf(t,n,r):"array-contains"===n?new nh(t,r):"in"===n?new rh(t,r):"not-in"===n?new ih(t,r):"array-contains-any"===n?new oh(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new $f(t,n):new th(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.m(Nf(e,this.value)):null!==e&&xf(this.value)===xf(e)&&this.m(Nf(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Zl()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Zf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=bf.fromName(r.referenceValue),i}return Object(zl.c)(e,t),e.prototype.matches=function(t){var e=bf.comparator(t.key,this.key);return this.m(e)},e}(Xf),$f=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=eh(0,n),r}return Object(zl.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Xf),th=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=eh(0,n),r}return Object(zl.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Xf);function eh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return bf.fromName(t.referenceValue)})}var nh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(zl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Ff(e)&&jf(e.arrayValue,this.value)},e}(Xf),rh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(zl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&jf(this.value.arrayValue,e)},e}(Xf),ih=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(zl.c)(e,t),e.prototype.matches=function(t){if(jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!jf(this.value.arrayValue,e)},e}(Xf),oh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(zl.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Ff(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return jf(e.value.arrayValue,t)})},e}(Xf),ah=function(t,e){this.position=t,this.before=e};function sh(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Df(t)}).join(",")}var uh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ch(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function lh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?bf.comparator(bf.fromName(a.referenceValue),n.key):Nf(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function fh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Af(t.position[n],e.position[n]))return!1;return!0}var hh=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function dh(t,e,n,r,i,o,a,s){return new hh(t,e,n,r,i,o,a,s)}function ph(t){return new hh(t)}function vh(t){return!lf(t.limit)&&"F"===t.limitType}function yh(t){return!lf(t.limit)&&"L"===t.limitType}function gh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function mh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function bh(t){return null!==t.collectionGroup}function wh(t){var e=tf(t);if(null===e.p){e.p=[];var n=mh(e),r=gh(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new uh(n)),e.p.push(new uh(mf.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new uh(mf.keyField(),u))}}}return e.p}function _h(t){var e=tf(t);if(!e.T)if("F"===e.limitType)e.T=Wf(e.path,e.collectionGroup,wh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=wh(e);r<i.length;r++){var o=i[r];n.push(new uh(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new ah(e.endAt.position,!e.endAt.before):null,s=e.startAt?new ah(e.startAt.position,!e.startAt.before):null;e.T=Wf(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.T}function kh(t,e,n){return new hh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Eh(t,e){return Qf(_h(t),_h(e))&&t.limitType===e.limitType}function Oh(t){return Yf(_h(t))+"|lt:"+t.limitType}function Sh(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Df(e.value);var e}).join(", ")+"]"),lf(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+sh(t.startAt)),t.endAt&&(e+=", endAt: "+sh(t.endAt)),"Target("+e+")"}(_h(t))+"; limitType="+t.limitType+")"}function Th(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):bf.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!lh(t.startAt,wh(t),e)||t.endAt&&lh(t.endAt,wh(t),e))}(t,e)}function Ih(t){return function(e,n){for(var r=!1,i=0,o=wh(t);i<o.length;i++){var a=o[i],s=Ch(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Ch(t,e,n){var r=t.field.isKeyField()?bf.comparator(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Nf(r,i):Zl()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Zl()}}var xh=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Sf(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}(),Ah=function(){function t(t){this.fields=t,t.sort(mf.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return of(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),jh=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!qf(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.isEqual=function(t){return Af(this.proto,t.proto)},t}(),Nh=function(){function t(t){void 0===t&&(t=jh.empty()),this.I=t,this.A=new Map}return t.prototype.set=function(t,e){return this.R(t,e),this},t.prototype.delete=function(t){return this.R(t,null),this},t.prototype.R=function(t,e){for(var n=this.A,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===xf(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.v=function(){var t=this.P(mf.emptyPath(),this.A);return null!=t?new jh(t):this.I},t.prototype.P=function(t,e){var n=this,r=!1,i=this.I.field(t),o=qf(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var a=n.P(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Rh(t){var e=[];return uf(t.fields||{},function(t,n){var r=new mf([t]);if(qf(n)){var i=Rh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)}),new Ah(e)}function Dh(t,e){if(t.V){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ff(e)?"-0":e}}function Ph(t){return{integerValue:""+t}}function Lh(t,e){return hf(e)?Ph(e):Dh(t,e)}var Mh=function(){this._=void 0};function Fh(t,e,n){return t instanceof qh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Bh?Hh(t,e):t instanceof zh?Gh(t,e):function(t,e){var n=Vh(t,e),r=Wh(n)+Wh(t.S);return Mf(n)&&Mf(t.S)?Ph(r):Dh(t.D,r)}(t,e)}function Uh(t,e,n){return t instanceof Bh?Hh(t,e):t instanceof zh?Gh(t,e):n}function Vh(t,e){return t instanceof Kh?Mf(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var qh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zl.c)(e,t),e}(Mh),Bh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(zl.c)(e,t),e}(Mh);function Hh(t,e){for(var n=Yh(e),r=function(t){n.some(function(e){return Af(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var zh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(zl.c)(e,t),e}(Mh);function Gh(t,e){for(var n=Yh(e),r=function(t){n=n.filter(function(e){return!Af(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Kh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).D=e,r.S=n,r}return Object(zl.c)(e,t),e}(Mh);function Wh(t){return Ef(t.integerValue||t.doubleValue)}function Yh(t){return Ff(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Qh=function(t,e){this.field=t,this.transform=e},Jh=function(t,e){this.version=t,this.transformResults=e},Xh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Zh(t,e){return void 0!==t.updateTime?e instanceof Hf&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Hf}var $h=function(){};function td(t,e,n){return t instanceof od?function(t,e,n){var r=t.value,i=ud(t.fieldTransforms,e,n.transformResults);return r=ld(t.fieldTransforms,r,i),new Hf(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof ad?function(t,e,n){if(!Zh(t.precondition,e))return new Gf(t.key,n.version);var r=sd(t,e,ud(t.fieldTransforms,e,n.transformResults));return new Hf(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new zf(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function ed(t,e,n){return t instanceof od?function(t,e,n){if(!Zh(t.precondition,e))return e;var r=t.value,i=cd(t.fieldTransforms,n,e);r=ld(t.fieldTransforms,r,i);var o=id(e);return new Hf(t.key,o,r,{hasLocalMutations:!0})}(t,e,n):t instanceof ad?function(t,e,n){if(!Zh(t.precondition,e))return e;var r=id(e),i=sd(t,e,cd(t.fieldTransforms,n,e));return new Hf(t.key,r,i,{hasLocalMutations:!0})}(t,e,n):function(t,e){return Zh(t.precondition,e)?new zf(t.key,xh.min()):e}(t,e)}function nd(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],a=e instanceof Hf?e.field(o.field):void 0,s=Vh(o.transform,a||null);null!=s&&(n=null==n?(new Nh).set(o.field,s):n.set(o.field,s))}return n?n.v():null}(t.fieldTransforms,e)}function rd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&of(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Bh&&e instanceof Bh||t instanceof zh&&e instanceof zh?of(t.elements,e.elements,Af):t instanceof Kh&&e instanceof Kh?Af(t.S,e.S):t instanceof qh&&e instanceof qh}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function id(t){return t instanceof Hf?t.version:xh.min()}var od=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(zl.c)(e,t),e}($h),ad=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Object(zl.c)(e,t),e}($h);function sd(t,e,n){var r;return r=function(t,e){var n=new Nh(e);return t.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.v()}(t,r=e instanceof Hf?e.data():jh.empty()),ld(t.fieldTransforms,r,n)}function ud(t,e,n){var r=[];$l(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof Hf&&(s=e.field(o.field)),r.push(Uh(a,s,n[i]))}return r}function cd(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=null;n instanceof Hf&&(u=n.field(a.field)),r.push(Fh(s,u,e))}return r}function ld(t,e,n){for(var r=new Nh(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.v()}var fd,hd,dd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(zl.c)(e,t),e}($h),pd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(zl.c)(e,t),e}($h),vd=function(t){this.count=t};function yd(t){switch(t){case df.OK:return Zl();case df.CANCELLED:case df.UNKNOWN:case df.DEADLINE_EXCEEDED:case df.RESOURCE_EXHAUSTED:case df.INTERNAL:case df.UNAVAILABLE:case df.UNAUTHENTICATED:return!1;case df.INVALID_ARGUMENT:case df.NOT_FOUND:case df.ALREADY_EXISTS:case df.PERMISSION_DENIED:case df.FAILED_PRECONDITION:case df.ABORTED:case df.OUT_OF_RANGE:case df.UNIMPLEMENTED:case df.DATA_LOSS:return!0;default:return Zl()}}function gd(t){if(void 0===t)return Ql("GRPC error has no .code"),df.UNKNOWN;switch(t){case fd.OK:return df.OK;case fd.CANCELLED:return df.CANCELLED;case fd.UNKNOWN:return df.UNKNOWN;case fd.DEADLINE_EXCEEDED:return df.DEADLINE_EXCEEDED;case fd.RESOURCE_EXHAUSTED:return df.RESOURCE_EXHAUSTED;case fd.INTERNAL:return df.INTERNAL;case fd.UNAVAILABLE:return df.UNAVAILABLE;case fd.UNAUTHENTICATED:return df.UNAUTHENTICATED;case fd.INVALID_ARGUMENT:return df.INVALID_ARGUMENT;case fd.NOT_FOUND:return df.NOT_FOUND;case fd.ALREADY_EXISTS:return df.ALREADY_EXISTS;case fd.PERMISSION_DENIED:return df.PERMISSION_DENIED;case fd.FAILED_PRECONDITION:return df.FAILED_PRECONDITION;case fd.ABORTED:return df.ABORTED;case fd.OUT_OF_RANGE:return df.OUT_OF_RANGE;case fd.UNIMPLEMENTED:return df.UNIMPLEMENTED;case fd.DATA_LOSS:return df.DATA_LOSS;default:return Zl()}}(hd=fd||(fd={}))[hd.OK=0]="OK",hd[hd.CANCELLED=1]="CANCELLED",hd[hd.UNKNOWN=2]="UNKNOWN",hd[hd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hd[hd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hd[hd.NOT_FOUND=5]="NOT_FOUND",hd[hd.ALREADY_EXISTS=6]="ALREADY_EXISTS",hd[hd.PERMISSION_DENIED=7]="PERMISSION_DENIED",hd[hd.UNAUTHENTICATED=16]="UNAUTHENTICATED",hd[hd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hd[hd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hd[hd.ABORTED=10]="ABORTED",hd[hd.OUT_OF_RANGE=11]="OUT_OF_RANGE",hd[hd.UNIMPLEMENTED=12]="UNIMPLEMENTED",hd[hd.INTERNAL=13]="INTERNAL",hd[hd.UNAVAILABLE=14]="UNAVAILABLE",hd[hd.DATA_LOSS=15]="DATA_LOSS";var md=function(){function t(t,e){this.comparator=t,this.root=e||wd.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wd.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wd.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new bd(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new bd(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new bd(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new bd(this.root,t,this.comparator,!0)},t}(),bd=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),wd=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Zl();if(this.right.isRed())throw Zl();var t=this.left.check();if(t!==this.right.check())throw Zl();return t+(this.isRed()?0:1)},t}();wd.EMPTY=null,wd.RED=!0,wd.BLACK=!1,wd.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Zl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Zl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Zl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Zl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Zl()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new wd(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var _d=function(){function t(t){this.comparator=t,this.data=new md(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new kd(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new kd(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),kd=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Ed=new md(bf.comparator);function Od(){return Ed}function Sd(){return Od()}var Td=new md(bf.comparator);function Id(){return Td}var Cd=new md(bf.comparator);function xd(){return Cd}var Ad=new _d(bf.comparator);function jd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ad,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Nd=new _d(rf);function Rd(){return Nd}var Dd=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Pd.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(xh.min(),r,Rd(),Od(),jd())},t}(),Pd=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(wf.EMPTY_BYTE_STRING,n,jd(),jd(),jd())},t}(),Ld=function(t,e,n,r){this.C=t,this.removedTargetIds=e,this.key=n,this.N=r},Md=function(t,e){this.targetId=t,this.$=e},Fd=function(t,e,n,r){void 0===n&&(n=wf.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ud=function(){function t(){this.F=0,this.O=Bd(),this.k=wf.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),t.prototype.U=function(t){t.approximateByteSize()>0&&(this.L=!0,this.k=t)},t.prototype.K=function(){var t=jd(),e=jd(),n=jd();return this.O.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Zl()}}),new Pd(this.k,this.M,t,e,n)},t.prototype.W=function(){this.L=!1,this.O=Bd()},t.prototype.j=function(t,e){this.L=!0,this.O=this.O.insert(t,e)},t.prototype.G=function(t){this.L=!0,this.O=this.O.remove(t)},t.prototype.H=function(){this.F+=1},t.prototype.J=function(){this.F-=1},t.prototype.Y=function(){this.L=!0,this.M=!0},t}(),Vd=function(){function t(t){this.X=t,this.Z=new Map,this.tt=Od(),this.et=qd(),this.nt=new _d(rf)}return t.prototype.st=function(t){for(var e=0,n=t.C;e<n.length;e++){var r=n[e];t.N instanceof Hf?this.it(r,t.N):t.N instanceof zf&&this.rt(r,t.key,t.N)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.rt(r=o[i],t.key,t.N)},t.prototype.ot=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ct(n);switch(t.state){case 0:e.at(n)&&r.U(t.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(t.resumeToken);break;case 2:r.J(),r.B||e.removeTarget(n);break;case 3:e.at(n)&&(r.Y(),r.U(t.resumeToken));break;case 4:e.at(n)&&(e.ut(n),r.U(t.resumeToken));break;default:Zl()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Z.forEach(function(t,r){n.at(r)&&e(r)})},t.prototype.ht=function(t){var e=t.targetId,n=t.$.count,r=this.lt(e);if(r){var i=r.target;if(Jf(i))if(0===n){var o=new bf(i.path);this.rt(e,o,new zf(o,xh.min()))}else $l(1===n);else this.ft(e)!==n&&(this.ut(e),this.nt=this.nt.add(e))}},t.prototype.dt=function(t){var e=this,n=new Map;this.Z.forEach(function(r,i){var o=e.lt(i);if(o){if(r.current&&Jf(o.target)){var a=new bf(o.target.path);null!==e.tt.get(a)||e.wt(i,a)||e.rt(i,a,new zf(a,t))}r.q&&(n.set(i,r.K()),r.W())}});var r=jd();this.et.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.lt(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Dd(t,n,this.nt,this.tt,r);return this.tt=Od(),this.et=qd(),this.nt=new _d(rf),i},t.prototype.it=function(t,e){if(this.at(t)){var n=this.wt(t,e.key)?2:0;this.ct(t).j(e.key,n),this.tt=this.tt.insert(e.key,e),this.et=this.et.insert(e.key,this._t(e.key).add(t))}},t.prototype.rt=function(t,e,n){if(this.at(t)){var r=this.ct(t);this.wt(t,e)?r.j(e,1):r.G(e),this.et=this.et.insert(e,this._t(e).delete(t)),n&&(this.tt=this.tt.insert(e,n))}},t.prototype.removeTarget=function(t){this.Z.delete(t)},t.prototype.ft=function(t){var e=this.ct(t).K();return this.X.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.H=function(t){this.ct(t).H()},t.prototype.ct=function(t){var e=this.Z.get(t);return e||(e=new Ud,this.Z.set(t,e)),e},t.prototype._t=function(t){var e=this.et.get(t);return e||(e=new _d(rf),this.et=this.et.insert(t,e)),e},t.prototype.at=function(t){var e=null!==this.lt(t);return e||Yl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.lt=function(t){var e=this.Z.get(t);return e&&e.B?null:this.X.yt(t)},t.prototype.ut=function(t){var e=this;this.Z.set(t,new Ud),this.X.getRemoteKeysForTarget(t).forEach(function(n){e.rt(t,n,null)})},t.prototype.wt=function(t,e){return this.X.getRemoteKeysForTarget(t).has(e)},t}();function qd(){return new md(bf.comparator)}function Bd(){return new md(bf.comparator)}var Hd={asc:"ASCENDING",desc:"DESCENDING"},zd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gd=function(t,e){this.databaseId=t,this.V=e};function Kd(t,e){return t.V?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wd(t,e){return t.V?e.toBase64():e.toUint8Array()}function Yd(t,e){return Kd(t,e.toTimestamp())}function Qd(t){return $l(!!t),xh.fromTimestamp(function(t){var e=kf(t);return new Sf(e.seconds,e.nanos)}(t))}function Jd(t,e){return function(t){return new yf(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Xd(t){var e=yf.fromString(t);return $l(_p(e)),e}function Zd(t,e){return Jd(t.databaseId,e.path)}function $d(t,e){var n=Xd(e);if(n.get(1)!==t.databaseId.projectId)throw new pf(df.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pf(df.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new bf(rp(n))}function tp(t,e){return Jd(t.databaseId,e)}function ep(t){var e=Xd(t);return 4===e.length?yf.emptyPath():rp(e)}function np(t){return new yf(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rp(t){return $l(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ip(t,e,n){return{name:Zd(t,e),fields:n.proto.mapValue.fields}}function op(t,e,n){var r=$d(t,e.name),i=Qd(e.updateTime),o=new jh({mapValue:{fields:e.fields}});return new Hf(r,i,o,{hasCommittedMutations:!!n})}function ap(t,e){var n;if(e instanceof od)n={update:ip(t,e.key,e.value)};else if(e instanceof dd)n={delete:Zd(t,e.key)};else if(e instanceof ad)n={update:ip(t,e.key,e.data),updateMask:wp(e.fieldMask)};else{if(!(e instanceof pd))return Zl();n={verify:Zd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof qh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Bh)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof zh)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Kh)return{fieldPath:e.field.canonicalString(),increment:n.S};throw Zl()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Yd(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Zl()}(t,e.precondition)),n}function sp(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Xh.updateTime(Qd(t.updateTime)):void 0!==t.exists?Xh.exists(t.exists):Xh.none()}(e.currentDocument):Xh.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?($l("REQUEST_TIME"===e.setToServerValue),n=new qh):"appendMissingElements"in e?n=new Bh(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new zh(e.removeAllFromArray.values||[]):"increment"in e?n=new Kh(t,e.increment):Zl();var r=mf.fromServerFormat(e.fieldPath);return new Qh(r,n)}(t,e)}):[];if(e.update){var i=$d(t,e.update.name),o=new jh({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new Ah((t.fieldPaths||[]).map(function(t){return mf.fromServerFormat(t)}))}(e.updateMask);return new ad(i,o,a,n,r)}return new od(i,o,n,r)}if(e.delete){var s=$d(t,e.delete);return new dd(s,n)}if(e.verify){var u=$d(t,e.verify);return new pd(u,n)}return Zl()}function up(t,e){return{documents:[tp(t,e.path)]}}function cp(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=tp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=tp(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Vf(t.value))return{unaryFilter:{field:yp(t.field),op:"IS_NAN"}};if(Uf(t.value))return{unaryFilter:{field:yp(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Vf(t.value))return{unaryFilter:{field:yp(t.field),op:"IS_NOT_NAN"}};if(Uf(t.value))return{unaryFilter:{field:yp(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yp(t.field),op:vp(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:yp(t.field),direction:pp(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.V||lf(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=hp(e.startAt)),e.endAt&&(n.structuredQuery.endAt=hp(e.endAt)),n}function lp(t){var e=ep(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){$l(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=fp(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(t){return function(t){return new uh(gp(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return lf(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=dp(n.startAt));var l=null;return n.endAt&&(l=dp(n.endAt)),dh(e,i,s,a,u,"F",c,l)}function fp(t){return t?void 0!==t.unaryFilter?[bp(t)]:void 0!==t.fieldFilter?[mp(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return fp(t)}).reduce(function(t,e){return t.concat(e)}):Zl():[]}function hp(t){return{before:t.before,values:t.position}}function dp(t){return new ah(t.values||[],!!t.before)}function pp(t){return Hd[t]}function vp(t){return zd[t]}function yp(t){return{fieldPath:t.canonicalString()}}function gp(t){return mf.fromServerFormat(t.fieldPath)}function mp(t){return Xf.create(gp(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Zl()}}(t.fieldFilter.op),t.fieldFilter.value)}function bp(t){switch(t.unaryFilter.op){case"IS_NAN":var e=gp(t.unaryFilter.field);return Xf.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=gp(t.unaryFilter.field);return Xf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=gp(t.unaryFilter.field);return Xf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=gp(t.unaryFilter.field);return Xf.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Zl()}}function wp(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function _p(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function kp(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Op(e)),e=Ep(t.get(n),e);return Op(e)}function Ep(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Op(t){return t+"\x01\x01"}function Sp(t){var e=t.length;if($l(e>=2),2===e)return $l("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),yf.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&Zl(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Zl()}o=a+2}return new yf(r)}var Tp=function(t,e){this.seconds=t,this.nanoseconds=e},Ip=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ip.store="owner",Ip.key="owner";var Cp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Cp.store="mutationQueues",Cp.keyPath="userId";var xp=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};xp.store="mutations",xp.keyPath="batchId",xp.userMutationsIndex="userMutationsIndex",xp.userMutationsKeyPath=["userId","batchId"];var Ap=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,kp(e)]},t.key=function(t,e,n){return[t,kp(e),n]},t}();Ap.store="documentMutations",Ap.PLACEHOLDER=new Ap;var jp=function(t,e){this.path=t,this.readTime=e},Np=function(t,e){this.path=t,this.version=e},Rp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Rp.store="remoteDocuments",Rp.readTimeIndex="readTimeIndex",Rp.readTimeIndexPath="readTime",Rp.collectionReadTimeIndex="collectionReadTimeIndex",Rp.collectionReadTimeIndexPath=["parentPath","readTime"];var Dp=function(t){this.byteSize=t};Dp.store="remoteDocumentGlobal",Dp.key="remoteDocumentGlobalKey";var Pp=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Pp.store="targets",Pp.keyPath="targetId",Pp.queryTargetsIndexName="queryTargetsIndex",Pp.queryTargetsKeyPath=["canonicalId","targetId"];var Lp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Lp.store="targetDocuments",Lp.keyPath=["targetId","path"],Lp.documentTargetsIndex="documentTargetsIndex",Lp.documentTargetsKeyPath=["path","targetId"];var Mp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Mp.key="targetGlobalKey",Mp.store="targetGlobal";var Fp=function(t,e){this.collectionId=t,this.parent=e};Fp.store="collectionParents",Fp.keyPath=["collectionId","parent"];var Up=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Up.store="clientMetadata",Up.keyPath="clientId";var Vp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Vp.store="bundles",Vp.keyPath="bundleId";var qp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};qp.store="namedQueries",qp.keyPath="name";var Bp=Object(zl.f)(Object(zl.f)([],Object(zl.f)(Object(zl.f)([],Object(zl.f)(Object(zl.f)([],Object(zl.f)(Object(zl.f)([],[Cp.store,xp.store,Ap.store,Rp.store,Pp.store,Ip.store,Mp.store,Lp.store]),[Up.store])),[Dp.store])),[Fp.store])),[Vp.store,qp.store]),Hp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",zp=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Gp=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Kp=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Zl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Wp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.gt=new Gp,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){e.error?n.gt.reject(new Jp(t,e.error)):n.gt.resolve()},this.transaction.onerror=function(e){var r=ev(e.target.error);n.gt.reject(new Jp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Jp(n,e)}},Object.defineProperty(t.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.gt.reject(t),this.aborted||(Yl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Zp(e)},t}(),Yp=function(){function t(e,n,r){this.name=e,this.version=n,this.Tt=r,12.2===t.It(Object(Ba.g)())&&Ql("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Yl("SimpleDb","Removing database:",t),$p(window.indexedDB.deleteDatabase(t)).toPromise()},t.At=function(){if("undefined"==typeof indexedDB)return!1;if(t.Rt())return!0;var e=Object(Ba.g)(),n=t.It(e),r=0<n&&n<10,i=t.bt(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Rt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.vt)},t.Pt=function(t,e){return t.store(e)},t.It=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.bt=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Vt=function(t){return Object(zl.b)(this,void 0,void 0,function(){var e,n=this;return Object(zl.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Yl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Jp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new pf(df.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Jp(t,n))},i.onupgradeneeded=function(t){Yl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Tt.St(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Yl("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(t){return n.Dt(t)}),this.db)]}})})},t.prototype.Ct=function(t){this.Dt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(zl.b)(this,void 0,void 0,function(){var i,o,a,s,u;return Object(zl.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return Object(zl.d)(this,function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.Vt(t)];case 2:return s.db=f.sent(),e=Wp.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch(function(t){return e.abort(t),Kp.reject(t)}).toPromise(),u={},a.catch(function(){}),[4,e.Et];case 3:return[2,(u.value=(f.sent(),a),u)];case 4:return Yl("SimpleDb","Transaction failed with error:",(c=f.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Qp=function(){function t(t){this.xt=t,this.Nt=!1,this.$t=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.xt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Nt=!0},t.prototype.Ot=function(t){this.$t=t},t.prototype.delete=function(){return $p(this.xt.delete())},t}(),Jp=function(t){function e(e,n){var r=this;return(r=t.call(this,df.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(zl.c)(e,t),e}(pf);function Xp(t){return"IndexedDbTransactionError"===t.name}var Zp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Yl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Yl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),$p(n)},t.prototype.add=function(t){return Yl("SimpleDb","ADD",this.store.name,t,t),$p(this.store.add(t))},t.prototype.get=function(t){var e=this;return $p(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Yl("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Yl("SimpleDb","DELETE",this.store.name,t),$p(this.store.delete(t))},t.prototype.count=function(){return Yl("SimpleDb","COUNT",this.store.name),$p(this.store.count())},t.prototype.kt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Mt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Lt=function(t,e){Yl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,function(t,e,n){return n.delete()})},t.prototype.qt=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Mt(r,e)},t.prototype.Ut=function(t){var e=this.cursor({});return new Kp(function(n,r){e.onerror=function(t){var e=ev(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.Mt=function(t,e){var n=[];return new Kp(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Qp(i),a=e(i.primaryKey,i.value,o);if(a instanceof Kp){var s=a.catch(function(t){return o.done(),Kp.reject(t)});n.push(s)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}else r()}}).next(function(){return Kp.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Bt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function $p(t){return new Kp(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ev(t.target.error);n(e)}})}var tv=!1;function ev(t){var e=Yp.It(Object(Ba.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new pf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return tv||(tv=!0,setTimeout(function(){throw r},0)),r}}return t}var nv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.currentSequenceNumber=n,r}return Object(zl.c)(e,t),e}(zp);function rv(t,e){var n=tf(t);return Yp.Pt(n.Qt,e)}var iv=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=td(o,e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=ed(a,e,this.localWriteTime));for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(t)&&(e=ed(a,e,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},jd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&of(this.mutations,t.mutations,function(t,e){return rd(t,e)})&&of(this.baseMutations,t.baseMutations,function(t,e){return rd(t,e)})},t}(),ov=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){$l(e.mutations.length===r.length);for(var i=xd(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),av=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=xh.min()),void 0===o&&(o=xh.min()),void 0===a&&(a=wf.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),sv=function(t){this.Kt=t};function uv(t,e){if(e.document)return op(t.Kt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=bf.fromSegments(e.noDocument.path),r=dv(e.noDocument.readTime);return new zf(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=bf.fromSegments(e.unknownDocument.path);return r=dv(e.unknownDocument.version),new Gf(i,r)}return Zl()}function cv(t,e,n){var r=lv(n),i=e.key.path.popLast().toArray();if(e instanceof Hf){var o=function(t,e){return{name:Zd(t,e.key),fields:e.toProto().mapValue.fields,updateTime:Kd(t,e.version.toTimestamp())}}(t.Kt,e),a=e.hasCommittedMutations;return new Rp(null,null,o,a,r,i)}if(e instanceof zf){var s=e.key.path.toArray(),u=hv(e.version);return a=e.hasCommittedMutations,new Rp(null,new jp(s,u),null,a,r,i)}if(e instanceof Gf){var c=e.key.path.toArray(),l=hv(e.version);return new Rp(new Np(c,l),null,null,!0,r,i)}return Zl()}function lv(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function fv(t){var e=new Sf(t[0],t[1]);return xh.fromTimestamp(e)}function hv(t){var e=t.toTimestamp();return new Tp(e.seconds,e.nanoseconds)}function dv(t){var e=new Sf(t.seconds,t.nanoseconds);return xh.fromTimestamp(e)}function pv(t,e){for(var n=(e.baseMutations||[]).map(function(e){return sp(t.Kt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return sp(t.Kt,e)}),o=Sf.fromMillis(e.localWriteTimeMs);return new iv(e.batchId,o,n,i)}function vv(t){var e,n,r=dv(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?dv(t.lastLimboFreeSnapshotVersion):xh.min();return void 0!==t.query.documents?($l(1===(n=t.query).documents.length),e=_h(ph(ep(n.documents[0])))):e=function(t){return _h(lp(t))}(t.query),new av(e,t.targetId,0,t.lastListenSequenceNumber,r,i,wf.fromBase64String(t.resumeToken))}function yv(t,e){var n,r=hv(e.snapshotVersion),i=hv(e.lastLimboFreeSnapshotVersion);n=Jf(e.target)?up(t.Kt,e.target):cp(t.Kt,e.target);var o=e.resumeToken.toBase64();return new Pp(e.targetId,Yf(e.target),r,o,e.sequenceNumber,i,n)}function gv(t){var e=lp({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?kh(e,e.limit,"L"):e}var mv=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return bv(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:dv(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return bv(t).put({bundleId:(n=e).id,createTime:hv(Qd(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return wv(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:gv(e.bundledQuery),readTime:dv(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return wv(t).put(function(t){return{name:t.name,readTime:hv(Qd(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function bv(t){return rv(t,Vp.store)}function wv(t){return rv(t,qp.store)}var _v=function(){function t(){this.Wt=new kv}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Wt.add(e),Kp.resolve()},t.prototype.getCollectionParents=function(t,e){return Kp.resolve(this.Wt.getEntries(e))},t}(),kv=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new _d(yf.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new _d(yf.comparator)).toArray()},t}(),Ev=function(){function t(){this.jt=new kv}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.jt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.jt.add(e)});var o={collectionId:r,parent:kp(i)};return Ov(t).put(o)}return Kp.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[af(e),""],!1,!0);return Ov(t).kt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Sp(o.parent))}return n})},t}();function Ov(t){return rv(t,Fp.store)}var Sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Tv=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Iv(t,e,n){var r=t.store(xp.store),i=t.store(Ap.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.qt({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){$l(1===s)}));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=Ap.key(e,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return Kp.waitFor(o).next(function(){return c})}function Cv(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Zl();e=t.noDocument}return JSON.stringify(e).length}Tv.DEFAULT_COLLECTION_PERCENTILE=10,Tv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tv.DEFAULT=new Tv(41943040,Tv.DEFAULT_COLLECTION_PERCENTILE,Tv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tv.DISABLED=new Tv(-1,0,0);var xv=function(){function t(t,e,n,r){this.userId=t,this.D=e,this.Gt=n,this.referenceDelegate=r,this.zt={}}return t.Ht=function(e,n,r,i){return $l(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jv(t).qt({index:xp.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Nv(t),a=jv(t);return a.add({}).next(function(s){$l("number"==typeof s);for(var u=new iv(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return ap(t.Kt,e)}),i=n.mutations.map(function(e){return ap(t.Kt,e)});return new xp(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,u),l=[],f=new _d(function(t,e){return rf(t.canonicalString(),e.canonicalString())}),h=0,d=r;h<d.length;h++){var p=d[h],v=Ap.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,Ap.PLACEHOLDER))}return f.forEach(function(e){l.push(i.Gt.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.zt[s]=u.keys()}),Kp.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return jv(t).get(e).next(function(t){return t?($l(t.userId===n.userId),pv(n.D,t)):null})},t.prototype.Jt=function(t,e){var n=this;return this.zt[e]?Kp.resolve(this.zt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.zt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return jv(t).qt({index:xp.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&($l(e.batchId>=r),o=pv(n.D,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return jv(t).qt({index:xp.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jv(t).kt(xp.userMutationsIndex,n).next(function(t){return t.map(function(t){return pv(e.D,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Ap.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Nv(t).qt({range:i},function(r,i,a){var s=r[0],u=r[2],c=Sp(r[1]);if(s===n.userId&&e.path.isEqual(c))return jv(t).get(u).next(function(t){if(!t)throw Zl();$l(t.userId===n.userId),o.push(pv(n.D,t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new _d(rf),i=[];return e.forEach(function(e){var o=Ap.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Nv(t).qt({range:a},function(t,i,o){var a=t[0],s=t[2],u=Sp(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()});i.push(s)}),Kp.waitFor(i).next(function(){return n.Yt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Ap.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new _d(rf);return Nv(t).qt({range:a},function(t,e,o){var a=t[0],u=t[2],c=Sp(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()}).next(function(){return n.Yt(t,s)})},t.prototype.Yt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(jv(t).get(e).next(function(t){if(null===t)throw Zl();$l(t.userId===n.userId),r.push(pv(n.D,t))}))}),Kp.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Iv(t.Qt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Xt(e.batchId)}),Kp.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Xt=function(t){delete this.zt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Kp.resolve();var r=IDBKeyRange.lowerBound(Ap.prefixForUser(e.userId)),i=[];return Nv(t).qt({range:r},function(t,n,r){if(t[0]===e.userId){var o=Sp(t[1]);i.push(o)}else r.done()}).next(function(){$l(0===i.length)})})},t.prototype.containsKey=function(t,e){return Av(t,this.userId,e)},t.prototype.Zt=function(t){var e=this;return Rv(t).get(this.userId).next(function(t){return t||new Cp(e.userId,-1,"")})},t}();function Av(t,e,n){var r=Ap.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Nv(t).qt({range:o,Bt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})}function jv(t){return rv(t,xp.store)}function Nv(t){return rv(t,Ap.store)}function Rv(t){return rv(t,Cp.store)}var Dv=function(){function t(t){this.te=t}return t.prototype.next=function(){return this.te+=2,this.te},t.ee=function(){return new t(0)},t.ne=function(){return new t(-1)},t}(),Pv=function(){function t(t,e){this.referenceDelegate=t,this.D=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.se(t).next(function(n){var r=new Dv(n.highestTargetId);return n.highestTargetId=r.next(),e.ie(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.se(t).next(function(t){return xh.fromTimestamp(new Sf(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.se(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.se(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.ie(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.re(t,e).next(function(){return n.se(t).next(function(r){return r.targetCount+=1,n.oe(e,r),n.ie(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.re(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Lv(t).delete(e.targetId)}).next(function(){return n.se(t)}).next(function(e){return $l(e.targetCount>0),e.targetCount-=1,n.ie(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Lv(t).qt(function(a,s){var u=vv(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Kp.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Lv(t).qt(function(t,n){var r=vv(n);e(r)})},t.prototype.se=function(t){return Mv(t).get(Mp.key).next(function(t){return $l(null!==t),t})},t.prototype.ie=function(t,e){return Mv(t).put(Mp.key,e)},t.prototype.re=function(t,e){return Lv(t).put(yv(this.D,e))},t.prototype.oe=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.se(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Yf(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Lv(t).qt({range:r,index:Pp.queryTargetsIndexName},function(t,n,r){var o=vv(n);Qf(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Fv(t);return e.forEach(function(e){var a=kp(e.path);i.push(o.put(new Lp(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))}),Kp.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Fv(t);return Kp.forEach(e,function(e){var o=kp(e.path);return Kp.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Fv(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Fv(t),i=jd();return r.qt({range:n,Bt:!0},function(t,e,n){var r=Sp(t[1]),o=new bf(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=kp(e.path),r=IDBKeyRange.bound([n],[af(n)],!1,!0),i=0;return Fv(t).qt({index:Lp.documentTargetsIndex,Bt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.yt=function(t,e){return Lv(t).get(e).next(function(t){return t?vv(t):null})},t}();function Lv(t){return rv(t,Pp.store)}function Mv(t){return rv(t,Mp.store)}function Fv(t){return rv(t,Lp.store)}function Uv(t){return Object(zl.b)(this,void 0,void 0,function(){return Object(zl.d)(this,function(e){if(t.code!==df.FAILED_PRECONDITION||t.message!==Hp)throw t;return Yl("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Vv(t,e){var n=t[1],r=e[1],i=rf(t[0],e[0]);return 0===i?rf(n,r):i}var qv=function(){function t(t){this.ce=t,this.buffer=new _d(Vv),this.ae=0}return t.prototype.ue=function(){return++this.ae},t.prototype.he=function(t){var e=[t,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Vv(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Bv=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.le=!1,this.fe=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(t)},t.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),t.prototype.de=function(t){var e=this,n=this.le?3e5:6e4;Yl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(zl.b)(e,void 0,void 0,function(){var e;return Object(zl.d)(this,function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Xp(e=n.sent())?(Yl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Uv(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(t)];case 8:return n.sent(),[2]}})})})},t}(),Hv=function(){function t(t,e){this.we=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.we._e(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Kp.resolve(Gl.o);var r=new qv(e);return this.we.forEachTarget(t,function(t){return r.he(t.sequenceNumber)}).next(function(){return n.we.me(t,function(t){return r.he(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.we.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.we.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Yl("LruGarbageCollector","Garbage collection skipped; disabled"),Kp.resolve(Sv)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Yl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Sv):n.ye(t,e)})},t.prototype.getCacheSize=function(t){return this.we.getCacheSize(t)},t.prototype.ye=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Yl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Wl()<=qa.a.DEBUG&&Yl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Kp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),zv=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Hv(t,e)}(this,e)}return t.prototype._e=function(t){var e=this.ge(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.ge=function(t){var e=0;return this.me(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.me=function(t,e){return this.pe(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Gv(t,n)},t.prototype.removeReference=function(t,e,n){return Gv(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Gv(t,e)},t.prototype.Ee=function(t,e){return function(t,e){var n=!1;return Rv(t).Ut(function(r){return Av(t,r,e).next(function(t){return t&&(n=!0),Kp.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.pe(t,function(a,s){if(s<=e){var u=n.Ee(t,a).next(function(e){if(!e)return o++,r.getEntry(t,a).next(function(){return r.removeEntry(a),Fv(t).delete([0,kp(a.path)])})});i.push(u)}}).next(function(){return Kp.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Gv(t,e)},t.prototype.pe=function(t,e){var n,r=Fv(t),i=Gl.o;return r.qt({index:Lp.documentTargetsIndex},function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==Gl.o&&e(new bf(Sp(n)),i),i=a,n=o):i=Gl.o}).next(function(){i!==Gl.o&&e(new bf(Sp(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Gv(t,e){return Fv(t).put(function(t,e){return new Lp(0,kp(t.path),e)}(e,t.currentSequenceNumber))}var Kv=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){uf(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return cf(this.inner)},t}(),Wv=function(){function t(){this.changes=new Kv(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:xh.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{maybeDocument:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{maybeDocument:null,readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Kp.resolve(n.maybeDocument):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Yv=function(){function t(t,e){this.D=t,this.Gt=e}return t.prototype.addEntry=function(t,e,n){return Xv(t).put(Zv(e),n)},t.prototype.removeEntry=function(t,e){var n=Xv(t),r=Zv(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Te(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Xv(t).get(Zv(e)).next(function(t){return n.Ie(t)})},t.prototype.Ae=function(t,e){var n=this;return Xv(t).get(Zv(e)).next(function(t){var e=n.Ie(t);return e?{maybeDocument:e,size:Cv(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Sd();return this.Re(t,e,function(t,e){var i=n.Ie(e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.be=function(t,e){var n=this,r=Sd(),i=new md(bf.comparator);return this.Re(t,e,function(t,e){var o=n.Ie(e);o?(r=r.insert(t,o),i=i.insert(t,Cv(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{ve:r,Pe:i}})},t.prototype.Re=function(t,e,n){if(e.isEmpty())return Kp.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Xv(t).qt({range:r},function(t,e,r){for(var a=bf.fromSegments(t);o&&bf.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ot(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Id(),o=e.path.length+1,a={};if(n.isEqual(xh.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=lv(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Rp.collectionReadTimeIndex}return Xv(t).qt(a,function(t,n,a){if(t.length===o){var s=uv(r.D,n);e.path.isPrefixOf(s.key.path)?s instanceof Hf&&Th(e,s)&&(i=i.insert(s.key,s)):a.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Qv(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Jv(t).get(Dp.key).next(function(t){return $l(!!t),t})},t.prototype.Te=function(t,e){return Jv(t).put(Dp.key,e)},t.prototype.Ie=function(t){if(t){var e=uv(this.D,t);return e instanceof zf&&e.version.isEqual(xh.min())?null:e}return null},t}(),Qv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ve=e,r.trackRemovals=n,r.Se=new Kv(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(zl.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new _d(function(t,e){return rf(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,a){var s=e.Se.get(o);if(a.maybeDocument){var u=cv(e.Ve.D,a.maybeDocument,e.getReadTime(o));i=i.add(o.path.popLast());var c=Cv(u);r+=c-s,n.push(e.Ve.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=cv(e.Ve.D,new zf(o,xh.min()),e.getReadTime(o));n.push(e.Ve.addEntry(t,o,l))}else n.push(e.Ve.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ve.Gt.addToCollectionParentIndex(t,r))}),n.push(this.Ve.updateMetadata(t,r)),Kp.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ve.Ae(t,e).next(function(t){return null===t?(n.Se.set(e,0),null):(n.Se.set(e,t.size),t.maybeDocument)})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ve.be(t,e).next(function(t){var e=t.ve;return t.Pe.forEach(function(t,e){n.Se.set(t,e)}),e})},e}(Wv);function Jv(t){return rv(t,Dp.store)}function Xv(t){return rv(t,Rp.store)}function Zv(t){return t.path.toArray()}var $v=function(){function t(t){this.D=t}return t.prototype.St=function(t,e,n,r){var i=this;$l(n<r&&n>=0&&r<=11);var o=new Wp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Ip.store)}(t),function(t){t.createObjectStore(Cp.store,{keyPath:Cp.keyPath}),t.createObjectStore(xp.store,{keyPath:xp.keyPath,autoIncrement:!0}).createIndex(xp.userMutationsIndex,xp.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ap.store)}(t),ty(t),function(t){t.createObjectStore(Rp.store)}(t));var a=Kp.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Lp.store),t.deleteObjectStore(Pp.store),t.deleteObjectStore(Mp.store)}(t),ty(t)),a=a.next(function(){return function(t){var e=t.store(Mp.store),n=new Mp(0,0,xh.min().toTimestamp(),0);return e.put(Mp.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(xp.store).kt().next(function(n){t.deleteObjectStore(xp.store),t.createObjectStore(xp.store,{keyPath:xp.keyPath,autoIncrement:!0}).createIndex(xp.userMutationsIndex,xp.userMutationsKeyPath,{unique:!0});var r=e.store(xp.store),i=n.map(function(t){return r.put(t)});return Kp.waitFor(i)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore(Up.store,{keyPath:Up.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return i.De(o)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(Dp.store)}(t),i.Ce(o)})),n<7&&r>=7&&(a=a.next(function(){return i.xe(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Ne(t,o)})),n<9&&r>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Rp.store);e.createIndex(Rp.readTimeIndex,Rp.readTimeIndexPath,{unique:!1}),e.createIndex(Rp.collectionReadTimeIndex,Rp.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(a=a.next(function(){return i.$e(o)})),n<11&&r>=11&&(a=a.next(function(){!function(t){t.createObjectStore(Vp.store,{keyPath:Vp.keyPath})}(t),function(t){t.createObjectStore(qp.store,{keyPath:qp.keyPath})}(t)})),a},t.prototype.Ce=function(t){var e=0;return t.store(Rp.store).qt(function(t,n){e+=Cv(n)}).next(function(){var n=new Dp(e);return t.store(Dp.store).put(Dp.key,n)})},t.prototype.De=function(t){var e=this,n=t.store(Cp.store),r=t.store(xp.store);return n.kt().next(function(n){return Kp.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(xp.userMutationsIndex,i).next(function(r){return Kp.forEach(r,function(r){$l(r.userId===n.userId);var i=pv(e.D,r);return Iv(t,n.userId,i).next(function(){})})})})})},t.prototype.xe=function(t){var e=t.store(Lp.store),n=t.store(Rp.store);return t.store(Mp.store).get(Mp.key).next(function(t){var r=[];return n.qt(function(n,i){var o=new yf(n),a=function(t){return[0,kp(t)]}(o);r.push(e.get(a).next(function(n){return n?Kp.resolve():function(n){return e.put(new Lp(0,kp(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Kp.waitFor(r)})})},t.prototype.Ne=function(t,e){t.createObjectStore(Fp.store,{keyPath:Fp.keyPath});var n=e.store(Fp.store),r=new kv,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:kp(i)})}};return e.store(Rp.store).qt({Bt:!0},function(t,e){var n=new yf(t);return i(n.popLast())}).next(function(){return e.store(Ap.store).qt({Bt:!0},function(t,e){var n=Sp(t[1]);return i(n.popLast())})})},t.prototype.$e=function(t){var e=this,n=t.store(Pp.store);return n.qt(function(t,r){var i=vv(r),o=yv(e.D,i);return n.put(o)})},t}();function ty(t){t.createObjectStore(Lp.store,{keyPath:Lp.keyPath}).createIndex(Lp.documentTargetsIndex,Lp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Pp.store,{keyPath:Pp.keyPath}).createIndex(Pp.queryTargetsIndexName,Pp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Mp.store)}var ey="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ny=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fe=o,this.window=a,this.document=s,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(t){return Promise.resolve()},!t.At())throw new pf(df.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zv(this,i),this.We=n+"main",this.D=new sv(u),this.je=new Yp(this.We,11,new $v(this.D)),this.Ge=new Pv(this.referenceDelegate,this.D),this.Gt=new Ev,this.ze=function(t,e){return new Yv(t,e)}(this.D,this.Gt),this.He=new mv,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&Ql("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Ye().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new pf(df.FAILED_PRECONDITION,ey);return t.Xe(),t.Ze(),t.tn(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Ge.getHighestSequenceNumber(e)})}).then(function(e){t.Me=new Gl(e,t.Oe)}).then(function(){t.Le=!0}).catch(function(e){return t.je&&t.je.close(),Promise.reject(e)})},t.prototype.en=function(t){var e=this;return this.Ke=function(n){return Object(zl.b)(e,void 0,void 0,function(){return Object(zl.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.je.Ct(function(n){return Object(zl.b)(e,void 0,void 0,function(){return Object(zl.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Fe.enqueueAndForget(function(){return Object(zl.b)(e,void 0,void 0,function(){return Object(zl.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Ye=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return iy(e).put(new Up(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.nn(e).next(function(e){e||(t.isPrimary=!1,t.Fe.enqueueRetryable(function(){return t.Ke(!1)}))})}).next(function(){return t.sn(e)}).next(function(n){return t.isPrimary&&!n?t.rn(e).next(function(){return!1}):!!n&&t.on(e).next(function(){return!0})})}).catch(function(e){if(Xp(e))return Yl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Yl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Fe.enqueueRetryable(function(){return t.Ke(e)}),t.isPrimary=e})},t.prototype.nn=function(t){var e=this;return ry(t).get(Ip.key).next(function(t){return Kp.resolve(e.cn(t))})},t.prototype.an=function(t){return iy(t).delete(this.clientId)},t.prototype.un=function(){return Object(zl.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(zl.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=rv(t,Up.store);return e.kt().next(function(t){var n=r.ln(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Kp.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Je)for(e=0,n=t;e<n.length;e++)this.Je.removeItem(this.fn(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.tn=function(){var t=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.Ye().then(function(){return t.un()}).then(function(){return t.tn()})})},t.prototype.cn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sn=function(t){var e=this;return this.ke?Kp.resolve(!0):ry(t).get(Ip.key).next(function(n){if(null!==n&&e.hn(n.leaseTimestampMs,5e3)&&!e.dn(n.ownerId)){if(e.cn(n)&&e.networkEnabled)return!0;if(!e.cn(n)){if(!n.allowTabSynchronization)throw new pf(df.FAILED_PRECONDITION,ey);return!1}}return!(!e.networkEnabled||!e.inForeground)||iy(t).kt().next(function(t){return void 0===e.ln(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Yl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(zl.b)(this,void 0,void 0,function(){var t=this;return Object(zl.d)(this,function(e){switch(e.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[Ip.store,Up.store],function(e){var n=new nv(e,Gl.o);return t.rn(n).next(function(){return t.an(n)})})];case 1:return e.sent(),this.je.close(),this.yn(),[2]}})})},t.prototype.ln=function(t,e){var n=this;return t.filter(function(t){return n.hn(t.updateTimeMs,e)&&!n.dn(t.clientId)})},t.prototype.gn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return iy(e).kt().next(function(e){return t.ln(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return xv.Ht(t,this.D,this.Gt,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Yl("IndexedDbPersistence","Starting transaction:",t),this.je.runTransaction(t,"readonly"===e?"readonly":"readwrite",Bp,function(o){return r=new nv(o,i.Me?i.Me.next():Gl.o),"readwrite-primary"===e?i.nn(r).next(function(t){return!!t||i.sn(r)}).next(function(e){if(!e)throw Ql("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Fe.enqueueRetryable(function(){return i.Ke(!1)}),new pf(df.FAILED_PRECONDITION,Hp);return n(r)}).next(function(t){return i.on(r).next(function(){return t})}):i.pn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.pn=function(t){var e=this;return ry(t).get(Ip.key).next(function(t){if(null!==t&&e.hn(t.leaseTimestampMs,5e3)&&!e.dn(t.ownerId)&&!e.cn(t)&&!(e.ke||e.allowTabSynchronization&&t.allowTabSynchronization))throw new pf(df.FAILED_PRECONDITION,ey)})},t.prototype.on=function(t){var e=new Ip(this.clientId,this.allowTabSynchronization,Date.now());return ry(t).put(Ip.key,e)},t.At=function(){return Yp.At()},t.prototype.rn=function(t){var e=this,n=ry(t);return n.get(Ip.key).next(function(t){return e.cn(t)?(Yl("IndexedDbPersistence","Releasing primary lease."),n.delete(Ip.key)):Kp.resolve()})},t.prototype.hn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Ql("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xe=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){t.Fe.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.Ye()})},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},t.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},t.prototype.Ze=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Be=function(){e.wn(),e.Fe.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Be))},t.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},t.prototype.dn=function(t){var e;try{var n=null!==(null===(e=this.Je)||void 0===e?void 0:e.getItem(this.fn(t)));return Yl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Ql("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(t){Ql("Failed to set zombie client id.",t)}},t.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(t){}},t.prototype.fn=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ry(t){return rv(t,Ip.store)}function iy(t){return rv(t,Up.store)}function oy(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var ay=function(t,e){this.progress=t,this.En=e},sy=function(){function t(t,e,n){this.ze=t,this.Tn=e,this.Gt=n}return t.prototype.In=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.An(t,e,r)})},t.prototype.An=function(t,e,n){return this.ze.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t})},t.prototype.Rn=function(t,e,n){var r=Sd();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.bn=function(t,e){var n=this;return this.ze.getEntries(t,e).next(function(e){return n.vn(t,e)})},t.prototype.vn=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.Rn(t,e,r),o=Od();return i.forEach(function(t,e){e||(e=new zf(t,xh.min())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return bf.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Pn(t,e.path):bh(e)?this.Vn(t,e,n):this.Sn(t,e,n)},t.prototype.Pn=function(t,e){return this.In(t,new bf(e)).next(function(t){var e=Id();return t instanceof Hf&&(e=e.insert(t.key,t)),e})},t.prototype.Vn=function(t,e,n){var r=this,i=e.collectionGroup,o=Id();return this.Gt.getCollectionParents(t,i).next(function(a){return Kp.forEach(a,function(a){var s=function(t,e){return new hh(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.Sn(t,s,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.Sn=function(t,e,n){var r,i,o=this;return this.ze.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o.Tn.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Dn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=ed(u,r.get(c),o.localWriteTime);r=l instanceof Hf?r.insert(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Th(e,n)||(r=r.remove(t))}),r})},t.prototype.Dn=function(t,e,n){for(var r=jd(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof ad&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ze.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Hf&&(c=c.insert(t,e))}),c})},t}(),uy=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Cn=n,this.xn=r}return t.Nn=function(e,n){for(var r=jd(),i=jd(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),cy=function(){function t(){}return t.prototype.$n=function(t){this.Fn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(xh.min())?this.On(t,e):this.Fn.bn(t,r).next(function(o){var a=i.kn(e,o);return(vh(e)||yh(e))&&i.Mn(e.limitType,a,r,n)?i.On(t,e):(Wl()<=qa.a.DEBUG&&Yl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Sh(e)),i.Fn.getDocumentsMatchingQuery(t,e,n).next(function(t){return a.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.kn=function(t,e){var n=new _d(Ih(t));return e.forEach(function(e,r){r instanceof Hf&&Th(t,r)&&(n=n.add(r))}),n},t.prototype.Mn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.On=function(t,e){return Wl()<=qa.a.DEBUG&&Yl("QueryEngine","Using full collection scan to execute query:",Sh(e)),this.Fn.getDocumentsMatchingQuery(t,e,xh.min())},t}(),ly=function(){function t(t,e,n,r){this.persistence=t,this.Ln=e,this.D=r,this.Bn=new md(rf),this.qn=new Kv(function(t){return Yf(t)},Qf),this.Un=xh.min(),this.Tn=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.Ge=t.getTargetCache(),this.Kn=new sy(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=t.getBundleCache(),this.Ln.$n(this.Kn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Bn)})},t}();function fy(t,e,n,r){return new ly(t,e,n,r)}function hy(t,e){return Object(zl.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(zl.d)(this,function(a){switch(a.label){case 0:return n=tf(t),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Tn.getAllMutationBatches(t).next(function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new sy(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],a=jd(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++)a=a.add(f[l].key)}for(var h=0,d=e;h<d.length;h++){var p=d[h];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return i.bn(t,a).next(function(t){return{Wn:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=a.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),o)]}})})}function dy(t,e){var n=tf(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Kp.resolve();return o.forEach(function(t){a=a.next(function(){return r.getEntry(e,t)}).next(function(e){var o=e,a=n.docVersions.get(t);$l(null!==a),(!o||o.version.compareTo(a)<0)&&(o=i.applyToRemoteDocument(t,o,n))&&r.addEntry(o,n.commitVersion)})}),a.next(function(){return t.Tn.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}function py(t){var e=tf(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Ge.getLastRemoteSnapshotVersion(t)})}function vy(t,e){var n=tf(t),r=e.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var a=[];e.targetChanges.forEach(function(e,o){var s=i.get(o);if(s){a.push(n.Ge.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.Ge.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return $l(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.Ge.updateTargetData(t,c))}}});var s=Od();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),a.push(yy(t,o,e.documentUpdates,r,void 0).next(function(t){s=t})),!r.isEqual(xh.min())){var u=n.Ge.getLastRemoteSnapshotVersion(t).next(function(e){return n.Ge.setTargetsMetadata(t,t.currentSequenceNumber,r)});a.push(u)}return Kp.waitFor(a).next(function(){return o.apply(t)}).next(function(){return n.Kn.vn(t,s)})}).then(function(t){return n.Bn=i,t})}function yy(t,e,n,r,i){var o=jd();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Od();return n.forEach(function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof zf&&a.version.isEqual(xh.min())?(e.removeEntry(n,u),o=o.insert(n,a)):null==s||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Yl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function gy(t,e){var n=tf(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Tn.getNextMutationBatchAfterBatchId(t,e)})}function my(t,e){var n=tf(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Ge.getTargetData(t,e).next(function(i){return i?Kp.resolve(r=i):n.Ge.allocateTargetId(t).next(function(i){return r=new av(e,i,0,t.currentSequenceNumber),n.Ge.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Bn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(t.targetId,t),n.qn.set(e,t.targetId)),t})}function by(t,e,n){return Object(zl.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(zl.d)(this,function(s){switch(s.label){case 0:r=tf(t),i=r.Bn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Xp(a=s.sent()))throw a;return Yl("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Bn=r.Bn.remove(e),r.qn.delete(i.target),[2]}})})}function wy(t,e,n){var r=tf(t),i=xh.min(),o=jd();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=tf(t),i=r.qn.get(n);return void 0!==i?Kp.resolve(r.Bn.get(i)):r.Ge.getTargetData(e,n)}(r,t,_h(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.Ln.getDocumentsMatchingQuery(t,e,n?i:xh.min(),n?o:jd())}).next(function(t){return{documents:t,jn:o}})})}function _y(t,e){var n=tf(t),r=tf(n.Ge),i=n.Bn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.yt(t,e).next(function(t){return t?t.target:null})})}function ky(t){var e=tf(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=tf(t),i=Od(),o=lv(n),a=Xv(e),s=IDBKeyRange.lowerBound(o,!0);return a.qt({index:Rp.readTimeIndex,range:s},function(t,e){var n=uv(r.D,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{En:i,readTime:fv(o)}})}(e.Qn,t,e.Un)}).then(function(t){var n=t.En;return e.Un=t.readTime,n})}function Ey(t){return Object(zl.b)(this,void 0,void 0,function(){var e;return Object(zl.d)(this,function(n){return[2,(e=tf(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Xv(t),n=xh.min();return e.qt({index:Rp.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=fv(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Un=t})]})})}function Oy(t,e,n,r){return Object(zl.b)(this,void 0,void 0,function(){var i,o,a,s,u,c,l,f,h,d;return Object(zl.d)(this,function(p){switch(p.label){case 0:for(i=tf(t),o=jd(),a=Od(),s=xd(),u=0,c=n;u<c.length;u++)f=e.Gn((l=c[u]).metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,e.zn(l)),s=s.insert(f,e.Hn(l.metadata.readTime));return h=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,my(i,function(t){return _h(ph(yf.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return yy(t,h,a,xh.min(),s).next(function(e){return h.apply(t),e}).next(function(e){return i.Ge.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.Ge.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Kn.vn(t,e)})})})]}})})}function Sy(t,e,n){return void 0===n&&(n=jd()),Object(zl.b)(this,void 0,void 0,function(){var r,i;return Object(zl.d)(this,function(o){switch(o.label){case 0:return[4,my(t,_h(gv(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=tf(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Qd(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.He.saveNamedQuery(t,e);var a=r.withResumeToken(wf.EMPTY_BYTE_STRING,o);return i.Bn=i.Bn.insert(a.targetId,a),i.Ge.updateTargetData(t,a).next(function(){return i.Ge.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.Ge.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.He.saveNamedQuery(t,e)})})]}})})}var Ty=function(){function t(t){this.D=t,this.Jn=new Map,this.Yn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Kp.resolve(this.Jn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:Qd(n.createTime)}),Kp.resolve()},t.prototype.getNamedQuery=function(t,e){return Kp.resolve(this.Yn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:gv(t.bundledQuery),readTime:Qd(t.readTime)}}(e)),Kp.resolve()},t}(),Iy=function(){function t(){this.Xn=new _d(Cy.Zn),this.ts=new _d(Cy.es)}return t.prototype.isEmpty=function(){return this.Xn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Cy(t,e);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},t.prototype.ns=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.ss(new Cy(t,e))},t.prototype.rs=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.os=function(t){var e=this,n=new bf(new yf([])),r=new Cy(n,t),i=new Cy(n,t+1),o=[];return this.ts.forEachInRange([r,i],function(t){e.ss(t),o.push(t.key)}),o},t.prototype.cs=function(){var t=this;this.Xn.forEach(function(e){return t.ss(e)})},t.prototype.ss=function(t){this.Xn=this.Xn.delete(t),this.ts=this.ts.delete(t)},t.prototype.us=function(t){var e=new bf(new yf([])),n=new Cy(e,t),r=new Cy(e,t+1),i=jd();return this.ts.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Cy(t,0),n=this.Xn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Cy=function(){function t(t,e){this.key=t,this.hs=e}return t.Zn=function(t,e){return bf.comparator(t.key,e.key)||rf(t.hs,e.hs)},t.es=function(t,e){return rf(t.hs,e.hs)||bf.comparator(t.key,e.key)},t}(),xy=function(){function t(t,e){this.Gt=t,this.referenceDelegate=e,this.Tn=[],this.ls=1,this.fs=new _d(Cy.Zn)}return t.prototype.checkEmpty=function(t){return Kp.resolve(0===this.Tn.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ls;this.ls++;var o=new iv(i,e,n,r);this.Tn.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.fs=this.fs.add(new Cy(u.key,i)),this.Gt.addToCollectionParentIndex(t,u.key.path.popLast())}return Kp.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Kp.resolve(this.ds(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.ws(e+1),r=n<0?0:n;return Kp.resolve(this.Tn.length>r?this.Tn[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Kp.resolve(0===this.Tn.length?-1:this.ls-1)},t.prototype.getAllMutationBatches=function(t){return Kp.resolve(this.Tn.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Cy(e,0),i=new Cy(e,Number.POSITIVE_INFINITY),o=[];return this.fs.forEachInRange([r,i],function(t){var e=n.ds(t.hs);o.push(e)}),Kp.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new _d(rf);return e.forEach(function(t){var e=new Cy(t,0),i=new Cy(t,Number.POSITIVE_INFINITY);n.fs.forEachInRange([e,i],function(t){r=r.add(t.hs)})}),Kp.resolve(this._s(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;bf.isDocumentKey(i)||(i=i.child(""));var o=new Cy(new bf(i),0),a=new _d(rf);return this.fs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.hs)),!0)},o),Kp.resolve(this._s(a))},t.prototype._s=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.ds(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;$l(0===this.ys(e.batchId,"removed")),this.Tn.shift();var r=this.fs;return Kp.forEach(e.mutations,function(i){var o=new Cy(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.fs=r})},t.prototype.Xt=function(t){},t.prototype.containsKey=function(t,e){var n=new Cy(e,0),r=this.fs.firstAfterOrEqual(n);return Kp.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Kp.resolve()},t.prototype.ys=function(t,e){return this.ws(t)},t.prototype.ws=function(t){return 0===this.Tn.length?0:t-this.Tn[0].batchId},t.prototype.ds=function(t){var e=this.ws(t);return e<0||e>=this.Tn.length?null:this.Tn[e]},t}(),Ay=function(){function t(t,e){this.Gt=t,this.gs=e,this.docs=new md(bf.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.gs(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:a,readTime:n}),this.size+=a-o,this.Gt.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Kp.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=Sd();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),Kp.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Id(),i=new bf(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,u=s.maybeDocument,c=s.readTime;if(!e.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||u instanceof Hf&&Th(e,u)&&(r=r.insert(u.key,u))}return Kp.resolve(r)},t.prototype.ps=function(t,e){return Kp.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new jy(this)},t.prototype.getSize=function(t){return Kp.resolve(this.size)},t}(),jy=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ve=e,n}return Object(zl.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i&&i.maybeDocument?n.push(e.Ve.addEntry(t,i.maybeDocument,e.getReadTime(r))):e.Ve.removeEntry(r)}),Kp.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ve.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ve.getEntries(t,e)},e}(Wv),Ny=function(){function t(t){this.persistence=t,this.Es=new Kv(function(t){return Yf(t)},Qf),this.lastRemoteSnapshotVersion=xh.min(),this.highestTargetId=0,this.Ts=0,this.Is=new Iy,this.targetCount=0,this.As=Dv.ee()}return t.prototype.forEachTarget=function(t,e){return this.Es.forEach(function(t,n){return e(n)}),Kp.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Kp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Kp.resolve(this.Ts)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.As.next(),Kp.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ts&&(this.Ts=e),Kp.resolve()},t.prototype.re=function(t){this.Es.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.As=new Dv(e),this.highestTargetId=e),t.sequenceNumber>this.Ts&&(this.Ts=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.re(e),this.targetCount+=1,Kp.resolve()},t.prototype.updateTargetData=function(t,e){return this.re(e),Kp.resolve()},t.prototype.removeTargetData=function(t,e){return this.Es.delete(e.target),this.Is.os(e.targetId),this.targetCount-=1,Kp.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.Es.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.Es.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),Kp.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Kp.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.Es.get(e)||null;return Kp.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.Is.ns(e,n),Kp.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this.Is.rs(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Kp.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.Is.os(e),Kp.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.Is.us(e);return Kp.resolve(n)},t.prototype.containsKey=function(t,e){return Kp.resolve(this.Is.containsKey(e))},t}(),Ry=function(){function t(t,e){var n=this;this.Rs={},this.Me=new Gl(0),this.Le=!1,this.Le=!0,this.referenceDelegate=t(this),this.Ge=new Ny(this),this.Gt=new _v,this.ze=function(t,e){return new Ay(t,function(t){return n.referenceDelegate.bs(t)})}(this.Gt),this.D=new sv(e),this.He=new Ty(this.D)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getMutationQueue=function(t){var e=this.Rs[t.toKey()];return e||(e=new xy(this.Gt,this.referenceDelegate),this.Rs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r=this;Yl("MemoryPersistence","Starting transaction:",t);var i=new Dy(this.Me.next());return this.referenceDelegate.vs(),n(i).next(function(t){return r.referenceDelegate.Ps(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Vs=function(t,e){return Kp.or(Object.values(this.Rs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Dy=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(zl.c)(e,t),e}(zp),Py=function(){function t(t){this.persistence=t,this.Ss=new Iy,this.Ds=null}return t.Cs=function(e){return new t(e)},Object.defineProperty(t.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw Zl()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.Ss.addReference(n,e),this.xs.delete(n.toString()),Kp.resolve()},t.prototype.removeReference=function(t,e,n){return this.Ss.removeReference(n,e),this.xs.add(n.toString()),Kp.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.xs.add(e.toString()),Kp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Ss.os(e.targetId).forEach(function(t){return n.xs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.xs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.vs=function(){this.Ds=new Set},t.prototype.Ps=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Kp.forEach(this.xs,function(r){var i=bf.fromPath(r);return e.Ns(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Ds=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ns(t,e).next(function(t){t?n.xs.delete(e.toString()):n.xs.add(e.toString())})},t.prototype.bs=function(t){return 0},t.prototype.Ns=function(t,e){var n=this;return Kp.or([function(){return Kp.resolve(n.Ss.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Vs(t,e)}])},t}(),Ly=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function My(t,e){return"firestore_clients_"+t+"_"+e}function Fy(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Uy(t,e){return"firestore_targets_"+t+"_"+e}Ly.UNAUTHENTICATED=new Ly(null),Ly.GOOGLE_CREDENTIALS=new Ly("google-credentials-uid"),Ly.FIRST_PARTY=new Ly("first-party-uid");var Vy=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.$s=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new pf(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(Ql("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),qy=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.$s=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new pf(i.error.code,i.error.message)),o?new t(e,i.state,r):(Ql("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),By=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.$s=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Rd(),a=0;i&&a<r.activeTargetIds.length;++a)i=hf(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Ql("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Hy=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.$s=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Ql("SharedClientState","Failed to parse online state: "+e),null)},t}(),zy=function(){function t(){this.activeTargetIds=Rd()}return t.prototype.Os=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ks=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fs=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Gy=function(){function t(t,e,n,r,i){this.window=t,this.Fe=e,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new md(rf),this.started=!1,this.Us=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=My(this.persistenceKey,this.Ms),this.Ks=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new zy),this.Ws=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.zs=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Hs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return t.At=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(zl.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s,u,c,l=this;return Object(zl.d)(this,function(f){switch(f.label){case 0:return[4,this.syncEngine.gn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ms&&(i=this.getItem(My(this.persistenceKey,r)))&&(o=By.$s(r,i))&&(this.qs=this.qs.insert(o.clientId,o));for(this.Js(),(a=this.storage.getItem(this.zs))&&(s=this.Ys(a))&&this.Xs(s),u=0,c=this.Us;u<c.length;u++)this.Bs(c[u]);return this.Us=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ks,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.qs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.ti(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.ti(t,e,n),this.ei(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Uy(this.persistenceKey,t));if(n){var r=qy.$s(t,n);r&&(e=r.state)}}return this.ni.Os(t),this.Js(),e},t.prototype.removeLocalQueryTarget=function(t){this.ni.ks(t),this.Js()},t.prototype.isLocalQueryTarget=function(t){return this.ni.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Uy(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.si(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.ei(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.ii(t)},t.prototype.notifyBundleLoaded=function(){this.ri()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Yl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Yl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Yl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Bs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Yl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Ql("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable(function(){return Object(zl.b)(e,void 0,void 0,function(){var t,e,r,i,o,a;return Object(zl.d)(this,function(s){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return t=this.oi(n.key),[2,this.ci(t,null)];if(e=this.ai(n.key,n.newValue))return[2,this.ci(e.clientId,e)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(o=this.Ys(n.newValue)))return[2,this.Xs(o)]}else if(n.key===this.Ks)(a=function(t){var e=Gl.o;if(null!=t)try{var n=JSON.parse(t);$l("number"==typeof n),e=n}catch(t){Ql("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Gl.o&&this.sequenceNumberHandler(a);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),t.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},t.prototype.ti=function(t,e,n){var r=new Vy(this.currentUser,t,e,n),i=Fy(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Fs())},t.prototype.ei=function(t){var e=Fy(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ii=function(t){this.storage.setItem(this.zs,JSON.stringify({clientId:this.Ms,onlineState:t}))},t.prototype.si=function(t,e,n){var r=Uy(this.persistenceKey,t),i=new qy(t,e,n);this.setItem(r,i.Fs())},t.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},t.prototype.oi=function(t){var e=this.Ws.exec(t);return e?e[1]:null},t.prototype.ai=function(t,e){var n=this.oi(t);return By.$s(n,e)},t.prototype.ui=function(t,e){var n=this.js.exec(t),r=Number(n[1]);return Vy.$s(new Ly(void 0!==n[2]?n[2]:null),r,e)},t.prototype.li=function(t,e){var n=this.Gs.exec(t),r=Number(n[1]);return qy.$s(r,e)},t.prototype.Ys=function(t){return Hy.$s(t)},t.prototype.hi=function(t){return Object(zl.b)(this,void 0,void 0,function(){return Object(zl.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(t.batchId,t.state,t.error)]:(Yl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.fi=function(t){return this.syncEngine._i(t.targetId,t.state,t.error)},t.prototype.ci=function(t,e){var n=this,r=e?this.qs.insert(t,e):this.qs.remove(t),i=this.Zs(this.qs),o=this.Zs(r),a=[],s=[];return o.forEach(function(t){i.has(t)||a.push(t)}),i.forEach(function(t){o.has(t)||s.push(t)}),this.syncEngine.mi(a,s).then(function(){n.qs=r})},t.prototype.Xs=function(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Zs=function(t){var e=Rd();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Ky=function(){function t(){this.yi=new zy,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.yi.Os(t),this.gi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.gi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.yi.ks(t)},t.prototype.isLocalQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.gi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.start=function(){return this.yi=new zy,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Wy=function(){function t(){}return t.prototype.pi=function(t){},t.prototype.shutdown=function(){},t}(),Yy=function(){function t(){var t=this;this.Ei=function(){return t.Ti()},this.Ii=function(){return t.Ai()},this.Ri=[],this.bi()}return t.prototype.pi=function(t){this.Ri.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},t.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},t.prototype.Ti=function(){Yl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(0)},t.prototype.Ai=function(){Yl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(1)},t.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Qy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Jy=function(){function t(t){this.vi=t.vi,this.Pi=t.Pi}return t.prototype.Vi=function(t){this.Si=t},t.prototype.Di=function(t){this.Ci=t},t.prototype.onMessage=function(t){this.xi=t},t.prototype.close=function(){this.Pi()},t.prototype.send=function(t){this.vi(t)},t.prototype.Ni=function(){this.Si()},t.prototype.$i=function(t){this.Ci(t)},t.prototype.Fi=function(t){this.xi(t)},t}(),Xy=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(zl.c)(e,t),e.prototype.qi=function(t,e,n,r){return new Promise(function(i,o){var a=new Hl;a.listenOnce(Vl.COMPLETE,function(){try{switch(a.getLastErrorCode()){case Ul.NO_ERROR:var e=a.getResponseJson();Yl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Ul.TIMEOUT:Yl("Connection",'RPC "'+t+'" timed out'),o(new pf(df.DEADLINE_EXCEEDED,"Request time out"));break;case Ul.HTTP_ERROR:var n=a.getStatus();if(Yl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(df).indexOf(e)>=0?e:df.UNKNOWN}(r.status);o(new pf(s,r.message))}else o(new pf(df.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new pf(df.UNAVAILABLE,"Connection failed."));break;default:Zl()}}finally{Yl("Connection",'RPC "'+t+'" completed.')}});var s=JSON.stringify(r);a.send(e,"POST",s,n,15)})},e.prototype.Qi=function(t,e){var n=[this.Oi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Dl,i=Mu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(o.initMessageHeaders,e),Object(Ba.l)()||Object(Ba.n)()||Object(Ba.j)()||Object(Ba.k)()||Object(Ba.o)()||Object(Ba.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Yl("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new Jy({vi:function(t){c?Yl("Connection","Not sending because WebChannel is closed:",t):(u||(Yl("Connection","Opening WebChannel transport."),s.open(),u=!0),Yl("Connection","WebChannel sending:",t),s.send(t))},Pi:function(){return s.close()}}),f=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return f(s,Bl.EventType.OPEN,function(){c||Yl("Connection","WebChannel transport opened.")}),f(s,Bl.EventType.CLOSE,function(){c||(c=!0,Yl("Connection","WebChannel transport closed"),l.$i())}),f(s,Bl.EventType.ERROR,function(t){c||(c=!0,Jl("Connection","WebChannel transport errored:",t),l.$i(new pf(df.UNAVAILABLE,"The operation could not be completed")))}),f(s,Bl.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];$l(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Yl("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=fd[t];if(void 0!==e)return gd(e)}(i),a=r.message;void 0===o&&(o=df.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.$i(new pf(o,a)),s.close()}else Yl("Connection","WebChannel received:",n),l.Fi(n)}}),f(i,ql.STAT_EVENT,function(t){10===t.stat?Yl("Connection","Detected buffering proxy"):11===t.stat&&Yl("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ni()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Oi=(t.ssl?"https":"http")+"://"+t.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Mi=function(t,e,n,r){var i=this.Li(t,e);Yl("RestConnection","Sending: ",i,n);var o={};return this.Bi(o,r),this.qi(t,i,o,n).then(function(t){return Yl("RestConnection","Received: ",t),t},function(e){throw Jl("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Ui=function(t,e,n,r){return this.Mi(t,e,n,r)},t.prototype.Bi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.Li=function(t,e){return this.Oi+"/v1/"+e+":"+Qy[t]},t}());function Zy(){return"undefined"!=typeof window?window:null}function $y(){return"undefined"!=typeof document?document:null}function tg(t){return new Gd(t,!0)}var eg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=t,this.timerId=e,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return t.prototype.reset=function(){this.Gi=0},t.prototype.Ji=function(){this.Gi=this.ji},t.prototype.Yi=function(t){var e=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&Yl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,function(){return e.Hi=Date.now(),t()}),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},t.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},t.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},t.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},t}(),ng=function(){function t(t,e,n,r,i,o){this.Fe=t,this.tr=n,this.er=r,this.nr=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new eg(t,e)}return t.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ar=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ur()},t.prototype.stop=function(){return Object(zl.b)(this,void 0,void 0,function(){return Object(zl.d)(this,function(t){switch(t.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.hr=function(){this.state=0,this.rr.reset()},t.prototype.lr=function(){var t=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,function(){return t.dr()}))},t.prototype.wr=function(t){this._r(),this.stream.send(t)},t.prototype.dr=function(){return Object(zl.b)(this,void 0,void 0,function(){return Object(zl.d)(this,function(t){return this.ar()?[2,this.close(0)]:[2]})})},t.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},t.prototype.close=function(t,e){return Object(zl.b)(this,void 0,void 0,function(){return Object(zl.d)(this,function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():e&&e.code===df.RESOURCE_EXHAUSTED?(Ql(e.toString()),Ql("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):e&&e.code===df.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Di(e)];case 1:return n.sent(),[2]}})})},t.prototype.mr=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.yr(this.sr),n=this.sr;this.nr.getToken().then(function(e){t.sr===n&&t.gr(e)},function(n){e(function(){var e=new pf(df.UNKNOWN,"Fetching auth token failed: "+n.message);return t.pr(e)})})},t.prototype.gr=function(t){var e=this,n=this.yr(this.sr);this.stream=this.Er(t),this.stream.Vi(function(){n(function(){return e.state=2,e.listener.Vi()})}),this.stream.Di(function(t){n(function(){return e.pr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.ur=function(){var t=this;this.state=4,this.rr.Yi(function(){return Object(zl.b)(t,void 0,void 0,function(){return Object(zl.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.pr=function(t){return Yl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.yr=function(t){var e=this;return function(n){e.Fe.enqueueAndForget(function(){return e.sr===t?n():(Yl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),rg=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).D=i,a}return Object(zl.c)(e,t),e.prototype.Er=function(t){return this.er.Qi("Listen",t)},e.prototype.onMessage=function(t){this.rr.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Zl()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.V?($l(void 0===e||"string"==typeof e),wf.fromBase64String(e||"")):($l(void 0===e||e instanceof Uint8Array),wf.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?df.UNKNOWN:gd(t.code);return new pf(e,t.message||"")}(s);n=new Fd(r,i,o,a||null)}else if("documentChange"in e){i=$d(t,(r=e.documentChange).document.name),o=Qd(r.document.updateTime);var s=new jh({mapValue:{fields:r.document.fields}}),u=(a=new Hf(i,o,s,{}),r.targetIds||[]);n=new Ld(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)i=$d(t,(r=e.documentDelete).document),o=r.readTime?Qd(r.readTime):xh.min(),s=new zf(i,o),n=new Ld([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=$d(t,(r=e.documentRemove).document),n=new Ld([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Zl();var c=e.filter;i=new vd(r=c.count||0),n=new Md(o=c.targetId,i)}return n}(this.D,t),n=function(t){if(!("targetChange"in t))return xh.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?xh.min():e.readTime?Qd(e.readTime):xh.min()}(t);return this.listener.Tr(e,n)},e.prototype.Ir=function(t){var e={};e.database=np(this.D),e.addTarget=function(t,e){var n,r=e.target;return(n=Jf(r)?{documents:up(t,r)}:{query:cp(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Wd(t,e.resumeToken):e.snapshotVersion.compareTo(xh.min())>0&&(n.readTime=Kd(t,e.snapshotVersion.toTimestamp())),n}(this.D,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Zl()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.wr(e)},e.prototype.Ar=function(t){var e={};e.database=np(this.D),e.removeTarget=t,this.wr(e)},e}(ng),ig=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).D=i,a.Rr=!1,a}return Object(zl.c)(e,t),Object.defineProperty(e.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mr=function(){this.Rr&&this.vr([])},e.prototype.Er=function(t){return this.er.Qi("Write",t)},e.prototype.onMessage=function(t){if($l(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();var e=function(t,e){return t&&t.length>0?($l(void 0!==e),t.map(function(t){return function(t,e){var n=Qd(t.updateTime?t.updateTime:e);return n.isEqual(xh.min())&&(n=Qd(e)),new Jh(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Qd(t.commitTime);return this.listener.Pr(n,e)}return $l(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()},e.prototype.Sr=function(){var t={};t.database=np(this.D),this.wr(t)},e.prototype.vr=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return ap(e.D,t)})};this.wr(n)},e}(ng),og=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.er=n,i.D=r,i.Dr=!1,i}return Object(zl.c)(e,t),e.prototype.Cr=function(){if(this.Dr)throw new pf(df.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mi=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Mi(t,e,n,i)}).catch(function(t){throw t.code===df.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Ui=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Ui(t,e,n,i)}).catch(function(t){throw t.code===df.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Dr=!1},e}(function(){}),ag=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return t.prototype.Or=function(){var t=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.$r=null,t.Mr("Backend didn't respond within 10 seconds."),t.kr("Offline"),Promise.resolve()}))},t.prototype.Lr=function(t){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+t.toString()),this.kr("Offline")))},t.prototype.set=function(t){this.Br(),this.Nr=0,"Online"===t&&(this.Fr=!1),this.kr(t)},t.prototype.kr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Mr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(Ql(e),this.Fr=!1):Yl("OnlineStateTracker",e)},t.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},t}(),sg=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi(function(t){n.enqueueAndForget(function(){return Object(zl.b)(o,void 0,void 0,function(){return Object(zl.d)(this,function(t){switch(t.label){case 0:return yg(this)?(Yl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(zl.b)(this,void 0,void 0,function(){var e;return Object(zl.d)(this,function(n){switch(n.label){case 0:return(e=tf(t)).Qr.add(4),[4,cg(e)];case 1:return n.sent(),e.jr.set("Unknown"),e.Qr.delete(4),[4,ug(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.jr=new ag(n,r)};function ug(t){return Object(zl.b)(this,void 0,void 0,function(){var e,n;return Object(zl.d)(this,function(r){switch(r.label){case 0:if(!yg(t))return[3,4];e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function cg(t){return Object(zl.b)(this,void 0,void 0,function(){var e,n;return Object(zl.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function lg(t,e){var n=tf(t);n.Ur.has(e.targetId)||(n.Ur.set(e.targetId,e),vg(n)?pg(n):jg(n).ar()&&hg(n,e))}function fg(t,e){var n=tf(t),r=jg(n);n.Ur.delete(e),r.ar()&&dg(n,e),0===n.Ur.size&&(r.ar()?r.lr():yg(n)&&n.jr.set("Unknown"))}function hg(t,e){t.Gr.H(e.targetId),jg(t).Ir(e)}function dg(t,e){t.Gr.H(e),jg(t).Ar(e)}function pg(t){t.Gr=new Vd({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},yt:function(e){return t.Ur.get(e)||null}}),jg(t).start(),t.jr.Or()}function vg(t){return yg(t)&&!jg(t).cr()&&t.Ur.size>0}function yg(t){return 0===tf(t).Qr.size}function gg(t){t.Gr=void 0}function mg(t){return Object(zl.b)(this,void 0,void 0,function(){return Object(zl.d)(this,function(e){return t.Ur.forEach(function(e,n){hg(t,e)}),[2]})})}function bg(t,e){return Object(zl.b)(this,void 0,void 0,function(){return Object(zl.d)(this,function(n){return gg(t),vg(t)?(t.jr.Lr(e),pg(t)):t.jr.set("Unknown"),[2]})})}function wg(t,e,n){return Object(zl.b)(this,void 0,void 0,function(){var r,i,o;return Object(zl.d)(this,function(a){switch(a.label){case 0:if(t.jr.set("Online"),!(e instanceof Fd&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(zl.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(zl.d)(this,function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.Ur.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.Ur.delete(o),t.Gr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Yl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,_g(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ld?t.Gr.st(e):e instanceof Md?t.Gr.ht(e):t.Gr.ot(e),n.isEqual(xh.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,py(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.Gr.dt(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Ur.get(r);i&&t.Ur.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Ur.get(e);if(n){t.Ur.set(e,n.withResumeToken(wf.EMPTY_BYTE_STRING,n.snapshotVersion)),dg(t,e);var r=new av(n.target,e,1,n.sequenceNumber);hg(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Yl("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,_g(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function _g(t,e,n){return Object(zl.b)(this,void 0,void 0,function(){var r=this;return Object(zl.d)(this,function(i){switch(i.label){case 0:if(!Xp(e))throw e;return t.Qr.add(1),[4,cg(t)];case 1:return i.sent(),t.jr.set("Offline"),n||(n=function(){return py(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(zl.b)(r,void 0,void 0,function(){return Object(zl.d)(this,function(e){switch(e.label){case 0:return Yl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Qr.delete(1),[4,ug(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function kg(t,e){return e().catch(function(n){return _g(t,n,e)})}function Eg(t){return Object(zl.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(zl.d)(this,function(a){switch(a.label){case 0:e=tf(t),n=Ng(e),r=e.qr.length>0?e.qr[e.qr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return yg(t)&&t.qr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,gy(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(t,e){t.qr.push(e);var n=Ng(t);n.ar()&&n.br&&n.vr(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,_g(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Og(e)&&Sg(e),[2]}})})}function Og(t){return yg(t)&&!Ng(t).cr()&&t.qr.length>0}function Sg(t){Ng(t).start()}function Tg(t){return Object(zl.b)(this,void 0,void 0,function(){return Object(zl.d)(this,function(e){return Ng(t).Sr(),[2]})})}function Ig(t){return Object(zl.b)(this,void 0,void 0,function(){var e,n,r;return Object(zl.d)(this,function(i){for(e=Ng(t),n=0,r=t.qr;n<r.length;n++)e.vr(r[n].mutations);return[2]})})}function Cg(t,e,n){return Object(zl.b)(this,void 0,void 0,function(){var r,i;return Object(zl.d)(this,function(o){switch(o.label){case 0:return r=t.qr.shift(),i=ov.from(r,e,n),[4,kg(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Eg(t)];case 2:return o.sent(),[2]}})})}function xg(t,e){return Object(zl.b)(this,void 0,void 0,function(){return Object(zl.d)(this,function(n){switch(n.label){case 0:return e&&Ng(t).br?[4,function(t,e){return Object(zl.b)(this,void 0,void 0,function(){var n,r;return Object(zl.d)(this,function(i){switch(i.label){case 0:return yd(r=e.code)&&r!==df.ABORTED?(n=t.qr.shift(),Ng(t).hr(),[4,kg(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Eg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Og(t)&&Sg(t),[2]}})})}function Ag(t,e){return Object(zl.b)(this,void 0,void 0,function(){var n;return Object(zl.d)(this,function(r){switch(r.label){case 0:return n=tf(t),e?(n.Qr.delete(2),[4,ug(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Qr.add(2),[4,cg(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function jg(t){var e=this;return t.zr||(t.zr=function(t,e,n){var r=tf(t);return r.Cr(),new rg(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:mg.bind(null,t),Di:bg.bind(null,t),Tr:wg.bind(null,t)}),t.Kr.push(function(n){return Object(zl.b)(e,void 0,void 0,function(){return Object(zl.d)(this,function(e){switch(e.label){case 0:return n?(t.zr.hr(),vg(t)?pg(t):t.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.zr.stop()];case 2:e.sent(),gg(t),e.label=3;case 3:return[2]}})})})),t.zr}function Ng(t){var e=this;return t.Hr||(t.Hr=function(t,e,n){var r=tf(t);return r.Cr(),new ig(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:Tg.bind(null,t),Di:xg.bind(null,t),Vr:Ig.bind(null,t),Pr:Cg.bind(null,t)}),t.Kr.push(function(n){return Object(zl.b)(e,void 0,void 0,function(){return Object(zl.d)(this,function(e){switch(e.label){case 0:return n?(t.Hr.hr(),[4,Eg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Hr.stop()];case 3:e.sent(),t.qr.length>0&&(Yl("RemoteStore","Stopping write stream with "+t.qr.length+" pending writes"),t.qr=[]),e.label=4;case 4:return[2]}})})})),t.Hr}var Rg=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Gp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pf(df.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Dg(t,e){if(Ql("AsyncQueue",e+": "+t),Xp(t))return new pf(df.UNAVAILABLE,e+": "+t);throw t}var Pg=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||bf.comparator(e.key,n.key)}:function(t,e){return bf.comparator(t.key,e.key)},this.keyedMap=Id(),this.sortedSet=new md(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Lg=function(){function t(){this.Jr=new md(bf.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):Zl():this.Jr=this.Jr.insert(e,t)},t.prototype.Yr=function(){var t=[];return this.Jr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Mg=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Pg.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Fg=function(){this.Xr=void 0,this.listeners=[]},Ug=function(){this.queries=new Kv(function(t){return Oh(t)},Eh),this.onlineState="Unknown",this.Zr=new Set};function Vg(t,e){return Object(zl.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(zl.d)(this,function(c){switch(c.label){case 0:if(n=tf(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Fg),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Xr=c.sent(),[3,4];case 3:return s=c.sent(),u=Dg(s,"Initialization of query '"+Sh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.eo(n.onlineState),o.Xr&&e.no(o.Xr)&&zg(n),[2]}})})}function qg(t,e){return Object(zl.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(zl.d)(this,function(s){return n=tf(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Bg(t,e){for(var n=tf(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].no(a)&&(r=!0);s.Xr=a}}r&&zg(n)}function Hg(t,e,n){var r=tf(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function zg(t){t.Zr.forEach(function(t){t.next()})}var Gg=function(){function t(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.no=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Mg(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.io?this.oo(t)&&(this.so.next(t),o=!0):this.co(t,this.onlineState)&&(this.ao(t),o=!0),this.ro=t,o},t.prototype.onError=function(t){this.so.error(t)},t.prototype.eo=function(t){this.onlineState=t;var e=!1;return this.ro&&!this.io&&this.co(this.ro,t)&&(this.ao(this.ro),e=!0),e},t.prototype.co=function(t,e){return!t.fromCache||!(this.options.uo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.oo=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ao=function(t){t=Mg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)},t}(),Kg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.ho=function(){return"metadata"in this.payload},t}(),Wg=function(){function t(t){this.D=t}return t.prototype.Gn=function(t){return $d(this.D,t)},t.prototype.zn=function(t){return t.metadata.exists?op(this.D,t.document,!1):new zf(this.Gn(t.metadata.name),this.Hn(t.metadata.readTime))},t.prototype.Hn=function(t){return Qd(t)},t}();!function(){function t(t,e,n){this.lo=t,this.localStore=e,this.D=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.fo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.wo=function(t){for(var e=new Map,n=new Wg(this.D),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.Gn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||jd()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(zl.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(zl.d)(this,function(o){switch(o.label){case 0:return[4,Oy(this.localStore,new Wg(this.D),this.documents,this.lo.id)];case 1:t=o.sent(),e=this.wo(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Sy(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new ay(Object.assign({},this.progress),t))]}})})}}();var Yg=function(t){this.key=t},Qg=function(t){this.key=t},Jg=function(){function t(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=jd(),this.mutatedKeys=jd(),this.po=Ih(t),this.Eo=new Pg(this.po)}return Object.defineProperty(t.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),t.prototype.Io=function(t,e){var n=this,r=e?e.Ao:new Lg,i=e?e.Eo:this.Eo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=vh(this.query)&&i.size===this.query.limit?i.last():null,c=yh(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),f=e instanceof Hf?e:null;f&&(f=Th(n.query,f)?f:null);var h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data().isEqual(f.data())?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ro(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.po(f,u)>0||c&&n.po(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),vh(this.query)||yh(this.query))for(;a.size>this.query.limit;){var l=vh(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Eo:a,Ao:r,Mn:s,mutatedKeys:o}},t.prototype.Ro=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;var o=t.Ao.Yr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zl()}};return n(t)-n(e)}(t.type,e.type)||r.po(t.doc,e.doc)}),this.bo(n);var a=e?this.vo():[],s=0===this.yo.size&&this.current?1:0,u=s!==this.mo;return this.mo=s,0!==o.length||u?{snapshot:new Mg(this.query,t.Eo,i,o,t.mutatedKeys,0===s,u,!1),Po:a}:{Po:a}},t.prototype.eo=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Lg,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},t.prototype.Vo=function(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations},t.prototype.bo=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._o=e._o.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e._o=e._o.delete(t)}),this.current=t.current)},t.prototype.vo=function(){var t=this;if(!this.current)return[];var e=this.yo;this.yo=jd(),this.Eo.forEach(function(e){t.Vo(e.key)&&(t.yo=t.yo.add(e.key))});var n=[];return e.forEach(function(e){t.yo.has(e)||n.push(new Qg(e))}),this.yo.forEach(function(t){e.has(t)||n.push(new Yg(t))}),n},t.prototype.So=function(t){this._o=t.jn,this.yo=jd();var e=this.Io(t.documents);return this.applyChanges(e,!0)},t.prototype.Do=function(){return Mg.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},t}(),Xg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Zg=function(t){this.key=t,this.Co=!1},$g=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.xo={},this.No=new Kv(function(t){return Oh(t)},Eh),this.$o=new Map,this.Fo=new Set,this.Oo=new md(bf.comparator),this.ko=new Map,this.Mo=new Iy,this.Lo={},this.Bo=new Map,this.qo=Dv.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),t}();function tm(t,e){return Object(zl.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(zl.d)(this,function(s){switch(s.label){case 0:return n=xm(t),(i=n.No.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Do(),[3,4]):[3,1];case 1:return[4,my(n.localStore,_h(e))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,em(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&lg(n.remoteStore,o),s.label=4;case 4:return[2,r]}})})}function em(t,e,n,r){return Object(zl.b)(this,void 0,void 0,function(){var i,o,a,s,u,c;return Object(zl.d)(this,function(l){switch(l.label){case 0:return t.Qo=function(e,n,r){return function(t,e,n,r){return Object(zl.b)(this,void 0,void 0,function(){var i,o,a;return Object(zl.d)(this,function(s){switch(s.label){case 0:return(i=e.view.Io(n)).Mn?[4,wy(t.localStore,e.query,!1).then(function(t){return e.view.Io(t.documents,i)})]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(pm(t,e.targetId,a.Po),a.snapshot)]}})})}(t,e,n,r)},[4,wy(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Jg(e,i.jn),a=o.Io(i.documents),s=Pd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),pm(t,n,u.Po),c=new Xg(e,n,o),[2,(t.No.set(e,c),t.$o.has(n)?t.$o.get(n).push(e):t.$o.set(n,[e]),u.snapshot)]}})})}function nm(t,e){return Object(zl.b)(this,void 0,void 0,function(){var n,r,i;return Object(zl.d)(this,function(o){switch(o.label){case 0:return n=tf(t),r=n.No.get(e),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter(function(t){return!Eh(t,e)})),void n.No.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,by(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),fg(n.remoteStore,r.targetId),hm(n,r.targetId)}).catch(Uv)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return hm(n,r.targetId),[4,by(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function rm(t,e,n){return Object(zl.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(zl.d)(this,function(s){switch(s.label){case 0:r=Am(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=tf(t),i=Sf.now(),o=e.reduce(function(t,e){return t.add(e.key)},jd());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Kn.bn(t,o).next(function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=nd(c,n.get(c.key));null!=l&&a.push(new ad(c.key,l,Rh(l.proto.mapValue),Xh.exists(!0)))}return r.Tn.addMutationBatch(t,i,a,e)})}).then(function(t){var e=t.applyToLocalDocumentSet(n);return{batchId:t.batchId,changes:e}})}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.Lo[t.currentUser.toKey()];r||(r=new md(rf)),r=r.insert(e,n),t.Lo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,gm(r,i.changes)];case 3:return s.sent(),[4,Eg(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Dg(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function im(t,e){return Object(zl.b)(this,void 0,void 0,function(){var n,r;return Object(zl.d)(this,function(i){switch(i.label){case 0:n=tf(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,vy(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.ko.get(e);r&&($l(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Co=!0:t.modifiedDocuments.size>0?$l(r.Co):t.removedDocuments.size>0&&($l(r.Co),r.Co=!1))}),[4,gm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Uv(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function om(t,e,n){var r=tf(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach(function(t,n){var r=n.view.eo(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=tf(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].eo(e)&&(r=!0)}),r&&zg(n)}(r.eventManager,e),i.length&&r.xo.Tr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function am(t,e,n){return Object(zl.b)(this,void 0,void 0,function(){var r,i,o,a,s,u;return Object(zl.d)(this,function(c){switch(c.label){case 0:return(r=tf(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.ko.get(e),(o=i&&i.key)?(a=(a=new md(bf.comparator)).insert(o,new zf(o,xh.min())),s=jd().add(o),u=new Dd(xh.min(),new Map,new _d(rf),a,s),[4,im(r,u)]):[3,2];case 1:return c.sent(),r.Oo=r.Oo.remove(o),r.ko.delete(e),ym(r),[3,4];case 2:return[4,by(r.localStore,e,!1).then(function(){return hm(r,e,n)}).catch(Uv)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function sm(t,e){return Object(zl.b)(this,void 0,void 0,function(){var n,r,i;return Object(zl.d)(this,function(o){switch(o.label){case 0:n=tf(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,dy(n.localStore,e)];case 2:return i=o.sent(),fm(n,r,null),lm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,gm(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Uv(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function um(t,e,n){return Object(zl.b)(this,void 0,void 0,function(){var r,i;return Object(zl.d)(this,function(o){switch(o.label){case 0:r=tf(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=tf(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Tn.lookupMutationBatch(t,e).next(function(e){return $l(null!==e),r=e.keys(),n.Tn.removeMutationBatch(t,e)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),fm(r,e,n),lm(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,gm(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Uv(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function cm(t,e){return Object(zl.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(zl.d)(this,function(s){switch(s.label){case 0:yg((n=tf(t)).remoteStore)||Yl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=tf(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Tn.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Bo.get(r)||[]).push(e),n.Bo.set(r,i),[3,4]);case 3:return o=s.sent(),a=Dg(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function lm(t,e){(t.Bo.get(e)||[]).forEach(function(t){t.resolve()}),t.Bo.delete(e)}function fm(t,e,n){var r=tf(t),i=r.Lo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Lo[r.currentUser.toKey()]=i}}function hm(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.$o.get(e);r<i.length;r++){var o=i[r];t.No.delete(o),n&&t.xo.Ko(o,n)}t.$o.delete(e),t.isPrimaryClient&&t.Mo.os(e).forEach(function(e){t.Mo.containsKey(e)||dm(t,e)})}function dm(t,e){t.Fo.delete(e.path.canonicalString());var n=t.Oo.get(e);null!==n&&(fg(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.ko.delete(n),ym(t))}function pm(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Yg?(t.Mo.addReference(o.key,e),vm(t,o)):o instanceof Qg?(Yl("SyncEngine","Document no longer in limbo: "+o.key),t.Mo.removeReference(o.key,e),t.Mo.containsKey(o.key)||dm(t,o.key)):Zl()}}function vm(t,e){var n=e.key,r=n.path.canonicalString();t.Oo.get(n)||t.Fo.has(r)||(Yl("SyncEngine","New document in limbo: "+n),t.Fo.add(r),ym(t))}function ym(t){for(;t.Fo.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){var e=t.Fo.values().next().value;t.Fo.delete(e);var n=new bf(yf.fromString(e)),r=t.qo.next();t.ko.set(r,new Zg(n)),t.Oo=t.Oo.insert(n,r),lg(t.remoteStore,new av(_h(ph(n.path)),r,2,Gl.o))}}function gm(t,e,n){return Object(zl.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(zl.d)(this,function(s){switch(s.label){case 0:return r=tf(t),i=[],o=[],a=[],r.No.isEmpty()?[3,3]:(r.No.forEach(function(t,s){a.push(r.Qo(s,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=uy.Nn(s.targetId,t);o.push(e)}}))}),[4,Promise.all(a)]);case 1:return s.sent(),r.xo.Tr(i),[4,function(t,e){return Object(zl.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return Object(zl.d)(this,function(l){switch(l.label){case 0:n=tf(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Kp.forEach(e,function(e){return Kp.forEach(e.Cn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Kp.forEach(e.xn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Xp(r=l.sent()))throw r;return Yl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.Bn.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Bn=n.Bn.insert(s,c));return[2]}})})}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function mm(t,e){return Object(zl.b)(this,void 0,void 0,function(){var n,r;return Object(zl.d)(this,function(i){switch(i.label){case 0:return(n=tf(t)).currentUser.isEqual(e)?[3,3]:(Yl("SyncEngine","User change. New user:",e.toKey()),[4,hy(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Bo.forEach(function(t){t.forEach(function(t){t.reject(new pf(df.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,gm(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function bm(t,e){var n=tf(t),r=n.ko.get(e);if(r&&r.Co)return jd().add(r.key);var i=jd(),o=n.$o.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.No.get(s[a]);i=i.unionWith(u.view.To)}return i}function wm(t,e){return Object(zl.b)(this,void 0,void 0,function(){var n,r,i;return Object(zl.d)(this,function(o){switch(o.label){case 0:return[4,wy((n=tf(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.So(r),[2,(n.isPrimaryClient&&pm(n,e.targetId,i.Po),i)]}})})}function _m(t){return Object(zl.b)(this,void 0,void 0,function(){var e;return Object(zl.d)(this,function(n){return[2,ky((e=tf(t)).localStore).then(function(t){return gm(e,t)})]})})}function km(t,e,n,r){return Object(zl.b)(this,void 0,void 0,function(){var i,o;return Object(zl.d)(this,function(a){switch(a.label){case 0:return[4,function(t,e){var n=tf(t),r=tf(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Jt(t,e).next(function(e){return e?n.Kn.bn(t,e):Kp.resolve(null)})})}((i=tf(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Eg(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(fm(i,e,r||null),lm(i,e),function(t,e){tf(tf(t).Tn).Xt(e)}(i.localStore,e)):Zl(),a.label=4;case 4:return[4,gm(i,o)];case 5:return a.sent(),[3,7];case 6:Yl("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function Em(t,e){return Object(zl.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(zl.d)(this,function(c){switch(c.label){case 0:return xm(n=tf(t)),Am(n),!0!==e||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Om(n,r.toArray())]);case 1:return i=c.sent(),n.Uo=!0,[4,Ag(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)lg(n.remoteStore,a[o]);return[3,7];case 3:return!1!==e||!1===n.Uo?[3,7]:(s=[],u=Promise.resolve(),n.$o.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?s.push(e):u=u.then(function(){return hm(n,e),by(n.localStore,e,!0)}),fg(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Om(n,s)];case 5:return c.sent(),function(t){var e=tf(t);e.ko.forEach(function(t,n){fg(e.remoteStore,n)}),e.Mo.cs(),e.ko=new Map,e.Oo=new md(bf.comparator)}(n),n.Uo=!1,[4,Ag(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Om(t,e,n){return Object(zl.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l,f,h,d,p;return Object(zl.d)(this,function(v){switch(v.label){case 0:n=tf(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.$o.get(s=a[o]))&&0!==c.length?[4,my(n.localStore,_h(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,f=c,v.label=3;case 3:return l<f.length?(h=n.No.get(f[l]),[4,wm(n,h)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,_y(n.localStore,s)];case 8:return p=v.sent(),[4,my(n.localStore,p)];case 9:return u=v.sent(),[4,em(n,Sm(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}})})}function Sm(t){return dh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Tm(t){var e=tf(t);return tf(tf(e.localStore).persistence).gn()}function Im(t,e,n,r){return Object(zl.b)(this,void 0,void 0,function(){var i,o,a;return Object(zl.d)(this,function(s){switch(s.label){case 0:return(i=tf(t)).Uo?(Yl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ky(i.localStore)];case 3:return o=s.sent(),a=Dd.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,gm(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,by(i.localStore,e,!0)];case 6:return s.sent(),hm(i,e,r),[3,8];case 7:Zl(),s.label=8;case 8:return[2]}})})}function Cm(t,e,n){return Object(zl.b)(this,void 0,void 0,function(){var r,i,o,a,s,u,c,l,f;return Object(zl.d)(this,function(h){switch(h.label){case 0:if(!(r=xm(t)).Uo)return[3,10];i=0,o=e,h.label=1;case 1:return i<o.length?r.$o.has(a=o[i])?(Yl("SyncEngine","Adding an already active target "+a),[3,5]):[4,_y(r.localStore,a)]:[3,6];case 2:return s=h.sent(),[4,my(r.localStore,s)];case 3:return u=h.sent(),[4,em(r,Sm(s),u.targetId,!1)];case 4:h.sent(),lg(r.remoteStore,u),h.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(zl.d)(this,function(e){switch(e.label){case 0:return r.$o.has(t)?[4,by(r.localStore,t,!1).then(function(){fg(r.remoteStore,t),hm(r,t)}).catch(Uv)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,f=n,h.label=7;case 7:return l<f.length?[5,c(f[l])]:[3,10];case 8:h.sent(),h.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function xm(t){var e=tf(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=im.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=am.bind(null,e),e.xo.Tr=Bg.bind(null,e.eventManager),e.xo.Ko=Hg.bind(null,e.eventManager),e}function Am(t){var e=tf(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=um.bind(null,e),e}var jm=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(zl.b)(this,void 0,void 0,function(){return Object(zl.d)(this,function(e){switch(e.label){case 0:return this.D=tg(t.databaseInfo.databaseId),this.sharedClientState=this.jo(t),this.persistence=this.Go(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t),[2]}})})},t.prototype.zo=function(t){return null},t.prototype.Ho=function(t){return fy(this.persistence,new cy,t.initialUser,this.D)},t.prototype.Go=function(t){return new Ry(Py.Cs,this.D)},t.prototype.jo=function(t){return new Ky},t.prototype.terminate=function(){return Object(zl.b)(this,void 0,void 0,function(){return Object(zl.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Nm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Jo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(zl.c)(e,t),e.prototype.initialize=function(e){return Object(zl.b)(this,void 0,void 0,function(){return Object(zl.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Ey(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,e)];case 3:return n.sent(),[4,Am(this.Jo.syncEngine)];case 4:return n.sent(),[4,Eg(this.Jo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ho=function(t){return fy(this.persistence,new cy,t.initialUser,this.D)},e.prototype.zo=function(t){return new Bv(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.Go=function(t){var e=oy(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Tv.withCacheSize(this.cacheSizeBytes):Tv.DEFAULT;return new ny(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Zy(),$y(),this.D,this.sharedClientState,!!this.forceOwnership)},e.prototype.jo=function(t){return new Ky},e}(jm),Rm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Jo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(zl.c)(e,t),e.prototype.initialize=function(e){return Object(zl.b)(this,void 0,void 0,function(){var n,r=this;return Object(zl.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof Gy?(this.sharedClientState.syncEngine={wi:km.bind(null,n),_i:Im.bind(null,n),mi:Cm.bind(null,n),gn:Tm.bind(null,n),di:_m.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en(function(t){return Object(zl.b)(r,void 0,void 0,function(){return Object(zl.d)(this,function(e){switch(e.label){case 0:return[4,Em(this.Jo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jo=function(t){var e=Zy();if(!Gy.At(e))throw new pf(df.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=oy(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Gy(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Nm),Dm=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(zl.b)(this,void 0,void 0,function(){var n=this;return Object(zl.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return om(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=mm.bind(null,this.syncEngine),[4,Ag(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Ug},t.prototype.createDatastore=function(t){var e=tg(t.databaseInfo.databaseId),n=new Xy(t.databaseInfo);return function(t,e,n){return new og(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return om(a.syncEngine,t,0)},o=Yy.At()?new Yy:new Wy,new sg(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new $g(t,e,n,r,i,o);return a&&(s.Uo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(zl.b)(this,void 0,void 0,function(){var e;return Object(zl.d)(this,function(n){switch(n.label){case 0:return e=tf(t),Yl("RemoteStore","RemoteStore shutting down."),e.Qr.add(5),[4,cg(e)];case 1:return n.sent(),e.Wr.shutdown(),e.jr.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Pm=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xo=function(){this.muted=!0},t.prototype.Yo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Lm=(function(){function t(t,e){var n=this;this.Zo=t,this.D=e,this.metadata=new Gp,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then(function(t){t&&t.ho()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Zo.cancel()},t.prototype.getMetadata=function(){return Object(zl.b)(this,void 0,void 0,function(){return Object(zl.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Wo=function(){return Object(zl.b)(this,void 0,void 0,function(){return Object(zl.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.ec())]}})})},t.prototype.ec=function(){return Object(zl.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(zl.d)(this,function(i){switch(i.label){case 0:return[4,this.nc()];case 1:return null===(t=i.sent())?[2,null]:(e=this.tc.decode(t),n=Number(e),isNaN(n)&&this.sc("length string ("+e+") is not valid number"),[4,this.ic(n)]);case 2:return r=i.sent(),[2,new Kg(JSON.parse(r),t.length+n)]}})})},t.prototype.rc=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.nc=function(){return Object(zl.b)(this,void 0,void 0,function(){var t,e;return Object(zl.d)(this,function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.ic=function(t){return Object(zl.b)(this,void 0,void 0,function(){var e;return Object(zl.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.tc.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.sc=function(t){throw this.Zo.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.oc=function(){return Object(zl.b)(this,void 0,void 0,function(){var t,e;return Object(zl.d)(this,function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(zl.b)(this,void 0,void 0,function(){var e,n=this;return Object(zl.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new pf(df.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(zl.b)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(zl.d)(this,function(u){switch(u.label){case 0:return n=tf(t),r=np(n.D)+"/documents",i={documents:e.map(function(t){return Zd(n.D,t)})},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){$l(!!e.found);var n=$d(t,e.found.name),r=Qd(e.found.updateTime),i=new jh({mapValue:{fields:e.found.fields}});return new Hf(n,r,i,{})}(t,e):"missing"in e?function(t,e){$l(!!e.missing),$l(!!e.readTime);var n=$d(t,e.missing),r=Qd(e.readTime);return new zf(n,r)}(t,e):Zl()}(n.D,t);a.set(e.key.toString(),e)}),s=[],[2,(e.forEach(function(t){var e=a.get(t.toString());$l(!!e),s.push(e)}),s)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof zf||t instanceof Hf?n.recordVersion(t):Zl()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new dd(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(zl.b)(this,void 0,void 0,function(){var t,e=this;return Object(zl.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=bf.fromPath(n);e.mutations.push(new pd(r,e.precondition(r)))}),[4,function(t,e){return Object(zl.b)(this,void 0,void 0,function(){var n,r,i;return Object(zl.d)(this,function(o){switch(o.label){case 0:return n=tf(t),r=np(n.D)+"/documents",i={writes:e.map(function(t){return ap(n.D,t)})},[4,n.Mi("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t instanceof Hf)e=t.version;else{if(!(t instanceof zf))throw Zl();e=xh.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new pf(df.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Xh.updateTime(e):Xh.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(xh.min()))throw new pf(df.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xh.updateTime(e)}return Xh.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Mm=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new eg(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ac()},t.prototype.ac=function(){var t=this;this.rr.Yi(function(){return Object(zl.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(zl.d)(this,function(r){return t=new Lm(this.datastore),(e=this.uc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.hc(t)})})}).catch(function(t){n.hc(t)}),[2]})})})},t.prototype.uc=function(t){try{var e=this.updateFunction(t);return!lf(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.hc=function(t){var e=this;this.cc>0&&this.lc(t)?(this.cc-=1,this.asyncQueue.enqueueAndForget(function(){return e.ac(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.lc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!yd(e)}return!1},t}(),Fm=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Ly.UNAUTHENTICATED,this.clientId=nf.u(),this.credentialListener=function(){},this.receivedInitialUser=new Gp,this.credentials.setChangeListener(function(t){Yl("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(zl.b)(this,void 0,void 0,function(){return Object(zl.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new pf(df.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Gp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(zl.b)(t,void 0,void 0,function(){var t,n;return Object(zl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Dg(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Um(t,e){return Object(zl.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(zl.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Yl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(zl.b)(i,void 0,void 0,function(){return Object(zl.d)(this,function(t){switch(t.label){case 0:return[4,hy(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Vm(t,e){return Object(zl.b)(this,void 0,void 0,function(){var n,r;return Object(zl.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,qm(t)];case 1:return n=i.sent(),Yl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(zl.b)(this,void 0,void 0,function(){var n,r;return Object(zl.d)(this,function(i){switch(i.label){case 0:return(n=tf(t)).asyncQueue.verifyOperationInProgress(),Yl("RemoteStore","RemoteStore received new credentials"),r=yg(n),n.Qr.add(3),[4,cg(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Qr.delete(3),[4,ug(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function qm(t){return Object(zl.b)(this,void 0,void 0,function(){return Object(zl.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Yl("FirestoreClient","Using default OfflineComponentProvider"),[4,Um(t,new jm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Bm(t){return Object(zl.b)(this,void 0,void 0,function(){return Object(zl.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Yl("FirestoreClient","Using default OnlineComponentProvider"),[4,Vm(t,new Dm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Hm(t){return qm(t).then(function(t){return t.persistence})}function zm(t){return qm(t).then(function(t){return t.localStore})}function Gm(t){return Bm(t).then(function(t){return t.remoteStore})}function Km(t){return Bm(t).then(function(t){return t.syncEngine})}function Wm(t){return Object(zl.b)(this,void 0,void 0,function(){var e,n;return Object(zl.d)(this,function(r){switch(r.label){case 0:return[4,Bm(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=tm.bind(null,e.syncEngine),n.onUnlisten=nm.bind(null,e.syncEngine),n)]}})})}function Ym(t,e,n){var r=this;void 0===n&&(n={});var i=new Gp;return t.asyncQueue.enqueueAndForget(function(){return Object(zl.b)(r,void 0,void 0,function(){var r;return Object(zl.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Pm({next:function(o){e.enqueueAndForget(function(){return qg(t,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new pf(df.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new pf(df.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Gg(ph(n.path),o,{includeMetadataChanges:!0,uo:!0});return Vg(t,a)},[4,Wm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Qm(t,e,n){var r=this;void 0===n&&(n={});var i=new Gp;return t.asyncQueue.enqueueAndForget(function(){return Object(zl.b)(r,void 0,void 0,function(){var r;return Object(zl.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Pm({next:function(n){e.enqueueAndForget(function(){return qg(t,a)}),n.fromCache&&"server"===r.source?i.reject(new pf(df.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Gg(n,o,{includeMetadataChanges:!0,uo:!0});return Vg(t,a)},[4,Wm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Jm=function(t,e,n,r,i,o){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=o},Xm=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Zm=new Map,$m=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},tb=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(Ly.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),eb=function(){function t(t){var e=this;this.fc=null,this.currentUser=Ly.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){e.dc++,e.currentUser=e.wc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.dc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),t.get().then(function(t){e.auth=t,e.fc&&e.auth.addAuthTokenListener(e.fc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.dc!==e?(Yl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?($l("string"==typeof n.accessToken),new $m(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},t.prototype.wc=function(){var t=this.auth&&this.auth.getUid();return $l(null===t||"string"==typeof t),new Ly(t)},t}(),nb=function(){function t(t,e){this._c=t,this.mc=e,this.type="FirstParty",this.user=Ly.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.mc},e=this._c.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),rb=function(){function t(t,e){this._c=t,this.mc=e}return t.prototype.getToken=function(){return Promise.resolve(new nb(this._c,this.mc))},t.prototype.setChangeListener=function(t){t(Ly.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function ib(t,e,n){if(!n)throw new pf(df.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function ob(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new pf(df.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ab(t,e,n,r){if(!0===e&&!0===r)throw new pf(df.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function sb(t){if(!bf.isDocumentKey(t))throw new pf(df.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ub(t){if(bf.isDocumentKey(t))throw new pf(df.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function cb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Zl()}function lb(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pf(df.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=cb(t);throw new pf(df.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function fb(t,e){if(e<=0)throw new pf(df.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var hb=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new pf(df.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new pf(df.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,ab("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),db=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new hb({}),this._settingsFrozen=!1,t instanceof Xm?(this._databaseId=t,this._credentials=new tb):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new pf(df.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xm(t.options.projectId)}(t),this._credentials=new eb(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new pf(df.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new pf(df.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hb(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new tb;switch(t.type){case"gapi":var e=t.client;return $l(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new rb(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new pf(df.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Zm.get(this))&&(Yl("ComponentProvider","Removing Datastore"),Zm.delete(this),t.terminate()),Promise.resolve();var t},t}(),pb=function(t){this._delegate=t},vb=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new gb(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),yb=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),gb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ph(r))||this).firestore=e,i._path=r,i.type="collection",i}return Object(zl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new vb(this.firestore,null,new bf(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(yb);function mb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof pb&&(t=t._delegate),ib("collection","path",e),t instanceof db)return ub(n=yf.fromString.apply(yf,Object(zl.f)([e],r))),new gb(t,null,n);if(!(t instanceof vb||t instanceof gb))throw new pf(df.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ub(n=yf.fromString.apply(yf,Object(zl.f)([t.path],r)).child(yf.fromString(e))),new gb(t.firestore,null,n)}function bb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof pb&&(t=t._delegate),1===arguments.length&&(e=nf.u()),ib("doc","path",e),t instanceof db)return sb(n=yf.fromString.apply(yf,Object(zl.f)([e],r))),new vb(t,null,new bf(n));if(!(t instanceof vb||t instanceof gb))throw new pf(df.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return sb(n=t._path.child(yf.fromString.apply(yf,Object(zl.f)([e],r)))),new vb(t.firestore,t instanceof gb?t._converter:null,new bf(n))}function wb(t,e){return t instanceof pb&&(t=t._delegate),e instanceof pb&&(e=e._delegate),(t instanceof vb||t instanceof gb)&&(e instanceof vb||e instanceof gb)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function _b(t,e){return t instanceof pb&&(t=t._delegate),e instanceof pb&&(e=e._delegate),t instanceof yb&&e instanceof yb&&t.firestore===e.firestore&&Eh(t._query,e._query)&&t._converter===e._converter}var kb=function(){function t(){var t=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new eg(this,"async_queue_retry"),this.bc=function(){var e=$y();e&&Yl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.Zi()};var e=$y();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.vc(),this.Pc(t)},t.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var t=$y();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}},t.prototype.enqueue=function(t){return this.vc(),this.Ec?new Promise(function(t){}):this.Pc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.gc.push(t),e.Vc()})},t.prototype.Vc=function(){return Object(zl.b)(this,void 0,void 0,function(){var t,e=this;return Object(zl.d)(this,function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!Xp(t=n.sent()))throw t;return Yl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gc.length>0&&this.rr.Yi(function(){return e.Vc()}),n.label=5;case 5:return[2]}})})},t.prototype.Pc=function(t){var e=this,n=this.yc.then(function(){return e.Ac=!0,t().catch(function(t){throw e.Ic=t,e.Ac=!1,Ql("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Ac=!1,t})});return this.yc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.vc(),this.Rc.indexOf(t)>-1&&(e=0);var i=Rg.createAndSchedule(this,t,e,n,function(t){return r.Sc(t)});return this.Tc.push(i),i},t.prototype.vc=function(){this.Ic&&Zl()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Dc=function(){return Object(zl.b)(this,void 0,void 0,function(){var t;return Object(zl.d)(this,function(e){switch(e.label){case 0:return[4,t=this.yc];case 1:e.sent(),e.label=2;case 2:if(t!==this.yc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Cc=function(t){for(var e=0,n=this.Tc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.xc=function(t){var e=this;return this.Dc().then(function(){e.Tc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Dc()})},t.prototype.Nc=function(t){this.Rc.push(t)},t.prototype.Sc=function(t){var e=this.Tc.indexOf(t);this.Tc.splice(e,1)},t}();function Eb(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Gp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Ob=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new kb,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(zl.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Tb(this),this._firestoreClient.terminate()},e}(db);function Sb(t){return t._firestoreClient||Tb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Tb(t){var e=t._freezeSettings(),n=function(t,e,n){return new Jm(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t._databaseId,t._persistenceKey,e);t._firestoreClient=new Fm(t._credentials,t._queue,n)}function Ib(t,e,n){var r=this,i=new Gp;return t.asyncQueue.enqueue(function(){return Object(zl.b)(r,void 0,void 0,function(){var r;return Object(zl.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Um(t,n)];case 1:return o.sent(),[4,Vm(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===df.FAILED_PRECONDITION||t.code===df.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Cb(t){if(t._initialized||t._terminated)throw new pf(df.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var xb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new pf(df.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mf(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Ab=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(wf.fromBase64String(e))}catch(e){throw new pf(df.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(wf.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),jb=function(t){this._methodName=t},Nb=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new pf(df.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new pf(df.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return rf(this._lat,t._lat)||rf(this._long,t._long)},t}(),Rb=/^__.*__$/,Db=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new ad(t,this.data,this.fieldMask,e,this.fieldTransforms):new od(t,this.data,e,this.fieldTransforms)},t}(),Pb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new ad(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Lb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zl()}}var Mb=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),t.prototype.Oc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.Lc(t),r},t.prototype.Bc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.$c(),r},t.prototype.qc=function(t){return this.Oc({path:void 0,Mc:!0})},t.prototype.Uc=function(t){return rw(t,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.$c=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Lc(this.path.get(t))},t.prototype.Lc=function(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(Lb(this.Fc)&&Rb.test(t))throw this.Uc('Document fields cannot begin and end with "__"')},t}(),Fb=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.D=n||tg(t)}return t.prototype.Wc=function(t,e,n,r){return void 0===r&&(r=!1),new Mb({Fc:t,methodName:e,Kc:n,path:mf.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},t}();function Ub(t){var e=t._freezeSettings(),n=tg(t._databaseId);return new Fb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Vb(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Wc(o.merge||o.mergeFields?2:0,e,n,i);$b("Data must be an object, but it was:",a,r);var s,u,c=Xb(r,a);if(o.merge)s=new Ah(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=tw(e,h[f],n);if(!a.contains(d))throw new pf(df.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");iw(l,d)||l.push(d)}s=new Ah(l),u=a.fieldTransforms.filter(function(t){return s.covers(t.field)})}else s=null,u=a.fieldTransforms;return new Db(new jh(c),s,u)}var qb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zl.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Fc)throw t.Uc(1===t.Fc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(jb);function Bb(t,e,n){return new Mb({Fc:3,Kc:e.settings.Kc,methodName:t._methodName,Mc:n},e.databaseId,e.D,e.ignoreUndefinedProperties)}var Hb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zl.c)(e,t),e.prototype._toFieldTransform=function(t){return new Qh(t.path,new qh)},e.prototype.isEqual=function(t){return t instanceof e},e}(jb),zb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(zl.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Bb(this,t,!0),n=this.jc.map(function(t){return Jb(t,e)}),r=new Bh(n);return new Qh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(jb),Gb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(zl.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Bb(this,t,!0),n=this.jc.map(function(t){return Jb(t,e)}),r=new zh(n);return new Qh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(jb),Kb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Gc=n,r}return Object(zl.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Kh(t.D,Lh(t.D,this.Gc));return new Qh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(jb);function Wb(t,e,n,r){var i=t.Wc(1,e,n);$b("Data must be an object, but it was:",i,r);var o=[],a=new Nh;uf(r,function(t,r){var s=nw(e,t,n);r instanceof pb&&(r=r._delegate);var u=i.Bc(s);if(r instanceof qb)o.push(s);else{var c=Jb(r,u);null!=c&&(o.push(s),a.set(s,c))}});var s=new Ah(o);return new Pb(a.v(),s,i.fieldTransforms)}function Yb(t,e,n,r,i,o){var a=t.Wc(1,e,n),s=[tw(e,r,n)],u=[i];if(o.length%2!=0)throw new pf(df.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(tw(e,o[c])),u.push(o[c+1]);for(var l=[],f=new Nh,h=s.length-1;h>=0;--h)if(!iw(l,s[h])){var d=s[h],p=u[h];p instanceof pb&&(p=p._delegate);var v=a.Bc(d);if(p instanceof qb)l.push(d);else{var y=Jb(p,v);null!=y&&(l.push(d),f.set(d,y))}}var g=new Ah(l);return new Pb(f.v(),g,a.fieldTransforms)}function Qb(t,e,n,r){return void 0===r&&(r=!1),Jb(n,t.Wc(r?4:3,e))}function Jb(t,e){if(t instanceof pb&&(t=t._delegate),Zb(t))return $b("Unsupported field value:",e,t),Xb(t,e);if(t instanceof jb)return function(t,e){if(!Lb(e.Fc))throw e.Uc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Uc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Mc&&4!==e.Fc)throw e.Uc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Jb(o[i],e.qc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof pb&&(t=t._delegate),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Lh(e.D,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Sf.fromDate(t);return{timestampValue:Kd(e.D,n)}}if(t instanceof Sf)return n=new Sf(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Kd(e.D,n)};if(t instanceof Nb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ab)return{bytesValue:Wd(e.D,t._byteString)};if(t instanceof vb){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Jd(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc("Unsupported field value: "+cb(t))}(t,e)}function Xb(t,e){var n={};return cf(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uf(t,function(t,r){var i=Jb(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Zb(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Sf||t instanceof Nb||t instanceof Ab||t instanceof vb||t instanceof jb)}function $b(t,e,n){if(!Zb(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=cb(n);throw e.Uc("an object"===r?t+" a custom object":t+" "+r)}}function tw(t,e,n){if(e instanceof pb&&(e=e._delegate),e instanceof xb)return e._internalPath;if("string"==typeof e)return nw(t,e);throw rw("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var ew=new RegExp("[~\\*/\\[\\]]");function nw(t,e,n){if(e.search(ew)>=0)throw rw("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(xb.bind.apply(xb,Object(zl.f)([void 0],e.split(".")))))._internalPath}catch(r){throw rw("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function rw(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new pf(df.INVALID_ARGUMENT,(s+=". ")+t+u)}function iw(t,e){return t.some(function(t){return t.isEqual(e)})}var ow=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new vb(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new aw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data().field(sw("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),aw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zl.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(ow);function sw(t,e){return"string"==typeof e?nw(t,e):e instanceof pb?e._delegate._internalPath:e._internalPath}var uw=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),cw=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Object(zl.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new lw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data().field(sw("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(ow),lw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zl.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(cw),fw=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new uw(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new lw(n._firestore,n._userDataWriter,r.key,r,new uw(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new pf(df.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new lw(t._firestore,t._userDataWriter,e.doc.key,e.doc,new uw(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new lw(t._firestore,t._userDataWriter,e.doc.key,e.doc,new uw(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:hw(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function hw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zl()}}function dw(t,e){return t instanceof cw&&e instanceof cw?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof fw&&e instanceof fw&&t._firestore===e._firestore&&_b(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function pw(t){if(yh(t)&&0===t.explicitOrderBy.length)throw new pf(df.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vw=function(){};function yw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var gw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).zc=e,i.Hc=n,i.Jc=r,i.type="where",i}return Object(zl.c)(e,t),e.prototype._apply=function(t){var e=Ub(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new pf(df.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Ow(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(Ew(r,t,l[c]));s={arrayValue:{values:u}}}else s=Ew(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ow(a,o),s=Qb(n,"where",a,"in"===o||"not-in"===o);var f=Xf.create(i,o,s);return function(t,e){if(e.g()){var n=mh(t);if(null!==n&&!n.isEqual(e.field))throw new pf(df.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=gh(t);null!==r&&Sw(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new pf(df.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new yb(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new hh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(vw),mw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zc=e,r.Yc=n,r.type="orderBy",r}return Object(zl.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new pf(df.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new pf(df.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new uh(e,n);return function(t,e){if(null===gh(t)){var n=mh(t);null!==n&&Sw(0,n,e.field)}}(t,r),r}(t._query,this.zc,this.Yc);return new yb(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new hh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(vw),bw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(zl.c)(e,t),e.prototype._apply=function(t){return new yb(t.firestore,t._converter,kh(t._query,this.Xc,this.Zc))},e}(vw),ww=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(zl.c)(e,t),e.prototype._apply=function(t){var e=kw(t,this.type,this.ta,this.ea);return new yb(t.firestore,t._converter,function(t,e){return new hh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(vw),_w=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(zl.c)(e,t),e.prototype._apply=function(t){var e=kw(t,this.type,this.ta,this.ea);return new yb(t.firestore,t._converter,function(t,e){return new hh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(vw);function kw(t,e,n,r){if(n[0]instanceof pb&&(n[0]=n[0]._delegate),n[0]instanceof ow)return function(t,e,n,r,i){if(!r)throw new pf(df.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=wh(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Lf(e,r.key));else{var c=r.field(u.field);if(Tf(c))throw new pf(df.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new pf(df.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ah(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Ub(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new pf(df.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new pf(df.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!bh(t)&&-1!==c.indexOf("/"))throw new pf(df.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(yf.fromString(c));if(!bf.isDocumentKey(l))throw new pf(df.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new bf(l);s.push(Lf(e,f))}else{var h=Qb(n,r,c);s.push(h)}}return new ah(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Ew(t,e,n){if(n instanceof pb&&(n=n._delegate),"string"==typeof n){if(""===n)throw new pf(df.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!bh(e)&&-1!==n.indexOf("/"))throw new pf(df.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(yf.fromString(n));if(!bf.isDocumentKey(r))throw new pf(df.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Lf(t,new bf(r))}if(n instanceof vb)return Lf(t,n._key);throw new pf(df.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+cb(n)+".")}function Ow(t,e){if(!Array.isArray(t)||0===t.length)throw new pf(df.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new pf(df.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Sw(t,e,n){if(!n.isEqual(e))throw new pf(df.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Tw=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),xf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ef(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Of(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Zl()}},t.prototype.convertObject=function(t,e){var n=this,r={};return uf(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Nb(Ef(t.latitude),Ef(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=If(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Cf(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=kf(t);return new Sf(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=yf.fromString(t);$l(_p(n));var r=new Xm(n.get(1),n.get(3)),i=new bf(n.popFirst(5));return r.isEqual(e)||Ql("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Iw(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Cw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(zl.c)(e,t),e.prototype.convertBytes=function(t){return new Ab(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new vb(this.firestore,null,e)},e}(Tw),xw=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ub(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Aw(t,this._firestore),i=Iw(r._converter,e,n),o=Vb(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,Xh.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Aw(t,this._firestore);return e instanceof pb&&(e=e._delegate),o="string"==typeof e||e instanceof xb?Yb(this._dataReader,"WriteBatch.update",a._key,e,n,r):Wb(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,Xh.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Aw(t,this._firestore);return this._mutations=this._mutations.concat(new dd(e._key,Xh.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new pf(df.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Aw(t,e){if(t instanceof pb&&(t=t._delegate),t.firestore!==e)throw new pf(df.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var jw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(zl.c)(e,t),e.prototype.convertBytes=function(t){return new Ab(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new vb(this.firestore,null,e)},e}(Tw);function Nw(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=lb(t,vb);var o=lb(t.firestore,Ob),a=Ub(o);return e instanceof pb&&(e=e._delegate),Dw(o,[("string"==typeof e||e instanceof xb?Yb(a,"updateDoc",t._key,e,n,r):Wb(a,"updateDoc",t._key,e)).toMutation(t._key,Xh.exists(!0))])}function Rw(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof pb&&(t=t._delegate);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Eb(i[s])||(a=i[s],s++);var u,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(Eb(i[s])){var h=i[s];i[s]=null===(e=h.next)||void 0===e?void 0:e.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(t instanceof vb)c=lb(t.firestore,Ob),l=ph(t._key.path),u={next:function(e){i[s]&&i[s](Pw(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=lb(t,yb);c=lb(d.firestore,Ob),l=d._query;var p=new jw(c);u={next:function(t){i[s]&&i[s](new fw(c,p,d,t))},error:i[s+1],complete:i[s+2]},pw(t._query)}return function(t,e,n,r){var i=this,o=new Pm(r),a=new Gg(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(zl.b)(i,void 0,void 0,function(){var e;return Object(zl.d)(this,function(n){switch(n.label){case 0:return e=Vg,[4,Wm(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})}),function(){o.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(zl.b)(i,void 0,void 0,function(){var e;return Object(zl.d)(this,function(n){switch(n.label){case 0:return e=qg,[4,Wm(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})})}}(Sb(c),l,f,u)}function Dw(t,e){return function(t,e){var n=this,r=new Gp;return t.asyncQueue.enqueueAndForget(function(){return Object(zl.b)(n,void 0,void 0,function(){var n;return Object(zl.d)(this,function(i){switch(i.label){case 0:return n=rm,[4,Km(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Sb(t),e)}function Pw(t,e,n){var r=n.docs.get(e._key),i=new jw(t);return new cw(t,i,e._key,r,new uw(n.hasPendingWrites,n.fromCache),e._converter)}var Lw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(zl.c)(e,t),e.prototype.get=function(e){var n=this,r=Aw(e,this._firestore),i=new jw(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new cw(n._firestore,i,r._key,t._document,new uw(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Ub(t)}return t.prototype.get=function(t){var e=this,n=Aw(t,this._firestore),r=new Cw(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Zl();var i=t[0];if(i instanceof zf)return new ow(e._firestore,r,n._key,null,n._converter);if(i instanceof Hf)return new ow(e._firestore,r,i.key,i,n._converter);throw Zl()})},t.prototype.set=function(t,e,n){var r=Aw(t,this._firestore),i=Iw(r._converter,e,n),o=Vb(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Aw(t,this._firestore);return e instanceof pb&&(e=e._delegate),o="string"==typeof e||e instanceof xb?Yb(this._dataReader,"Transaction.update",a._key,e,n,r):Wb(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=Aw(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Mw(){if("undefined"==typeof Uint8Array)throw new pf(df.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Fw(){if("undefined"==typeof atob)throw new pf(df.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Uw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zl.c)(e,t),e.fromBase64String=function(t){return Fw(),new e(Ab.fromBase64String(t))},e.fromUint8Array=function(t){return Mw(),new e(Ab.fromUint8Array(t))},e.prototype.toBase64=function(){return Fw(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Mw(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(pb),Vw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Cb(t=lb(t,Ob));var n=Sb(t),r=t._freezeSettings(),i=new Dm;return Ib(n,i,new Nm(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Cb(t=lb(t,Ob));var e=Sb(t),n=t._freezeSettings(),r=new Dm;return Ib(e,r,new Rm(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new pf(df.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Gp;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(zl.b)(e,void 0,void 0,function(){var e;return Object(zl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(zl.b)(this,void 0,void 0,function(){return Object(zl.d)(this,function(e){switch(e.label){case 0:return Yp.At()?[4,Yp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(oy(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),qw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Xm||(i.sa=e),i}return Object(zl.c)(e,t),Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=lb(t,db))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&Jl("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(zl.b)(e,void 0,void 0,function(){var e,n;return Object(zl.d)(this,function(r){switch(r.label){case 0:return[4,Hm(t)];case 1:return e=r.sent(),[4,Gm(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=tf(t);return e.Qr.delete(0),ug(e)}(n))]}})})})}(Sb(lb(this._delegate,Ob)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(zl.b)(e,void 0,void 0,function(){var e,n;return Object(zl.d)(this,function(r){switch(r.label){case 0:return[4,Hm(t)];case 1:return e=r.sent(),[4,Gm(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(zl.b)(this,void 0,void 0,function(){var e;return Object(zl.d)(this,function(n){switch(n.label){case 0:return(e=tf(t)).Qr.add(0),[4,cg(e)];case 1:return n.sent(),e.jr.set("Offline"),[2]}})})}(n))]}})})})}(Sb(lb(this._delegate,Ob)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ab("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Gp;return t.asyncQueue.enqueueAndForget(function(){return Object(zl.b)(e,void 0,void 0,function(){var e;return Object(zl.d)(this,function(r){switch(r.label){case 0:return e=cm,[4,Km(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Sb(lb(this._delegate,Ob)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Pm(e);return t.asyncQueue.enqueueAndForget(function(){return Object(zl.b)(n,void 0,void 0,function(){var e;return Object(zl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){tf(t).Zr.add(e),e.next()},[4,Wm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(zl.b)(n,void 0,void 0,function(){var e;return Object(zl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){tf(t).Zr.delete(e)},[4,Wm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Sb(t=lb(t,Ob)),Eb(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.sa)throw new pf(df.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new e_(this,mb(this._delegate,t))}catch(t){throw Ww(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Kw(this,bb(this._delegate,t))}catch(t){throw Ww(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Zw(this,function(t,e){if(t=lb(t,db),ib("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new pf(df.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new yb(t,null,function(t){return new hh(yf.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Ww(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Gp;return t.asyncQueue.enqueueAndForget(function(){return Object(zl.b)(n,void 0,void 0,function(){var n;return Object(zl.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Bm(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Mm(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Sb(t),function(n){return e(new Lw(t,n))})}(this._delegate,function(n){return t(new Hw(e,n))})},e.prototype.batch=function(){var t=this;return Sb(this._delegate),new zw(new xw(this._delegate,function(e){return Dw(t._delegate,e)}))},e.prototype.loadBundle=function(t){throw new pf(df.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new pf(df.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(pb),Bw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(zl.c)(e,t),e.prototype.convertBytes=function(t){return new Uw(new Ab(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Kw.ia(e,this.firestore,null)},e}(Tw),Hw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r._userDataWriter=new Bw(e),r}return Object(zl.c)(e,t),e.prototype.get=function(t){var e=this,n=n_(t);return this._delegate.get(n).then(function(t){return new Jw(e._firestore,new cw(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},e.prototype.set=function(t,e,n){var r=n_(t);return n?(ob("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=n_(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Object(zl.f)([a,e,n],i)),this},e.prototype.delete=function(t){var e=n_(t);return this._delegate.delete(e),this},e}(pb),zw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zl.c)(e,t),e.prototype.set=function(t,e,n){var r=n_(t);return n?(ob("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=n_(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Object(zl.f)([a,e,n],i)),this},e.prototype.delete=function(t){var e=n_(t);return this._delegate.delete(e),this},e.prototype.commit=function(){return this._delegate.commit()},e}(pb),Gw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this)._firestore=e,i._userDataWriter=n,i}return Object(zl.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new lw(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Xw(this._firestore,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},e.ra=function(t,n){var r=e.oa,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Bw(t),n),i.set(n,o)),o},e}(pb);Gw.oa=new WeakMap;var Kw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new Bw(e),r}return Object(zl.c)(e,t),e.ca=function(t,n,r){if(t.length%2!=0)throw new pf(df.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new vb(n._delegate,r,new bf(t)))},e.ia=function(t,n,r){return new e(n,new vb(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new e_(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new e_(this.firestore,mb(this._delegate,t))}catch(t){throw Ww(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof pb&&(t=t._delegate),t instanceof vb&&wb(this._delegate,t)},e.prototype.set=function(t,e){e=ob("DocumentReference.set",e);try{return function(t,e,n){t=lb(t,vb);var r=lb(t.firestore,Ob),i=Iw(t._converter,e,n);return Dw(r,[Vb(Ub(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Xh.none())])}(this._delegate,t,e)}catch(t){throw Ww(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Nw(this._delegate,t):Nw.apply(void 0,Object(zl.f)([this._delegate,t,e],n))}catch(t){throw Ww(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Dw(lb((t=this._delegate).firestore,Ob),[new dd(t._key,Xh.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Yw(e),i=Qw(e,function(e){return new Jw(t.firestore,new cw(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return Rw(this._delegate,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=lb(t,vb);var e=lb(t.firestore,Ob),n=Sb(e),r=new jw(e);return function(t,e){var n=this,r=new Gp;return t.asyncQueue.enqueueAndForget(function(){return Object(zl.b)(n,void 0,void 0,function(){var n;return Object(zl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(zl.b)(this,void 0,void 0,function(){var r,i;return Object(zl.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=tf(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Kn.In(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof Hf?n.resolve(i):i instanceof zf?n.resolve(null):n.reject(new pf(df.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Dg(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,zm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new cw(e,r,t._key,n,new uw(n instanceof Hf&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=lb(t,vb);var e=lb(t.firestore,Ob);return Ym(Sb(e),t._key,{source:"server"}).then(function(n){return Pw(e,t,n)})}(this._delegate):function(t){t=lb(t,vb);var e=lb(t.firestore,Ob);return Ym(Sb(e),t._key).then(function(n){return Pw(e,t,n)})}(this._delegate)).then(function(t){return new Jw(e.firestore,new cw(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Gw.ra(this.firestore,t):null))},e}(pb);function Ww(t,e,n){return t.message=t.message.replace(e,n),t}function Yw(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Eb(r))return r}return{}}function Qw(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Eb(t[0])?t[0]:Eb(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Jw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(zl.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Kw(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,e){return this._delegate.get(t,e)},e.prototype.isEqual=function(t){return dw(this._delegate,t._delegate)},e}(pb),Xw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zl.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Jw),Zw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new Bw(e),r}return Object(zl.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,yw(this._delegate,function(t,e,n){var r=e,i=sw("where",t);return new gw(i,r,n)}(t,n,r)))}catch(t){throw Ww(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,yw(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=sw("orderBy",t);return new mw(r,n)}(t,n)))}catch(t){throw Ww(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,yw(this._delegate,function(t){return fb("limit",t),new bw("limit",t,"F")}(t)))}catch(t){throw Ww(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,yw(this._delegate,function(t){return fb("limitToLast",t),new bw("limitToLast",t,"L")}(t)))}catch(t){throw Ww(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,yw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ww("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Ww(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,yw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ww("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Ww(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,yw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _w("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Ww(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,yw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _w("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Ww(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return _b(this._delegate,t._delegate)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=lb(t,yb);var e=lb(t.firestore,Ob),n=Sb(e),r=new jw(e);return function(t,e){var n=this,r=new Gp;return t.asyncQueue.enqueueAndForget(function(){return Object(zl.b)(n,void 0,void 0,function(){var n;return Object(zl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(zl.b)(this,void 0,void 0,function(){var r,i,o,a,s;return Object(zl.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,wy(t,e,!0)];case 1:return s=u.sent(),r=new Jg(e,s.jn),i=r.Io(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Dg(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,zm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new fw(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=lb(t,yb);var e=lb(t.firestore,Ob),n=Sb(e),r=new jw(e);return Qm(n,t._query,{source:"server"}).then(function(n){return new fw(e,r,t,n)})}(this._delegate):function(t){t=lb(t,yb);var e=lb(t.firestore,Ob),n=Sb(e),r=new jw(e);return pw(t._query),Qm(n,t._query).then(function(n){return new fw(e,r,t,n)})}(this._delegate)).then(function(t){return new t_(e.firestore,new fw(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Yw(e),i=Qw(e,function(e){return new t_(t.firestore,new fw(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Rw(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Gw.ra(this.firestore,t):null))},e}(pb),$w=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(zl.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Xw(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(pb),t_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(zl.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Zw(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Xw(t._firestore,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new $w(e._firestore,t)})},e.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Xw(n._firestore,r))})},e.prototype.isEqual=function(t){return dw(this._delegate,t._delegate)},e}(pb),e_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(zl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Kw(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Kw(this.firestore,void 0===t?bb(this._delegate):bb(this._delegate,t))}catch(t){throw Ww(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=lb(t.firestore,Ob),r=bb(t),i=Iw(t._converter,e);return Dw(n,[Vb(Ub(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Xh.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Kw(e.firestore,t)})},e.prototype.isEqual=function(t){return wb(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Gw.ra(this.firestore,t):null))},e}(Zw);function n_(t){return t instanceof pb&&(t=t._delegate),lb(t,vb)}var r_,i_=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(xb.bind.apply(xb,Object(zl.f)([void 0],e))))||this}return Object(zl.c)(e,t),e.documentId=function(){return new e(mf.keyField().canonicalString())},e.prototype.isEqual=function(t){return t instanceof pb&&(t=t._delegate),t instanceof xb&&this._delegate._internalPath.isEqual(t._internalPath)},e}(pb),o_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zl.c)(e,t),e.serverTimestamp=function(){var t=new Hb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new qb("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zb("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gb("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Kb("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(pb),a_=o("/6Yf"),s_={Firestore:qw,GeoPoint:Nb,Timestamp:Sf,Blob:Uw,Transaction:Hw,WriteBatch:zw,DocumentReference:Kw,DocumentSnapshot:Jw,Query:Zw,QueryDocumentSnapshot:Xw,QuerySnapshot:t_,CollectionReference:e_,FieldPath:i_,FieldValue:o_,setLogLevel:function(t){Kl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new a_.a("firestore",function(t){return function(t,e){return new qw(t,new Ob(t,e),new Vw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},s_)))})(r_=Va.a),r_.registerVersion("@firebase/firestore","2.2.1");var u_=o("qgXg"),c_=o("Ylt2"),l_=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return h(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return p(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}f(_(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new f_(this._getNow(),t)),this._trimBufferThenGetEvents()),f(_(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new Vt.a;if(this.isStopped||this.hasError?e=qe.a.EMPTY:(this.observers.push(t),e=new c_.a(this,t)),i&&t.add(t=new Fa.a(t,i)),n)for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(var s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||u_.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(Ut.a),f_=function t(e,n){h(this,t),this.time=e,this.value=n};function h_(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,u=t.scheduler,c=0,l=!1,f=!1;return function(t){var r;c++,!e||l?(l=!1,e=new l_(i,a,u),r=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){f=!0,n=void 0,e.complete()}}),f&&(n=void 0)):r=e.subscribe(this),this.add(function(){c--,r.unsubscribe(),r=void 0,n&&!f&&s&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)})}}(r))}}function d_(t,e){return e?ue(function(){return t},e):ue(function(){return t})}var p_,v_=o("tf+s"),y_=new s.r("angularfire2.auth.use-emulator"),g_=new s.r("angularfire2.auth.settings"),m_=new s.r("angularfire2.auth.tenant-id"),b_=new s.r("angularfire2.auth.langugage-code"),w_=new s.r("angularfire2.auth.use-device-language"),__=new s.r("angularfire.auth.persistence"),k_=((p_=function t(e,n,r,i,a,s,u,c,l,f){h(this,t);var d=new Da.d(i),p=Object(Da.h)(d),v=new Ut.a,y=Object(Ft.a)(void 0).pipe(Object(Fa.b)(d.outsideAngular),ue(function(){return i.runOutsideAngular(function(){return o.e(5).then(o.bind(null,"6nsN"))})}),Object(ae.a)(function(){return Object(Da.g)(e,i,n)}),Object(ae.a)(function(t){return i.runOutsideAngular(function(){var e=a,n=s;return Object(Da.f)("".concat(t.name,".auth"),"AngularFireAuth",t,function(){var r=i.runOutsideAngular(function(){return t.auth()});return e&&r.useEmulator("http://".concat(e.join(":"))),u&&(r.tenantId=u),r.languageCode=c,l&&r.useDeviceLanguage(),n&&(r.settings=n),f&&r.setPersistence(f),r},[e,u,c,l,n,f])})}),h_({bufferSize:1,refCount:!1}));if(J(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ft.a)(null);else{y.pipe(Fe()).subscribe();var g=y.pipe(ue(function(t){return t.getRedirectResult().then(function(t){return t},function(){return null})}),p,h_({bufferSize:1,refCount:!1})),m=function(t){return new Yt.a(function(e){return{unsubscribe:i.runOutsideAngular(function(){return t(e)})}})},b=y.pipe(ue(function(t){return m(t.onAuthStateChanged.bind(t))})),w=y.pipe(ue(function(t){return m(t.onIdTokenChanged.bind(t))}));this.authState=g.pipe(d_(b),Object(v_.a)(d.outsideAngular),Object(Fa.b)(d.insideAngular)),this.user=g.pipe(d_(w),Object(v_.a)(d.outsideAngular),Object(Fa.b)(d.insideAngular)),this.idToken=this.user.pipe(ue(function(t){return t?Object(Mt.a)(t.getIdToken()):Object(Ft.a)(null)})),this.idTokenResult=this.user.pipe(ue(function(t){return t?Object(Mt.a)(t.getIdTokenResult()):Object(Ft.a)(null)})),this.credential=Object(ro.a)(g,v,this.authState.pipe(be(function(t){return!t}))).pipe(Object(ae.a)(function(t){return(null==t?void 0:t.user)?t:null}),Object(v_.a)(d.outsideAngular),Object(Fa.b)(d.insideAngular))}return Object(Da.i)(this,y,i,{spy:{apply:function(t,e,n){(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(function(t){return v.next(t)})}}})}).\u0275fac=function(t){return new(t||p_)(s.Yb(Da.c),s.Yb(Da.b,8),s.Yb(s.C),s.Yb(s.A),s.Yb(y_,8),s.Yb(g_,8),s.Yb(m_,8),s.Yb(b_,8),s.Yb(w_,8),s.Yb(__,8))},p_.\u0275prov=Object(s.Ib)({factory:function(){return new p_(Object(s.Yb)(Da.c),Object(s.Yb)(Da.b,8),Object(s.Yb)(s.C),Object(s.Yb)(s.A),Object(s.Yb)(y_,8),Object(s.Yb)(g_,8),Object(s.Yb)(m_,8),Object(s.Yb)(b_,8),Object(s.Yb)(w_,8),Object(s.Yb)(__,8))},token:p_,providedIn:"any"}),p_);function E_(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gi.b;return new Yt.a(function(n){var r;return null!=e?e.schedule(function(){r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}})}(t,e)}function O_(t,e){return E_(t,e).pipe(Object(ae.a)(function(t){return{payload:t,type:"query"}}))}function S_(t,n){return O_(t,n).pipe(ve(void 0),Pa(),Object(ae.a)(function(t){var n=e(t,2),r=n[0],i=n[1],o=i.payload.docChanges(),a=o.map(function(t){return{type:t.type,payload:t}});return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach(function(t,e){var n=o.find(function(e){return e.doc.ref.isEqual(t.ref)}),i=null==r?void 0:r.payload.docs.find(function(e){return e.ref.isEqual(t.ref)});n&&JSON.stringify(n.doc.metadata)===JSON.stringify(t.metadata)||!n&&i&&JSON.stringify(i.metadata)===JSON.stringify(t.metadata)||a.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})}),a}))}function T_(t,e,n){return S_(t,n).pipe(ye(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return I_(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return I_(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return I_(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(function(t){return t.payload}),e)},[]),function(t){return t.lift(new so(void 0,void 0))},Object(ae.a)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}function I_(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[e,n].concat(o)),r}function C_(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Da.e)(k_,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);var x_=function(){function n(t,e,r){h(this,n),this.ref=t,this.query=e,this.afs=r}return p(n,[{key:"stateChanges",value:function(t){var n=S_(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(n=n.pipe(Object(ae.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}))),n.pipe(ve(void 0),Pa(),be(function(t){var n=e(t,2),r=n[0];return n[1].length>0||!r}),Object(ae.a)(function(t){var n=e(t,2);n[0];return n[1]}),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(ye(function(t,e){return[].concat(i(t),i(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=C_(t);return T_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return O_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ae.a)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(Object.assign({},n.data()),t({},e.idField,n.id)):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Mt.a)(this.query.get(t)).pipe(Object(Fa.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new A_(this.ref.doc(t),this.afs)}}]),n}(),A_=function(){function n(t,e){h(this,n),this.ref=t,this.afs=e}return p(n,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=L_(this.ref.collection(t),e),r=n.ref,i=n.query;return new x_(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return E_(this.ref,this.afs.schedulers.outsideAngular).pipe(ve(void 0),Pa(),Object(ae.a)(function(t){var n=e(t,2),r=n[0],i=n[1];return i.exists?(null==r?void 0:r.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}})).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(ae.a)(function(n){var r=n.payload;return e.idField?Object.assign(Object.assign({},r.data()),t({},e.idField,r.id)):r.data()}))}},{key:"get",value:function(t){return Object(Mt.a)(this.ref.get(t)).pipe(Object(Fa.b)(this.afs.schedulers.insideAngular))}}]),n}(),j_=function(){function e(t,n){h(this,e),this.query=t,this.afs=n}return p(e,[{key:"stateChanges",value:function(t){return t&&0!==t.length?S_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ae.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),be(function(t){return t.length>0}),this.afs.keepUnstableUntilFirst):S_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(ye(function(t,e){return[].concat(i(t),i(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=C_(t);return T_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return O_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ae.a)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(t({},e.idField,n.id),n.data()):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Mt.a)(this.query.get(t)).pipe(Object(Fa.b)(this.afs.schedulers.insideAngular))}}]),e}(),N_=new s.r("angularfire2.enableFirestorePersistence"),R_=new s.r("angularfire2.firestore.persistenceSettings"),D_=new s.r("angularfire2.firestore.settings"),P_=new s.r("angularfire2.firestore.use-emulator");function L_(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var M_,F_,U_=((F_=function(){function t(n,r,o,a,s,u,c,l,f){h(this,t),this.schedulers=new Da.d(u),this.keepUnstableUntilFirst=Object(Da.h)(this.schedulers);var d=Object(Da.g)(n,u,r);!Ua.a.auth&&f&&Object(Da.j)();var p=l,v=e(Object(Da.f)("".concat(d.name,".firestore"),"AngularFirestore",d,function(){var t=u.runOutsideAngular(function(){return d.firestore()});return a&&t.settings(a),p&&t.useEmulator.apply(t,i(p)),o&&!J(s)?[t,u.runOutsideAngular(function(){try{return Object(Mt.a)(t.enablePersistence(c||void 0).then(function(){return!0},function(){return!1}))}catch(r_){return"undefined"!=typeof console&&console.warn(r_),Object(Ft.a)(!1)}})]:[t,Object(Ft.a)(!1)]},[a,p,o]),2);this.firestore=v[0],this.persistenceEnabled$=v[1]}return p(t,[{key:"collection",value:function(t,e){var n=L_("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run(function(){return r});return new x_(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new j_(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run(function(){return e});return new A_(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||F_)(s.Yb(Da.c),s.Yb(Da.b,8),s.Yb(N_,8),s.Yb(D_,8),s.Yb(s.C),s.Yb(s.A),s.Yb(R_,8),s.Yb(P_,8),s.Yb(y_,8))},F_.\u0275prov=Object(s.Ib)({factory:function(){return new F_(Object(s.Yb)(Da.c),Object(s.Yb)(Da.b,8),Object(s.Yb)(N_,8),Object(s.Yb)(D_,8),Object(s.Yb)(s.C),Object(s.Yb)(s.A),Object(s.Yb)(R_,8),Object(s.Yb)(P_,8),Object(s.Yb)(y_,8))},token:F_,providedIn:"any"}),F_),V_=((M_=function(){function t(){h(this,t)}return p(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:N_,useValue:!0},{provide:R_,useValue:e}]}}}]),t}()).\u0275fac=function(t){return new(t||M_)},M_.\u0275mod=s.Kb({type:M_}),M_.\u0275inj=s.Jb({providers:[U_]}),M_),q_=function t(){h(this,t)},B_=function t(){h(this,t)},H_=function(){function t(e){var n=this;h(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}})}:function(){n.headers=new Map,Object.keys(e).forEach(function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))})}:this.headers=new Map}return p(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,i(n)),this.headers.set(e,r);break;case"d":var o=t.value;if(o){var a=this.headers.get(e);if(!a)return;0===(a=a.filter(function(t){return-1===o.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})}}]),t}(),z_=function(){function t(){h(this,t)}return p(t,[{key:"encodeKey",value:function(t){return G_(t)}},{key:"encodeValue",value:function(t){return G_(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function G_(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var K_=function(){function t(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(h(this,t),this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new z_,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,n){var r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(t){var i=t.indexOf("="),o=e(-1==i?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,i)),n.decodeValue(t.slice(i+1))],2),a=o[0],s=o[1],u=r.get(a)||[];u.push(s),r.set(a,u)}),r}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(function(t){var e=r.fromObject[t];n.map.set(t,Array.isArray(e)?e:[e])})):this.map=null}return p(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"appendAll",value:function(t){var e=[];return Object.keys(t).forEach(function(n){var r=t[n];Array.isArray(r)?r.forEach(function(t){e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).filter(function(t){return""!==t}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)}}]),t}();function W_(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Y_(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Q_(t){return"undefined"!=typeof FormData&&t instanceof FormData}var J_=function(){function t(e,n,r,i){var o;if(h(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new H_),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new K_,this.urlWithParams=n}return p(t,[{key:"serializeBody",value:function(){return null===this.body?null:W_(this.body)||Y_(this.body)||Q_(this.body)||"string"==typeof this.body?this.body:this.body instanceof K_?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Q_(this.body)?null:Y_(this.body)?this.body.type||null:W_(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof K_?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},u)),e.setParams&&(c=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},c)),new t(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),t}(),X_=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),Z_=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";h(this,t),this.headers=e.headers||new H_,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},$_=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(t=e.call(this,r)).type=X_.ResponseHeader,t}return p(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(Z_),tk=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(t=e.call(this,r)).type=X_.Response,t.body=void 0!==r.body?r.body:null,t}return p(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(Z_),ek=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}(Z_);function nk(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var rk,ik,ok,ak,sk,uk,ck,lk,fk,hk,dk,pk,vk,yk=((rk=function(){function t(e){h(this,t),this.handler=e}return p(t,[{key:"request",value:function(t,e){var n,r,i,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t instanceof J_?n=t:(r=a.headers instanceof H_?a.headers:new H_(a.headers),a.params&&(i=a.params instanceof K_?a.params:new K_({fromObject:a.params})),n=new J_(t,e,void 0!==a.body?a.body:null,{headers:r,params:i,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials}));var s=Object(Ft.a)(n).pipe(Te(function(t){return o.handler.handle(t)}));if(t instanceof J_||"events"===a.observe)return s;var u=s.pipe(be(function(t){return t instanceof tk}));switch(a.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(Object(ae.a)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return u.pipe(Object(ae.a)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return u.pipe(Object(ae.a)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return u.pipe(Object(ae.a)(function(t){return t.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(a.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new K_).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,nk(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,nk(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,nk(n,e))}}]),t}()).\u0275fac=function(t){return new(t||rk)(s.Yb(q_))},rk.\u0275prov=s.Ib({token:rk,factory:rk.\u0275fac}),rk),gk=function(){function t(e,n){h(this,t),this.next=e,this.interceptor=n}return p(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),mk=new s.r("HTTP_INTERCEPTORS"),bk=((ik=function(){function t(){h(this,t)}return p(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||ik)},ik.\u0275prov=s.Ib({token:ik,factory:ik.\u0275fac}),ik),wk=/^\)\]\}',?\n/,_k=function t(){h(this,t)},kk=((ak=function(){function t(){h(this,t)}return p(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}()).\u0275fac=function(t){return new(t||ak)},ak.\u0275prov=s.Ib({token:ak,factory:ak.\u0275fac}),ak),Ek=((ok=function(){function t(e){h(this,t),this.xhrFactory=e}return p(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Yt.a(function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(t,e){return r.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new H_(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new $_({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var f=c;c=c.replace(wk,"");try{c=""!==c?JSON.parse(c):null}catch(h){c=f,l&&(l=!1,c={error:h,text:c})}}l?(n.next(new tk({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new ek({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(t){var e=u().url,i=new ek({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},f=!1,h=function(e){f||(n.next(u()),f=!0);var i={type:X_.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:X_.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),r.addEventListener("timeout",l),r.addEventListener("abort",l),t.reportProgress&&(r.addEventListener("progress",h),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:X_.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("abort",l),r.removeEventListener("load",c),r.removeEventListener("timeout",l),t.reportProgress&&(r.removeEventListener("progress",h),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.readyState!==r.DONE&&r.abort()}})}}]),t}()).\u0275fac=function(t){return new(t||ok)(s.Yb(_k))},ok.\u0275prov=s.Ib({token:ok,factory:ok.\u0275fac}),ok),Ok=new s.r("XSRF_COOKIE_NAME"),Sk=new s.r("XSRF_HEADER_NAME"),Tk=function t(){h(this,t)},Ik=((fk=function(){function t(e,n,r){h(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return p(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=W(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}()).\u0275fac=function(t){return new(t||fk)(s.Yb(d),s.Yb(s.C),s.Yb(Ok))},fk.\u0275prov=s.Ib({token:fk,factory:fk.\u0275fac}),fk),Ck=((lk=function(){function t(e,n){h(this,t),this.tokenService=e,this.headerName=n}return p(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||lk)(s.Yb(Tk),s.Yb(Sk))},lk.\u0275prov=s.Ib({token:lk,factory:lk.\u0275fac}),lk),xk=((ck=function(){function t(e,n){h(this,t),this.backend=e,this.injector=n,this.chain=null}return p(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(mk,[]);this.chain=e.reduceRight(function(t,e){return new gk(t,e)},this.backend)}return this.chain.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||ck)(s.Yb(B_),s.Yb(s.s))},ck.\u0275prov=s.Ib({token:ck,factory:ck.\u0275fac}),ck),Ak=((uk=function(){function t(){h(this,t)}return p(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:Ck,useClass:bk}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:Ok,useValue:e.cookieName}:[],e.headerName?{provide:Sk,useValue:e.headerName}:[]]}}}]),t}()).\u0275fac=function(t){return new(t||uk)},uk.\u0275mod=s.Kb({type:uk}),uk.\u0275inj=s.Jb({providers:[Ck,{provide:mk,useExisting:Ck,multi:!0},{provide:Tk,useClass:Ik},{provide:Ok,useValue:"XSRF-TOKEN"},{provide:Sk,useValue:"X-XSRF-TOKEN"}]}),uk),jk=((sk=function t(){h(this,t)}).\u0275fac=function(t){return new(t||sk)},sk.\u0275mod=s.Kb({type:sk}),sk.\u0275inj=s.Jb({providers:[yk,{provide:q_,useClass:xk},Ek,{provide:B_,useExisting:Ek},kk,{provide:_k,useExisting:kk}],imports:[[Ak.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),sk),Nk=o("z6cu"),Rk=((dk=function(){function t(e){h(this,t),this.httpClient=e,this.urlConnection="https://www.strava.com/oauth/authorize?client_id=36102&redirect_uri=https://plr2388.github.io/HuaweiToStrava/strava&response_type=code&scope=activity:write"}return p(t,[{key:"getToken",value:function(t){return this.httpClient.post("https://www.strava.com/oauth/token?client_id=36102&client_secret=d4ca7b238820272379613358d5fbe5e9a4571e68&code="+t+"&grant_type=authorization_code",null,{observe:"body"}).pipe(ke(this.handleError))}},{key:"handleError",value:function(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error("Backend returned code ".concat(t.status,", body was: ").concat(t.error)),Object(Nk.a)("Something bad happened; please try again later.")}}]),t}()).\u0275fac=function(t){return new(t||dk)(s.Yb(yk))},dk.\u0275prov=s.Ib({token:dk,factory:dk.\u0275fac}),dk),Dk=((hk=function(){function t(e){h(this,t),this.stravaService=e,this.stravaURLConnection=""}return p(t,[{key:"ngOnInit",value:function(){this.stravaURLConnection=this.stravaService.urlConnection}}]),t}()).\u0275fac=function(t){return new(t||hk)(s.Mb(Rk))},hk.\u0275cmp=s.Gb({type:hk,selectors:[["app-connect-strava"]],decls:4,vars:1,consts:[[3,"href"]],template:function(t,e){1&t&&(s.Rb(0,"h2"),s.wc(1,"Connect your Strava account"),s.Qb(),s.Rb(2,"a",0),s.wc(3,"Click here to connect to Strava"),s.Qb()),2&t&&(s.Ab(2),s.jc("href",e.stravaURLConnection,s.rc))},styles:[""]}),hk),Pk={apiKey:"AIzaSyDvoK8xNki9xglDT_iNBonCGKbdCogMY6o",authDomain:"huaweiexporter.firebaseapp.com",databaseURL:"https://huaweiexporter-default-rtdb.firebaseio.com",projectId:"huaweiexporter",storageBucket:"huaweiexporter.appspot.com",messagingSenderId:"420687984337",appId:"1:420687984337:web:f6ec3e21f266d02bde77f0",measurementId:"G-18FH7EVG9J"},Lk=[{path:"strava",component:(pk=function(){function t(e,n){var r=this;h(this,t),this.route=e,this.stravaService=n,this.data={},this.code="",this.route.queryParams.subscribe(function(t){var e=t.code;console.log(e),null!=e&&r.stravaService.getToken(e).subscribe(function(t){r.data=t,console.log(t)})})}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.route.queryParams.subscribe(function(e){var n=e.code;console.log(n),null!=n&&t.stravaService.getToken(n).subscribe(function(e){t.data=e,console.log(e)})})}}]),t}(),pk.\u0275fac=function(t){return new(t||pk)(s.Mb(Qn),s.Mb(Rk))},pk.\u0275cmp=s.Gb({type:pk,selectors:[["app-receive-token-strava"]],decls:2,vars:0,template:function(t,e){1&t&&(s.Rb(0,"div"),s.wc(1," Receive Token Strava\n"),s.Qb())},styles:[""]}),pk)},{path:"",component:Dk}],Mk=((vk=function t(){h(this,t)}).\u0275fac=function(t){return new(t||vk)},vk.\u0275mod=s.Kb({type:vk,bootstrap:[qi]}),vk.\u0275inj=s.Jb({providers:[Rk],imports:[[Lt,Ra,Da.a.initializeApp(Pk),V_,jk,Ai.forRoot(Lk)],Ai]}),vk);Object(s.T)(),Dt().bootstrapModule(Mk).catch(function(t){return console.error(t)})},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD"),a=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this)).parent=t,r}return p(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(r.a),s=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(r.a);function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]])}();