!function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){return r(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var u,s=t[Symbol.iterator]();!(r=(u=s.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(a){i=!0,o=a}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||s(t,e)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t){if(Array.isArray(t))return t}function i(t){return function(t){if(Array.isArray(t))return a(t)}(t)||o(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,o=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw o}}}}function s(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return l(t,arguments,_(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,t)})(t)}function l(t,e,n){return(l=w()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&y(i,n.prototype),i}).apply(null,arguments)}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=w();return function(){var n,r=_(t);if(e){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),u=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService({instanceIdentifier:i});if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(u){if(n)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var u=Object(r.e)(o.value,2),s=u[1],a=this.normalizeInstanceIdentifier(u[0]);try{var c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch(l){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(void 0===e?"[DEFAULT]":e);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:i,options:r})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o)),o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new u(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){v(n,t);var e=g(n);function n(t,r){return h(this,n),e.call(this)}return p(n,[{key:"schedule",value:function(t){return this}}]),n}(n("quSY").a))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(o){return o.pipe(u(function(n,o){return Object(i.a)(t(n,o)).pipe(Object(r.a)(function(t,r){return e(n,t,o,r)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new s(t,n))})}var s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;h(this,t),this.project=e,this.concurrent=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.concurrent))}}]),t}(),a=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return h(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return p(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new o.a(this),n=this.destination;n.add(e);var r=Object(o.c)(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(o.b)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),u=n("2QA8"),s=n("2fFW"),a=n("NJ4a"),c=function(t){v(n,t);var e=g(n);function n(t,r,o){var u;switch(h(this,n),(u=e.call(this)).syncErrorValue=null,u.syncErrorThrown=!1,u.syncErrorThrowable=!1,u.isStopped=!1,arguments.length){case 0:u.destination=i.a;break;case 1:if(!t){u.destination=i.a;break}if("object"==typeof t){t instanceof n?(u.syncErrorThrowable=t.syncErrorThrowable,u.destination=t,t.add(b(u))):(u.syncErrorThrowable=!0,u.destination=new l(b(u),t));break}default:u.syncErrorThrowable=!0,u.destination=new l(b(u),t,r,o)}return u}return p(n,[{key:u.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,f(_(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(t){v(n,t);var e=g(n);function n(t,o,u,s){var a,c;h(this,n),(a=e.call(this))._parentSubscriber=t;var l=b(a);return Object(r.a)(o)?c=o:o&&(c=o.next,u=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&a.add(l.unsubscribe.bind(l)),l.unsubscribe=a.unsubscribe.bind(b(a)))),a._context=l,a._next=c,a._error=u,a._complete=s,a}return p(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(a.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(a.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(a.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(a.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(c)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),u=n("kJWO"),s=n("jZKg"),a=n("Lhse"),c=n("c2HN"),l=n("I55L");function f(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[u.a]}(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){var i=t[u.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}(t,e);if(Object(l.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(function(n){var r,i=new o.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[a.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a"),i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC"),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r,i=n("7o/Q"),o=n("2QA8"),u=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),c=n("2fFW"),l=((r=function(){function t(e){h(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return p(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(u.a)}(t,e,n);if(s.add(r?r.call(s,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof i.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=f(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(r=e).length?a.a:1===r.length?r[0]:function(t){return r.reduce(function(t,e){return e(t)},t)})(this);var r}},{key:"toPromise",value:function(t){var e=this;return new(t=f(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}}]),t}()).create=function(t){return new r(t)},r);function f(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;h(this,t),this.SchedulerAction=e,this.now=n}return p(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){v(n,t);var e=g(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return h(this,n),(i=e.call(this,t,function(){return n.delegate&&n.delegate!==b(i)?n.delegate.now():o()})).actions=[],i.active=!1,i.scheduled=void 0,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):f(_(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.3.1","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function u(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var u=e[e.length-1];return Object(r.a)(u)?(e.pop(),Object(o.a)(e,u)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),u=n("kJWO"),s=n("I55L"),a=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[u.a])return l=t,function(t){var e=l[u.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(r.a)(t);if(Object(a.a)(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,l,f=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(f," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),u=n("yCtX");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,a=null,c=e[e.length-1];return Object(i.a)(c)?(a=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof c&&(s=e.pop()),null===a&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(s)(Object(u.a)(e,a))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r,i=n("EY2u"),o=n("LRne"),u=n("HDdC"),s=((r=function(){function t(e,n,r){h(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return p(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new u.a(function(e){return e.error(t)});case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r)},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),u=n("9ppp"),s=n("Ylt2"),a=n("2QA8"),c=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),l=function(){var t=function(t){v(n,t);var e=g(n);function n(){var t;return h(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return p(n,[{key:a.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new d(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new u.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new u.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new u.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new u.a;return f(_(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new u.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new d(t,e)},t}(),d=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).destination=t,i.source=r,i}return p(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return p(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return Uc}),n.d(e,"b",function(){return Vc}),n.d(e,"c",function(){return qc}),n.d(e,"d",function(){return Nl}),n.d(e,"e",function(){return Cl}),n.d(e,"f",function(){return qa}),n.d(e,"g",function(){return la}),n.d(e,"h",function(){return Yc}),n.d(e,"i",function(){return pa}),n.d(e,"j",function(){return Tr}),n.d(e,"k",function(){return mc}),n.d(e,"l",function(){return So}),n.d(e,"m",function(){return pn}),n.d(e,"n",function(){return Bo}),n.d(e,"o",function(){return Na}),n.d(e,"p",function(){return Pa}),n.d(e,"q",function(){return Qc}),n.d(e,"r",function(){return Ya}),n.d(e,"s",function(){return kl}),n.d(e,"t",function(){return ul}),n.d(e,"u",function(){return Rn}),n.d(e,"v",function(){return Gc}),n.d(e,"w",function(){return zc}),n.d(e,"x",function(){return ga}),n.d(e,"y",function(){return ya}),n.d(e,"z",function(){return Nr}),n.d(e,"A",function(){return ba}),n.d(e,"B",function(){return Er}),n.d(e,"C",function(){return Ka}),n.d(e,"D",function(){return dl}),n.d(e,"E",function(){return _a}),n.d(e,"F",function(){return wa}),n.d(e,"G",function(){return Xa}),n.d(e,"H",function(){return W}),n.d(e,"I",function(){return Il}),n.d(e,"J",function(){return _l}),n.d(e,"K",function(){return I}),n.d(e,"L",function(){return wl}),n.d(e,"M",function(){return jl}),n.d(e,"N",function(){return vl}),n.d(e,"O",function(){return Wc}),n.d(e,"P",function(){return Ao}),n.d(e,"Q",function(){return as}),n.d(e,"R",function(){return wr}),n.d(e,"S",function(){return nr}),n.d(e,"T",function(){return zn}),n.d(e,"U",function(){return Kn}),n.d(e,"V",function(){return Jn}),n.d(e,"W",function(){return Qn}),n.d(e,"X",function(){return Wn}),n.d(e,"Y",function(){return Yn}),n.d(e,"Z",function(){return is}),n.d(e,"ab",function(){return xl}),n.d(e,"bb",function(){return os}),n.d(e,"cb",function(){return us}),n.d(e,"db",function(){return Gn}),n.d(e,"eb",function(){return Z}),n.d(e,"fb",function(){return Zo}),n.d(e,"gb",function(){return mu}),n.d(e,"hb",function(){return yu}),n.d(e,"ib",function(){return gu}),n.d(e,"jb",function(){return rs}),n.d(e,"kb",function(){return Pt}),n.d(e,"lb",function(){return w}),n.d(e,"mb",function(){return Hn}),n.d(e,"nb",function(){return zo}),n.d(e,"ob",function(){return xt}),n.d(e,"pb",function(){return sa}),n.d(e,"qb",function(){return Si}),n.d(e,"rb",function(){return ru}),n.d(e,"sb",function(){return Lu}),n.d(e,"tb",function(){return Zu}),n.d(e,"ub",function(){return Pu}),n.d(e,"vb",function(){return Dc}),n.d(e,"wb",function(){return lt}),n.d(e,"xb",function(){return gt}),n.d(e,"yb",function(){return D}),n.d(e,"zb",function(){return N}),n.d(e,"Ab",function(){return pt}),n.d(e,"Bb",function(){return mt}),n.d(e,"Cb",function(){return su}),n.d(e,"Db",function(){return hu}),n.d(e,"Eb",function(){return pu}),n.d(e,"Fb",function(){return du}),n.d(e,"Gb",function(){return fu}),n.d(e,"Hb",function(){return lu}),n.d(e,"Ib",function(){return vu}),n.d(e,"Jb",function(){return ln}),n.d(e,"Kb",function(){return $u}),n.d(e,"Lb",function(){return Xs}),n.d(e,"Mb",function(){return $s}),n.d(e,"Nb",function(){return Zs}),n.d(e,"Ob",function(){return An}),n.d(e,"Pb",function(){return hn}),n.d(e,"Qb",function(){return Fc}),n.d(e,"Rb",function(){return bu}),n.d(e,"Sb",function(){return Nc}),n.d(e,"Tb",function(){return Eu}),n.d(e,"Ub",function(){return yc}),n.d(e,"Vb",function(){return gc}),n.d(e,"Wb",function(){return Ou}),n.d(e,"Xb",function(){return Iu}),n.d(e,"Yb",function(){return au}),n.d(e,"Zb",function(){return Tu}),n.d(e,"ac",function(){return Su}),n.d(e,"bc",function(){return fc}),n.d(e,"cc",function(){return hc}),n.d(e,"dc",function(){return dc}),n.d(e,"ec",function(){return xc}),n.d(e,"fc",function(){return uu}),n.d(e,"gc",function(){return ee}),n.d(e,"hc",function(){return vt}),n.d(e,"ic",function(){return Ru}),n.d(e,"jc",function(){return ou}),n.d(e,"kc",function(){return Mc}),n.d(e,"lc",function(){return Qu}),n.d(e,"mc",function(){return Yu}),n.d(e,"nc",function(){return Ju}),n.d(e,"oc",function(){return Xu}),n.d(e,"pc",function(){return jc});var r=n("XNiG"),o=n("quSY"),s=n("HDdC"),a=n("VRyK"),d=n("w1tV");function y(t){for(var e in t)if(t[e]===y)return e;throw Error("Could not find renamed property on target object.")}function m(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function w(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(w).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function E(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var k=y({__forward_ref__:y});function I(t){return t.__forward_ref__=I,t.toString=function(){return w(this())},t}function O(t){return T(t)?t():t}function T(t){return"function"==typeof t&&t.hasOwnProperty(k)&&t.__forward_ref__===I}var S=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,r))).code=t,i}return n}(c(Error));function C(t){return"string"==typeof t?t:null==t?"":String(t)}function A(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():C(t)}function x(t,e){var n=e?" in ".concat(e):"";throw new S("201","No provider for ".concat(A(t)," found").concat(n))}function j(t,e,n,r){throw new Error("ASSERTION ERROR: ".concat(t)+(null==r?"":" [Expected=> ".concat(n," ").concat(r," ").concat(e," <=Actual]")))}function D(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function N(t){return{providers:t.providers||[],imports:t.imports||[]}}function R(t){return P(t,F)||P(t,q)}function P(t,e){return t.hasOwnProperty(e)?t[e]:null}function L(t){return t&&(t.hasOwnProperty(V)||t.hasOwnProperty(U))?t[V]:null}var M,F=y({"\u0275prov":y}),V=y({"\u0275inj":y}),q=y({ngInjectableDef:y}),U=y({ngInjectorDef:y}),B=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function H(t){var e=M;return M=t,e}function z(t,e,n){var r=R(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&B.Optional?null:void 0!==e?e:void x(w(t),"Injector")}function G(t){return{toString:t}.toString()}var K=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),W=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),Q="undefined"!=typeof globalThis&&globalThis,Y="undefined"!=typeof window&&window,J="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,X="undefined"!=typeof global&&global,Z=Q||X||Y||J,$={},tt=[],et=[],nt=y({"\u0275cmp":y}),rt=y({"\u0275dir":y}),it=y({"\u0275pipe":y}),ot=y({"\u0275mod":y}),ut=y({"\u0275loc":y}),st=y({"\u0275fac":y}),at=y({__NG_ELEMENT_ID__:y}),ct=0;function lt(t){return G(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===K.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||et,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||W.Emulated,id:"c",styles:t.styles||et,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=ct++,n.inputs=yt(t.inputs,e),n.outputs=yt(t.outputs),i&&i.forEach(function(t){return t(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(ft)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(ht)}:null,n})}function ft(t){return bt(t)||function(t){return t[rt]||null}(t)}function ht(t){return function(t){return t[it]||null}(t)}var dt={};function pt(t){var e={type:t.type,bootstrap:t.bootstrap||et,declarations:t.declarations||et,imports:t.imports||et,exports:t.exports||et,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&G(function(){dt[t.id]=t.type}),e}function vt(t,e){return G(function(){var n=wt(t,!0);n.declarations=e.declarations||et,n.imports=e.imports||et,n.exports=e.exports||et})}function yt(t,e){if(null==t)return $;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var gt=lt;function mt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function bt(t){return t[nt]||null}function wt(t,e){var n=t[ot]||null;if(!n&&!0===e)throw new Error("Type ".concat(w(t)," does not have '\u0275mod' property."));return n}function _t(t){return Array.isArray(t)&&"object"==typeof t[1]}function Et(t){return Array.isArray(t)&&!0===t[1]}function kt(t){return 0!=(8&t.flags)}function It(t){return 2==(2&t.flags)}function Ot(t){return 1==(1&t.flags)}function Tt(t){return null!==t.template}function St(t,e){return t.hasOwnProperty(st)?t[st]:null}var Ct,At=function(){function t(e,n,r){h(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return p(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function xt(){return jt}function jt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Nt),Dt}function Dt(){var t=Rt(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===$)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Nt(t,e,n,r){var i=Rt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:$,current:null}),o=i.current||(i.current={}),u=i.previous,s=this.declaredInputs[n],a=u[s];o[s]=new At(a&&a.currentValue,e,u===$),t[r]=e}function Rt(t){return t.__ngSimpleChanges__||null}function Pt(t){Ct=t}function Lt(){return void 0!==Ct?Ct:"undefined"!=typeof document?document:void 0}function Mt(t){return!!t.listen}xt.ngInherit=!0;var Ft={createRenderer:function(t,e){return Lt()}};function Vt(t){for(;Array.isArray(t);)t=t[0];return t}function qt(t,e){return Vt(e[t])}function Ut(t,e){return Vt(e[t.index])}function Bt(t,e){return t.data[e]}function Ht(t,e){return t[e]}function zt(t,e){var n=e[t];return _t(n)?n:n[0]}function Gt(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Kt(t){return 4==(4&t[2])}function Wt(t){return 128==(128&t[2])}function Qt(t,e){return null==e?null:t[e]}function Yt(t){t[18]=0}function Jt(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var Xt={lFrame:Ee(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Zt(){return Xt.bindingsEnabled}function $t(){return Xt.lFrame.lView}function te(){return Xt.lFrame.tView}function ee(t){Xt.lFrame.contextLView=t}function ne(){for(var t=re();null!==t&&64===t.type;)t=t.parent;return t}function re(){return Xt.lFrame.currentTNode}function ie(){var t=Xt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function oe(t,e){var n=Xt.lFrame;n.currentTNode=t,n.isParent=e}function ue(){return Xt.lFrame.isParent}function se(){Xt.lFrame.isParent=!1}function ae(){return Xt.isInCheckNoChangesMode}function ce(t){Xt.isInCheckNoChangesMode=t}function le(){var t=Xt.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function fe(){return Xt.lFrame.bindingIndex}function he(){return Xt.lFrame.bindingIndex++}function de(t){var e=Xt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function pe(t){Xt.lFrame.inI18n=t}function ve(t){Xt.lFrame.currentDirectiveIndex=t}function ye(){return Xt.lFrame.currentQueryIndex}function ge(t){Xt.lFrame.currentQueryIndex=t}function me(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function be(t,e,n){if(n&B.SkipSelf){for(var r=e,i=t;!(null!==(r=r.parent)||n&B.Host||(r=me(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}var o=Xt.lFrame=_e();return o.currentTNode=e,o.lView=t,!0}function we(t){var e=_e(),n=t[1];Xt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function _e(){var t=Xt.lFrame,e=null===t?null:t.child;return null===e?Ee(t):e}function Ee(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ke(){var t=Xt.lFrame;return Xt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Ie=ke;function Oe(){var t=ke();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Te(){return Xt.lFrame.selectedIndex}function Se(t){Xt.lFrame.selectedIndex=t}function Ce(){var t=Xt.lFrame;return Bt(t.tView,t.selectedIndex)}function Ae(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,u=i.ngAfterContentChecked,s=i.ngAfterViewInit,a=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),u&&((t.contentHooks||(t.contentHooks=[])).push(n,u),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,u)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),a&&((t.viewHooks||(t.viewHooks=[])).push(n,a),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,a)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function xe(t,e,n){Ne(t,e,3,n)}function je(t,e,n,r){(3&t[2])===n&&Ne(t,e,n,r)}function De(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ne(t,e,n,r){for(var i=null!=r?r:-1,o=e.length-1,u=0,s=void 0!==r?65535&t[18]:0;s<o;s++)if("number"==typeof e[s+1]){if(u=e[s],null!=r&&u>=r)break}else e[s]<0&&(t[18]+=65536),(u<i||-1==i)&&(Re(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Re(t,e,n,r){var i=n[r]<0,o=n[r+1],u=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(u)):o.call(u)}var Pe=function t(e,n,r){h(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Le(t,e,n){for(var r=Mt(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var u=n[i++],s=n[i++],a=n[i++];r?t.setAttribute(e,s,a,u):e.setAttributeNS(u,s,a)}else{var c=o,l=n[++i];Fe(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Me(t){return 3===t||4===t||6===t}function Fe(t){return 64===t.charCodeAt(0)}function Ve(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||qe(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function qe(t,e,n,r,i){var o=0,u=t.length;if(-1===e)u=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){u=-1;break}if(s>e){u=o-1;break}}}for(;o<t.length;){var a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==u&&(t.splice(u,0,e),o=u+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ue(t){return-1!==t}function Be(t){return 32767&t}function He(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}var ze=!0;function Ge(t){var e=ze;return ze=t,e}var Ke=0;function We(t,e){var n=Ye(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Qe(r.data,t),Qe(e,null),Qe(r.blueprint,null));var i=Je(t,e),o=t.injectorIndex;if(Ue(i))for(var u=Be(i),s=He(i,e),a=s[1].data,c=0;c<8;c++)e[o+c]=s[u+c]|a[u+c];return e[o+8]=i,o}function Qe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ye(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Je(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],u=o.type;if(null===(r=2===u?o.declTNode:1===u?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Xe(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(at)&&(r=n[at]),null==r&&(r=n[at]=Ke++);var i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ze(t,e,n){if(n&B.Optional)return t;x(e,"NodeInjector")}function $e(t,e,n,r){if(n&B.Optional&&void 0===r&&(r=null),0==(n&(B.Self|B.Host))){var i=t[9],o=H(void 0);try{return i?i.get(e,r,n&B.Optional):z(e,r,n&B.Optional)}finally{H(o)}}return Ze(r,e,n)}function tn(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:B.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(at)?t[at]:void 0;return"number"==typeof e?e>=0?255&e:nn:e}(n);if("function"==typeof o){if(!be(e,t,r))return r&B.Host?Ze(i,n,r):$e(e,n,r,i);try{var u=o();if(null!=u||r&B.Optional)return u;x(n)}finally{Ie()}}else if("number"==typeof o){var s=null,a=Ye(t,e),c=-1,l=r&B.Host?e[16][6]:null;for((-1===a||r&B.SkipSelf)&&(-1!==(c=-1===a?Je(t,e):e[a+8])&&an(r,!1)?(s=e[1],a=Be(c),e=He(c,e)):a=-1);-1!==a;){var f=e[1];if(sn(o,a,f.data)){var h=rn(a,e,n,s,r,l);if(h!==en)return h}-1!==(c=e[a+8])&&an(r,e[1].data[a+8]===l)&&sn(o,a,e)?(s=f,a=Be(c),e=He(c,e)):a=-1}}}return $e(e,n,r,i)}var en={};function nn(){return new cn(ne(),$t())}function rn(t,e,n,r,i,o){var u=e[1],s=u.data[t+8],a=on(s,u,n,null==r?It(s)&&ze:r!=u&&0!=(3&s.type),i&B.Host&&o===s);return null!==a?un(e,u,a,s):en}function on(t,e,n,r,i){for(var o=t.providerIndexes,u=e.data,s=1048575&o,a=t.directiveStart,c=o>>20,l=i?s+c:t.directiveEnd,f=r?s:s+c;f<l;f++){var h=u[f];if(f<a&&n===h||f>=a&&h.type===n)return f}if(i){var d=u[a];if(d&&Tt(d)&&d.type===n)return a}return null}function un(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Pe){var u=i;u.resolving&&function(t,e){throw new S("200","Circular dependency in DI detected for ".concat(t))}(A(o[n]));var s=Ge(u.canSeeViewProviders);u.resolving=!0;var a=u.injectImpl?H(u.injectImpl):null;be(t,r,B.Default);try{i=t[n]=u.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,u=r.ngDoCheck;if(i){var s=jt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),u&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,u),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,u))}(n,o[n],e)}finally{null!==a&&H(a),Ge(s),u.resolving=!1,Ie()}}return i}function sn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function an(t,e){return!(t&B.Self||t&B.Host&&e)}var cn=function(){function t(e,n){h(this,t),this._tNode=e,this._lView=n}return p(t,[{key:"get",value:function(t,e){return tn(this._tNode,this._lView,t,void 0,e)}}]),t}();function ln(t){return G(function(){for(var e=t.prototype.constructor,n=e[st]||fn(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[st]||fn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}})}function fn(t){return T(t)?function(){var e=fn(O(t));return e&&e()}:St(t)}function hn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Me(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(ne(),t)}function dn(t,e,n){return G(function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=l(i,e);return u.annotation=o,u;function u(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var pn=function(){function t(e,n){h(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return p(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}();function vn(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),vn(r,e)):e!==t&&e.push(r)}return e}function yn(t,e){t.forEach(function(t){return Array.isArray(t)?yn(t,e):e(t)})}function gn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function mn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bn(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function wn(t,e,n){var r=En(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function _n(t,e){var n=En(t,e);if(n>=0)return t[1|n]}function En(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),u=t[o<<1];if(e===u)return o<<1;u>e?i=o:r=o+1}return~(i<<1)}(t,e)}var kn,In={},On=/\n/gm,Tn=y({provide:String,useValue:y});function Sn(t){var e=kn;return kn=t,e}function Cn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B.Default;if(void 0===kn)throw new Error("inject() must be called from an injection context");return null===kn?z(t,void 0,e):kn.get(t,e&B.Optional?null:void 0,e)}function An(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B.Default;return(M||Cn)(O(t),e)}function xn(t){for(var e=[],n=0;n<t.length;n++){var r=O(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=B.Default,u=0;u<r.length;u++){var s=r[u],a=s.__NG_DI_FLAG__;"number"==typeof a?-1===a?i=s.token:o|=a:i=s}e.push(An(i,o))}else e.push(An(r))}return e}function jn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}var Dn,Nn=jn(dn("Inject",function(t){return{token:t}}),-1),Rn=jn(dn("Optional"),8),Pn=jn(dn("SkipSelf"),4);function Ln(t){var e;return(null===(e=function(){if(void 0===Dn&&(Dn=null,Z.trustedTypes))try{Dn=Z.trustedTypes.createPolicy("angular",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(e){}return Dn}())||void 0===e?void 0:e.createHTML(t))||t}var Mn=function(){function t(e){h(this,t),this.changingThisBreaksApplicationSecurity=e}return p(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),t}(),Fn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Mn),Vn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Mn),qn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Mn),Un=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Mn),Bn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Mn);function Hn(t){return t instanceof Mn?t.changingThisBreaksApplicationSecurity:t}function zn(t,e){var n=Gn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}function Gn(t){return t instanceof Mn&&t.getTypeName()||null}function Kn(t){return new Fn(t)}function Wn(t){return new Vn(t)}function Qn(t){return new qn(t)}function Yn(t){return new Un(t)}function Jn(t){return new Bn(t)}function Xn(t){var e=new $n(t);return function(){try{return!!(new window.DOMParser).parseFromString(Ln(""),"text/html")}catch(t){return!1}}()?new Zn(e):e}var Zn=function(){function t(e){h(this,t),this.inertDocumentHelper=e}return p(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(Ln(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(n){return null}}}]),t}(),$n=function(){function t(e){if(h(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return p(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Ln(t),e;var n=this.inertDocument.createElement("body");return n.innerHTML=Ln(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),tr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,er=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function nr(t){return(t=String(t)).match(tr)||t.match(er)?t:"unsafe:"+t}function rr(t){return(t=String(t)).split(",").map(function(t){return nr(t.trim())}).join(", ")}function ir(t){var e,n={},r=u(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function or(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var u=o[i];for(var s in u)u.hasOwnProperty(s)&&(t[s]=!0)}return t}var ur,sr=ir("area,br,col,hr,img,wbr"),ar=ir("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cr=ir("rp,rt"),lr=or(cr,ar),fr=or(sr,or(ar,ir("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),or(cr,ir("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),lr),hr=ir("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dr=ir("srcset"),pr=or(hr,dr,ir("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ir("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vr=ir("script,style,template"),yr=function(){function t(){h(this,t),this.sanitizedSomething=!1,this.buf=[]}return p(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!fr.hasOwnProperty(e))return this.sanitizedSomething=!0,!vr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n=t.attributes,r=0;r<n.length;r++){var i=n.item(r),o=i.name,u=o.toLowerCase();if(pr.hasOwnProperty(u)){var s=i.value;hr[u]&&(s=nr(s)),dr[u]&&(s=rr(s)),this.buf.push(" ",o,'="',br(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();fr.hasOwnProperty(e)&&!sr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(br(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),gr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mr=/([^\#-~ |!])/g;function br(t){return t.replace(/&/g,"&amp;").replace(gr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(mr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function wr(t,e){var n=null;try{ur=ur||Xn(t);var r=e?String(e):"";n=ur.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ur.getInertBodyElement(r)}while(r!==o);return Ln((new yr).sanitizeChildren(_r(n)||n))}finally{if(n)for(var u=_r(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function _r(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Er=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function kr(t){return t.ngDebugContext}function Ir(t){return t.ngOriginalError}function Or(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Tr=function(){function t(){h(this,t),this._console=console}return p(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Or}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?kr(t)?kr(t):this._findContext(Ir(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Ir(t);e&&Ir(e);)e=Ir(e);return e}}]),t}(),Sr=/^>|^->|<!--|-->|--!>|<!-$/g,Cr=/(<|>)/;function Ar(t,e){t.__ngContext__=e}var xr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Z);function jr(t){return t instanceof Function?t():t}var Dr,Nr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Rr(t,e){return Dr(t,e)}function Pr(t){var e=t[3];return Et(e)?e[3]:e}function Lr(t){return Fr(t[13])}function Mr(t){return Fr(t[4])}function Fr(t){for(;null!==t&&!Et(t);)t=t[4];return t}function Vr(t,e,n,r,i){if(null!=r){var o,u=!1;Et(r)?o=r:_t(r)&&(u=!0,r=r[0]);var s=Vt(r);0===t&&null!==n?null==i?Xr(e,n,s):Jr(e,n,s,i||null,!0):1===t&&null!==n?Jr(e,n,s,i||null,!0):2===t?ci(e,s,u):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Vt(n)&&Vr(e,t,r,o,i);for(var u=10;u<n.length;u++){var s=n[u];fi(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function qr(t,e){return Mt(t)?t.createText(e):t.createTextNode(e)}function Ur(t,e,n){Mt(t)?t.setValue(e,n):e.textContent=n}function Br(t,e){return t.createComment(function(t){return t.replace(Sr,function(t){return t.replace(Cr,"\u200b$1\u200b")})}(e))}function Hr(t,e,n){return Mt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function zr(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Jt(i,-1)),n.splice(r,1)}function Gr(t,e){if(!(t.length<=10)){var n,r=10+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&zr(o,i),e>0&&(t[r-1][4]=i[4]);var u=mn(t,10+e);fi(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=u[19];null!==s&&s.detachView(u[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Kr(t,e){if(!(256&e[2])){var n=e[11];Mt(n)&&n.destroyNode&&fi(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Wr(t[1],t);for(;e;){var n=null;if(_t(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)_t(e)&&Wr(e[1],e),e=e[3];null===e&&(e=t),_t(e)&&Wr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Wr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Pe)){var o=n[r+1];if(Array.isArray(o))for(var u=0;u<o.length;u+=2)o[u+1].call(i[o[u]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup,r=e[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var u=n[o+1],s="function"==typeof u?u(e):Vt(e[u]),a=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var f=i+1;f<r.length;f++)(0,r[f])();e[7]=null}}(t,e),1===e[1].type&&Mt(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&Et(e[3])){n!==e[3]&&zr(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function Qr(t,e,n){return Yr(t,e.parent,n)}function Yr(t,e,n){for(var r=e;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){var i=t.data[r.directiveStart].encapsulation;if(i===W.None||i===W.Emulated)return null}return Ut(r,n)}function Jr(t,e,n,r,i){Mt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Xr(t,e,n){Mt(t)?t.appendChild(e,n):e.appendChild(n)}function Zr(t,e,n,r,i){null!==r?Jr(t,e,n,r,i):Xr(t,e,n)}function $r(t,e){return Mt(t)?t.parentNode(e):e.parentNode}function ti(t,e,n){return ri(t,e,n)}function ei(t,e,n){return 40&t.type?Ut(t,n):null}var ni,ri=ei;function ii(t,e){ri=t,ni=e}function oi(t,e,n,r){var i=Qr(t,r,e),o=e[11],u=ti(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)Zr(o,i,n[s],u,!1);else Zr(o,i,n,u,!1);void 0!==ni&&ni(o,r,e,n,i)}function ui(t,e){if(null!==e){var n=e.type;if(3&n)return Ut(e,t);if(4&n)return ai(-1,t[e.index]);if(8&n){var r=e.child;if(null!==r)return ui(t,r);var i=t[e.index];return Et(i)?ai(-1,i):Vt(i)}if(32&n)return Rr(e,t)()||Vt(t[e.index]);var o=si(t,e);return null!==o?Array.isArray(o)?o[0]:ui(Pr(t[16]),o):ui(t,e.next)}return null}function si(t,e){return null!==e?t[16][6].projection[e.projection]:null}function ai(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return ui(r,i)}return e[7]}function ci(t,e,n){var r=$r(t,e);r&&function(t,e,n,r){Mt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function li(t,e,n,r,i,o,u){for(;null!=n;){var s=r[n.index],a=n.type;if(u&&0===e&&(s&&Ar(Vt(s),r),n.flags|=4),64!=(64&n.flags))if(8&a)li(t,e,n.child,r,i,o,!1),Vr(e,t,i,s,o);else if(32&a){for(var c=Rr(n,r),l=void 0;l=c();)Vr(e,t,i,l,o);Vr(e,t,i,s,o)}else 16&a?hi(t,e,r,n,i,o):Vr(e,t,i,s,o);n=u?n.projectionNext:n.next}}function fi(t,e,n,r,i,o){li(n,r,t.firstChild,e,i,o,!1)}function hi(t,e,n,r,i,o){var u=n[16],s=u[6].projection[r.projection];if(Array.isArray(s))for(var a=0;a<s.length;a++)Vr(e,t,i,s[a],o);else li(t,e,s,u[3],i,o,!0)}function di(t,e,n){Mt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function pi(t,e,n){Mt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function vi(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function yi(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==vi((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function gi(t){return 4===t.type&&"ng-template"!==t.value}function mi(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function bi(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Me(t[e]))return e;return t.length}(i),u=!1,s=0;s<e.length;s++){var a=e[s];if("number"!=typeof a){if(!u)if(4&r){if(r=2|1&r,""!==a&&!mi(t,a,n)||""===a&&1===e.length){if(wi(r))return!1;u=!0}}else{var c=8&r?a:e[++s];if(8&r&&null!==t.attrs){if(!yi(t.attrs,c,n)){if(wi(r))return!1;u=!0}continue}var l=_i(8&r?"class":a,i,gi(t),n);if(-1===l){if(wi(r))return!1;u=!0;continue}if(""!==c){var f;f=l>o?"":i[l+1].toLowerCase();var h=8&r?f:null;if(h&&-1!==vi(h,c,0)||2&r&&c!==f){if(wi(r))return!1;u=!0}}}}else{if(!u&&!wi(r)&&!wi(a))return!1;if(u&&wi(a))continue;u=!1,r=a|1&r}}return wi(r)||u}function wi(t){return 0==(1&t)}function _i(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var u=e[i];if(u===t)return i;if(3===u||6===u)o=!0;else{if(1===u||2===u){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===u)break;if(0===u){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ei(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(bi(t,e[r],n))return!0;return!1}function ki(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}function Ii(t,e){return t?":not("+e.trim()+")":e}function Oi(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var u=t[n];if("string"==typeof u)if(2&r){var s=t[++n];i+="["+u+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+u:4&r&&(i+=" "+u);else""===i||wi(u)||(e+=Ii(o,i),i=""),r=u,o=o||!wi(r);n++}return""!==i&&(e+=Ii(o,i)),e}var Ti={};function Si(t){Ci(te(),$t(),Te()+t,ae())}function Ci(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&xe(e,i,n)}else{var o=t.preOrderHooks;null!==o&&je(e,o,0,n)}Se(n)}function Ai(t,e){return t<<17|e<<2}function xi(t){return t>>17&32767}function ji(t){return 2|t}function Di(t){return(131068&t)>>2}function Ni(t,e){return-131069&t|e<<2}function Ri(t){return 1|t}function Pi(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var u=t.data[o];ge(i),u.contentQueries(2,e[o],o)}}}function Li(t,e,n,r,i,o,u,s,a,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Yt(l),l[3]=l[15]=t,l[8]=n,l[10]=u||t&&t[10],l[11]=s||t&&t[11],l[12]=a||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Mi(t,e,n,r,i){var o=t.data[e];if(null===o)o=Fi(t,e,n,r,i),Xt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;var u=ie();o.injectorIndex=null===u?-1:u.injectorIndex}return oe(o,!0),o}function Fi(t,e,n,r,i){var o=re(),u=ue(),s=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=s),null!==o&&(u?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}function Vi(t,e,n,r){if(0===n)return-1;for(var i=e.length,o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function qi(t,e,n){we(e);try{var r=t.viewQuery;null!==r&&mo(1,r,n);var i=t.template;null!==i&&Hi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Pi(t,e),t.staticViewQueries&&mo(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)ho(t,e[n])}(e,o)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),u}finally{e[2]&=-5,Oe()}}function Ui(t,e,n,r){var i=e[2];if(256!=(256&i)){we(e);var o=ae();try{Yt(e),Xt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Hi(t,e,n,2,r);var u=3==(3&i);if(!o)if(u){var s=t.preOrderCheckHooks;null!==s&&xe(e,s,null)}else{var a=t.preOrderHooks;null!==a&&je(e,a,0,null),De(e,0)}if(function(t){for(var e=Lr(t);null!==e;e=Mr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Jt(o,1),i[2]|=1024}}(e),function(t){for(var e=Lr(t);null!==e;e=Mr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Wt(r)&&Ui(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Pi(t,e),!o)if(u){var c=t.contentCheckHooks;null!==c&&xe(e,c)}else{var l=t.contentHooks;null!==l&&je(e,l,1),De(e,1)}!function(t,e){var n,r,i,o=t.hostBindingOpCodes;if(null!==o)try{for(var u=0;u<o.length;u++){var s=o[u];if(s<0)Se(~s);else{var a=s,c=o[++u],l=o[++u];n=c,r=a,i=void 0,(i=Xt.lFrame).bindingIndex=i.bindingRootIndex=n,ve(r),l(2,e[a])}}}finally{Se(-1)}}(t,e);var f=t.components;null!==f&&function(t,e){for(var n=0;n<e.length;n++)lo(t,e[n])}(e,f);var h=t.viewQuery;if(null!==h&&mo(2,h,r),!o)if(u){var d=t.viewCheckHooks;null!==d&&xe(e,d)}else{var p=t.viewHooks;null!==p&&je(e,p,2),De(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Jt(e[3],-1))}finally{Oe()}}}function Bi(t,e,n,r){var i=e[10],o=!ae(),u=Kt(e);try{o&&!u&&i.begin&&i.begin(),u&&qi(t,e,r),Ui(t,e,n,r)}finally{o&&!u&&i.end&&i.end()}}function Hi(t,e,n,r,i){var o=Te();try{Se(-1),2&r&&e.length>20&&Ci(t,e,20,ae()),n(r,i)}finally{Se(o)}}function zi(t,e,n){if(kt(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Gi(t,e,n){Zt()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||We(n,e),Ar(r,e);for(var u=n.initialInputs,s=i;s<o;s++){var a=t.data[s],c=Tt(a);c&&oo(e,n,a);var l=un(e,t,s,n);Ar(l,e),null!==u&&so(0,s-i,l,a,0,u),c&&(zt(n.index,e)[8]=l)}}(t,e,n,Ut(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,u=Xt.lFrame.currentDirectiveIndex;try{Se(o);for(var s=r;s<i;s++){var a=t.data[s],c=e[s];ve(s),null===a.hostBindings&&0===a.hostVars&&null===a.hostAttrs||to(a,c)}}finally{Se(-1),ve(u)}}(t,e,n))}function Ki(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ut,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var u=r[o+1],s=-1===u?n(e,t):t[u];t[i++]=s}}function Wi(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Qi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Qi(t,e,n,r,i,o,u,s,a,c){var l=20+r,f=l+i,h=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:Ti);return n}(l,f),d="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:s,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:a,consts:d,incompleteFirstPass:!1}}function Yi(t,e,n,r){var i=wo(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&_o(t).push(r,i.length-1))}function Ji(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Xi(t,e,n,r,i,o,u,s){var a,c,l=Ut(e,n),f=e.inputs;!s&&null!=f&&(a=f[r])?(ko(t,n,a,r,i),It(e)&&function(t,e){var n=zt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=u?u(i,e.value||"",r):i,Mt(o)?o.setProperty(l,r,i):Fe(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Zi(t,e,n,r){var i=!1;if(Zt()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var u=r[o];Ei(n,u.selectors,!1)&&(i||(i=[]),Xe(We(n,e),t,u.type),Tt(u)?(eo(t,n),i.unshift(u)):i.push(u))}return i}(t,e,n),u=null===r?null:{"":-1};if(null!==o){i=!0,ro(n,t.data.length,o.length);for(var s=0;s<o.length;s++){var a=o[s];a.providersResolver&&a.providersResolver(a)}for(var c=!1,l=!1,f=Vi(t,e,o.length,null),h=0;h<o.length;h++){var d=o[h];n.mergedAttrs=Ve(n.mergedAttrs,d.hostAttrs),io(t,n,e,f,d),no(f,d,u),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),f++}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],u=null,s=null,a=e.directiveStart;a<n;a++){var c=r[a],l=c.inputs,f=null===i||gi(e)?null:ao(l,i);o.push(f),u=Ji(l,a,u),s=Ji(c.outputs,a,s)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=16),u.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=u,e.outputs=s}(t,n)}u&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new S("301","Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,u)}return n.mergedAttrs=Ve(n.mergedAttrs,n.attrs),i}function $i(t,e,n,r,i,o){var u=o.hostBindings;if(u){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var a=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(r,i,u)}}function to(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function eo(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function no(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Tt(e)&&(n[""]=t)}}function ro(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function io(t,e,n,r,i){t.data[r]=i;var o=i.factory||(i.factory=St(i.type)),u=new Pe(o,Tt(i),null);t.blueprint[r]=u,n[r]=u,$i(t,e,0,r,Vi(t,n,i.hostVars,Ti),i)}function oo(t,e,n){var r=Ut(e,t),i=Wi(n),o=t[10],u=po(t,Li(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=u}function uo(t,e,n,r,i,o,u){if(null==o)Mt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{var s=null==u?C(o):u(o,r||"",i);Mt(t)?t.setAttribute(e,i,s,n):n?e.setAttributeNS(n,i,s):e.setAttribute(i,s)}}function so(t,e,n,r,i,o){var u=o[e];if(null!==u)for(var s=r.setInput,a=0;a<u.length;){var c=u[a++],l=u[a++],f=u[a++];null!==s?r.setInput(n,f,c,l):n[l]=f}}function ao(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function co(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function lo(t,e){var n=zt(e,t);if(Wt(n)){var r=n[1];80&n[2]?Ui(r,n,r.template,n[8]):n[5]>0&&fo(n)}}function fo(t){for(var e=Lr(t);null!==e;e=Mr(e))for(var n=10;n<e.length;n++){var r=e[n];if(1024&r[2]){var i=r[1];Ui(i,r,i.template,r[8])}else r[5]>0&&fo(r)}var o=t[1].components;if(null!==o)for(var u=0;u<o.length;u++){var s=zt(o[u],t);Wt(s)&&s[5]>0&&fo(s)}}function ho(t,e){var n=zt(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),qi(r,n,n[8])}function po(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function vo(t){for(;t;){t[2]|=64;var e=Pr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function yo(t,e,n){var r=e[10];r.begin&&r.begin();try{Ui(t,e,t.template,n)}catch(i){throw Eo(e,i),i}finally{r.end&&r.end()}}function go(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Gt(n),i=r[1];Bi(i,r,i.template,n)}}(t[8])}function mo(t,e,n){ge(0),e(t,n)}var bo=Promise.resolve(null);function wo(t){return t[7]||(t[7]=[])}function _o(t){return t.cleanup||(t.cleanup=[])}function Eo(t,e){var n=t[9],r=n?n.get(Tr,null):null;r&&r.handleError(e)}function ko(t,e,n,r,i){for(var o=0;o<n.length;){var u=n[o++],s=n[o++],a=e[u],c=t.data[u];null!==c.setInput?c.setInput(a,i,r,s):a[s]=i}}function Io(t,e,n){var r=qt(e,t);Ur(t[11],r,n)}function Oo(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var u=0;u<e.length;u++){var s=e[u];"number"==typeof s?o=s:1==o?i=E(i,s):2==o&&(r=E(r,s+": "+e[++u]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var To,So=new pn("INJECTOR",-1),Co=function(){function t(){h(this,t)}return p(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:In;if(e===In){var n=new Error("NullInjectorError: No provider for ".concat(w(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),Ao=new pn("Set Injector scope."),xo={},jo={},Do=[];function No(){return void 0===To&&(To=new Co),To}function Ro(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Po(t,n,e||No(),r)}var Po=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var u=[];n&&yn(n,function(t){return i.processProvider(t,e,n)}),yn([e],function(t){return i.processInjectorType(t,[],u)}),this.records.set(So,Fo(void 0,this));var s=this.records.get(Ao);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:w(e))}return p(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:In,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B.Default;this.assertNotDestroyed();var r,i=Sn(this);try{if(!(n&B.SkipSelf)){var o=this.records.get(t);if(void 0===o){var u=("function"==typeof(r=t)||"object"==typeof r&&r instanceof pn)&&R(t);o=u&&this.injectableDefInScope(u)?Fo(Lo(t),xo):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&B.Self?No():this.parent).get(t,e=n&B.Optional&&e===In?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(w(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=w(e);if(Array.isArray(e))i=e.map(w).join(" -> ");else if("object"==typeof e){var o=[];for(var u in e)if(e.hasOwnProperty(u)){var s=e[u];o.push(u+":"+("string"==typeof s?JSON.stringify(s):w(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(On,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{Sn(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(w(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=O(t)))return!1;var i=L(t),o=null==i&&t.ngModule||void 0,u=void 0===o?t:o,s=-1!==n.indexOf(u);if(void 0!==o&&(i=L(o)),null==i)return!1;if(null!=i.imports&&!s){var a;n.push(u);try{yn(i.imports,function(t){r.processInjectorType(t,e,n)&&(void 0===a&&(a=[]),a.push(t))})}finally{}if(void 0!==a)for(var c=function(t){var e=a[t],n=e.ngModule,i=e.providers;yn(i,function(t){return r.processProvider(t,n,i||Do)})},l=0;l<a.length;l++)c(l)}this.injectorDefTypes.add(u);var f=St(u)||function(){return new u};this.records.set(u,Fo(f,xo));var h=i.providers;if(null!=h&&!s){var d=t;yn(h,function(t){return r.processProvider(t,d,h)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=qo(t=O(t))?t:O(t&&t.provide),i=function(t,e,n){return Vo(t)?Fo(void 0,t.useValue):Fo(Mo(t),xo)}(t);if(qo(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=Fo(void 0,xo,!0)).factory=function(){return xn(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===xo&&(e.value=jo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}]),t}();function Lo(t){var e=R(t),n=null!==e?e.factory:St(t);if(null!==n)return n;if(t instanceof pn)throw new Error("Token ".concat(w(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=bn(e,"?");throw new Error("Can't resolve all parameters for ".concat(w(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[F]||t[q]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function Mo(t,e,n){var r,o;if(qo(t)){var u=O(t);return St(u)||Lo(u)}if(Vo(t))r=function(){return O(t.useValue)};else if((o=t)&&o.useFactory)r=function(){return t.useFactory.apply(t,i(xn(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))r=function(){return An(O(t.useExisting))};else{var s=O(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return St(s)||Lo(s);r=function(){return l(s,i(xn(t.deps)))}}return r}function Fo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function Vo(t){return null!==t&&"object"==typeof t&&Tn in t}function qo(t){return"function"==typeof t}var Uo=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=Ro(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},Bo=function(){var t=function(){function t(){h(this,t)}return p(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Uo(t,e,""):Uo(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=In,t.NULL=new Co,t.\u0275prov=D({token:t,providedIn:"any",factory:function(){return An(So)}}),t.__NG_ELEMENT_ID__=-1,t}();function Ho(t,e){Ae(Gt(t)[1],ne())}function zo(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(Tt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=Go(t.inputs),o.declaredInputs=Go(t.declaredInputs),o.outputs=Go(t.outputs);var u=i.hostBindings;u&&Qo(t,u);var s=i.viewQuery,a=i.contentQueries;if(s&&Ko(t,s),a&&Wo(t,a),m(t.inputs,i.inputs),m(t.declaredInputs,i.declaredInputs),m(t.outputs,i.outputs),Tt(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var f=0;f<l.length;f++){var h=l[f];h&&h.ngInherit&&h(t),h===zo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ve(i.hostAttrs,n=Ve(n,i.hostAttrs))}}(r)}function Go(t){return t===$?{}:t===et?[]:t}function Ko(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function Wo(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function Qo(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var Yo=null;function Jo(){if(!Yo){var t=Z.Symbol;if(t&&t.iterator)Yo=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Yo=r)}}return Yo}var Xo=function(){function t(e){h(this,t),this.wrapped=e}return p(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Zo(t){return!!$o(t)&&(Array.isArray(t)||!(t instanceof Map)&&Jo()in t)}function $o(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function tu(t,e,n){return t[e]=n}function eu(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function nu(t,e,n,r){var i=eu(t,e,n);return eu(t,e+1,r)||i}function ru(t,e,n,r){var i=$t();return eu(i,he(),e)&&(te(),function(t,e,n,r,i,o){var u=Ut(t,e);uo(e[11],u,o,t.value,n,r,i)}(Ce(),i,t,e,n,r)),ru}function iu(t,e,n,r){return eu(t,he(),n)?e+C(n)+r:Ti}function ou(t,e,n,r,i,o,u,s){var a=$t(),c=te(),l=t+20,f=c.firstCreatePass?function(t,e,n,r,i,o,u,s,a){var c=e.consts,l=Mi(e,t,4,u||null,Qt(c,s));Zi(e,n,l,Qt(c,a)),Ae(e,l);var f=l.tViews=Qi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),f.queries=e.queries.embeddedTView(l)),l}(l,c,a,e,n,r,i,o,u):c.data[l];oe(f,!1);var h=a[11].createComment("");oi(c,a,h,f),Ar(h,a),po(a,a[l]=co(h,a,h,f)),Ot(f)&&Gi(c,a,f),null!=u&&Ki(a,f,s)}function uu(t){return Ht(Xt.lFrame.contextLView,20+t)}function su(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B.Default,n=$t();return null===n?An(t,e):tn(ne(),n,O(t),e)}function au(t,e,n){var r=$t();return eu(r,he(),e)&&Xi(te(),Ce(),r,t,e,r[11],n,!1),au}function cu(t,e,n,r,i){var o=i?"class":"style";ko(t,n,e.inputs[o],o,r)}function lu(t,e,n,r){var i=$t(),o=te(),u=20+t,s=i[11],a=i[u]=Hr(s,e,Xt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,u){var s=e.consts,a=Mi(e,t,2,i,Qt(s,o));return Zi(e,n,a,Qt(s,u)),null!==a.attrs&&Oo(a,a.attrs,!1),null!==a.mergedAttrs&&Oo(a,a.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,a),a}(u,o,i,0,e,n,r):o.data[u];oe(c,!0);var l=c.mergedAttrs;null!==l&&Le(s,a,l);var f=c.classes;null!==f&&pi(s,a,f);var h=c.styles;null!==h&&di(s,a,h),64!=(64&c.flags)&&oi(o,i,a,c),0===Xt.lFrame.elementDepthCount&&Ar(a,i),Xt.lFrame.elementDepthCount++,Ot(c)&&(Gi(o,i,c),zi(o,c,i)),null!==r&&Ki(i,c)}function fu(){var t=ne();ue()?se():oe(t=t.parent,!1);var e=t;Xt.lFrame.elementDepthCount--;var n=te();n.firstCreatePass&&(Ae(n,t),kt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&cu(n,e,$t(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&cu(n,e,$t(),e.stylesWithoutHost,!1)}function hu(t,e,n,r){lu(t,e,n,r),fu()}function du(t,e,n){var r=$t(),i=te(),o=t+20,u=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,u=Qt(o,r),s=Mi(e,t,8,"ng-container",u);return null!==u&&Oo(s,u,!0),Zi(e,n,s,Qt(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(o,i,r,e,n):i.data[o];oe(u,!0);var s=r[o]=r[11].createComment("");oi(i,r,s,u),Ar(s,r),Ot(u)&&(Gi(i,r,u),zi(i,u,r)),null!=n&&Ki(r,u)}function pu(){var t=ne(),e=te();ue()?se():oe(t=t.parent,!1),e.firstCreatePass&&(Ae(e,t),kt(t)&&e.queries.elementEnd(t))}function vu(){return $t()}function yu(t){return!!t&&"function"==typeof t.then}function gu(t){return!!t&&"function"==typeof t.subscribe}var mu=gu;function bu(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=$t(),o=te(),u=ne();return function(t,e,n,r,i,o){var u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,a=Ot(r),c=t.firstCreatePass&&_o(t),l=wo(e),f=!0;if(3&r.type){var h=Ut(r,e),d=s?s(h):$,p=d.target||h,v=l.length,y=s?function(t){return s(Vt(t[r.index])).target}:r.index;if(Mt(n)){var g=null;if(!s&&a&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var u=i[o];if(u===n&&i[o+1]===r){var s=e[7],a=i[o+2];return s.length>a?s[a]:null}"string"==typeof u&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,f=!1;else{o=_u(r,e,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=_u(r,e,o,!0),p.addEventListener(i,o,u),l.push(o),c&&c.push(i,y,v,u)}else o=_u(r,e,o,!1);var b,w=r.outputs;if(f&&null!==w&&(b=w[i])){var _=b.length;if(_)for(var E=0;E<_;E+=2){var k=e[b[E]][b[E+1]].subscribe(o),I=l.length;l.push(o,k),c&&c.push(i,r.index,I,-(I+1))}}}(o,i,i[11],u,t,e,n,r),bu}function wu(t,e,n){try{return!1!==e(n)}catch(r){return Eo(t,r),!1}}function _u(t,e,n,r){return function i(o){if(o===Function)return n;var u=2&t.flags?zt(t.index,e):e;0==(32&e[2])&&vo(u);for(var s=wu(e,n,o),a=i.__ngNextListenerFn__;a;)s=wu(e,a,o)&&s,a=a.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Eu(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(Xt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Xt.lFrame.contextLView))[8]}(t)}function ku(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?Ei(t,o,!0):ki(r,o))return i}else n=i}return n}function Iu(t){var e=$t()[16][6];if(!e.projection)for(var n=e.projection=bn(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?ku(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function Ou(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=$t(),i=te(),o=Mi(i,20+t,16,null,n||null);null===o.projection&&(o.projection=e),se(),64!=(64&o.flags)&&function(t,e,n){hi(e[11],0,e,n,Qr(t,n,e),ti(n.parent||e[6],n,e))}(i,r,o)}function Tu(t,e,n){return Su(t,"",e,"",n),Tu}function Su(t,e,n,r,i){var o=$t(),u=iu(o,e,n,r);return u!==Ti&&Xi(te(),Ce(),o,t,u,o[11],i,!1),Su}function Cu(t,e,n,r,i){for(var o=t[n+1],u=null===e,s=r?xi(o):Di(o),a=!1;0!==s&&(!1===a||u);){var c=t[s+1];Au(t[s],e)&&(a=!0,t[s+1]=r?Ri(c):ji(c)),s=r?xi(c):Di(c)}a&&(t[n+1]=r?ji(o):Ri(o))}function Au(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&En(t,e)>=0}var xu={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ju(t){return t.substring(xu.key,xu.keyEnd)}function Du(t,e){var n=xu.textEnd;return n===e?-1:(e=xu.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,xu.key=e,n),Nu(t,e,n))}function Nu(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ru(t,e,n){return Fu(t,e,n,!1),Ru}function Pu(t,e){return Fu(t,e,null,!0),Pu}function Lu(t){Vu(wn,Mu,t,!0)}function Mu(t,e){for(var n=function(t){return function(t){xu.key=0,xu.keyEnd=0,xu.value=0,xu.valueEnd=0,xu.textEnd=t.length}(t),Du(t,Nu(t,0,xu.textEnd))}(e);n>=0;n=Du(e,n))wn(t,ju(e),!0)}function Fu(t,e,n,r){var i=$t(),o=te(),u=de(2);o.firstUpdatePass&&Uu(o,t,u,r),e!==Ti&&eu(i,u,e)&&zu(o,o.data[Te()],i,i[11],t,i[u+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=w(Hn(t)))),t}(e,n),r,u)}function Vu(t,e,n,r){var i=te(),o=de(2);i.firstUpdatePass&&Uu(i,null,o,r);var u=$t();if(n!==Ti&&eu(u,o,n)){var s=i.data[Te()];if(Wu(s,r)&&!qu(i,o)){var a=r?s.classesWithoutHost:s.stylesWithoutHost;null!==a&&(n=E(a,n||"")),cu(i,s,u,n,r)}else!function(t,e,n,r,i,o,u,s){i===Ti&&(i=tt);for(var a=0,c=0,l=0<i.length?i[0]:null,f=0<o.length?o[0]:null;null!==l||null!==f;){var h=a<i.length?i[a+1]:void 0,d=c<o.length?o[c+1]:void 0,p=void 0,v=null;l===f?(a+=2,c+=2,h!==d&&(v=f,p=d)):null===f||null!==l&&l<f?(a+=2,v=l):(c+=2,v=f,p=d),null!==v&&zu(t,e,n,r,v,p,u,s),l=a<i.length?i[a]:null,f=c<o.length?o[c]:null}}(i,s,u,u[11],u[o+1],u[o+1]=function(t,e,n){if(null==n||""===n)return tt;var r=[],i=Hn(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var u in i)i.hasOwnProperty(u)&&t(r,u,i[u]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function qu(t,e){return e>=t.expandoStartIndex}function Uu(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Te()],u=qu(t,n);Wu(o,r)&&null===e&&!u&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=Xt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Hu(n=Bu(null,t,e,n,r),e.attrs,r),o=null);else{var u=e.directiveStylingLast;if(-1===u||t[u]!==i)if(n=Bu(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==Di(r))return t[xi(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[xi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=Hu(s=Bu(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=Hu(r,t[o].hostAttrs,n);return Hu(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var u=o?e.classBindings:e.styleBindings,s=xi(u),a=Di(u);t[r]=n;var c,l=!1;if(Array.isArray(n)){var f=n;(null===(c=f[1])||En(f,c)>0)&&(l=!0)}else c=n;if(i)if(0!==a){var h=xi(t[s+1]);t[r+1]=Ai(h,s),0!==h&&(t[h+1]=Ni(t[h+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=Ai(s,0),0!==s&&(t[s+1]=Ni(t[s+1],r)),s=r;else t[r+1]=Ai(a,0),0===s?s=r:t[a+1]=Ni(t[a+1],r),a=r;l&&(t[r+1]=ji(t[r+1])),Cu(t,c,r,!0),Cu(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&En(o,e)>=0&&(n[r+1]=Ri(n[r+1]))}(e,c,t,r,o),u=Ai(s,a),o?e.classBindings=u:e.styleBindings=u}(i,o,e,n,u,r)}}function Bu(t,e,n,r,i){var o=null,u=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<u&&(r=Hu(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function Hu(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var u=e[o];"number"==typeof u?i=u:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),wn(t,u,!!n||e[++o]))}return void 0===t?null:t}function zu(t,e,n,r,i,o,u,s){if(3&e.type){var a=t.data,c=a[s+1];Ku(1==(1&c)?Gu(a,e,n,i,Di(c),u):void 0)||(Ku(o)||2==(2&c)&&(o=Gu(a,null,n,i,s,u)),function(t,e,n,r,i){var o=Mt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var u=-1===r.indexOf("-")?void 0:Nr.DashCase;if(null==i)o?t.removeStyle(n,r,u):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),u|=Nr.Important),o?t.setStyle(n,r,i,u):n.style.setProperty(r,i,s?"important":"")}}}(r,u,qt(Te(),n),i,o))}}function Gu(t,e,n,r,i,o){for(var u,s=null===e;i>0;){var a=t[i],c=Array.isArray(a),l=c?a[1]:a,f=null===l,h=n[i+1];h===Ti&&(h=f?tt:void 0);var d=f?_n(h,r):l===r?h:void 0;if(c&&!Ku(d)&&(d=_n(a,r)),Ku(d)&&(u=d,s))return u;var p=t[i+1];i=s?xi(p):Di(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(u=_n(v,r))}return u}function Ku(t){return void 0!==t}function Wu(t,e){return 0!=(t.flags&(e?16:32))}function Qu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=$t(),r=te(),i=t+20,o=r.firstCreatePass?Mi(r,i,1,e,null):r.data[i],u=n[i]=qr(n[11],e);oi(r,n,u,o),oe(o,!1)}function Yu(t){return Ju("",t,""),Yu}function Ju(t,e,n){var r=$t(),i=iu(r,t,e,n);return i!==Ti&&Io(r,Te(),i),Ju}function Xu(t,e,n,r,i){var o=$t(),u=function(t,e,n,r,i,o){var u=nu(t,fe(),n,i);return de(2),u?e+C(n)+r+C(i)+o:Ti}(o,t,e,n,r,i);return u!==Ti&&Io(o,Te(),u),Xu}function Zu(t,e,n,r,i,o,u,s,a){Vu(wn,Mu,function(t,e,n,r,i,o,u,s,a,c){var l=function(t,e,n,r,i,o){var u=nu(t,e,n,r);return nu(t,e+2,i,o)||u}(t,fe(),n,i,u,a);return de(4),l?e+C(n)+r+C(i)+o+C(u)+s+C(a)+c:Ti}($t(),t,e,n,r,i,o,u,s,a),!0)}function $u(t,e,n){var r=$t();return eu(r,he(),e)&&Xi(te(),Ce(),r,t,e,r[11],n,!0),$u}var ts=void 0,es=["en",[["a","p"],["AM","PM"],ts],[["AM","PM"],ts,ts],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ts,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ts,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ts,"{1} 'at' {0}",ts],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],ns={};function rs(t,e,n){"string"!=typeof e&&(n=e,e=t[as.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ns[e]=t,n&&(ns[e][as.ExtraData]=n)}function is(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=ss(e);if(n)return n;var r=e.split("-")[0];if(n=ss(r))return n;if("en"===r)return es;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function os(t){return is(t)[as.CurrencyCode]||null}function us(t){return is(t)[as.PluralCase]}function ss(t){return t in ns||(ns[t]=Z.ng&&Z.ng.common&&Z.ng.common.locales&&Z.ng.common.locales[t]),ns[t]}var as=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({}),cs=["zero","one","two","few","many"],ls={marker:"element"},fs={marker:"ICU"},hs=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({}),ds="en-US";function ps(t){var e;null==(e=t)&&j("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(ds=t.toLowerCase().replace(/_/g,"-"))}function vs(t,e,n){var r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?ei(t,0,n):Vt(n[i])}function ys(t,e,n,r,i){var o=e.insertBeforeIndex;if(Array.isArray(o)){var u=r,s=null;if(3&e.type||(s=u,u=i),null!==u&&0==(2&e.flags))for(var a=1;a<o.length;a++)Jr(t,u,n[o[a]],s,!1)}}function gs(t,e){if(t.push(e),t.length>1)for(var n=t.length-2;n>=0;n--){var r=t[n];ms(r)||bs(r,e)&&null===(i=void 0,i=r.insertBeforeIndex,Array.isArray(i)?i[0]:i)&&ws(r,e.index)}var i}function ms(t){return!(64&t.type)}function bs(t,e){return ms(e)||t.index>e.index}function ws(t,e){var n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(ii(vs,ys),t.insertBeforeIndex=e)}function _s(t,e){var n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Es(t,e,n){var r=Fi(t,n,64,null,null);return gs(e,r),r}function ks(t,e){var n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}var Is=0,Os=0;function Ts(t,e,n,r){for(var i,o=n[11],u=null,s=0;s<e.length;s++){var a=e[s];if("string"==typeof a){var c=e[++s];null===n[c]&&(n[c]=qr(o,a))}else if("number"==typeof a)switch(1&a){case 0:var l=a>>>17,f=void 0,h=void 0;if(null===u&&(u=l,i=$r(o,r)),l===u?(f=r,h=i):(f=null,h=Vt(n[l])),null!==h){var d=(131070&a)>>>1;Jr(o,h,n[d],f,!1);var p=_s(t,d);if(null!==p&&"object"==typeof p){var v=ks(p,n);null!==v&&Ts(t,p.create[v],n,n[p.anchorIdx])}}break;case 1:var y=e[++s],g=e[++s];uo(o,qt(a>>>1,n),null,null,y,g,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(a,'"'))}else switch(a){case fs:var m=e[++s],b=e[++s];null===n[b]&&Ar(n[b]=Br(o,m),n);break;case ls:var w=e[++s],_=e[++s];null===n[_]&&Ar(n[_]=Hr(o,w,null),n)}}}function Ss(t,e,n,r,i){for(var o=0;o<n.length;o++){var u=n[o],s=n[++o];if(u&i)for(var a="",c=o+1;c<=o+s;c++){var l=n[c];if("string"==typeof l)a+=l;else if("number"==typeof l)if(l<0)a+=C(e[r-l]);else{var f=l>>>2;switch(3&l){case 1:var h=n[++c],d=n[++c],p=t.data[f];"string"==typeof p?uo(e[11],e[f],null,p,h,a,d):Xi(t,p,e,h,a,e[11],d,!1);break;case 0:var v=e[f];null!==v&&Ur(e[11],v,a);break;case 2:As(t,_s(t,f),e,a);break;case 3:Cs(t,_s(t,f),r,e)}}}else{var y=n[o+1];if(y>0&&3==(3&y)){var g=_s(t,y>>>2);e[g.currentCaseLViewIndex]<0&&Cs(t,g,r,e)}}o+=s}}function Cs(t,e,n,r){var i=r[e.currentCaseLViewIndex];if(null!==i){var o=Is;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),Ss(t,r,e.update[i],n,o)}}function As(t,e,n,r){var i=function(t,e){var n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:var r=function(t,e){var n=us(e)(parseInt(t,10)),r=cs[n];return void 0!==r?r:"other"}(e,ds);-1===(n=t.cases.indexOf(r))&&"other"!==r&&(n=t.cases.indexOf("other"));break;case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(ks(e,n)!==i&&(xs(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){var o=n[e.anchorIdx];o&&Ts(t,e.create[i],n,o)}}function xs(t,e,n){var r=ks(e,n);if(null!==r)for(var i=e.remove[r],o=0;o<i.length;o++){var u=i[o];if(u>0){var s=qt(u,n);null!==s&&ci(n[11],s)}else xs(t,_s(t,~u),n)}}var js=/\ufffd(\d+):?\d*\ufffd/gi,Ds=/\ufffd(\d+)\ufffd/,Ns=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Rs=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Ps=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ls=/\uE500/g;function Ms(t,e,n,r,i,o,u){var s=Vi(t,r,1,null),a=s<<hs.SHIFT,c=ie();e===c&&(c=null),null===c&&(a|=hs.APPEND_EAGERLY),u&&(a|=hs.COMMENT,void 0===Dr&&(Dr=function(){var t,e,n=[],r=-1;function i(t,n){r=0;var i=ks(t,n);e=null!==i?t.remove[i]:et}function o(){if(r<e.length){var u=e[r++];return u>0?t[u]:(n.push(r,e),i(t[1].data[~u],t),o())}return 0===n.length?null:(e=n.pop(),r=n.pop(),o())}return function(e,r){for(t=r;n.length;)n.pop();return i(e.value,r),o}}())),i.push(a,null===o?"":o);var l=Fi(t,s,u?32:1,null===o?"":o,null);gs(n,l);var f=l.index;return oe(l,!1),null!==c&&e!==c&&function(t,e){var n,r=t.insertBeforeIndex;null===r?(ii(vs,ys),r=t.insertBeforeIndex=[null,e]):(1!=(n=Array.isArray(r))&&j("Expecting array here",n,!0,"=="),r.push(e))}(c,f),l}function Fs(t,e,n,r,i,o,u){var s=u.match(js),a=Ms(t,e,n,o,r,s?null:u,!1);s&&Vs(i,u,a.index)}function Vs(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=t.length,u=o+1;t.push(null,null);for(var s=o+2,a=e.split(js),c=0,l=0;l<a.length;l++){var f=a[l];if(1&l){var h=parseInt(f,10);t.push(-1-h),c|=qs(h)}else""!==f&&t.push(f)}return t.push(n<<2|(r?1:0)),r&&t.push(r,i),t[o]=c,t[u]=t.length-s,c}function qs(t){return 1<<Math.min(t,31)}function Us(t){for(var e,n,r="",i=0,o=!1;null!==(e=Rs.exec(t));)o?e[0]==="\ufffd/*".concat(n,"\ufffd")&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i)}function Bs(t,e,n,r,i,o){var u=0,s={type:i.type,currentCaseLViewIndex:Vi(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(qs(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){var r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,s);for(var a=i.values,c=0;c<a.length;c++){for(var l=a[c],f=[],h=0;h<l.length;h++){var d=l[h];if("string"!=typeof d){var p=f.push(d)-1;l[h]="\x3c!--\ufffd".concat(p,"\ufffd--\x3e")}}u=Gs(t,s,e,n,r,i.cases[c],l.join(""),f)|u}u&&function(t,e,n){t.push(e,1,n<<2|3)}(n,u,o)}function Hs(t){for(var e=[],n=[],r=1,i=0,o=zs(t=t.replace(Ns,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})),u=0;u<o.length;){var s=o[u++].trim();1===r&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&e.push(s);var a=zs(o[u++]);e.length>n.length&&n.push(a)}return{type:r,mainBinding:i,cases:e,values:n}}function zs(t){if(!t)return[];var e,n=0,r=[],i=[],o=/[{}]/g;for(o.lastIndex=0;e=o.exec(t);){var u=e.index;if("}"==e[0]){if(r.pop(),0==r.length){var s=t.substring(n,u);Ns.test(s)?i.push(Hs(s)):i.push(s),n=u+1}}else{if(0==r.length){var a=t.substring(n,u);i.push(a),n=u+1}r.push("{")}}var c=t.substring(n);return i.push(c),i}function Gs(t,e,n,r,i,o,u,s){var a=[],c=[],l=[];e.cases.push(o),e.create.push(a),e.remove.push(c),e.update.push(l);var f=Xn(Lt()).getInertBodyElement(u),h=_r(f)||f;return h?Ks(t,e,n,r,a,c,l,h,i,s,0):0}function Ks(t,e,n,r,i,o,u,s,a,c,l){for(var f=0,h=s.firstChild;h;){var d=Vi(t,n,1,null);switch(h.nodeType){case Node.ELEMENT_NODE:var p=h,v=p.tagName.toLowerCase();if(fr.hasOwnProperty(v)){Ys(i,ls,v,a,d),t.data[d]=v;for(var y=p.attributes,g=0;g<y.length;g++){var m=y.item(g),b=m.name.toLowerCase();m.value.match(js)?pr.hasOwnProperty(b)&&(hr[b]?Vs(u,m.value,d,m.name,nr):dr[b]?Vs(u,m.value,d,m.name,rr):Vs(u,m.value,d,m.name)):Js(i,d,m)}f=Ks(t,e,n,r,i,o,u,h,d,c,l+1)|f,Ws(o,d,l)}break;case Node.TEXT_NODE:var w=h.textContent||"",_=w.match(js);Ys(i,null,_?"":w,a,d),Ws(o,d,l),_&&(f=Vs(u,w,d)|f);break;case Node.COMMENT_NODE:var E=Ds.exec(h.textContent||"");if(E){var k=c[parseInt(E[1],10)];Ys(i,fs,"",a,d),Bs(t,n,r,a,k,d),Qs(o,d,l)}}h=h.nextSibling}return f}function Ws(t,e,n){0===n&&t.push(e)}function Qs(t,e,n){0===n&&(t.push(~e),t.push(e))}function Ys(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function Js(t,e,n){t.push(e<<1|1,n.name,n.value)}function Xs(t,e,n){(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=te(),i=$t(),o=20+t,u=Qt(r.consts,e),s=ie();r.firstCreatePass&&function(t,e,n,r,i,o){for(var u,s=ie(),a=[],c=[],l=[[]],f=(u=i=function(t,e){if(function(t){return-1===t}(e))return Us(t);var n=t.indexOf(":".concat(e,"\ufffd"))+2+e.toString().length,r=t.search(new RegExp("\ufffd\\/\\*\\d+:".concat(e,"\ufffd")));return Us(t.substring(n,r))}(i,o),u.replace(Ls," ")).split(Ps),h=0;h<f.length;h++){var d=f[h];if(0==(1&h))for(var p=zs(d),v=0;v<p.length;v++){var y=p[v];if(0==(1&v)){var g=y;""!==g&&Fs(t,s,l[0],a,c,n,g)}else{var m=y;if("object"!=typeof m)throw new Error('Unable to parse ICU expression in "'.concat(i,'" message.'));Bs(t,n,c,e,m,Ms(t,s,l[0],n,a,"",!0).index)}}else{var b=47===d.charCodeAt(0),w=(d.charCodeAt(b?1:0),20+Number.parseInt(d.substring(b?2:1)));if(b)l.shift(),oe(ie(),!1);else{var _=Es(t,l[0],w);l.unshift([]),oe(_,!0)}}}t.data[r]={create:a,update:c}}(r,null===s?0:s.index,i,o,u,n);var a=r.data[o],c=Yr(r,s===i[6]?null:s,i);!function(t,e,n,r){for(var i=t[11],o=0;o<e.length;o++){var u=e[o++],s=e[o],a=(u&hs.COMMENT)===hs.COMMENT,c=(u&hs.APPEND_EAGERLY)===hs.APPEND_EAGERLY,l=u>>>hs.SHIFT,f=t[l];null===f&&(f=t[l]=a?i.createComment(s):qr(i,s)),c&&null!==n&&Jr(i,n,f,r,!1)}}(i,a.create,c,s&&8&s.type?i[s.index]:null),pe(!0)})(t,e,n),pe(!1)}function Zs(t){return eu($t(),he(),t)&&(Is|=1<<Math.min(Os,31)),Os++,Zs}function $s(t){!function(t,e,n){if(Os>0){var r=t.data[n];Ss(t,e,Array.isArray(r)?r:r.update,fe()-Os-1,Is)}Is=0,Os=0}(te(),$t(),t+20)}function ta(t,e,n,r,i){if(t=O(t),Array.isArray(t))for(var o=0;o<t.length;o++)ta(t[o],e,n,r,i);else{var u=te(),s=$t(),a=qo(t)?t:O(t.provide),c=Mo(t),l=ne(),f=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(qo(t)||!t.multi){var p=new Pe(c,i,su),v=ra(a,e,i?f:f+d,h);-1===v?(Xe(We(l,s),u,a),ea(u,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var y=ra(a,e,f+d,h),g=ra(a,e,f,f+d),m=y>=0&&n[y],b=g>=0&&n[g];if(i&&!b||!i&&!m){Xe(We(l,s),u,a);var w=function(t,e,n,r,i){var o=new Pe(t,n,su);return o.multi=[],o.index=e,o.componentProviders=0,na(o,i,r&&!n),o}(i?oa:ia,n.length,i,r,c);!i&&b&&(n[g].providerFactory=w),ea(u,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(w),s.push(w)}else ea(u,t,y>-1?y:g,na(n[i?g:y],c,!i&&r));!i&&r&&b&&n[g].componentProviders++}}}function ea(t,e,n,r){var i=qo(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=u.indexOf(n);-1===s?u.push(n,[r,o]):u[s+1].push(r,o)}else u.push(n,o)}}}function na(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ra(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function ia(t,e,n,r){return ua(this.multi,[])}function oa(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var u=this.providerFactory.componentProviders,s=un(n,n[1],this.providerFactory.index,r);ua(o,i=s.slice(0,u));for(var a=u;a<s.length;a++)i.push(s[a])}else ua(o,i=[]);return i}function ua(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function sa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=te();if(r.firstCreatePass){var i=Tt(t);ta(n,r.data,r.blueprint,i,!0),ta(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var aa=function t(){h(this,t)},ca=function(){function t(){h(this,t)}return p(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(w(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),la=function(){var t=function t(){h(this,t)};return t.NULL=new ca,t}();function fa(){}function ha(t,e){return new pa(Ut(t,e))}var da=function(){return ha(ne(),$t())},pa=function(){var t=function t(e){h(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=da,t}();function va(t){return t instanceof pa?t.nativeElement:t}var ya=function t(){h(this,t)},ga=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=function(){return ma()},t}(),ma=function(){var t=$t(),e=zt(ne().index,t);return function(t){return t[11]}(_t(e)?e:t)},ba=function(){var t=function t(){h(this,t)};return t.\u0275prov=D({token:t,providedIn:"root",factory:function(){return null}}),t}(),wa=function t(e){h(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},_a=new wa("11.2.6"),Ea=function(){function t(){h(this,t)}return p(t,[{key:"supports",value:function(t){return Zo(t)}},{key:"create",value:function(t){return new Ia(t)}}]),t}(),ka=function(t,e){return e},Ia=function(){function t(e){h(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ka}return p(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Ca(n,r,i)?e:n,u=Ca(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var a=u-r,c=s-r;if(a!=c){for(var l=0;l<a;l++){var f=l<i.length?i[l]:i[l]=0,h=f+l;c<=h&&h<a&&(i[l]=f+1)}i[o.previousIndex]=c-a}}u!==s&&t(o,u,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Zo(t))throw new Error("Error trying to diff '".concat(w(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,u=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Object.is(o.trackById,i)?(u&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),u=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[Jo()]();!(r=i.next()).done;)e(r.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(u&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),u=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Oa(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Sa),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Sa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),Oa=function t(e,n){h(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Ta=function(){function t(){h(this,t),this._head=null,this._tail=null}return p(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Sa=function(){function t(){h(this,t),this.map=new Map}return p(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Ta,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function Ca(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Aa=function(){function t(){h(this,t)}return p(t,[{key:"supports",value:function(t){return t instanceof Map||$o(t)}},{key:"create",value:function(){return new xa}}]),t}(),xa=function(){function t(){h(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return p(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||$o(t)))throw new Error("Error trying to diff '".concat(w(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new ja(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),ja=function t(e){h(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function Da(){return new Na([new Ea])}var Na=function(){var t=function(){function t(e){h(this,t),this.factories=e}return p(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||Da())},deps:[[t,new Pn,new Rn]]}}}]),t}();return t.\u0275prov=D({token:t,providedIn:"root",factory:Da}),t}();function Ra(){return new Pa([new Aa])}var Pa=function(){var t=function(){function t(e){h(this,t),this.factories=e}return p(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||Ra())},deps:[[t,new Pn,new Rn]]}}}]),t}();return t.\u0275prov=D({token:t,providedIn:"root",factory:Ra}),t}();function La(t,e,n,r){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var u=e[n.index];if(null!==u&&r.push(Vt(u)),Et(u))for(var s=10;s<u.length;s++){var a=u[s],c=a[1].firstChild;null!==c&&La(a[1],a,c,r)}var l=n.type;if(8&l)La(t,e,n.child,r);else if(32&l)for(var f=Rr(n,e),h=void 0;h=f();)r.push(h);else if(16&l){var d=si(e,n);if(Array.isArray(d))r.push.apply(r,i(d));else{var p=Pr(e[16]);La(p[1],p,d,r,!0)}}n=o?n.projectionNext:n.next}return r}var Ma=function(){function t(e,n){h(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return p(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return La(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(Et(t)){var e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Gr(t,n),mn(e,n))}this._attachedToViewContainer=!1}Kr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){Yi(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){vo(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){yo(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){ce(!0);try{yo(t,e,n)}finally{ce(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,fi(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),Fa=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t))._view=t,r}return p(n,[{key:"detectChanges",value:function(){go(this._view)}},{key:"checkNoChanges",value:function(){!function(t){ce(!0);try{go(t)}finally{ce(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Ma),Va=Ua,qa=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=Va,t.__ChangeDetectorRef__=!0,t}();function Ua(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&It(t)){var r=zt(t.index,e);return new Ma(r,r)}return 47&t.type?new Ma(e[16],e):null}(ne(),$t(),t)}var Ba=[new Aa],Ha=new Na([new Ea]),za=new Pa(Ba),Ga=function(){return Qa(ne(),$t())},Ka=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=Ga,t}(),Wa=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=r,o.elementRef=i,o}return p(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Li(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),qi(e,n,t),new Ma(n)}}]),n}(Ka);function Qa(t,e){return 4&t.type?new Wa(e,t,ha(t,e)):null}var Ya=function t(){h(this,t)},Ja=function(){return ec(ne(),$t())},Xa=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=Ja,t}(),Za=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=r,o._hostLView=i,o}return p(n,[{key:"element",get:function(){return ha(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new cn(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=Je(this._hostTNode,this._hostLView);if(Ue(t)){var e=He(t,this._hostLView),n=Be(t);return new cn(e[1].data[n+8],e)}return new cn(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=$a(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var u=o.get(Ya,null);u&&(i=u)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var r=t._lView,i=r[1];if(Et(r[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var u=r[3],s=new n(u,u[6],u[3]);s.detach(s.indexOf(t))}}var a=this._adjustIndex(e),c=this._lContainer;!function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],gn(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var u=e[17];null!==u&&n!==u&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(u,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(i,r,c,a);var l=ai(a,c),f=r[11],h=$r(f,c[7]);return null!==h&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,fi(t,r,n,1,i,o)}(i,c[6],f,r,h,l),t.attachToViewContainerRef(),gn(tc(c),a,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=$a(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=Gr(this._lContainer,e);n&&(mn(tc(this._lContainer),e),Kr(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=Gr(this._lContainer,e);return n&&null!=mn(tc(this._lContainer),e)?new Ma(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(Xa);function $a(t){return t[8]}function tc(t){return t[8]||(t[8]=[])}function ec(t,e){var n,r=e[t.index];if(Et(r))n=r;else{var i;if(8&t.type)i=Vt(r);else{var o=e[11];i=o.createComment("");var u=Ut(t,e);Jr(o,$r(o,u),i,function(t,e){return Mt(t)?t.nextSibling(e):e.nextSibling}(o,u),!1)}e[t.index]=n=co(r,e,i,t),po(e,n)}return new Za(n,t,e)}var nc={},rc=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this)).ngModule=t,r}return p(n,[{key:"resolveComponentFactory",value:function(t){var e=bt(t);return new uc(e,this.ngModule)}}]),n}(la);function ic(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var oc=new pn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return xr}}),uc=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(Oi).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return p(n,[{key:"inputs",get:function(){return ic(this.componentDef.inputs)}},{key:"outputs",get:function(){return ic(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,r){var i,o,u=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,nc,i);return o!==nc||r===nc?o:e.get(n,r,i)}}}(t,r.injector):t,s=u.get(ya,Ft),a=u.get(ba,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",f=n?function(t,e,n){if(Mt(t))return t.selectRootElement(e,n===W.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Hr(s.createRenderer(null,this.componentDef),l,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,d={components:[],scheduler:xr,clean:bo,playerHandler:null,flags:0},p=Qi(0,null,null,1,0,null,null,null,null,null),v=Li(null,p,d,h,null,null,s,c,a,u);we(v);try{var y=function(t,e,n,r,i,o){var u=n[1];n[20]=t;var s=Mi(u,20,2,"#host",null),a=s.mergedAttrs=e.hostAttrs;null!==a&&(Oo(s,a,!0),null!==t&&(Le(i,t,a),null!==s.classes&&pi(i,t,s.classes),null!==s.styles&&di(i,t,s.styles)));var c=r.createRenderer(t,e),l=Li(n,Wi(e),null,e.onPush?64:16,n[20],s,r,c,null,null);return u.firstCreatePass&&(Xe(We(s,n),u,e.type),eo(u,s),ro(s,n.length,1)),po(n,l),n[20]=l}(f,this.componentDef,v,s,c);if(f)if(n)Le(c,f,["ng-version",_a.full]);else{var g=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!wi(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),m=g.attrs,b=g.classes;m&&Le(c,f,m),b&&b.length>0&&pi(c,f,b.join(" "))}if(o=Bt(p,20),void 0!==e)for(var w=o.projection=[],_=0;_<this.ngContentSelectors.length;_++){var E=e[_];w.push(null!=E?Array.from(E):null)}i=function(t,e,n,r,i){var o=n[1],u=function(t,e,n){var r=ne();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),io(t,r,e,Vi(t,e,1,null),n));var i=un(e,t,r.directiveStart,r);Ar(i,e);var o=Ut(r,e);return o&&Ar(o,e),i}(o,n,e);if(r.components.push(u),t[8]=u,i&&i.forEach(function(t){return t(u,e)}),e.contentQueries){var s=ne();e.contentQueries(1,u,s.directiveStart)}var a=ne();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Se(a.index),$i(n[1],a,0,a.directiveStart,a.directiveEnd,e),to(e,u)),u}(y,this.componentDef,v,d,[Ho]),qi(p,v,null)}finally{Oe()}return new sc(this.componentType,i,ha(o,v),v,o)}}]),n}(aa),sc=function(t){v(n,t);var e=g(n);function n(t,r,i,o,u){var s;return h(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=u,s.instance=r,s.hostView=s.changeDetectorRef=new Fa(o),s.componentType=t,s}return p(n,[{key:"injector",get:function(){return new cn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(function(){return function t(){h(this,t)}}()),ac=new Map,cc=function(t){v(n,t);var e=g(n);function n(t,r){var i;h(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=b(i),i.destroyCbs=[],i.componentFactoryResolver=new rc(b(i));var o=wt(t),u=t[ut]||null;return u&&ps(u),i._bootstrapComponents=jr(o.bootstrap),i._r3Injector=Ro(t,r,[{provide:Ya,useValue:b(i)},{provide:la,useValue:i.componentFactoryResolver}],w(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return p(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bo.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B.Default;return t===Bo||t===Ya||t===So?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(Ya),lc=function(t){v(n,t);var e=g(n);function n(t){var r,i,o;return h(this,n),(r=e.call(this)).moduleType=t,null!==wt(t)&&(i=t,o=new Set,function t(e){var n=wt(e,!0),r=n.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(w(e)," vs ").concat(w(e.name)))}(r,ac.get(r),e),ac.set(r,e));var i,s=u(jr(n.imports));try{for(s.s();!(i=s.n()).done;){var a=i.value;o.has(a)||(o.add(a),t(a))}}catch(c){s.e(c)}finally{s.f()}}(i)),r}return p(n,[{key:"create",value:function(t){return new cc(this.moduleType,t)}}]),n}(function(){return function t(){h(this,t)}}());function fc(t,e,n,r){return vc($t(),le(),t,e,n,r)}function hc(t,e,n,r,i){return function(t,e,n,r,i,o,u){var s=e+n;return nu(t,s,i,o)?tu(t,s+2,u?r.call(u,i,o):r(i,o)):pc(t,s+2)}($t(),le(),t,e,n,r,i)}function dc(t,e,n,r,i,o){return function(t,e,n,r,i,o,u,s){var a=e+n;return function(t,e,n,r,i){var o=nu(t,e,n,r);return eu(t,e+2,i)||o}(t,a,i,o,u)?tu(t,a+3,s?r.call(s,i,o,u):r(i,o,u)):pc(t,a+3)}($t(),le(),t,e,n,r,i,o)}function pc(t,e){var n=t[e];return n===Ti?void 0:n}function vc(t,e,n,r,i,o){var u=e+n;return eu(t,u,i)?tu(t,u+1,o?r.call(o,i):r(i)):pc(t,u+1)}function yc(t,e){var n,r=te(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new S("302","The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=St(n.type)),u=H(su);try{var s=Ge(!1),a=o();return Ge(s),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(r,$t(),i,a),a}finally{H(u)}}function gc(t,e,n){var r=t+20,i=$t(),o=Ht(i,r);return function(t,e){return Xo.isWrapped(e)&&(e=Xo.unwrap(e),t[fe()]=Ti),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?vc(i,le(),e,o.transform,n,o):o.transform(n))}var mc=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return h(this,n),(t=e.call(this)).__isAsync=r,t}return p(n,[{key:"emit",value:function(t){f(_(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,u=function(t){return null},s=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(u=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},e&&(u=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var a=f(_(n.prototype),"subscribe",this).call(this,i,u,s);return t instanceof o.a&&t.add(a),a}}]),n}(r.a);function bc(){return this._results[Jo()]()}var wc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];h(this,t),this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=Jo(),r=t.prototype;r[n]||(r[n]=bc)}return p(t,[{key:"changes",get:function(){return this._changes||(this._changes=new mc)}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,e){this.dirty=!1;var n=vn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),_c=function(){function t(e){h(this,t),this.queryList=e,this.matches=null}return p(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),Ec=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];h(this,t),this.queries=e}return p(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var u=n.getByIndex(o);i.push(this.queries[u.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Lc(t,e).matches&&this.queries[e].setDirty()}}]),t}(),kc=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;h(this,t),this.predicate=e,this.flags=n,this.read=r},Ic=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];h(this,t),this.queries=e}return p(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),Oc=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;h(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return p(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,Tc(e,i)),this.matchTNodeWithReadOption(t,e,on(e,t,i,!1,!1))}else n===Ka?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,on(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===pa||r===Xa||r===Ka&&4&e.type)this.addMatch(e.index,-2);else{var i=on(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Tc(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Sc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?ha(t,e):4&t.type?Qa(t,e):null}(e,t):-2===n?function(t,e,n){return n===pa?ha(e,t):n===Ka?Qa(e,t):n===Xa?ec(e,t):void 0}(t,e,r):un(t,t[1],n,e)}function Cc(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,u=n.matches,s=[],a=0;a<u.length;a+=2){var c=u[a];s.push(c<0?null:Sc(e,o[c],u[a+1],n.metadata.read))}i.matches=s}return i.matches}function Ac(t,e,n,r){var i=t.queries.getByIndex(n),o=i.matches;if(null!==o)for(var u=Cc(t,e,i,n),s=0;s<o.length;s+=2){var a=o[s];if(a>0)r.push(u[s/2]);else{for(var c=o[s+1],l=e[-a],f=10;f<l.length;f++){var h=l[f];h[17]===h[3]&&Ac(h[1],h,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];Ac(v[1],v,c,r)}}}return r}function xc(t){var e=$t(),n=te(),r=ye();ge(r+1);var i=Lc(n,r);if(t.dirty&&Kt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?Ac(n,e,r,[]):Cc(n,e,i,r);t.reset(o,va),t.notifyOnChanges()}return!0}return!1}function jc(t,e,n){var r=te();r.firstCreatePass&&(Pc(r,new kc(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Rc(r,$t(),e)}function Dc(t,e,n,r){var i=te();if(i.firstCreatePass){var o=ne();Pc(i,new kc(e,n,r),o.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Rc(i,$t(),n)}function Nc(){return t=$t(),e=ye(),t[19].queries[e].queryList;var t,e}function Rc(t,e,n){var r=new wc(4==(4&n));Yi(t,e,r,r.destroy),null===e[19]&&(e[19]=new Ec),e[19].queries.push(new _c(r))}function Pc(t,e,n){null===t.queries&&(t.queries=new Ic),t.queries.track(new Oc(e,n))}function Lc(t,e){return t.queries.getByIndex(e)}function Mc(t,e){return Qa(t,e)}function Fc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B.Default,e=Ua(!0);if(null!=e||t&B.Optional)return e;x("ChangeDetectorRef")}var Vc=new pn("Application Initializer"),qc=function(){var t=function(){function t(e){var n=this;h(this,t),this.appInits=e,this.resolve=fa,this.reject=fa,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return p(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();yu(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(An(Vc,8))},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}(),Uc=new pn("AppId"),Bc={provide:Uc,useFactory:function(){return"".concat(Hc()).concat(Hc()).concat(Hc())},deps:[]};function Hc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var zc=new pn("Platform Initializer"),Gc=new pn("Platform ID"),Kc=new pn("appBootstrapListener"),Wc=function(){var t=function(){function t(){h(this,t)}return p(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}(),Qc=new pn("LocaleId"),Yc=new pn("DefaultCurrencyCode"),Jc=function t(e,n){h(this,t),this.ngModuleFactory=e,this.componentFactories=n},Xc=function(t){return new lc(t)},Zc=Xc,$c=function(t){return Promise.resolve(Xc(t))},tl=function(t){var e=Xc(t),n=jr(wt(t).declarations).reduce(function(t,e){var n=bt(e);return n&&t.push(new uc(n)),t},[]);return new Jc(e,n)},el=tl,nl=function(t){return Promise.resolve(tl(t))},rl=function(){var t=function(){function t(){h(this,t),this.compileModuleSync=Zc,this.compileModuleAsync=$c,this.compileModuleAndAllComponentsSync=el,this.compileModuleAndAllComponentsAsync=nl}return p(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}(),il=Promise.resolve(0);function ol(t){"undefined"==typeof Zone?il.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var ul=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,u=e.shouldCoalesceEventChangeDetection,s=void 0!==u&&u,a=e.shouldCoalesceRunChangeDetection,c=void 0!==a&&a;if(h(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mc(!1),this.onMicrotaskEmpty=new mc(!1),this.onStable=new mc(!1),this.onError=new mc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!c&&s,this.shouldCoalesceRunChangeDetection=c,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=Z.requestAnimationFrame,e=Z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Z,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,cl(t),al(t)},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),cl(t))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,i,o,u,s){try{return ll(n),t.invokeTask(i,o,u,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&r(),fl(n)}},onInvoke:function(t,e,i,o,u,s,a){try{return ll(n),t.invoke(i,o,u,s,a)}finally{n.shouldCoalesceRunChangeDetection&&r(),fl(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,cl(n),al(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular(function(){return n.onError.emit(i)}),!1}})}return p(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,sl,fa,fa);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),sl={};function al(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function cl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ll(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function fl(t){t._nesting--,al(t)}var hl=function(){function t(){h(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mc,this.onMicrotaskEmpty=new mc,this.onStable=new mc,this.onError=new mc}return p(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),dl=function(){var t=function(){function t(e){var n=this;h(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return p(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){ul.assertNotInAngularZone(),ol(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())ol(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(An(ul))},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}(),pl=function(){var t=function(){function t(){h(this,t),this._applications=new Map,gl.addToWindow(this)}return p(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return gl.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}();function vl(t){gl=t}var yl,gl=new(function(){function t(){h(this,t)}return p(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),ml=!0,bl=!1;function wl(){return bl=!0,ml}function _l(){if(bl)throw new Error("Cannot enable prod mode after platform setup.");ml=!1}var El=new pn("AllowMultipleToken"),kl=function t(e,n){h(this,t),this.name=e,this.token=n};function Il(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new pn(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Ol();if(!o||o.injector.get(El,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var u=n.concat(e).concat({provide:i,useValue:!0},{provide:Ao,useValue:"platform"});!function(t){if(yl&&!yl.destroyed&&!yl.injector.get(El,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");yl=t.get(Tl);var e=t.get(zc,null);e&&e.forEach(function(t){return t()})}(Bo.create({providers:u,name:r}))}return function(t){var e=Ol();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ol(){return yl&&!yl.destroyed?yl:null}var Tl=function(){var t=function(){function t(e){h(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return p(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r={ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1},"noop"===n?new hl:("zone.js"===n?void 0:n)||new ul({enableLongStackTrace:wl(),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),u=[{provide:ul,useValue:o}];return o.run(function(){var e=Bo.create({providers:u,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(Tr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){r.handleError(t)}});n.onDestroy(function(){Al(i._modules,n),t.unsubscribe()})}),function(t,e,r){try{var o=((u=n.injector.get(qc)).runInitializers(),u.donePromise.then(function(){return ps(n.injector.get(Qc,"en-US")||"en-US"),i._moduleDoBootstrap(n),n}));return yu(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var u}(r,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Sl({},n);return function(t,e,n){var r=new lc(n);return Promise.resolve(r)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,r)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Cl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(w(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(An(Bo))},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}();function Sl(t,e){return Array.isArray(e)?e.reduce(Sl,t):Object.assign(Object.assign({},t),e)}var Cl=function(){var t=function(){function t(e,n,r,i,o){var u=this;h(this,t),this._zone=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){u._zone.run(function(){u.tick()})}});var c=new s.a(function(t){u._stable=u._zone.isStable&&!u._zone.hasPendingMacrotasks&&!u._zone.hasPendingMicrotasks,u._zone.runOutsideAngular(function(){t.next(u._stable),t.complete()})}),l=new s.a(function(t){var e;u._zone.runOutsideAngular(function(){e=u._zone.onStable.subscribe(function(){ul.assertNotInAngularZone(),ol(function(){u._stable||u._zone.hasPendingMacrotasks||u._zone.hasPendingMicrotasks||(u._stable=!0,t.next(!0))})})});var n=u._zone.onUnstable.subscribe(function(){ul.assertInAngularZone(),u._stable&&(u._stable=!1,u._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(a.a)(c,l.pipe(Object(d.a)()))}return p(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof aa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(Ya),o=n.create(Bo.NULL,[],e||n.selector,i),u=o.location.nativeElement,s=o.injector.get(dl,null),a=s&&o.injector.get(pl);return s&&a&&a.registerApplication(u,s),o.onDestroy(function(){r.detachView(o.hostView),Al(r.components,o),a&&a.unregisterApplication(u)}),this._loadComponent(o),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=u(this._views);try{for(n.s();!(e=n.n()).done;){e.value.detectChanges()}}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Al(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Kc,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}();return t.\u0275fac=function(e){return new(e||t)(An(ul),An(Bo),An(Tr),An(la),An(qc))},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}();function Al(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var xl=function(t){return null},jl=Il(null,"core",[{provide:Gc,useValue:"unknown"},{provide:Tl,deps:[Bo]},{provide:pl,deps:[]},{provide:Wc,deps:[]}]),Dl=[{provide:Cl,useClass:Cl,deps:[ul,Bo,Tr,la,qc]},{provide:oc,deps:[ul],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:qc,useClass:qc,deps:[[new Rn,Vc]]},{provide:rl,useClass:rl,deps:[]},Bc,{provide:Na,useFactory:function(){return Ha},deps:[]},{provide:Pa,useFactory:function(){return za},deps:[]},{provide:Qc,useFactory:function(t){return ps(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new Nn(Qc),new Rn,new Pn]]},{provide:Yc,useValue:"USD"}],Nl=function(){var t=function t(e){h(this,t)};return t.\u0275fac=function(e){return new(e||t)(An(Cl))},t.\u0275mod=pt({type:t}),t.\u0275inj=N({providers:Dl}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){h(this,t),this.project=e,this.thisArg=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.project,this.thisArg))}}]),t}(),u=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||b(o),o}return p(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u}),n.d(e,"d",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function u(t,e,n,r){return new(n||(n=Promise))(function(i,o){function u(t){try{a(r.next(t))}catch(e){o(e)}}function s(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(u,s)}a((r=r.apply(t,e||[])).next())})}function s(t,e){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,r=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!((i=(i=u.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=e.call(t,u)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return u}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return s});var r=n("7o/Q"),i=n("WMd4");function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new u(t,e))}}var u=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h(this,t),this.scheduler=e,this.delay=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.scheduler,this.delay))}}]),t}(),s=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return h(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return p(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new a(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(i.a.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(r.a),a=function t(e,n){h(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],u=0,s=o.length;u<s;u++,i++)r[i]=o[u];return r}var i;n.d(e,"a",function(){return u}),n.d(e,"b",function(){return f}),n.d(e,"c",function(){return h}),n.d(e,"d",function(){return d});var o=[],u=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},a=u.INFO,c=((i={})[u.DEBUG]="log",i[u.VERBOSE]="log",i[u.INFO]="info",i[u.WARN]="warn",i[u.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),u=c[e];if(!u)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[u].apply(console,r(["["+o+"]  "+t.name+":"],n))}},f=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in u))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,u.DEBUG],t)),this._logHandler.apply(this,r([this,u.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,u.VERBOSE],t)),this._logHandler.apply(this,r([this,u.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,u.INFO],t)),this._logHandler.apply(this,r([this,u.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,u.WARN],t)),this._logHandler.apply(this,r([this,u.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,u.ERROR],t)),this._logHandler.apply(this,r([this,u.ERROR],t))},t}();function h(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:u[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return g}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return f}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return a}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return h}),n.d(e,"o",function(){return v});var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var u=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function s(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(s())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function h(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return s().indexOf("Electron/")>=0}function p(){var t=s();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return s().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return Object(r.c)(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],u=o?m(o,r):"Error",s=this.serviceName+": "+u+" ("+i+").",a=new y(i,s,r);return a},t}();function m(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=k),void 0===r.error&&(r.error=k),void 0===r.complete&&(r.complete=k);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function k(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?f(_(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?f(_(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?f(_(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=new(function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(r),o=i},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r,i,o=n("DH7j"),u=n("XoHu"),s=n("n6bG"),a=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=((i=function(){function t(e){h(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return p(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var f=0;f<n.length;++f)n[f].remove(this);if(Object(s.a)(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(v){e=v instanceof a?l(v.errors):[v]}}if(Object(o.a)(c))for(var h=-1,d=c.length;++h<d;){var p=c[h];if(Object(u.a)(p))try{p.unsubscribe()}catch(v){e=e||[],v instanceof a?e=e.concat(l(v.errors)):e.push(v)}}if(e)throw new a(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new i).closed=!0,r),i);function l(t){return t.reduce(function(t,e){return t.concat(e instanceof a?e.errors:e)},[])}},spgP:function(t,e,u){"use strict";(function(t){u.d(e,"a",function(){return N}),u.d(e,"b",function(){return T}),u.d(e,"c",function(){return O}),u.d(e,"d",function(){return w}),u.d(e,"e",function(){return I}),u.d(e,"f",function(){return j}),u.d(e,"g",function(){return C}),u.d(e,"h",function(){return _}),u.d(e,"i",function(){return k}),u.d(e,"j",function(){return A});var a=u("qgXg"),c=u("D0XW"),l=u("vkgz"),f=u("tf+s"),d=u("pxpQ"),v=u("fXoL"),y=u("Jgta");function g(){}var m=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.b;h(this,t),this.zone=e,this.delegate=n}return p(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule(function(e){var n=this;r.runGuarded(function(){t.apply(n,[e])})},e,n)}}]),t}(),b=function(){function t(e){h(this,t),this.zone=e,this.task=null}return p(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",g,{},g,g)}),e.pipe(Object(l.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout(function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)},10)}}]),t}(),w=function t(e){h(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular(function(){return new m(Zone.current)}),this.insideAngular=e.run(function(){return new m(Zone.current,c.b)})};function _(t){return function(e){return(e=e.lift(new b(t.ngZone))).pipe(Object(f.a)(t.outsideAngular),Object(d.b)(t.insideAngular))}}var E=["ngOnDestroy"],k=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(o,u){return n.runOutsideAngular(function(){var o;if(t[u])return(null===(o=null==r?void 0:r.spy)||void 0===o?void 0:o.get)&&r.spy.get(u,t[u]),t[u];if(E.indexOf(u)>-1)return function(){};var s=e.toPromise().then(function(t){var e=t&&t[u];return"function"==typeof e?e.bind(t):e&&e.then?e.then(function(t){return n.run(function(){return t})}):n.run(function(){return e})});return new Proxy(function(){},{get:function(t,e){return s[e]},apply:function(t,e,n){return s.then(function(t){var e,o=t&&t.apply(void 0,i(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(u,n,o),o})}})})}})},I=function(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype||e).forEach(function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},O=new v.m("angularfire2.app.options"),T=new v.m("angularfire2.app.nameOrConfig"),S=new v.F("6.1.4");function C(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=y.a.apps.filter(function(t){return t&&t.name===i.name})[0]||n.runOutsideAngular(function(){return y.a.initializeApp(e,i)});try{JSON.stringify(e)!==JSON.stringify(o.options)&&x("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(u){}return o}var A=function(){x("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},x=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(v.L)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function j(e,u,a,c,l){var f,h=globalThis.\u0275AngularfireInstanceCache.get(e)||[],d=r(f=h)||o(f)||s(f)||n(),p=d[0],v=d.slice(1);if(p){try{l.some(function(t,e){var n=v[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&x("error","".concat(u," was already initialized on the ").concat(a.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(g){}return p}var y=c();return globalThis.\u0275AngularfireInstanceCache.set(e,[y].concat(i(l))),y}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var D={provide:function t(){h(this,t)},useFactory:C,deps:[O,v.t,[new v.u,T]]},N=function(){var t=function(){function t(e){h(this,t),y.a.registerVersion("angularfire",S.full,e.toString()),y.a.registerVersion("angular",v.E.full)}return p(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:O,useValue:e},{provide:T,useValue:n}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(v.Ob(v.v))},t.\u0275mod=v.Ab({type:t}),t.\u0275inj=v.zb({providers:[D]}),t}()}).call(this,u("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("HDdC"),i=1,o=Promise.resolve(),u={};function s(t){return t in u&&(delete u[t],!0)}var a=function(t){var e=i++;return u[e]=!0,o.then(function(){return s(e)&&t()}),e},c=function(t){s(t)},l=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return p(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?f(_(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=a(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return f(_(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(c(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),d=new(function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(l),y=n("Y7HM"),m=function(t){v(n,t);var e=g(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return h(this,n),(r=e.call(this)).source=t,r.delayTime=i,r.scheduler=o,(!Object(y.a)(i)||i<0)&&(r.delayTime=0),o&&"function"==typeof o.schedule||(r.scheduler=d),r}return p(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.a);function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new w(t,e))}}var w=function(){function t(e,n){h(this,t),this.scheduler=e,this.delay=n}return p(t,[{key:"call",value:function(t,e){return new m(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function u(t,e,n){return function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(e,n,r){h(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),a=function(t){v(n,t);var e=g(n);function n(t,r,u,s){var a;return h(this,n),(a=e.call(this,t))._tapNext=i.a,a._tapError=i.a,a._tapComplete=i.a,a._tapError=u||i.a,a._tapComplete=s||i.a,Object(o.a)(r)?(a._context=b(a),a._tapNext=r):r&&(a._context=r,a._tapNext=r.next||i.a,a._tapError=r.error||i.a,a._tapComplete=r.complete||i.a),a}return p(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return w});var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),u=n("quSY");function s(){return function(t){return t.lift(new c(t))}}var a,c=function(){function t(e){h(this,t),this.connectable=e}return p(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),l=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).connectable=r,i}return p(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(o.a),d=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return p(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new u.a).add(this.source.subscribe(new m(this.getSubject(),this))),t.closed&&(this._connection=null,t=u.a.EMPTY)),t}},{key:"refCount",value:function(){return s()(this)}}]),n}(i.a),y={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(a=d.prototype)._subscribe},_isComplete:{value:a._isComplete,writable:!0},getSubject:{value:a.getSubject},connect:{value:a.connect},refCount:{value:a.refCount}},m=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).connectable=r,i}return p(n,[{key:"_error",value:function(t){this._unsubscribe(),f(_(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),f(_(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(r.b);function b(){return new r.a}function w(){return function(t){return s()((e=b,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,y);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function u(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),u=n("qOnz"),s=n("/6Yf"),a=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new u.b("app","Firebase",c),f="@firebase/app",h=((i={})[f]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new a.b("@firebase/app"),p=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(u.e)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(u.c)(e,s))throw l.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var u=i.match(/\s|\//),a=e.match(/\s|\//);if(u||a){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return u&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),u&&a&&c.push("and"),a&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}o(new s.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:a.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(a.d)(t,e)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(u.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return d.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Object(u.f)(a,o.serviceProps),r[s]=a,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var c=0,f=Object.keys(e);c<f.length;c++)e[f[c]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(p);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(u.f)(e,t)},createSubscribe:u.d,ErrorFactory:u.b,deepExtend:u.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(u.h)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(u.m)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var b=v;!function(t,e){t.INTERNAL.registerComponent(new s.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(f,"0.6.17",void 0),t.registerVersion("fire-js","")}(b),e.a=b},zUnb:function(n,r,o){"use strict";o.r(r);var s=o("fXoL"),a=null;function c(){return a}var l,d,y=new s.m("DocumentToken"),m=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),w=s.cb,E=function t(){h(this,t)},k=((d=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this)).locale=t,r}return p(n,[{key:"getPluralCategory",value:function(t,e){switch(w(e||this.locale)(t)){case m.Zero:return"zero";case m.One:return"one";case m.Two:return"two";case m.Few:return"few";case m.Many:return"many";default:return"other"}}}]),n}(E)).\u0275fac=function(t){return new(t||d)(s.Ob(s.q))},d.\u0275prov=s.yb({token:d,factory:d.\u0275fac}),d),I=((l=function t(){h(this,t)}).\u0275fac=function(t){return new(t||l)},l.\u0275mod=s.Ab({type:l}),l.\u0275inj=s.zb({providers:[{provide:E,useClass:k}]}),l);function O(t){return"server"===t}var T,S,C,A,x=function(t){v(r,t);var n=g(r);function r(){return h(this,r),n.apply(this,arguments)}return p(r,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=j||(j=document.querySelector("base"))?j.getAttribute("href"):null;return null==n?null:(e=n,T||(T=document.createElement("a")),T.setAttribute("href",e),"/"===T.pathname.charAt(0)?T.pathname:"/"+T.pathname)}},{key:"resetBaseElement",value:function(){j=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return function(t,n){n=encodeURIComponent(n);var r,i=u(t.split(";"));try{for(i.s();!(r=i.n()).done;){var o=r.value,s=o.indexOf("="),a=e(-1==s?[o,""]:[o.slice(0,s),o.slice(s+1)],2),c=a[0],l=a[1];if(c.trim()===n)return decodeURIComponent(l)}}catch(f){i.e(f)}finally{i.f()}return null}(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new r,a||(a=t)}}]),r}(function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.call(this)}return p(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){h(this,t)}}())),j=null,D=new s.m("TRANSITION_ID"),N=[{provide:s.b,useFactory:function(t,e,n){return function(){n.get(s.c).donePromise.then(function(){var n=c();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[D,y,s.n],multi:!0}],R=function(){function t(){h(this,t)}return p(t,[{key:"addToWindow",value:function(t){s.eb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},s.eb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},s.eb.getAllAngularRootElements=function(){return t.getAllRootElements()},s.eb.frameworkStabilizers||(s.eb.frameworkStabilizers=[]),s.eb.frameworkStabilizers.push(function(t){var e=s.eb.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?c().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(s.N)(new t)}}]),t}(),P=new s.m("EventManagerPlugins"),L=((S=function(){function t(e,n){var r=this;h(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=r}),this._plugins=e.slice().reverse()}return p(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}()).\u0275fac=function(t){return new(t||S)(s.Ob(P),s.Ob(s.t))},S.\u0275prov=s.yb({token:S,factory:S.\u0275fac}),S),M=function(){function t(e){h(this,t),this._doc=e}return p(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=c().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),F=((A=function(){function t(){h(this,t),this._stylesSet=new Set}return p(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||A)},A.\u0275prov=s.yb({token:A,factory:A.\u0275fac}),A),V=((C=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return p(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(t){return c().remove(t)})}}]),n}(F)).\u0275fac=function(t){return new(t||C)(s.Ob(y))},C.\u0275prov=s.yb({token:C,factory:C.\u0275fac}),C),q={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},U=/%COMP%/g;function B(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?B(t,i,n):(i=i.replace(U,t),n.push(i))}return n}function H(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var z,G,K,W,Q=((z=function(){function t(e,n,r){h(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Y(e)}return p(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case s.H.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new J(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case s.H.ShadowDom:return new X(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=B(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||z)(s.Ob(L),s.Ob(V),s.Ob(s.a))},z.\u0275prov=s.yb({token:z,factory:z.\u0275fac}),z),Y=function(){function t(e){h(this,t),this.eventManager=e,this.data=Object.create(null)}return p(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(q[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=q[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=q[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&(s.z.DashCase|s.z.Important)?t.style.setProperty(e,n,r&s.z.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&s.z.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,H(n)):this.eventManager.addEventListener(t,e,H(n))}}]),t}(),J=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var u;h(this,n),(u=e.call(this,t)).component=i;var s=B(o+"-"+i.id,i.styles,[]);return r.addStyles(s),u.contentAttr="_ngcontent-%COMP%".replace(U,o+"-"+i.id),u.hostAttr="_nghost-%COMP%".replace(U,o+"-"+i.id),u}return p(n,[{key:"applyToHost",value:function(t){f(_(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=f(_(n.prototype),"createElement",this).call(this,t,e);return f(_(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Y),X=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var u;h(this,n),(u=e.call(this,t)).sharedStylesHost=r,u.hostEl=i,u.shadowRoot=i.attachShadow({mode:"open"}),u.sharedStylesHost.addHost(u.shadowRoot);for(var s=B(o.id,o.styles,[]),a=0;a<s.length;a++){var c=document.createElement("style");c.textContent=s[a],u.shadowRoot.appendChild(c)}return u}return p(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return f(_(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return f(_(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return f(_(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(f(_(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(Y),Z=((G=function(t){v(n,t);var e=g(n);function n(t){return h(this,n),e.call(this,t)}return p(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(M)).\u0275fac=function(t){return new(t||G)(s.Ob(y))},G.\u0275prov=s.yb({token:G,factory:G.\u0275fac}),G),$=["alt","control","meta","shift"],tt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},et={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},nt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},rt=((K=function(t){v(n,t);var e=g(n);function n(t){return h(this,n),e.call(this,t)}return p(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return c().onAndCancel(t,i.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if($.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var u={};return u.domEventName=r,u.fullKey=o,u}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&et.hasOwnProperty(e)&&(e=et[e]))}return tt[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),$.forEach(function(r){r!=n&&(0,nt[r])(t)&&(e+=r+".")}),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(M)).\u0275fac=function(t){return new(t||K)(s.Ob(y))},K.\u0275prov=s.yb({token:K,factory:K.\u0275fac}),K),it=[{provide:s.v,useValue:"browser"},{provide:s.w,useValue:function(){x.makeCurrent(),R.init()},multi:!0},{provide:y,useFactory:function(){return Object(s.kb)(document),document},deps:[]}],ot=Object(s.I)(s.M,"browser",it),ut=[[],{provide:s.P,useValue:"root"},{provide:s.j,useFactory:function(){return new s.j},deps:[]},{provide:P,useClass:Z,multi:!0,deps:[y,s.t,s.v]},{provide:P,useClass:rt,multi:!0,deps:[y]},[],{provide:Q,useClass:Q,deps:[L,V,s.a]},{provide:s.y,useExisting:Q},{provide:F,useExisting:V},{provide:V,useClass:V,deps:[y]},{provide:s.D,useClass:s.D,deps:[s.t]},{provide:L,useClass:L,deps:[P,s.t]},[]],st=((W=function(){function t(e){if(h(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return p(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:s.a,useValue:e.appId},{provide:D,useExisting:s.a},N]}}}]),t}()).\u0275fac=function(t){return new(t||W)(s.Ob(W,12))},W.\u0275mod=s.Ab({type:W}),W.\u0275inj=s.zb({providers:ut,imports:[I,s.d]}),W);"undefined"!=typeof window&&window;var at,ct,lt=function t(){h(this,t),this.urlConnection=""},ft=((ct=function(){function t(e){h(this,t),this.stravaService=e,this.stravaURLConnection="",this.stravaURLConnection=e.urlConnection}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||ct)(s.Cb(lt))},ct.\u0275cmp=s.wb({type:ct,selectors:[["app-connect-strava"]],decls:2,vars:0,consts:[["href","{}"]],template:function(t,e){1&t&&(s.Hb(0,"a",0),s.lc(1,"Click here to connect to Strava"),s.Gb())},styles:[""]}),ct),ht=((at=function t(){h(this,t),this.title="huaweiToStrava"}).\u0275fac=function(t){return new(t||at)},at.\u0275cmp=s.wb({type:at,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-xs-12"]],template:function(t,e){1&t&&(s.Hb(0,"div",0),s.Hb(1,"div",1),s.Hb(2,"div",2),s.Hb(3,"h2"),s.lc(4,"Connect your Strava account"),s.Gb(),s.Db(5,"app-connect-strava"),s.Gb(),s.Gb(),s.Gb())},directives:[ft],styles:[""]}),at),dt=o("HDdC"),pt=o("EY2u"),vt=o("LRne"),yt=o("XNiG"),gt=o("DH7j"),mt=o("n6bG"),bt=o("lJxs");function wt(t,e,n,r){return Object(mt.a)(n)&&(r=n,n=void 0),r?wt(t,e,n).pipe(Object(bt.a)(function(t){return Object(gt.a)(t)?r.apply(void 0,i(t)):r(t)})):new dt.a(function(r){_t(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function _t(t,e,n,r,i){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var u=t;t.addEventListener(e,n,i),o=function(){return u.removeEventListener(e,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var s=t;t.on(e,n),o=function(){return s.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var a=t;t.addListener(e,n),o=function(){return a.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,l=t.length;c<l;c++)_t(t[c],e,n,r,i)}r.add(o)}var Et=o("D0XW"),kt=o("Y7HM"),It=o("z+Ro");function Ot(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}var Tt=o("yCtX"),St=o("7o/Q"),Ct=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(St.a),At=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return p(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(St.a),xt=o("SeVD");function jt(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new At(t,n,r);if(!i.closed)return e instanceof dt.a?e.subscribe(i):Object(xt.a)(e)(i)}var Dt=function(){function t(){h(this,t)}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Nt(t))}}]),t}(),Nt=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).hasFirst=!1,r.observables=[],r.subscriptions=[],r}return p(n,[{key:"_next",value:function(t){this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=jt(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}},{key:"notifyNext",value:function(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(e)}}]),n}(Ct),Rt=o("9ppp");o("KqfI");var Pt=o("Lhse"),Lt=o("zx2A");function Mt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return"function"==typeof r&&e.pop(),Object(Tt.a)(e,void 0).lift(new Ft(r))}var Ft=function(){function t(e){h(this,t),this.resultSelector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Vt(t,this.resultSelector))}}]),t}(),Vt=function(t){v(n,t);var e=g(n);function n(t,r){var i;arguments.length>2&&void 0!==arguments[2]||Object.create(null);return h(this,n),(i=e.call(this,t)).resultSelector=r,i.iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:void 0,i}return p(n,[{key:"_next",value:function(t){var e=this.iterators;Object(gt.a)(t)?e.push(new Ut(t)):e.push("function"==typeof t[Pt.a]?new qt(t[Pt.a]()):new Bt(this.destination,this,t))}},{key:"_complete",value:function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){var i=t[r];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,u=[],s=0;s<e;s++){var a=t[s],c=a.next();if(a.hasCompleted()&&(o=!0),c.done)return void n.complete();u.push(c.value)}this.resultSelector?this._tryresultSelector(u):n.next(u),o&&n.complete()}},{key:"_tryresultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(St.a),qt=function(){function t(e){h(this,t),this.iterator=e,this.nextResult=e.next()}return p(t,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t}},{key:"hasCompleted",value:function(){var t=this.nextResult;return Boolean(t&&t.done)}}]),t}(),Ut=function(){function t(e){h(this,t),this.array=e,this.index=0,this.length=0,this.length=e.length}return p(t,[{key:Pt.a,value:function(){return this}},{key:"next",value:function(t){var e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),t}(),Bt=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).parent=r,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return p(n,[{key:Pt.a,value:function(){return this}},{key:"next",value:function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(t){this.buffer.push(t),this.parent.checkIterators()}},{key:"subscribe",value:function(){return Object(Lt.c)(this.observable,new Lt.a(this))}}]),n}(Lt.b),Ht=o("VRyK"),zt=o("bHdf");function Gt(){return Object(zt.a)(1)(Object(vt.a).apply(void 0,arguments))}function Kt(t){return function(e){return e.lift(new Wt(t))}}var Wt=function(){function t(e){h(this,t),this.notifier=e}return p(t,[{key:"call",value:function(t,e){var n=new Qt(t),r=Object(Lt.c)(this.notifier,new Lt.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}]),t}(),Qt=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).seenValue=!1,r}return p(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(Lt.b);function Yt(t,e){return function(n){return n.lift(new Jt(t,e))}}var Jt=function(){function t(e,n){h(this,t),this.predicate=e,this.thisArg=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Xt(t,this.predicate,this.thisArg))}}]),t}(),Xt=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return p(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(St.a),Zt=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function $t(t){return function(e){return 0===t?Object(pt.b)():e.lift(new te(t))}}var te=function(){function t(e){if(h(this,t),this.total=e,this.total<0)throw new Zt}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new ee(t,this.total))}}]),t}(),ee=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return p(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(St.a);function ne(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(It.a)(r)?(e.pop(),function(t){return Gt(e,t,r)}):function(t){return Gt(e,t)}}var re=function(){function t(e,n){h(this,t),this.compare=e,this.keySelector=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new ie(t,this.compare,this.keySelector))}}]),t}(),ie=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return p(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(St.a),oe=o("Cfvw");function ue(t,e){return"function"==typeof e?function(n){return n.pipe(ue(function(n,r){return Object(oe.a)(t(n,r)).pipe(Object(bt.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new se(t))}}var se=function(){function t(e){h(this,t),this.project=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new ae(t,this.project))}}]),t}(),ae=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return p(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new Lt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Lt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||f(_(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&f(_(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(Lt.b),ce=o("vkgz");function le(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new fe(e,n))}}var fe=function(){function t(e,n){h(this,t),this.observables=e,this.project=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new he(t,this.observables,this.project))}}]),t}(),he=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;h(this,n),(o=e.call(this,t)).observables=r,o.project=i,o.toRespond=[];var u=r.length;o.values=new Array(u);for(var s=0;s<u;s++)o.toRespond.push(s);for(var a=0;a<u;a++)o.add(jt(b(o),r[a],void 0,a));return o}return p(n,[{key:"notifyNext",value:function(t,e,n){this.values[n]=e;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat(i(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Ct);o("WMd4"),o("5+tZ"),o("w1tV"),o("XoHu");var de,pe,ve,ye=((ve=function t(){h(this,t)}).\u0275fac=function(t){return new(t||ve)},ve.\u0275mod=s.Ab({type:ve}),ve.\u0275inj=s.zb({}),ve),ge=((pe=function t(){h(this,t)}).\u0275fac=function(t){return new(t||pe)},pe.\u0275mod=s.Ab({type:pe}),pe.\u0275inj=s.zb({imports:[[ye]]}),pe),me=((de=function t(){h(this,t)}).\u0275fac=function(t){return new(t||de)},de.\u0275mod=s.Ab({type:de}),de.\u0275inj=s.zb({imports:[ge]}),de),be=["*"],we=["dialog"];function _e(t){return null!=t}function Ee(t){return(t||document.body).offsetHeight}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var ke,Ie,Oe,Te,Se,Ce,Ae=!0,xe=5,je=((ke=function t(){h(this,t),this.animation=Ae}).\u0275fac=function(t){return new(t||ke)},ke.\u0275prov=Object(s.yb)({factory:function(){return new ke},token:ke,providedIn:"root"}),ke),De=function(){},Ne=xe,Re=new Map,Pe=function(t,e,n,r){var i=r.context||{},o=Re.get(e);if(o)switch(r.runningTransition){case"continue":return pt.a;case"stop":t.run(function(){return o.transition$.complete()}),i=Object.assign(o.context,i),Re.delete(e)}var u=n(e,r.animation,i)||De;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(function(){return u()}),Object(vt.a)(void 0).pipe(function(t){return function(e){return new dt.a(function(n){return e.subscribe(function(e){return t.run(function(){return n.next(e)})},function(e){return t.run(function(){return n.error(e)})},function(){return t.run(function(){return n.complete()})})})}}(t));var s=new yt.a,a=new yt.a,c=s.pipe(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return Gt(t,Object(vt.a).apply(void 0,e))}}(!0));Re.set(e,{transition$:s,complete:function(){a.next(),a.complete()},context:i});var l=function(t){var e=window.getComputedStyle(t),n=e.transitionDelay,r=e.transitionDuration;return 1e3*(parseFloat(n)+parseFloat(r))}(e);return t.runOutsideAngular(function(){var n=wt(e,"transitionend").pipe(Kt(c),Yt(function(t){return t.target===e}));(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){if(!Object(gt.a)(e[0]))return e[0];e=e[0]}return Object(Tt.a)(e,void 0).lift(new Dt)})(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return Object(kt.a)(e)?r=Number(e)<1?1:Number(e):Object(It.a)(e)&&(n=e),Object(It.a)(n)||(n=Et.a),new dt.a(function(e){var i=Object(kt.a)(t)?t:+t-n.now();return n.schedule(Ot,i,{index:0,period:r,subscriber:e})})}(l+Ne).pipe(Kt(c)),n,a).pipe(Kt(c)).subscribe(function(){Re.delete(e),t.run(function(){u(),s.next(),s.complete()})})}),s.asObservable()},Le=((Ce=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Ce)},Ce.\u0275mod=s.Ab({type:Ce}),Ce.\u0275inj=s.zb({imports:[[I]]}),Ce),Me=((Se=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Se)},Se.\u0275mod=s.Ab({type:Se}),Se.\u0275inj=s.zb({imports:[[I]]}),Se),Fe=((Te=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Te)},Te.\u0275mod=s.Ab({type:Te}),Te.\u0275inj=s.zb({}),Te),Ve=((Oe=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Oe)},Oe.\u0275mod=s.Ab({type:Oe}),Oe.\u0275inj=s.zb({imports:[[I]]}),Oe),qe=((Ie=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Ie)},Ie.\u0275mod=s.Ab({type:Ie}),Ie.\u0275inj=s.zb({}),Ie),Ue=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));var Be=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function He(t){var e=Array.from(t.querySelectorAll(Be)).filter(function(t){return-1!==t.tabIndex});return[e[0],e[e.length-1]]}new(function(){function t(){h(this,t)}return p(t,[{key:"getAllStyles",value:function(t){return window.getComputedStyle(t)}},{key:"getStyle",value:function(t,e){return this.getAllStyles(t)[e]}},{key:"isStaticPositioned",value:function(t){return"static"===(this.getStyle(t,"position")||"static")}},{key:"offsetParent",value:function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}},{key:"position",value:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))e={top:(e=t.getBoundingClientRect()).top,bottom:e.bottom,left:e.left,right:e.right,height:e.height,width:e.width};else{var i=this.offsetParent(t);e=this.offset(t,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return e.top-=r.top,e.bottom-=r.top,e.left-=r.left,e.right-=r.left,n&&(e.top=Math.round(e.top),e.bottom=Math.round(e.bottom),e.left=Math.round(e.left),e.right=Math.round(e.right)),e}},{key:"offset",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}},{key:"positionElements",value:function(t,n,r,i){var o=e(r.split("-"),2),u=o[0],s=void 0===u?"top":u,a=o[1],c=void 0===a?"center":a,l=i?this.offset(t,!1):this.position(t,!1),f=this.getAllStyles(n),h=parseFloat(f.marginTop),d=parseFloat(f.marginBottom),p=parseFloat(f.marginLeft),v=parseFloat(f.marginRight),y=0,g=0;switch(s){case"top":y=l.top-(n.offsetHeight+h+d);break;case"bottom":y=l.top+l.height;break;case"left":g=l.left-(n.offsetWidth+p+v);break;case"right":g=l.left+l.width}switch(c){case"top":y=l.top;break;case"bottom":y=l.top+l.height-n.offsetHeight;break;case"left":g=l.left;break;case"right":g=l.left+l.width-n.offsetWidth;break;case"center":"top"===s||"bottom"===s?g=l.left+l.width/2-n.offsetWidth/2:y=l.top+l.height/2-n.offsetHeight/2}n.style.transform="translate(".concat(Math.round(g),"px, ").concat(Math.round(y),"px)");var m=n.getBoundingClientRect(),b=document.documentElement,w=window.innerHeight||b.clientHeight,_=window.innerWidth||b.clientWidth;return m.left>=0&&m.top>=0&&m.right<=_&&m.bottom<=w}}]),t}()),new Date(1882,10,12),new Date(2174,10,25);var ze,Ge,Ke,We,Qe,Ye,Je,Xe,Ze,$e,tn,en,nn,rn,on,un,sn,an=((Ke=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Ke)},Ke.\u0275mod=s.Ab({type:Ke}),Ke.\u0275inj=s.zb({imports:[[I,me]]}),Ke),cn=((Ge=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Ge)},Ge.\u0275mod=s.Ab({type:Ge}),Ge.\u0275inj=s.zb({}),Ge),ln=((ze=function(){function t(e){h(this,t),this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}return p(t,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(t){this._animation=t}}]),t}()).\u0275fac=function(t){return new(t||ze)(s.Ob(je))},ze.\u0275prov=Object(s.yb)({factory:function(){return new ze(Object(s.Ob)(je))},token:ze,providedIn:"root"}),ze),fn=function t(e,n,r){h(this,t),this.nodes=e,this.viewRef=n,this.componentRef=r},hn=function(){},dn=((Qe=function(){function t(e){h(this,t),this._document=e}return p(t,[{key:"compensate",value:function(){var t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):hn}},{key:"_adjustBody",value:function(t){var e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]="".concat(r+t,"px"),function(){return e.style["padding-right"]=n}}},{key:"_isPresent",value:function(t){var e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}},{key:"_getWidth",value:function(){var t=this._document.createElement("div");t.className="modal-scrollbar-measure";var e=this._document.body;e.appendChild(t);var n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}]),t}()).\u0275fac=function(t){return new(t||Qe)(s.Ob(y))},Qe.\u0275prov=Object(s.yb)({factory:function(){return new Qe(Object(s.Ob)(y))},token:Qe,providedIn:"root"}),Qe),pn=((We=function(){function t(e,n){h(this,t),this._el=e,this._zone=n}return p(t,[{key:"ngOnInit",value:function(){var t=this;this._zone.onStable.asObservable().pipe($t(1)).subscribe(function(){Pe(t._zone,t._el.nativeElement,function(t,e){e&&Ee(t),t.classList.add("show")},{animation:t.animation,runningTransition:"continue"})})}},{key:"hide",value:function(){return Pe(this._zone,this._el.nativeElement,function(t){return t.classList.remove("show")},{animation:this.animation,runningTransition:"stop"})}}]),t}()).\u0275fac=function(t){return new(t||We)(s.Cb(s.i),s.Cb(s.t))},We.\u0275cmp=s.wb({type:We,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(s.sb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),s.ub("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),We),vn=function(){function t(){h(this,t)}return p(t,[{key:"close",value:function(t){}},{key:"dismiss",value:function(t){}}]),t}(),yn=function(){function t(e,n,r,i){var o=this;h(this,t),this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new yt.a,this._dismissed=new yt.a,this._hidden=new yt.a,e.instance.dismissEvent.subscribe(function(t){o.dismiss(t)}),this.result=new Promise(function(t,e){o._resolve=t,o._reject=e}),this.result.then(null,function(){})}return p(t,[{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}},{key:"closed",get:function(){return this._closed.asObservable().pipe(Kt(this._hidden))}},{key:"dismissed",get:function(){return this._dismissed.asObservable().pipe(Kt(this._hidden))}},{key:"hidden",get:function(){return this._hidden.asObservable()}},{key:"shown",get:function(){return this._windowCmptRef.instance.shown.asObservable()}},{key:"close",value:function(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}},{key:"_dismiss",value:function(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}},{key:"dismiss",value:function(t){var e=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then(function(n){!1!==n&&e._dismiss(t)},function(){}):!1!==n&&this._dismiss(t)}else this._dismiss(t)}},{key:"_removeModalElements",value:function(){var t=this,e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(vt.a)(void 0);e.subscribe(function(){var e=t._windowCmptRef.location.nativeElement;e.parentNode.removeChild(e),t._windowCmptRef.destroy(),t._contentRef&&t._contentRef.viewRef&&t._contentRef.viewRef.destroy(),t._windowCmptRef=null,t._contentRef=null}),n.subscribe(function(){if(t._backdropCmptRef){var e=t._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),t._backdropCmptRef.destroy(),t._backdropCmptRef=null}}),Mt(e,n).subscribe(function(){t._hidden.next(),t._hidden.complete()})}}]),t}(),gn=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({}),mn=((sn=function(){function t(e,n,r){h(this,t),this._document=e,this._elRef=n,this._zone=r,this._closed$=new yt.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new s.k,this.shown=new yt.a,this.hidden=new yt.a}return p(t,[{key:"dismiss",value:function(t){this.dismissEvent.emit(t)}},{key:"ngOnInit",value:function(){this._elWithFocus=this._document.activeElement}},{key:"ngAfterViewInit",value:function(){this._show()}},{key:"ngOnDestroy",value:function(){this._disableEventHandling()}},{key:"hide",value:function(){var t=this,e=this._elRef.nativeElement,n={animation:this.animation,runningTransition:"stop"},r=Mt(Pe(this._zone,e,function(){return e.classList.remove("show")},n),Pe(this._zone,this._dialogEl.nativeElement,function(){},n));return r.subscribe(function(){t.hidden.next(),t.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}},{key:"_show",value:function(){var t=this,e={animation:this.animation,runningTransition:"continue"};Mt(Pe(this._zone,this._elRef.nativeElement,function(t,e){e&&Ee(t),t.classList.add("show")},e),Pe(this._zone,this._dialogEl.nativeElement,function(){},e)).subscribe(function(){t.shown.next(),t.shown.complete()}),this._enableEventHandling(),this._setFocus()}},{key:"_enableEventHandling",value:function(){var t=this,e=this._elRef.nativeElement;this._zone.runOutsideAngular(function(){wt(e,"keydown").pipe(Kt(t._closed$),Yt(function(t){return t.which===Ue.Escape})).subscribe(function(e){t.keyboard?requestAnimationFrame(function(){e.defaultPrevented||t._zone.run(function(){return t.dismiss(gn.ESC)})}):"static"===t.backdrop&&t._bumpBackdrop()});var n=!1;wt(t._dialogEl.nativeElement,"mousedown").pipe(Kt(t._closed$),Object(ce.a)(function(){return n=!1}),ue(function(){return wt(e,"mouseup").pipe(Kt(t._closed$),$t(1))}),Yt(function(t){var n=t.target;return e===n})).subscribe(function(){n=!0}),wt(e,"click").pipe(Kt(t._closed$)).subscribe(function(r){var i=r.target;e===i&&("static"===t.backdrop?t._bumpBackdrop():!0!==t.backdrop||n||t._zone.run(function(){return t.dismiss(gn.BACKDROP_CLICK)})),n=!1})})}},{key:"_disableEventHandling",value:function(){this._closed$.next()}},{key:"_setFocus",value:function(){var t=this._elRef.nativeElement;if(!t.contains(document.activeElement)){var e=t.querySelector("[ngbAutofocus]"),n=He(t)[0];(e||n||t).focus()}}},{key:"_restoreFocus",value:function(){var t,e=this,n=this._document.body,r=this._elWithFocus;t=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular(function(){setTimeout(function(){return t.focus()}),e._elWithFocus=null})}},{key:"_bumpBackdrop",value:function(){"static"===this.backdrop&&Pe(this._zone,this._elRef.nativeElement,function(t){var e=t.classList;return e.add("modal-static"),function(){return e.remove("modal-static")}},{animation:this.animation,runningTransition:"continue"})}}]),t}()).\u0275fac=function(t){return new(t||sn)(s.Cb(y),s.Cb(s.i),s.Cb(s.t))},sn.\u0275cmp=s.wb({type:sn,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;1&t&&s.pc(we,3),2&t&&s.ec(n=s.Sb())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(s.rb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),s.sb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),s.ub("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:be,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(s.Xb(),s.Hb(0,"div",0,1),s.Hb(2,"div",2),s.Wb(3),s.Gb(),s.Gb()),2&t&&s.sb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),sn),bn=((un=function(){function t(n,r,i,o,u,a){var c=this;h(this,t),this._applicationRef=n,this._injector=r,this._document=i,this._scrollBar=o,this._rendererFactory=u,this._ngZone=a,this._activeWindowCmptHasChanged=new yt.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new s.k,this._activeWindowCmptHasChanged.subscribe(function(){if(c._windowCmpts.length){var t=c._windowCmpts[c._windowCmpts.length-1];(function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];c._ngZone.runOutsideAngular(function(){var t=wt(n,"focusin").pipe(Kt(r),Object(bt.a)(function(t){return t.target}));wt(n,"keydown").pipe(Kt(r),Yt(function(t){return t.which===Ue.Tab}),le(t)).subscribe(function(t){var r=e(t,2),i=r[0],o=r[1],u=e(He(n),2),s=u[0],a=u[1];o!==s&&o!==n||!i.shiftKey||(a.focus(),i.preventDefault()),o!==a||i.shiftKey||(s.focus(),i.preventDefault())}),i&&wt(n,"click").pipe(Kt(r),le(t),Object(bt.a)(function(t){return t[1]})).subscribe(function(t){return t.focus()})})})(0,t.location.nativeElement,c._activeWindowCmptHasChanged),c._revertAriaHidden(),c._setAriaHidden(t.location.nativeElement)}})}return p(t,[{key:"open",value:function(t,e,n,r){var i=this,o=r.container instanceof HTMLElement?r.container:_e(r.container)?this._document.querySelector(r.container):this._document.body,u=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=function(){i._modalRefs.length||(u.removeClass(i._document.body,"modal-open"),i._revertAriaHidden())};if(!o)throw new Error('The specified modal container "'.concat(r.container||"body",'" was not found in the DOM.'));var c=new vn,l=this._getContentRef(t,r.injector||e,n,c,r),f=!1!==r.backdrop?this._attachBackdrop(t,o):void 0,h=this._attachWindowComponent(t,o,l),d=new yn(h,l,f,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(s,s),d.result.then(a,a),c.close=function(t){d.close(t)},c.dismiss=function(t){d.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&u.addClass(this._document.body,"modal-open"),f&&f.instance&&this._applyBackdropOptions(f.instance,r),d}},{key:"activeInstances",get:function(){return this._activeInstances}},{key:"dismissAll",value:function(t){this._modalRefs.forEach(function(e){return e.dismiss(t)})}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(t,e){var n=t.resolveComponentFactory(pn).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(t,e,n){var r=t.resolveComponentFactory(mn).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}},{key:"_applyWindowOptions",value:function(t,e){this._windowAttributes.forEach(function(n){_e(e[n])&&(t[n]=e[n])})}},{key:"_applyBackdropOptions",value:function(t,e){this._backdropAttributes.forEach(function(n){_e(e[n])&&(t[n]=e[n])})}},{key:"_getContentRef",value:function(t,e,n,r,i){return n?n instanceof s.C?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,r,i):new fn([])}},{key:"_createFromTemplateRef",value:function(t,e){var n=t.createEmbeddedView({$implicit:e,close:function(t){e.close(t)},dismiss:function(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new fn([n.rootNodes],n)}},{key:"_createFromString",value:function(t){var e=this._document.createTextNode("".concat(t));return new fn([[e]])}},{key:"_createFromComponent",value:function(t,e,n,r,i){var o=t.resolveComponentFactory(n),u=s.n.create({providers:[{provide:vn,useValue:r}],parent:e}),a=o.create(u),c=a.location.nativeElement;return i.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new fn([[c]],a.hostView,a)}},{key:"_setAriaHidden",value:function(t){var e=this,n=t.parentElement;n&&t!==this._document.body&&(Array.from(n.children).forEach(function(n){n!==t&&"SCRIPT"!==n.nodeName&&(e._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach(function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(t){var e=this,n=function(){var n=e._modalRefs.indexOf(t);n>-1&&(e._modalRefs.splice(n,1),e._activeInstances.emit(e._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(t){var e=this;this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(function(){var n=e._windowCmpts.indexOf(t);n>-1&&(e._windowCmpts.splice(n,1),e._activeWindowCmptHasChanged.next())})}}]),t}()).\u0275fac=function(t){return new(t||un)(s.Ob(s.e),s.Ob(s.n),s.Ob(y),s.Ob(dn),s.Ob(s.y),s.Ob(s.t))},un.\u0275prov=Object(s.yb)({factory:function(){return new un(Object(s.Ob)(s.e),Object(s.Ob)(s.l),Object(s.Ob)(y),Object(s.Ob)(dn),Object(s.Ob)(s.y),Object(s.Ob)(s.t))},token:un,providedIn:"root"}),un),wn=((on=function(){function t(e,n,r,i){h(this,t),this._moduleCFR=e,this._injector=n,this._modalStack=r,this._config=i}return p(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}},{key:"activeInstances",get:function(){return this._modalStack.activeInstances}},{key:"dismissAll",value:function(t){this._modalStack.dismissAll(t)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),t}()).\u0275fac=function(t){return new(t||on)(s.Ob(s.g),s.Ob(s.n),s.Ob(bn),s.Ob(ln))},on.\u0275prov=Object(s.yb)({factory:function(){return new on(Object(s.Ob)(s.g),Object(s.Ob)(s.l),Object(s.Ob)(bn),Object(s.Ob)(ln))},token:on,providedIn:"root"}),on),_n=((rn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||rn)},rn.\u0275mod=s.Ab({type:rn}),rn.\u0275inj=s.zb({providers:[wn]}),rn),En=((nn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||nn)},nn.\u0275mod=s.Ab({type:nn}),nn.\u0275inj=s.zb({imports:[[I]]}),nn),kn=((en=function t(){h(this,t)}).\u0275fac=function(t){return new(t||en)},en.\u0275mod=s.Ab({type:en}),en.\u0275inj=s.zb({imports:[[I]]}),en),In=((tn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||tn)},tn.\u0275mod=s.Ab({type:tn}),tn.\u0275inj=s.zb({imports:[[I]]}),tn),On=(($e=function t(){h(this,t)}).\u0275fac=function(t){return new(t||$e)},$e.\u0275mod=s.Ab({type:$e}),$e.\u0275inj=s.zb({imports:[[I]]}),$e),Tn=((Ze=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Ze)},Ze.\u0275mod=s.Ab({type:Ze}),Ze.\u0275inj=s.zb({imports:[[I]]}),Ze),Sn=((Xe=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Xe)},Xe.\u0275mod=s.Ab({type:Xe}),Xe.\u0275inj=s.zb({imports:[[I]]}),Xe),Cn=((Je=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Je)},Je.\u0275mod=s.Ab({type:Je}),Je.\u0275inj=s.zb({imports:[[I]]}),Je),An=((Ye=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Ye)},Ye.\u0275mod=s.Ab({type:Ye}),Ye.\u0275inj=s.zb({}),Ye);new s.m("live announcer delay",{providedIn:"root",factory:function(){return 100}});var xn,jn,Dn=((xn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||xn)},xn.\u0275mod=s.Ab({type:xn}),xn.\u0275inj=s.zb({imports:[[I]]}),xn),Nn=[Le,Me,Fe,Ve,qe,an,cn,_n,En,kn,In,On,Tn,Sn,Cn,An,Dn],Rn=((jn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||jn)},jn.\u0275mod=s.Ab({type:jn}),jn.\u0275inj=s.zb({imports:[Nn,Le,Me,Fe,Ve,qe,an,cn,_n,En,kn,In,On,Tn,Sn,Cn,An,Dn]}),jn),Pn=o("spgP");function Ln(){return function(t){return t.lift(new Mn)}}var Mn=function(){function t(){h(this,t)}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Fn(t))}}]),t}(),Fn=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).hasPrev=!1,r}return p(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(St.a);function Vn(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new qn(t,e,n))}}var qn=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];h(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Un(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),Un=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var u;return h(this,n),(u=e.call(this,t)).accumulator=r,u._seed=i,u.hasSeed=o,u.index=0,u}return p(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}}]),n}(St.a),Bn=o("pxpQ"),Hn=o("Jgta"),zn=o("zIRd"),Gn=o("q/0M"),Kn=o("qOnz"),Wn=function(t,e){return(Wn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Qn(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Yn,Jn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Xn=Xn||{},Zn=Jn||self;function $n(){}function tr(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function er(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var nr="closure_uid_"+(1e9*Math.random()>>>0),rr=0;function ir(t,e,n){return t.call.apply(t.bind,arguments)}function or(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function ur(t,e,n){return(ur=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ir:or).apply(null,arguments)}function sr(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ar(){return Date.now()}function cr(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function lr(){this.j=this.j,this.i=this.i}lr.prototype.j=!1,lr.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,nr)&&t[nr]||(t[nr]=++rr)}(this)},lr.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var fr=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},hr=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function dr(t){return Array.prototype.concat.apply([],arguments)}function pr(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function vr(t){return/^[\s\xa0]*$/.test(t)}var yr,gr=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function mr(t,e){return-1!=t.indexOf(e)}function br(t,e){return t<e?-1:t>e?1:0}t:{var wr=Zn.navigator;if(wr){var _r=wr.userAgent;if(_r){yr=_r;break t}}yr=""}function Er(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function kr(t){var e={};for(var n in t)e[n]=t[n];return e}var Ir="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Or(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ir.length;o++)n=Ir[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Tr(t){return Tr[" "](t),t}Tr[" "]=$n;var Sr,Cr,Ar=mr(yr,"Opera"),xr=mr(yr,"Trident")||mr(yr,"MSIE"),jr=mr(yr,"Edge"),Dr=jr||xr,Nr=mr(yr,"Gecko")&&!(mr(yr.toLowerCase(),"webkit")&&!mr(yr,"Edge"))&&!(mr(yr,"Trident")||mr(yr,"MSIE"))&&!mr(yr,"Edge"),Rr=mr(yr.toLowerCase(),"webkit")&&!mr(yr,"Edge");function Pr(){var t=Zn.document;return t?t.documentMode:void 0}t:{var Lr="",Mr=(Cr=yr,Nr?/rv:([^\);]+)(\)|;)/.exec(Cr):jr?/Edge\/([\d\.]+)/.exec(Cr):xr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Cr):Rr?/WebKit\/(\S+)/.exec(Cr):Ar?/(?:Version)[ \/]?(\S+)/.exec(Cr):void 0);if(Mr&&(Lr=Mr?Mr[1]:""),xr){var Fr=Pr();if(null!=Fr&&Fr>parseFloat(Lr)){Sr=String(Fr);break t}}Sr=Lr}var Vr={};function qr(t){return function(t,e){var n=Vr;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=gr(String(Sr)).split("."),r=gr(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var u=n[o]||"",s=r[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==u[0].length&&0==s[0].length)break;e=br(0==u[1].length?0:parseInt(u[1],10),0==s[1].length?0:parseInt(s[1],10))||br(0==u[2].length,0==s[2].length)||br(u[2],s[2]),u=u[3],s=s[3]}while(0==e)}return 0<=e})}var Ur=Zn.document&&xr&&(Pr()||parseInt(Sr,10))||void 0,Br=!xr||9<=Number(Ur),Hr=xr&&!qr("9"),zr=function(){if(!Zn.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Zn.addEventListener("test",$n,e),Zn.removeEventListener("test",$n,e)}catch(n){}return t}();function Gr(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Kr(t,e){if(Gr.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Nr){t:{try{Tr(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Wr[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Gr.prototype.b=function(){this.defaultPrevented=!0},cr(Kr,Gr);var Wr={2:"touch",3:"pen",4:"mouse"};Kr.prototype.b=function(){Kr.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Hr)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Qr="closure_listenable_"+(1e6*Math.random()|0),Yr=0;function Jr(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Yr,this.Y=this.Z=!1}function Xr(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Zr(t){this.src=t,this.a={},this.b=0}function $r(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=fr(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Xr(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ti(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Zr.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var u=ti(t,e,r,i);return-1<u?(e=t[u],n||(e.Z=!1)):((e=new Jr(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ei="closure_lm_"+(1e6*Math.random()|0),ni={};function ri(t,e,n,r,i){if(r&&r.once)return oi(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ri(t,e[o],n,r,i);return null}return n=di(n),t&&t[Qr]?t.va(e,n,er(r)?!!r.capture:!!r,i):ii(t,e,n,!1,r,i)}function ii(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var u=er(i)?!!i.capture:!!i;if(u&&!Br)return null;var s=fi(t);if(s||(t[ei]=s=new Zr(t)),(n=s.add(e,n,r,u,o)).proxy)return n;if(r=function(){var t=li,e=Br?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)zr||(i=u),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ai(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function oi(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)oi(t,e[o],n,r,i);return null}return n=di(n),t&&t[Qr]?t.wa(e,n,er(r)?!!r.capture:!!r,i):ii(t,e,n,!0,r,i)}function ui(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ui(t,e[o],n,r,i);else r=er(r)?!!r.capture:!!r,n=di(n),t&&t[Qr]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=ti(o=t.a[e],n,r,i))&&(Xr(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=fi(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ti(e,n,r,i)),(n=-1<t?e[t]:null)&&si(n))}function si(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Qr])$r(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ai(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=fi(e))?($r(n,t),0==n.b&&(n.src=null,e[ei]=null)):Xr(t)}}}function ai(t){return t in ni?ni[t]:ni[t]="on"+t}function ci(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&si(t),n.call(r,e)}function li(t,e){if(t.Y)return!0;if(!Br){if(!e)t:{e=["window","event"];for(var n=Zn,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ci(t,e=new Kr(e,this))}return ci(t,new Kr(e,this))}function fi(t){return(t=t[ei])instanceof Zr?t:null}var hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function di(t){return"function"==typeof t?t:(t[hi]||(t[hi]=function(e){return t.handleEvent(e)}),t[hi])}function pi(){lr.call(this),this.c=new Zr(this),this.J=this,this.C=null}function vi(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Gr(e,t);else if(e instanceof Gr)e.target=e.target||t;else{var i=e;Or(e=new Gr(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var u=e.a=n[o];i=yi(u,r,!0,e)&&i}if(i=yi(u=e.a=t,r,!0,e)&&i,i=yi(u,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=yi(u=e.a=n[o],r,!1,e)&&i}function yi(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var u=e[o];if(u&&!u.Y&&u.capture==n){var s=u.listener,a=u.ca||u.src;u.Z&&$r(t.c,u),i=!1!==s.call(a,r)&&i}}return i&&!r.defaultPrevented}cr(pi,lr),pi.prototype[Qr]=!0,(Yn=pi.prototype).addEventListener=function(t,e,n,r){ri(this,t,e,n,r)},Yn.removeEventListener=function(t,e,n,r){ui(this,t,e,n,r)},Yn.G=function(){if(pi.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Xr(n[r]);delete e.a[t],e.b--}}this.C=null},Yn.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Yn.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var gi=Zn.JSON.stringify;function mi(){this.b=this.a=null}var bi,wi=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ei},function(t){t.reset()});function _i(){var t=Ti,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ei(){this.next=this.b=this.a=null}function ki(t){Zn.setTimeout(function(){throw t},0)}function Ii(t,e){bi||function(){var t=Zn.Promise.resolve(void 0);bi=function(){t.then(Si)}}(),Oi||(bi(),Oi=!0),Ti.add(t,e)}mi.prototype.add=function(t,e){var n=wi.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ei.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ei.prototype.reset=function(){this.next=this.b=this.a=null};var Oi=!1,Ti=new mi;function Si(){for(var t;t=_i();){try{t.a.call(t.b)}catch(n){ki(n)}var e=wi;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Oi=!1}function Ci(t,e){pi.call(this),this.b=t||1,this.a=e||Zn,this.f=ur(this.Za,this),this.g=ar()}function Ai(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function xi(t,e,n){if("function"==typeof t)n&&(t=ur(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ur(t.handleEvent,t)}return 2147483647<Number(e)?-1:Zn.setTimeout(t,e||0)}function ji(t){t.a=xi(function(){t.a=null,t.c&&(t.c=!1,ji(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}cr(Ci,pi),(Yn=Ci.prototype).aa=!1,Yn.M=null,Yn.Za=function(){if(this.aa){var t=ar()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),vi(this,"tick"),this.aa&&(Ai(this),this.start()))}},Yn.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ar())},Yn.G=function(){Ci.X.G.call(this),Ai(this),delete this.a};var Di=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Wn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ji(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Zn.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(lr);function Ni(t){lr.call(this),this.b=t,this.a={}}cr(Ni,lr);var Ri=[];function Pi(t,e,n,r){Array.isArray(n)||(n&&(Ri[0]=n.toString()),n=Ri);for(var i=0;i<n.length;i++){var o=ri(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Li(t){Er(t.a,function(t,e){this.a.hasOwnProperty(e)&&si(t)},t),t.a={}}function Mi(){this.a=!0}function Fi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<i.length;u++)i[u]=""}}}return gi(n)}catch(s){return e}}(t,n)+(r?" "+r:"")})}Ni.prototype.G=function(){Ni.X.G.call(this),Li(this)},Ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mi.prototype.info=function(){};var Vi={},qi=null;function Ui(){return qi=qi||new pi}function Bi(t){Gr.call(this,Vi.Fa,t)}function Hi(t){var e=Ui();vi(e,new Bi(e,t))}function zi(t,e){Gr.call(this,Vi.STAT_EVENT,t),this.stat=e}function Gi(t){var e=Ui();vi(e,new zi(e,t))}function Ki(t){Gr.call(this,Vi.Ga,t)}function Wi(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Zn.setTimeout(function(){t()},e)}Vi.Fa="serverreachability",cr(Bi,Gr),Vi.STAT_EVENT="statevent",cr(zi,Gr),Vi.Ga="timingevent",cr(Ki,Gr);var Qi={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Yi={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Ji(){}function Xi(){}Ji.prototype.a=null;var Zi,$i={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function to(){Gr.call(this,"d")}function eo(){Gr.call(this,"c")}function no(){}function ro(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Ni(this),this.P=io,this.R=new Ci(t=Dr?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}cr(to,Gr),cr(eo,Gr),cr(no,Ji),Zi=new no;var io=45e3,oo={},uo={};function so(t,e,n){t.H=1,t.i=xo(Io(e)),t.j=n,t.I=!0,ao(t,null)}function ao(t,e){t.u=ar(),fo(t),t.l=Io(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ho(n.b,"t",r),t.D=0,t.a=Mu(t.g,t.g.C?e:null),0<t.O&&(t.F=new Di(ur(t.Ca,t,t.a),t.O)),Pi(t.J,t.a,"readystatechange",t.Xa),e=t.B?kr(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Hi(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var u="",s=o.split("&"),a=0;a<s.length;a++){var c=s[a].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");u=2<=f.length&&"type"==f[1]?u+(l+"=")+c+"&":u+(l+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+u})}(t.c,t.m,t.l,t.f,t.S,t.j)}function co(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=lo(t,n);if(i==uo){4==e&&(t.h=4,Gi(14),r=!1),Fi(t.c,t.f,null,"[Incomplete Response]");break}if(i==oo){t.h=4,Gi(15),Fi(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Fi(t.c,t.f,i,null),go(t,i)}4==e&&0==n.length&&(t.h=1,Gi(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Au(e),e.F=!0,Gi(11))):(Fi(t.c,t.f,n,"[Invalid Chunked Response]"),yo(t),vo(t))}function lo(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?uo:(n=Number(e.substring(n,r)),isNaN(n)?oo:(r+=1)+n>e.length?uo:(e=e.substr(r,n),t.D=r+n,e))}function fo(t){t.T=ar()+t.P,ho(t,t.P)}function ho(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Wi(ur(t.Va,t),e)}function po(t){t.o&&(Zn.clearTimeout(t.o),t.o=null)}function vo(t){0==t.g.v||t.A||Du(t.g,t)}function yo(t){po(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ai(t.R),Li(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function go(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Jo(n.b,t)))if(n.I=t.N,!t.C&&Jo(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(_y){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;ju(n),wu(n)}Cu(n),Gi(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Wi(ur(n.Sa,n),6e3));if(1>=Yo(n.b)&&n.ea){try{n.ea()}catch(_y){}n.ea=void 0}}else Ru(n,11)}else if((t.C||n.a==t)&&ju(n),!vr(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var u=i[4];null!=u&&(n.pa=u,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var a=1.5*s;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=a.b;!f.a&&(mr(l,"spdy")||mr(l,"quic")||mr(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(Xo(f,f.b),f.b=null))}if(a.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(a.na=h,Ao(a.B,a.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ar()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((a=n).la=Lu(a,a.C?a.ga:null,a.fa),d.C){Zo(a.b,d);var p=d,v=a.D;v&&p.setTimeout(v),p.o&&(po(p),fo(p)),a.a=d}else Su(a);0<n.g.length&&ku(n)}else"stop"!=i[0]&&"close"!=i[0]||Ru(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Ru(n,7):bu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Hi(4)}catch(_y){}}function mo(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(tr(t)||"string"==typeof t)hr(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(tr(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(tr(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function bo(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof bo)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function wo(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];_o(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)_o(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function _o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Yn=ro.prototype).setTimeout=function(t){this.P=t},Yn.Xa=function(t){t=t.target;var e=this.F;e&&3==vu(t)?e.f():this.Ca(t)},Yn.Ca=function(t){try{if(t==this.a)t:{var e=vu(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Dr&&!this.a.$())){this.A||4!=e||7==n||Hi(8==n||0>=r?3:2),po(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,u){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+u})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var u,s=this.a;if((u=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vr(u)){var a=u;break e}}a=null}if(!a){this.b=!1,this.h=3,Gi(12),yo(this),vo(this);break t}Fi(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,go(this,a)}this.I?(co(this,e,o),Dr&&this.b&&3==e&&(Pi(this.J,this.R,"tick",this.Wa),this.R.start())):(Fi(this.c,this.f,o,null),go(this,o)),4==e&&yo(this),this.b&&!this.A&&(4==e?Du(this.g,this):(this.b=!1,fo(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Gi(12)):(this.h=0,Gi(13)),yo(this),vo(this)}}}catch(c){}},Yn.Wa=function(){if(this.a){var t=vu(this.a),e=this.a.$();this.D<e.length&&(po(this),co(this,t,e),this.b&&4!=t&&fo(this))}},Yn.cancel=function(){this.A=!0,yo(this)},Yn.Va=function(){this.o=null;var t=ar();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Hi(3),Gi(17)),yo(this),this.h=2,vo(this)):ho(this,this.T-t)},(Yn=bo.prototype).K=function(){wo(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Yn.L=function(){return wo(this),this.a.concat()},Yn.get=function(t,e){return _o(this.b,t)?this.b[t]:e},Yn.set=function(t,e){_o(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Yn.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Eo=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ko(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ko){this.a=void 0!==e?e:t.a,Oo(this,t.f),this.j=t.j,To(this,t.c),So(this,t.h),this.g=t.g,e=t.b;var n=new Vo;n.c=e.c,e.a&&(n.a=new bo(e.a),n.b=e.b),Co(this,n),this.i=t.i}else t&&(n=String(t).match(Eo))?(this.a=!!e,Oo(this,n[1]||"",!0),this.j=jo(n[2]||""),To(this,n[3]||"",!0),So(this,n[4]),this.g=jo(n[5]||"",!0),Co(this,n[6]||"",!0),this.i=jo(n[7]||"")):(this.a=!!e,this.b=new Vo(null,this.a))}function Io(t){return new ko(t)}function Oo(t,e,n){t.f=n?jo(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function To(t,e,n){t.c=n?jo(e,!0):e}function So(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Co(t,e,n){e instanceof Vo?(t.b=e,function(t,e){e&&!t.f&&(qo(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Uo(this,e),Ho(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Do(e,Mo)),t.b=new Vo(e,t.a))}function Ao(t,e,n){t.b.set(e,n)}function xo(t){return Ao(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ar()).toString(36)),t}function jo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Do(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,No),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function No(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ko.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Do(e,Ro,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Do(e,Ro,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Do(n,"/"==n.charAt(0)?Lo:Po,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Do(n,Fo)),t.join("")};var Ro=/[#\/\?@]/g,Po=/[#\?:]/g,Lo=/[#\?]/g,Mo=/[#\?@]/g,Fo=/#/g;function Vo(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function qo(t){t.a||(t.a=new bo,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Uo(t,e){qo(t),e=zo(t,e),_o(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,_o((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&wo(t)))}function Bo(t,e){return qo(t),e=zo(t,e),_o(t.a.b,e)}function Ho(t,e,n){Uo(t,e),0<n.length&&(t.c=null,t.a.set(zo(t,e),pr(n)),t.b+=n.length)}function zo(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Yn=Vo.prototype).add=function(t,e){qo(this),this.c=null,t=zo(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Yn.forEach=function(t,e){qo(this),this.a.forEach(function(n,r){hr(n,function(n){t.call(e,n,r,this)},this)},this)},Yn.L=function(){qo(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Yn.K=function(t){qo(this);var e=[];if("string"==typeof t)Bo(this,t)&&(e=dr(e,this.a.get(zo(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=dr(e,t[n])}return e},Yn.set=function(t,e){return qo(this),this.c=null,Bo(this,t=zo(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Yn.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Yn.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var u=i;""!==r[o]&&(u+="="+encodeURIComponent(String(r[o]))),t.push(u)}}return this.c=t.join("&")};var Go=function(t,e){this.b=t,this.a=e};function Ko(t){this.g=t||Wo,t=Zn.PerformanceNavigationTiming?0<(t=Zn.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Zn.ia&&Zn.ia.ya&&Zn.ia.ya()&&Zn.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Wo=10;function Qo(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Yo(t){return t.b?1:t.a?t.a.size:0}function Jo(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Xo(t,e){t.a?t.a.add(e):t.b=e}function Zo(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function $o(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Qn(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return pr(t.c)}function tu(){}function eu(){this.a=new tu}function nu(t,e,n){var r=n||"";try{mo(t,function(t,n){var i=t;er(t)&&(i=gi(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(ag){throw e.push(r+"type="+encodeURIComponent("_badmap")),ag}}function ru(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Ko.prototype.cancel=function(){var t,e;if(this.c=$o(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Qn(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},tu.prototype.stringify=function(t){return Zn.JSON.stringify(t,void 0)},tu.prototype.parse=function(t){return Zn.JSON.parse(t,void 0)};var iu=Zn.JSON.parse;function ou(t){pi.call(this),this.headers=new bo,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=uu,this.D=this.F=!1}cr(ou,pi);var uu="",su=/^https?$/i,au=["POST","PUT"];function cu(t){return"content-type"==t.toLowerCase()}function lu(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,fu(t),du(t)}function fu(t){t.u||(t.u=!0,vi(t,"complete"),vi(t,"error"))}function hu(t){if(t.b&&void 0!==Xn&&(!t.s[1]||4!=vu(t)||2!=t.W()))if(t.l&&4==vu(t))xi(t.za,0,t);else if(vi(t,"readystatechange"),4==vu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Eo)[1]||null;if(!o&&Zn.self&&Zn.self.location){var u=Zn.self.location.protocol;o=u.substr(0,u.length-1)}i=!su.test(o?o.toLowerCase():"")}e=i}if(e)vi(t,"complete"),vi(t,"success");else{t.h=6;try{var s=2<vu(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",fu(t)}}finally{du(t)}}}function du(t,e){if(t.a){pu(t);var n=t.a,r=t.s[0]?$n:null;t.a=null,t.s=null,e||vi(t,"ready");try{n.onreadystatechange=r}catch(ag){}}}function pu(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Zn.clearTimeout(t.m),t.m=null)}function vu(t){return t.a?t.a.readyState:0}function yu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Er(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ao(t,e,n))}function gu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function mu(t){this.pa=0,this.g=[],this.c=new Mi,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=gu("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=gu("baseRetryDelayMs",5e3,t),this.Ra=gu("retryDelaySeedMs",1e4,t),this.Ma=gu("forwardChannelMaxRetries",2,t),this.ma=gu("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ko(t&&t.concurrentRequestLimit),this.ka=new eu,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function bu(t){if(_u(t),3==t.v){var e=t.R++,n=Io(t.B);Ao(n,"SID",t.J),Ao(n,"RID",e),Ao(n,"TYPE","terminate"),Ou(t,n),(e=new ro(t,t.c,e,void 0)).H=2,e.i=xo(Io(n)),n=!1,Zn.navigator&&Zn.navigator.sendBeacon&&(n=Zn.navigator.sendBeacon(e.i.toString(),"")),!n&&Zn.Image&&((new Image).src=e.i,n=!0),n||(e.a=Mu(e.g,null),e.a.ba(e.i)),e.u=ar(),fo(e)}Pu(t)}function wu(t){t.a&&(Au(t),t.a.cancel(),t.a=null)}function _u(t){wu(t),t.j&&(Zn.clearTimeout(t.j),t.j=null),ju(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Zn.clearTimeout(t.h),t.h=null)}function Eu(t,e){t.g.push(new Go(t.Oa++,e)),3==t.v&&ku(t)}function ku(t){Qo(t.b)||t.h||(t.h=!0,Ii(t.Ba,t),t.u=0)}function Iu(t,e){var n;n=e?e.f:t.R++;var r=Io(t.B);Ao(r,"SID",t.J),Ao(r,"RID",n),Ao(r,"AID",t.P),Ou(t,r),t.i&&t.l&&yu(r,t.i,t.l),n=new ro(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Tu(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Xo(t.b,n),so(n,r,e)}function Ou(t,e){t.f&&mo({},function(t,n){Ao(e,n,t)})}function Tu(t,e,n){n=Math.min(t.g.length,n);var r=t.f?ur(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var u=["count="+n];-1==o?0<n?u.push("ofs="+(o=i[0].b)):o=0:u.push("ofs="+o);for(var s=!0,a=0;a<n;a++){var c=i[a].b,l=i[a].a;if(0>(c-=o))o=Math.max(0,i[a].b-100),s=!1;else try{nu(l,u,"req"+c+"_")}catch(ys){r&&r(l)}}if(s){r=u.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Su(t){t.a||t.j||(t.T=1,Ii(t.Aa,t),t.o=0)}function Cu(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Wi(ur(t.Aa,t),Nu(t,t.o)),t.o++,0))}function Au(t){null!=t.s&&(Zn.clearTimeout(t.s),t.s=null)}function xu(t){t.a=new ro(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Io(t.la);Ao(e,"RID","rpc"),Ao(e,"SID",t.J),Ao(e,"CI",t.H?"0":"1"),Ao(e,"AID",t.P),Ou(t,e),Ao(e,"TYPE","xmlhttp"),t.i&&t.l&&yu(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=xo(Io(e)),n.j=null,n.I=!0,ao(n,t)}function ju(t){null!=t.m&&(Zn.clearTimeout(t.m),t.m=null)}function Du(t,e){var n=null;if(t.a==e){ju(t),Au(t),t.a=null;var r=2}else{if(!Jo(t.b,e))return;n=e.s,Zo(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ar()-e.u;var i=t.u;vi(r=Ui(),new Ki(r,n,e,i)),ku(t)}else Su(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Yo(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Wi(ur(t.Ba,t,e),Nu(t,t.u)),t.u++,0)))}(t,e)||2==r&&Cu(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Ru(t,5);break;case 4:Ru(t,10);break;case 3:Ru(t,6);break;default:Ru(t,2)}}function Nu(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Ru(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=ur(t.Ya,t);n||(n=new ko("//www.google.com/images/cleardot.gif"),Zn.location&&"http"==Zn.location.protocol||Oo(n,"https"),xo(n)),function(t,e){var n=new Mi;if(Zn.Image){var r=new Image;r.onload=sr(ru,n,r,"TestLoadImage: loaded",!0,e),r.onerror=sr(ru,n,r,"TestLoadImage: error",!1,e),r.onabort=sr(ru,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=sr(ru,n,r,"TestLoadImage: timeout",!1,e),Zn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Gi(2);t.v=0,t.f&&t.f.ra(e),Pu(t),_u(t)}function Pu(t){t.v=0,t.I=-1,t.f&&(0==$o(t.b).length&&0==t.g.length||(t.b.c.length=0,pr(t.g),t.g.length=0),t.f.qa())}function Lu(t,e,n){var r=function(t){return t instanceof ko?Io(t):new ko(t,void 0)}(n);if(""!=r.c)e&&To(r,e+"."+r.c),So(r,r.h);else{var i=Zn.location;r=function(t,e,n,r){var i=new ko(null,void 0);return t&&Oo(i,t),e&&To(i,e),n&&So(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Er(t.V,function(t,e){Ao(r,e,t)}),n=t.na,(e=t.A)&&n&&Ao(r,e,n),Ao(r,"VER",t.ha),Ou(t,r),r}function Mu(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ou(t.Na)).F=t.C,e}function Fu(){}function Vu(){if(xr&&!(10<=Number(Ur)))throw Error("Environmental error: no available transport.")}function qu(t,e){pi.call(this),this.a=new mu(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!vr(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vr(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Hu(this)}function Uu(t){to.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Bu(){eo.call(this),this.status=1}function Hu(t){this.a=t}(Yn=ou.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Zi),this.a.onreadystatechange=ur(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void lu(this,o)}t=n||"";var i=new bo(this.headers);r&&mo(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=cu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Zn.FormData&&t instanceof Zn.FormData,!(0<=fr(au,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{pu(this),0<this.o&&((this.D=function(t){return xr&&qr(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ur(this.xa,this)):this.m=xi(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){lu(this,o)}},Yn.xa=function(){void 0!==Xn&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,vi(this,"timeout"),this.abort(8))},Yn.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,vi(this,"complete"),vi(this,"abort"),du(this))},Yn.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),du(this,!0)),ou.X.G.call(this)},Yn.za=function(){this.j||(this.A||this.l||this.g?hu(this):this.Ua())},Yn.Ua=function(){hu(this)},Yn.W=function(){try{return 2<vu(this)?this.a.status:-1}catch(Cr){return-1}},Yn.$=function(){try{return this.a?this.a.responseText:""}catch(Cr){return""}},Yn.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),iu(e)}},Yn.ua=function(){return this.h},Yn.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Yn=mu.prototype).ha=8,Yn.v=1,Yn.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ro(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Or(r=kr(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Tu(this,n,e),Ao(i=Io(this.B),"RID",t),Ao(i,"CVER",22),this.A&&Ao(i,"X-HTTP-Session-Id",this.A),Ou(this,i),this.i&&r&&yu(i,this.i,r),Xo(this.b,n),this.Ia&&Ao(i,"TYPE","init"),this.da?(Ao(i,"$req",e),Ao(i,"SID","null"),n.U=!0,so(n,i,null)):so(n,i,e),this.v=2}}else 3==this.v&&(t?Iu(this,t):0==this.g.length||Qo(this.b)||Iu(this))},Yn.Aa=function(){if(this.j=null,xu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Wi(ur(this.Ta,this),t)}},Yn.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Gi(10),wu(this),xu(this))},Yn.Sa=function(){null!=this.m&&(this.m=null,wu(this),Cu(this),Gi(19))},Yn.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Gi(2)):(this.c.info("Failed to ping google.com"),Gi(1))},(Yn=Fu.prototype).ta=function(){},Yn.sa=function(){},Yn.ra=function(){},Yn.qa=function(){},Yn.Ja=function(){},Vu.prototype.a=function(t,e){return new qu(t,e)},cr(qu,pi),qu.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Gi(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Lu(t,null,t.fa),ku(t)},qu.prototype.close=function(){bu(this.a)},qu.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Eu(this.a,e)}else this.l?((e={}).__data__=gi(t),Eu(this.a,e)):Eu(this.a,t)},qu.prototype.G=function(){this.a.f=null,delete this.f,bu(this.a),delete this.a,qu.X.G.call(this)},cr(Uu,to),cr(Bu,eo),cr(Hu,Fu),Hu.prototype.ta=function(){vi(this.a,"a")},Hu.prototype.sa=function(t){vi(this.a,new Uu(t))},Hu.prototype.ra=function(t){vi(this.a,new Bu(t))},Hu.prototype.qa=function(){vi(this.a,"b")},Vu.prototype.createWebChannel=Vu.prototype.a,qu.prototype.send=qu.prototype.h,qu.prototype.open=qu.prototype.g,qu.prototype.close=qu.prototype.close,Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,Yi.COMPLETE="complete",Xi.EventType=$i,$i.OPEN="a",$i.CLOSE="b",$i.ERROR="c",$i.MESSAGE="d",pi.prototype.listen=pi.prototype.va,ou.prototype.listenOnce=ou.prototype.wa,ou.prototype.getLastError=ou.prototype.Qa,ou.prototype.getLastErrorCode=ou.prototype.ua,ou.prototype.getStatus=ou.prototype.W,ou.prototype.getResponseJson=ou.prototype.Pa,ou.prototype.getResponseText=ou.prototype.$,ou.prototype.send=ou.prototype.ba;var zu=Qi,Gu=Yi,Ku=Vi,Wu=Xi,Qu=ou,Yu=o("mrSG"),Ju=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Ju.o=-1;var Xu=new Gn.b("@firebase/firestore");function Zu(){return Xu.logLevel}function $u(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xu.logLevel<=Gn.a.DEBUG){var r=e.map(ns);Xu.debug.apply(Xu,Object(Yu.f)(["Firestore (8.3.1): "+t],r))}}function ts(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xu.logLevel<=Gn.a.ERROR){var r=e.map(ns);Xu.error.apply(Xu,Object(Yu.f)(["Firestore (8.3.1): "+t],r))}}function es(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xu.logLevel<=Gn.a.WARN){var r=e.map(ns);Xu.warn.apply(Xu,Object(Yu.f)(["Firestore (8.3.1): "+t],r))}}function ns(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(ag){return t}}function rs(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+t;throw ts(e),new Error(e)}function is(t,e){t||rs()}function os(t,e){return t}function us(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ss=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=us(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function as(t,e){return t<e?-1:t>e?1:0}function cs(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function ls(t){return t+"\0"}function fs(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hs(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ds(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ps(t){return null==t}function vs(t){return 0===t&&1/t==-1/0}function ys(t){return"number"==typeof t&&Number.isInteger(t)&&!vs(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var gs={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ms=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Yu.c)(e,t),e}(Error),bs=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&rs(),void 0===n?n=t.length-e:n>t.length-e&&rs(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ws=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yu.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var u=o[i];if(u.indexOf("//")>=0)throw new ms(gs.INVALID_ARGUMENT,"Invalid segment ("+u+"). Paths must not contain // in them.");r.push.apply(r,u.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(bs),_s=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Es=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yu.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return _s.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new ms(gs.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},u=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new ms(gs.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new ms(gs.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===s?(u=!u,i++):"."!==s||u?(r+=s,i++):(o(),i++)}if(o(),u)throw new ms(gs.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(bs),ks=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(ws.fromString(e))},t.fromName=function(e){return new t(ws.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ws.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ws.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ws(e.slice()))},t}(),Is=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return as(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Is.EMPTY_BYTE_STRING=new Is("");var Os=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(t){if(is(!!t),"string"==typeof t){var e=0,n=Os.exec(t);if(is(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ss(t.seconds),nanos:Ss(t.nanos)}}function Ss(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Cs(t){return"string"==typeof t?Is.fromBase64String(t):Is.fromUint8Array(t)}var As=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ms(gs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ms(gs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ms(gs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ms(gs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?as(this.nanoseconds,t.nanoseconds):as(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}();function xs(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function js(t){var e=t.mapValue.fields.__previous_value__;return xs(e)?js(e):e}function Ds(t){var e=Ts(t.mapValue.fields.__local_write_time__.timestampValue);return new As(e.seconds,e.nanos)}function Ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xs(t)?4:10:rs()}function Rs(t,e){var n=Ns(t);if(n!==Ns(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ds(t).isEqual(Ds(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ts(t.timestampValue),r=Ts(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Cs(t.bytesValue).isEqual(Cs(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ss(t.geoPointValue.latitude)===Ss(e.geoPointValue.latitude)&&Ss(t.geoPointValue.longitude)===Ss(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ss(t.integerValue)===Ss(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ss(t.doubleValue),r=Ss(e.doubleValue);return n===r?vs(n)===vs(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return cs(t.arrayValue.values||[],e.arrayValue.values||[],Rs);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(fs(n)!==fs(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Rs(n[i],r[i])))return!1;return!0}(t,e);default:return rs()}}function Ps(t,e){return void 0!==(t.values||[]).find(function(t){return Rs(t,e)})}function Ls(t,e){var n=Ns(t),r=Ns(e);if(n!==r)return as(n,r);switch(n){case 0:return 0;case 1:return as(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ss(t.integerValue||t.doubleValue),r=Ss(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ms(t.timestampValue,e.timestampValue);case 4:return Ms(Ds(t),Ds(e));case 5:return as(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Cs(t),r=Cs(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=as(n[i],r[i]);if(0!==o)return o}return as(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=as(Ss(t.latitude),Ss(e.latitude));return 0!==n?n:as(Ss(t.longitude),Ss(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ls(n[i],r[i]);if(o)return o}return as(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var u=0;u<r.length&&u<o.length;++u){var s=as(r[u],o[u]);if(0!==s)return s;var a=Ls(n[r[u]],i[o[u]]);if(0!==a)return a}return as(r.length,o.length)}(t.mapValue,e.mapValue);default:throw rs()}}function Ms(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return as(t,e);var n=Ts(t),r=Ts(e),i=as(n.seconds,r.seconds);return 0!==i?i:as(n.nanos,r.nanos)}function Fs(t){return Vs(t)}function Vs(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Ts(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Cs(t.bytesValue).toBase64():"referenceValue"in t?ks.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Vs(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Vs(t.fields[o])}return e+"}"}(t.mapValue):rs();var e}function qs(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Us(t){return!!t&&"integerValue"in t}function Bs(t){return!!t&&"arrayValue"in t}function Hs(t){return!!t&&"nullValue"in t}function zs(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gs(t){return!!t&&"mapValue"in t}var Ks=function(t,e){this.key=t,this.version=e},Ws=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).objectValue=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Yu.c)(e,t),e.prototype.field=function(t){return this.objectValue.field(t)},e.prototype.data=function(){return this.objectValue},e.prototype.toProto=function(){return this.objectValue.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.objectValue.isEqual(t.objectValue)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Ks),Qs=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Yu.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ks),Ys=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yu.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ks),Js=function(t,e,n,r,i,o,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=u,this.h=null};function Xs(t,e,n,r,i,o,u){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===u&&(u=null),new Js(t,e,n,r,i,o,u)}function Zs(t){var e=os(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Fs(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),ps(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=fa(e.startAt)),e.endAt&&(n+="|ub:",n+=fa(e.endAt)),e.h=n}return e.h}function $s(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!da(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Rs(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!va(t.startAt,e.startAt)&&va(t.endAt,e.endAt)}function ta(t){return ks.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ea=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Yu.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new na(t,n,r):"array-contains"===n?new ua(t,r):"in"===n?new sa(t,r):"not-in"===n?new aa(t,r):"array-contains-any"===n?new ca(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new ra(t,n):new ia(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.m(Ls(e,this.value)):null!==e&&Ns(this.value)===Ns(e)&&this.m(Ls(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return rs()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),na=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ks.fromName(r.referenceValue),i}return Object(Yu.c)(e,t),e.prototype.matches=function(t){var e=ks.comparator(t.key,this.key);return this.m(e)},e}(ea),ra=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=oa(0,n),r}return Object(Yu.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(ea),ia=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=oa(0,n),r}return Object(Yu.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(ea);function oa(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return ks.fromName(t.referenceValue)})}var ua=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Yu.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Bs(e)&&Ps(e.arrayValue,this.value)},e}(ea),sa=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Yu.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Ps(this.value.arrayValue,e)},e}(ea),aa=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Yu.c)(e,t),e.prototype.matches=function(t){if(Ps(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Ps(this.value.arrayValue,e)},e}(ea),ca=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Yu.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Bs(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Ps(e.value.arrayValue,t)})},e}(ea),la=function(t,e){this.position=t,this.before=e};function fa(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Fs(t)}).join(",")}var ha=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function da(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function pa(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],u=t.position[i];if(r=o.field.isKeyField()?ks.comparator(ks.fromName(u.referenceValue),n.key):Ls(u,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function va(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Rs(t.position[n],e.position[n]))return!1;return!0}var ya=function(t,e,n,r,i,o,u,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===u&&(u=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=s,this.p=null,this.T=null};function ga(t,e,n,r,i,o,u,s){return new ya(t,e,n,r,i,o,u,s)}function ma(t){return new ya(t)}function ba(t){return!ps(t.limit)&&"F"===t.limitType}function wa(t){return!ps(t.limit)&&"L"===t.limitType}function _a(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Ea(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function ka(t){return null!==t.collectionGroup}function Ia(t){var e=os(t);if(null===e.p){e.p=[];var n=Ea(e),r=_a(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new ha(n)),e.p.push(new ha(Es.keyField(),"asc"));else{for(var i=!1,o=0,u=e.explicitOrderBy;o<u.length;o++){var s=u[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new ha(Es.keyField(),a))}}}return e.p}function Oa(t){var e=os(t);if(!e.T)if("F"===e.limitType)e.T=Xs(e.path,e.collectionGroup,Ia(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ia(e);r<i.length;r++){var o=i[r];n.push(new ha(o.field,"desc"===o.dir?"asc":"desc"))}var u=e.endAt?new la(e.endAt.position,!e.endAt.before):null,s=e.startAt?new la(e.startAt.position,!e.startAt.before):null;e.T=Xs(e.path,e.collectionGroup,n,e.filters,e.limit,u,s)}return e.T}function Ta(t,e,n){return new ya(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sa(t,e){return $s(Oa(t),Oa(e))&&t.limitType===e.limitType}function Ca(t){return Zs(Oa(t))+"|lt:"+t.limitType}function Aa(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Fs(e.value);var e}).join(", ")+"]"),ps(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+fa(t.startAt)),t.endAt&&(e+=", endAt: "+fa(t.endAt)),"Target("+e+")"}(Oa(t))+"; limitType="+t.limitType+")"}function xa(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ks.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!pa(t.startAt,Ia(t),e)||t.endAt&&pa(t.endAt,Ia(t),e))}(t,e)}function ja(t){return function(e,n){for(var r=!1,i=0,o=Ia(t);i<o.length;i++){var u=o[i],s=Da(u,e,n);if(0!==s)return s;r=r||u.field.isKeyField()}return 0}}function Da(t,e,n){var r=t.field.isKeyField()?ks.comparator(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Ls(r,i):rs()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return rs()}}var Na=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new As(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}(),Ra=function(){function t(t){this.fields=t,t.sort(Es.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return cs(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Pa=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Gs(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.isEqual=function(t){return Rs(this.proto,t.proto)},t}(),La=function(){function t(t){void 0===t&&(t=Pa.empty()),this.I=t,this.A=new Map}return t.prototype.set=function(t,e){return this.R(t,e),this},t.prototype.delete=function(t){return this.R(t,null),this},t.prototype.R=function(t,e){for(var n=this.A,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Ns(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.v=function(){var t=this.P(Es.emptyPath(),this.A);return null!=t?new Pa(t):this.I},t.prototype.P=function(t,e){var n=this,r=!1,i=this.I.field(t),o=Gs(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var u=n.P(t.child(i),e);null!=u&&(o[i]=u,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Ma(t){var e=[];return hs(t.fields||{},function(t,n){var r=new Es([t]);if(Gs(n)){var i=Ma(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,u=i;o<u.length;o++)e.push(r.child(u[o]))}else e.push(r)}),new Ra(e)}function Fa(t,e){if(t.V){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vs(e)?"-0":e}}function Va(t){return{integerValue:""+t}}function qa(t,e){return ys(e)?Va(e):Fa(t,e)}var Ua=function(){this._=void 0};function Ba(t,e,n){return t instanceof Ga?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ka?Wa(t,e):t instanceof Qa?Ya(t,e):function(t,e){var n=za(t,e),r=Xa(n)+Xa(t.S);return Us(n)&&Us(t.S)?Va(r):Fa(t.D,r)}(t,e)}function Ha(t,e,n){return t instanceof Ka?Wa(t,e):t instanceof Qa?Ya(t,e):n}function za(t,e){return t instanceof Ja?Us(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ga=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yu.c)(e,t),e}(Ua),Ka=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Yu.c)(e,t),e}(Ua);function Wa(t,e){for(var n=Za(e),r=function(t){n.some(function(e){return Rs(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Qa=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Yu.c)(e,t),e}(Ua);function Ya(t,e){for(var n=Za(e),r=function(t){n=n.filter(function(e){return!Rs(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ja=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).D=e,r.S=n,r}return Object(Yu.c)(e,t),e}(Ua);function Xa(t){return Ss(t.integerValue||t.doubleValue)}function Za(t){return Bs(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var $a=function(t,e){this.field=t,this.transform=e},tc=function(t,e){this.version=t,this.transformResults=e},ec=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function nc(t,e){return void 0!==t.updateTime?e instanceof Ws&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Ws}var rc=function(){};function ic(t,e,n){return t instanceof cc?function(t,e,n){var r=t.value,i=hc(t.fieldTransforms,e,n.transformResults);return r=pc(t.fieldTransforms,r,i),new Ws(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof lc?function(t,e,n){if(!nc(t.precondition,e))return new Ys(t.key,n.version);var r=fc(t,e,hc(t.fieldTransforms,e,n.transformResults));return new Ws(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Qs(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function oc(t,e,n){return t instanceof cc?function(t,e,n){if(!nc(t.precondition,e))return e;var r=t.value,i=dc(t.fieldTransforms,n,e);r=pc(t.fieldTransforms,r,i);var o=ac(e);return new Ws(t.key,o,r,{hasLocalMutations:!0})}(t,e,n):t instanceof lc?function(t,e,n){if(!nc(t.precondition,e))return e;var r=ac(e),i=fc(t,e,dc(t.fieldTransforms,n,e));return new Ws(t.key,r,i,{hasLocalMutations:!0})}(t,e,n):function(t,e){return nc(t.precondition,e)?new Qs(t.key,Na.min()):e}(t,e)}function uc(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],u=e instanceof Ws?e.field(o.field):void 0,s=za(o.transform,u||null);null!=s&&(n=null==n?(new La).set(o.field,s):n.set(o.field,s))}return n?n.v():null}(t.fieldTransforms,e)}function sc(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&cs(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ka&&e instanceof Ka||t instanceof Qa&&e instanceof Qa?cs(t.elements,e.elements,Rs):t instanceof Ja&&e instanceof Ja?Rs(t.S,e.S):t instanceof Ga&&e instanceof Ga}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function ac(t){return t instanceof Ws?t.version:Na.min()}var cc=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(Yu.c)(e,t),e}(rc),lc=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var u=this;return(u=t.call(this)||this).key=e,u.data=n,u.fieldMask=r,u.precondition=i,u.fieldTransforms=o,u.type=1,u}return Object(Yu.c)(e,t),e}(rc);function fc(t,e,n){var r;return r=function(t,e){var n=new La(e);return t.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.v()}(t,r=e instanceof Ws?e.data():Pa.empty()),pc(t.fieldTransforms,r,n)}function hc(t,e,n){var r=[];is(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],u=o.transform,s=null;e instanceof Ws&&(s=e.field(o.field)),r.push(Ha(u,s,n[i]))}return r}function dc(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var u=o[i],s=u.transform,a=null;n instanceof Ws&&(a=n.field(u.field)),r.push(Ba(s,a,e))}return r}function pc(t,e,n){for(var r=new La(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.v()}var vc,yc,gc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Yu.c)(e,t),e}(rc),mc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Yu.c)(e,t),e}(rc),bc=function(t){this.count=t};function wc(t){switch(t){case gs.OK:return rs();case gs.CANCELLED:case gs.UNKNOWN:case gs.DEADLINE_EXCEEDED:case gs.RESOURCE_EXHAUSTED:case gs.INTERNAL:case gs.UNAVAILABLE:case gs.UNAUTHENTICATED:return!1;case gs.INVALID_ARGUMENT:case gs.NOT_FOUND:case gs.ALREADY_EXISTS:case gs.PERMISSION_DENIED:case gs.FAILED_PRECONDITION:case gs.ABORTED:case gs.OUT_OF_RANGE:case gs.UNIMPLEMENTED:case gs.DATA_LOSS:return!0;default:return rs()}}function _c(t){if(void 0===t)return ts("GRPC error has no .code"),gs.UNKNOWN;switch(t){case vc.OK:return gs.OK;case vc.CANCELLED:return gs.CANCELLED;case vc.UNKNOWN:return gs.UNKNOWN;case vc.DEADLINE_EXCEEDED:return gs.DEADLINE_EXCEEDED;case vc.RESOURCE_EXHAUSTED:return gs.RESOURCE_EXHAUSTED;case vc.INTERNAL:return gs.INTERNAL;case vc.UNAVAILABLE:return gs.UNAVAILABLE;case vc.UNAUTHENTICATED:return gs.UNAUTHENTICATED;case vc.INVALID_ARGUMENT:return gs.INVALID_ARGUMENT;case vc.NOT_FOUND:return gs.NOT_FOUND;case vc.ALREADY_EXISTS:return gs.ALREADY_EXISTS;case vc.PERMISSION_DENIED:return gs.PERMISSION_DENIED;case vc.FAILED_PRECONDITION:return gs.FAILED_PRECONDITION;case vc.ABORTED:return gs.ABORTED;case vc.OUT_OF_RANGE:return gs.OUT_OF_RANGE;case vc.UNIMPLEMENTED:return gs.UNIMPLEMENTED;case vc.DATA_LOSS:return gs.DATA_LOSS;default:return rs()}}(yc=vc||(vc={}))[yc.OK=0]="OK",yc[yc.CANCELLED=1]="CANCELLED",yc[yc.UNKNOWN=2]="UNKNOWN",yc[yc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yc[yc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yc[yc.NOT_FOUND=5]="NOT_FOUND",yc[yc.ALREADY_EXISTS=6]="ALREADY_EXISTS",yc[yc.PERMISSION_DENIED=7]="PERMISSION_DENIED",yc[yc.UNAUTHENTICATED=16]="UNAUTHENTICATED",yc[yc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yc[yc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yc[yc.ABORTED=10]="ABORTED",yc[yc.OUT_OF_RANGE=11]="OUT_OF_RANGE",yc[yc.UNIMPLEMENTED=12]="UNIMPLEMENTED",yc[yc.INTERNAL=13]="INTERNAL",yc[yc.UNAVAILABLE=14]="UNAVAILABLE",yc[yc.DATA_LOSS=15]="DATA_LOSS";var Ec=function(){function t(t,e){this.comparator=t,this.root=e||Ic.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ic.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ic.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new kc(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new kc(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new kc(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new kc(this.root,t,this.comparator,!0)},t}(),kc=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Ic=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw rs();if(this.right.isRed())throw rs();var t=this.left.check();if(t!==this.right.check())throw rs();return t+(this.isRed()?0:1)},t}();Ic.EMPTY=null,Ic.RED=!0,Ic.BLACK=!1,Ic.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw rs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw rs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw rs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw rs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw rs()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ic(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Oc=function(){function t(t){this.comparator=t,this.data=new Ec(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Tc(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Tc(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Tc=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Sc=new Ec(ks.comparator);function Cc(){return Sc}function Ac(){return Cc()}var xc=new Ec(ks.comparator);function jc(){return xc}var Dc=new Ec(ks.comparator);function Nc(){return Dc}var Rc=new Oc(ks.comparator);function Pc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Rc,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Lc=new Oc(as);function Mc(){return Lc}var Fc=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Vc.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Na.min(),r,Mc(),Cc(),Pc())},t}(),Vc=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Is.EMPTY_BYTE_STRING,n,Pc(),Pc(),Pc())},t}(),qc=function(t,e,n,r){this.C=t,this.removedTargetIds=e,this.key=n,this.N=r},Uc=function(t,e){this.targetId=t,this.$=e},Bc=function(t,e,n,r){void 0===n&&(n=Is.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Hc=function(){function t(){this.F=0,this.O=Kc(),this.k=Is.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),t.prototype.U=function(t){t.approximateByteSize()>0&&(this.L=!0,this.k=t)},t.prototype.K=function(){var t=Pc(),e=Pc(),n=Pc();return this.O.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:rs()}}),new Vc(this.k,this.M,t,e,n)},t.prototype.W=function(){this.L=!1,this.O=Kc()},t.prototype.j=function(t,e){this.L=!0,this.O=this.O.insert(t,e)},t.prototype.G=function(t){this.L=!0,this.O=this.O.remove(t)},t.prototype.H=function(){this.F+=1},t.prototype.J=function(){this.F-=1},t.prototype.Y=function(){this.L=!0,this.M=!0},t}(),zc=function(){function t(t){this.X=t,this.Z=new Map,this.tt=Cc(),this.et=Gc(),this.nt=new Oc(as)}return t.prototype.st=function(t){for(var e=0,n=t.C;e<n.length;e++){var r=n[e];t.N instanceof Ws?this.it(r,t.N):t.N instanceof Qs&&this.rt(r,t.key,t.N)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.rt(r=o[i],t.key,t.N)},t.prototype.ot=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ct(n);switch(t.state){case 0:e.at(n)&&r.U(t.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(t.resumeToken);break;case 2:r.J(),r.B||e.removeTarget(n);break;case 3:e.at(n)&&(r.Y(),r.U(t.resumeToken));break;case 4:e.at(n)&&(e.ut(n),r.U(t.resumeToken));break;default:rs()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Z.forEach(function(t,r){n.at(r)&&e(r)})},t.prototype.ht=function(t){var e=t.targetId,n=t.$.count,r=this.lt(e);if(r){var i=r.target;if(ta(i))if(0===n){var o=new ks(i.path);this.rt(e,o,new Qs(o,Na.min()))}else is(1===n);else this.ft(e)!==n&&(this.ut(e),this.nt=this.nt.add(e))}},t.prototype.dt=function(t){var e=this,n=new Map;this.Z.forEach(function(r,i){var o=e.lt(i);if(o){if(r.current&&ta(o.target)){var u=new ks(o.target.path);null!==e.tt.get(u)||e.wt(i,u)||e.rt(i,u,new Qs(u,t))}r.q&&(n.set(i,r.K()),r.W())}});var r=Pc();this.et.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.lt(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Fc(t,n,this.nt,this.tt,r);return this.tt=Cc(),this.et=Gc(),this.nt=new Oc(as),i},t.prototype.it=function(t,e){if(this.at(t)){var n=this.wt(t,e.key)?2:0;this.ct(t).j(e.key,n),this.tt=this.tt.insert(e.key,e),this.et=this.et.insert(e.key,this._t(e.key).add(t))}},t.prototype.rt=function(t,e,n){if(this.at(t)){var r=this.ct(t);this.wt(t,e)?r.j(e,1):r.G(e),this.et=this.et.insert(e,this._t(e).delete(t)),n&&(this.tt=this.tt.insert(e,n))}},t.prototype.removeTarget=function(t){this.Z.delete(t)},t.prototype.ft=function(t){var e=this.ct(t).K();return this.X.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.H=function(t){this.ct(t).H()},t.prototype.ct=function(t){var e=this.Z.get(t);return e||(e=new Hc,this.Z.set(t,e)),e},t.prototype._t=function(t){var e=this.et.get(t);return e||(e=new Oc(as),this.et=this.et.insert(t,e)),e},t.prototype.at=function(t){var e=null!==this.lt(t);return e||$u("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.lt=function(t){var e=this.Z.get(t);return e&&e.B?null:this.X.yt(t)},t.prototype.ut=function(t){var e=this;this.Z.set(t,new Hc),this.X.getRemoteKeysForTarget(t).forEach(function(n){e.rt(t,n,null)})},t.prototype.wt=function(t,e){return this.X.getRemoteKeysForTarget(t).has(e)},t}();function Gc(){return new Ec(ks.comparator)}function Kc(){return new Ec(ks.comparator)}var Wc={asc:"ASCENDING",desc:"DESCENDING"},Qc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yc=function(t,e){this.databaseId=t,this.V=e};function Jc(t,e){return t.V?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xc(t,e){return t.V?e.toBase64():e.toUint8Array()}function Zc(t,e){return Jc(t,e.toTimestamp())}function $c(t){return is(!!t),Na.fromTimestamp(function(t){var e=Ts(t);return new As(e.seconds,e.nanos)}(t))}function tl(t,e){return function(t){return new ws(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function el(t){var e=ws.fromString(t);return is(Ol(e)),e}function nl(t,e){return tl(t.databaseId,e.path)}function rl(t,e){var n=el(e);if(n.get(1)!==t.databaseId.projectId)throw new ms(gs.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ms(gs.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ks(sl(n))}function il(t,e){return tl(t.databaseId,e)}function ol(t){var e=el(t);return 4===e.length?ws.emptyPath():sl(e)}function ul(t){return new ws(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sl(t){return is(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function al(t,e,n){return{name:nl(t,e),fields:n.proto.mapValue.fields}}function cl(t,e,n){var r=rl(t,e.name),i=$c(e.updateTime),o=new Pa({mapValue:{fields:e.fields}});return new Ws(r,i,o,{hasCommittedMutations:!!n})}function ll(t,e){var n;if(e instanceof cc)n={update:al(t,e.key,e.value)};else if(e instanceof gc)n={delete:nl(t,e.key)};else if(e instanceof lc)n={update:al(t,e.key,e.data),updateMask:Il(e.fieldMask)};else{if(!(e instanceof mc))return rs();n={verify:nl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Ga)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ka)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Qa)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ja)return{fieldPath:e.field.canonicalString(),increment:n.S};throw rs()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Zc(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:rs()}(t,e.precondition)),n}function fl(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ec.updateTime($c(t.updateTime)):void 0!==t.exists?ec.exists(t.exists):ec.none()}(e.currentDocument):ec.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(is("REQUEST_TIME"===e.setToServerValue),n=new Ga):"appendMissingElements"in e?n=new Ka(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Qa(e.removeAllFromArray.values||[]):"increment"in e?n=new Ja(t,e.increment):rs();var r=Es.fromServerFormat(e.fieldPath);return new $a(r,n)}(t,e)}):[];if(e.update){var i=rl(t,e.update.name),o=new Pa({mapValue:{fields:e.update.fields}});if(e.updateMask){var u=function(t){return new Ra((t.fieldPaths||[]).map(function(t){return Es.fromServerFormat(t)}))}(e.updateMask);return new lc(i,o,u,n,r)}return new cc(i,o,n,r)}if(e.delete){var s=rl(t,e.delete);return new gc(s,n)}if(e.verify){var a=rl(t,e.verify);return new mc(a,n)}return rs()}function hl(t,e){return{documents:[il(t,e.path)]}}function dl(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=il(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=il(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(zs(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NAN"}};if(Hs(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(zs(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NOT_NAN"}};if(Hs(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wl(t.field),op:bl(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:wl(t.field),direction:ml(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var u=function(t,e){return t.V||ps(e)?e:{value:e}}(t,e.limit);return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=yl(e.startAt)),e.endAt&&(n.structuredQuery.endAt=yl(e.endAt)),n}function pl(t){var e=ol(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){is(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var u=[];n.where&&(u=vl(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(t){return function(t){return new ha(_l(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var a=null;n.limit&&(a=function(t){var e;return ps(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=gl(n.startAt));var l=null;return n.endAt&&(l=gl(n.endAt)),ga(e,i,s,u,a,"F",c,l)}function vl(t){return t?void 0!==t.unaryFilter?[kl(t)]:void 0!==t.fieldFilter?[El(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return vl(t)}).reduce(function(t,e){return t.concat(e)}):rs():[]}function yl(t){return{before:t.before,values:t.position}}function gl(t){return new la(t.values||[],!!t.before)}function ml(t){return Wc[t]}function bl(t){return Qc[t]}function wl(t){return{fieldPath:t.canonicalString()}}function _l(t){return Es.fromServerFormat(t.fieldPath)}function El(t){return ea.create(_l(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return rs()}}(t.fieldFilter.op),t.fieldFilter.value)}function kl(t){switch(t.unaryFilter.op){case"IS_NAN":var e=_l(t.unaryFilter.field);return ea.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=_l(t.unaryFilter.field);return ea.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=_l(t.unaryFilter.field);return ea.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=_l(t.unaryFilter.field);return ea.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return rs()}}function Il(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Ol(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Tl(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Cl(e)),e=Sl(t.get(n),e);return Cl(e)}function Sl(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Cl(t){return t+"\x01\x01"}function Al(t){var e=t.length;if(is(e>=2),2===e)return is("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ws.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var u=t.indexOf("\x01",o);switch((u<0||u>n)&&rs(),t.charAt(u+1)){case"\x01":var s=t.substring(o,u),a=void 0;0===i.length?a=s:(a=i+=s,i=""),r.push(a);break;case"\x10":i+=t.substring(o,u),i+="\0";break;case"\x11":i+=t.substring(o,u+1);break;default:rs()}o=u+2}return new ws(r)}var xl=function(t,e){this.seconds=t,this.nanoseconds=e},jl=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};jl.store="owner",jl.key="owner";var Dl=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Dl.store="mutationQueues",Dl.keyPath="userId";var Nl=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Nl.store="mutations",Nl.keyPath="batchId",Nl.userMutationsIndex="userMutationsIndex",Nl.userMutationsKeyPath=["userId","batchId"];var Rl=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Tl(e)]},t.key=function(t,e,n){return[t,Tl(e),n]},t}();Rl.store="documentMutations",Rl.PLACEHOLDER=new Rl;var Pl=function(t,e){this.path=t,this.readTime=e},Ll=function(t,e){this.path=t,this.version=e},Ml=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ml.store="remoteDocuments",Ml.readTimeIndex="readTimeIndex",Ml.readTimeIndexPath="readTime",Ml.collectionReadTimeIndex="collectionReadTimeIndex",Ml.collectionReadTimeIndexPath=["parentPath","readTime"];var Fl=function(t){this.byteSize=t};Fl.store="remoteDocumentGlobal",Fl.key="remoteDocumentGlobalKey";var Vl=function(t,e,n,r,i,o,u){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=u};Vl.store="targets",Vl.keyPath="targetId",Vl.queryTargetsIndexName="queryTargetsIndex",Vl.queryTargetsKeyPath=["canonicalId","targetId"];var ql=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ql.store="targetDocuments",ql.keyPath=["targetId","path"],ql.documentTargetsIndex="documentTargetsIndex",ql.documentTargetsKeyPath=["path","targetId"];var Ul=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ul.key="targetGlobalKey",Ul.store="targetGlobal";var Bl=function(t,e){this.collectionId=t,this.parent=e};Bl.store="collectionParents",Bl.keyPath=["collectionId","parent"];var Hl=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Hl.store="clientMetadata",Hl.keyPath="clientId";var zl=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};zl.store="bundles",zl.keyPath="bundleId";var Gl=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Gl.store="namedQueries",Gl.keyPath="name";var Kl=Object(Yu.f)(Object(Yu.f)([],Object(Yu.f)(Object(Yu.f)([],Object(Yu.f)(Object(Yu.f)([],Object(Yu.f)(Object(Yu.f)([],[Dl.store,Nl.store,Rl.store,Ml.store,Vl.store,jl.store,Ul.store,ql.store]),[Hl.store])),[Fl.store])),[Bl.store])),[zl.store,Gl.store]),Wl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ql=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Yl=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Jl=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&rs(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Xl=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.gt=new Yl,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){e.error?n.gt.reject(new tf(t,e.error)):n.gt.resolve()},this.transaction.onerror=function(e){var r=uf(e.target.error);n.gt.reject(new tf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new tf(n,e)}},Object.defineProperty(t.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.gt.reject(t),this.aborted||($u("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new nf(e)},t}(),Zl=function(){function t(e,n,r){this.name=e,this.version=n,this.Tt=r,12.2===t.It(Object(Kn.g)())&&ts("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return $u("SimpleDb","Removing database:",t),rf(window.indexedDB.deleteDatabase(t)).toPromise()},t.At=function(){if("undefined"==typeof indexedDB)return!1;if(t.Rt())return!0;var e=Object(Kn.g)(),n=t.It(e),r=0<n&&n<10,i=t.bt(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Rt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.vt)},t.Pt=function(t,e){return t.store(e)},t.It=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.bt=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Vt=function(t){return Object(Yu.b)(this,void 0,void 0,function(){var e,n=this;return Object(Yu.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:($u("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new tf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new ms(gs.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new tf(t,n))},i.onupgradeneeded=function(t){$u("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Tt.St(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){$u("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(t){return n.Dt(t)}),this.db)]}})})},t.prototype.Ct=function(t){this.Dt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Yu.b)(this,void 0,void 0,function(){var i,o,u,s,a;return Object(Yu.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,u=function(){var e,u,a,c,l;return Object(Yu.d)(this,function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.Vt(t)];case 2:return s.db=f.sent(),e=Xl.open(s.db,t,i?"readonly":"readwrite",n),u=r(e).catch(function(t){return e.abort(t),Jl.reject(t)}).toPromise(),a={},u.catch(function(){}),[4,e.Et];case 3:return[2,(a.value=(f.sent(),u),a)];case 4:return $u("SimpleDb","Transaction failed with error:",(c=f.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},s=this,c.label=1;case 1:return[5,u()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),$l=function(){function t(t){this.xt=t,this.Nt=!1,this.$t=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.xt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Nt=!0},t.prototype.Ot=function(t){this.$t=t},t.prototype.delete=function(){return rf(this.xt.delete())},t}(),tf=function(t){function e(e,n){var r=this;return(r=t.call(this,gs.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Yu.c)(e,t),e}(ms);function ef(t){return"IndexedDbTransactionError"===t.name}var nf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?($u("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):($u("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),rf(n)},t.prototype.add=function(t){return $u("SimpleDb","ADD",this.store.name,t,t),rf(this.store.add(t))},t.prototype.get=function(t){var e=this;return rf(this.store.get(t)).next(function(n){return void 0===n&&(n=null),$u("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return $u("SimpleDb","DELETE",this.store.name,t),rf(this.store.delete(t))},t.prototype.count=function(){return $u("SimpleDb","COUNT",this.store.name),rf(this.store.count())},t.prototype.kt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Mt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Lt=function(t,e){$u("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,function(t,e,n){return n.delete()})},t.prototype.qt=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Mt(r,e)},t.prototype.Ut=function(t){var e=this.cursor({});return new Jl(function(n,r){e.onerror=function(t){var e=uf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.Mt=function(t,e){var n=[];return new Jl(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new $l(i),u=e(i.primaryKey,i.value,o);if(u instanceof Jl){var s=u.catch(function(t){return o.done(),Jl.reject(t)});n.push(s)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}else r()}}).next(function(){return Jl.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Bt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function rf(t){return new Jl(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=uf(t.target.error);n(e)}})}var of=!1;function uf(t){var e=Zl.It(Object(Kn.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ms("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return of||(of=!0,setTimeout(function(){throw r},0)),r}}return t}var sf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.currentSequenceNumber=n,r}return Object(Yu.c)(e,t),e}(Ql);function af(t,e){var n=os(t);return Zl.Pt(n.Qt,e)}var cf=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=ic(o,e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(u=r[n]).key.isEqual(t)&&(e=oc(u,e,this.localWriteTime));for(var i=0,o=this.mutations;i<o.length;i++){var u;(u=o[i]).key.isEqual(t)&&(e=oc(u,e,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Pc())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&cs(this.mutations,t.mutations,function(t,e){return sc(t,e)})&&cs(this.baseMutations,t.baseMutations,function(t,e){return sc(t,e)})},t}(),lf=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){is(e.mutations.length===r.length);for(var i=Nc(),o=e.mutations,u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new t(e,n,r,i)},t}(),ff=function(){function t(t,e,n,r,i,o,u){void 0===i&&(i=Na.min()),void 0===o&&(o=Na.min()),void 0===u&&(u=Is.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),hf=function(t){this.Kt=t};function df(t,e){if(e.document)return cl(t.Kt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ks.fromSegments(e.noDocument.path),r=mf(e.noDocument.readTime);return new Qs(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=ks.fromSegments(e.unknownDocument.path);return r=mf(e.unknownDocument.version),new Ys(i,r)}return rs()}function pf(t,e,n){var r=vf(n),i=e.key.path.popLast().toArray();if(e instanceof Ws){var o=function(t,e){return{name:nl(t,e.key),fields:e.toProto().mapValue.fields,updateTime:Jc(t,e.version.toTimestamp())}}(t.Kt,e),u=e.hasCommittedMutations;return new Ml(null,null,o,u,r,i)}if(e instanceof Qs){var s=e.key.path.toArray(),a=gf(e.version);return u=e.hasCommittedMutations,new Ml(null,new Pl(s,a),null,u,r,i)}if(e instanceof Ys){var c=e.key.path.toArray(),l=gf(e.version);return new Ml(new Ll(c,l),null,null,!0,r,i)}return rs()}function vf(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function yf(t){var e=new As(t[0],t[1]);return Na.fromTimestamp(e)}function gf(t){var e=t.toTimestamp();return new xl(e.seconds,e.nanoseconds)}function mf(t){var e=new As(t.seconds,t.nanoseconds);return Na.fromTimestamp(e)}function bf(t,e){for(var n=(e.baseMutations||[]).map(function(e){return fl(t.Kt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return fl(t.Kt,e)}),o=As.fromMillis(e.localWriteTimeMs);return new cf(e.batchId,o,n,i)}function wf(t){var e,n,r=mf(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?mf(t.lastLimboFreeSnapshotVersion):Na.min();return void 0!==t.query.documents?(is(1===(n=t.query).documents.length),e=Oa(ma(ol(n.documents[0])))):e=function(t){return Oa(pl(t))}(t.query),new ff(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Is.fromBase64String(t.resumeToken))}function _f(t,e){var n,r=gf(e.snapshotVersion),i=gf(e.lastLimboFreeSnapshotVersion);n=ta(e.target)?hl(t.Kt,e.target):dl(t.Kt,e.target);var o=e.resumeToken.toBase64();return new Vl(e.targetId,Zs(e.target),r,o,e.sequenceNumber,i,n)}function Ef(t){var e=pl({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ta(e,e.limit,"L"):e}var kf=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return If(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:mf(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return If(t).put({bundleId:(n=e).id,createTime:gf($c(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Of(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Ef(e.bundledQuery),readTime:mf(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Of(t).put(function(t){return{name:t.name,readTime:gf($c(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function If(t){return af(t,zl.store)}function Of(t){return af(t,Gl.store)}var Tf=function(){function t(){this.Wt=new Sf}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Wt.add(e),Jl.resolve()},t.prototype.getCollectionParents=function(t,e){return Jl.resolve(this.Wt.getEntries(e))},t}(),Sf=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Oc(ws.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Oc(ws.comparator)).toArray()},t}(),Cf=function(){function t(){this.jt=new Sf}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.jt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.jt.add(e)});var o={collectionId:r,parent:Tl(i)};return Af(t).put(o)}return Jl.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ls(e),""],!1,!0);return Af(t).kt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Al(o.parent))}return n})},t}();function Af(t){return af(t,Bl.store)}var xf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jf=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Df(t,e,n){var r=t.store(Nl.store),i=t.store(Rl.store),o=[],u=IDBKeyRange.only(n.batchId),s=0,a=r.qt({range:u},function(t,e,n){return s++,n.delete()});o.push(a.next(function(){is(1===s)}));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=Rl.key(e,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return Jl.waitFor(o).next(function(){return c})}function Nf(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw rs();e=t.noDocument}return JSON.stringify(e).length}jf.DEFAULT_COLLECTION_PERCENTILE=10,jf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jf.DEFAULT=new jf(41943040,jf.DEFAULT_COLLECTION_PERCENTILE,jf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jf.DISABLED=new jf(-1,0,0);var Rf=function(){function t(t,e,n,r){this.userId=t,this.D=e,this.Gt=n,this.referenceDelegate=r,this.zt={}}return t.Ht=function(e,n,r,i){return is(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Lf(t).qt({index:Nl.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Mf(t),u=Lf(t);return u.add({}).next(function(s){is("number"==typeof s);for(var a=new cf(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return ll(t.Kt,e)}),i=n.mutations.map(function(e){return ll(t.Kt,e)});return new Nl(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,a),l=[],f=new Oc(function(t,e){return as(t.canonicalString(),e.canonicalString())}),h=0,d=r;h<d.length;h++){var p=d[h],v=Rl.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(u.put(c)),l.push(o.put(v,Rl.PLACEHOLDER))}return f.forEach(function(e){l.push(i.Gt.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.zt[s]=a.keys()}),Jl.waitFor(l).next(function(){return a})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Lf(t).get(e).next(function(t){return t?(is(t.userId===n.userId),bf(n.D,t)):null})},t.prototype.Jt=function(t,e){var n=this;return this.zt[e]?Jl.resolve(this.zt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.zt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Lf(t).qt({index:Nl.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(is(e.batchId>=r),o=bf(n.D,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Lf(t).qt({index:Nl.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Lf(t).kt(Nl.userMutationsIndex,n).next(function(t){return t.map(function(t){return bf(e.D,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Rl.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Mf(t).qt({range:i},function(r,i,u){var s=r[0],a=r[2],c=Al(r[1]);if(s===n.userId&&e.path.isEqual(c))return Lf(t).get(a).next(function(t){if(!t)throw rs();is(t.userId===n.userId),o.push(bf(n.D,t))});u.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Oc(as),i=[];return e.forEach(function(e){var o=Rl.prefixForPath(n.userId,e.path),u=IDBKeyRange.lowerBound(o),s=Mf(t).qt({range:u},function(t,i,o){var u=t[0],s=t[2],a=Al(t[1]);u===n.userId&&e.path.isEqual(a)?r=r.add(s):o.done()});i.push(s)}),Jl.waitFor(i).next(function(){return n.Yt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Rl.prefixForPath(this.userId,r),u=IDBKeyRange.lowerBound(o),s=new Oc(as);return Mf(t).qt({range:u},function(t,e,o){var u=t[0],a=t[2],c=Al(t[1]);u===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(a)):o.done()}).next(function(){return n.Yt(t,s)})},t.prototype.Yt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Lf(t).get(e).next(function(t){if(null===t)throw rs();is(t.userId===n.userId),r.push(bf(n.D,t))}))}),Jl.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Df(t.Qt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Xt(e.batchId)}),Jl.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Xt=function(t){delete this.zt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Jl.resolve();var r=IDBKeyRange.lowerBound(Rl.prefixForUser(e.userId)),i=[];return Mf(t).qt({range:r},function(t,n,r){if(t[0]===e.userId){var o=Al(t[1]);i.push(o)}else r.done()}).next(function(){is(0===i.length)})})},t.prototype.containsKey=function(t,e){return Pf(t,this.userId,e)},t.prototype.Zt=function(t){var e=this;return Ff(t).get(this.userId).next(function(t){return t||new Dl(e.userId,-1,"")})},t}();function Pf(t,e,n){var r=Rl.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return Mf(t).qt({range:o,Bt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(u=!0),r.done()}).next(function(){return u})}function Lf(t){return af(t,Nl.store)}function Mf(t){return af(t,Rl.store)}function Ff(t){return af(t,Dl.store)}var Vf=function(){function t(t){this.te=t}return t.prototype.next=function(){return this.te+=2,this.te},t.ee=function(){return new t(0)},t.ne=function(){return new t(-1)},t}(),qf=function(){function t(t,e){this.referenceDelegate=t,this.D=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.se(t).next(function(n){var r=new Vf(n.highestTargetId);return n.highestTargetId=r.next(),e.ie(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.se(t).next(function(t){return Na.fromTimestamp(new As(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.se(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.se(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.ie(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.re(t,e).next(function(){return n.se(t).next(function(r){return r.targetCount+=1,n.oe(e,r),n.ie(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.re(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Uf(t).delete(e.targetId)}).next(function(){return n.se(t)}).next(function(e){return is(e.targetCount>0),e.targetCount-=1,n.ie(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Uf(t).qt(function(u,s){var a=wf(s);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.removeTargetData(t,a)))}).next(function(){return Jl.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Uf(t).qt(function(t,n){var r=wf(n);e(r)})},t.prototype.se=function(t){return Bf(t).get(Ul.key).next(function(t){return is(null!==t),t})},t.prototype.ie=function(t,e){return Bf(t).put(Ul.key,e)},t.prototype.re=function(t,e){return Uf(t).put(_f(this.D,e))},t.prototype.oe=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.se(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Zs(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Uf(t).qt({range:r,index:Vl.queryTargetsIndexName},function(t,n,r){var o=wf(n);$s(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Hf(t);return e.forEach(function(e){var u=Tl(e.path);i.push(o.put(new ql(n,u))),i.push(r.referenceDelegate.addReference(t,n,e))}),Jl.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Hf(t);return Jl.forEach(e,function(e){var o=Tl(e.path);return Jl.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Hf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Hf(t),i=Pc();return r.qt({range:n,Bt:!0},function(t,e,n){var r=Al(t[1]),o=new ks(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Tl(e.path),r=IDBKeyRange.bound([n],[ls(n)],!1,!0),i=0;return Hf(t).qt({index:ql.documentTargetsIndex,Bt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.yt=function(t,e){return Uf(t).get(e).next(function(t){return t?wf(t):null})},t}();function Uf(t){return af(t,Vl.store)}function Bf(t){return af(t,Ul.store)}function Hf(t){return af(t,ql.store)}function zf(t){return Object(Yu.b)(this,void 0,void 0,function(){return Object(Yu.d)(this,function(e){if(t.code!==gs.FAILED_PRECONDITION||t.message!==Wl)throw t;return $u("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Gf(t,e){var n=t[1],r=e[1],i=as(t[0],e[0]);return 0===i?as(n,r):i}var Kf=function(){function t(t){this.ce=t,this.buffer=new Oc(Gf),this.ae=0}return t.prototype.ue=function(){return++this.ae},t.prototype.he=function(t){var e=[t,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Gf(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Wf=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.le=!1,this.fe=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(t)},t.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),t.prototype.de=function(t){var e=this,n=this.le?3e5:6e4;$u("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Yu.b)(e,void 0,void 0,function(){var e;return Object(Yu.d)(this,function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ef(e=n.sent())?($u("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,zf(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(t)];case 8:return n.sent(),[2]}})})})},t}(),Qf=function(){function t(t,e){this.we=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.we._e(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Jl.resolve(Ju.o);var r=new Kf(e);return this.we.forEachTarget(t,function(t){return r.he(t.sequenceNumber)}).next(function(){return n.we.me(t,function(t){return r.he(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.we.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.we.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?($u("LruGarbageCollector","Garbage collection skipped; disabled"),Jl.resolve(xf)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?($u("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),xf):n.ye(t,e)})},t.prototype.getCacheSize=function(t){return this.we.getCacheSize(t)},t.prototype.ye=function(t,e){var n,r,i,o,u,s,a,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?($u("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,u=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return a=Date.now(),Zu()<=Gn.a.DEBUG&&$u("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(u-o)+"ms\n\tRemoved "+i+" targets in "+(s-u)+"ms\n\tRemoved "+t+" documents in "+(a-s)+"ms\nTotal Duration: "+(a-l)+"ms"),Jl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Yf=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Qf(t,e)}(this,e)}return t.prototype._e=function(t){var e=this.ge(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.ge=function(t){var e=0;return this.me(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.me=function(t,e){return this.pe(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Jf(t,n)},t.prototype.removeReference=function(t,e,n){return Jf(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Jf(t,e)},t.prototype.Ee=function(t,e){return function(t,e){var n=!1;return Ff(t).Ut(function(r){return Pf(t,r,e).next(function(t){return t&&(n=!0),Jl.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.pe(t,function(u,s){if(s<=e){var a=n.Ee(t,u).next(function(e){if(!e)return o++,r.getEntry(t,u).next(function(){return r.removeEntry(u),Hf(t).delete([0,Tl(u.path)])})});i.push(a)}}).next(function(){return Jl.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Jf(t,e)},t.prototype.pe=function(t,e){var n,r=Hf(t),i=Ju.o;return r.qt({index:ql.documentTargetsIndex},function(t,r){var o=r.path,u=r.sequenceNumber;0===t[0]?(i!==Ju.o&&e(new ks(Al(n)),i),i=u,n=o):i=Ju.o}).next(function(){i!==Ju.o&&e(new ks(Al(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Jf(t,e){return Hf(t).put(function(t,e){return new ql(0,Tl(t.path),e)}(e,t.currentSequenceNumber))}var Xf=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],u=o[1];if(this.equalsFn(o[0],t))return u}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){hs(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return ds(this.inner)},t}(),Zf=function(){function t(){this.changes=new Xf(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Na.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{maybeDocument:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{maybeDocument:null,readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Jl.resolve(n.maybeDocument):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),$f=function(){function t(t,e){this.D=t,this.Gt=e}return t.prototype.addEntry=function(t,e,n){return nh(t).put(rh(e),n)},t.prototype.removeEntry=function(t,e){var n=nh(t),r=rh(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Te(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return nh(t).get(rh(e)).next(function(t){return n.Ie(t)})},t.prototype.Ae=function(t,e){var n=this;return nh(t).get(rh(e)).next(function(t){var e=n.Ie(t);return e?{maybeDocument:e,size:Nf(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Ac();return this.Re(t,e,function(t,e){var i=n.Ie(e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.be=function(t,e){var n=this,r=Ac(),i=new Ec(ks.comparator);return this.Re(t,e,function(t,e){var o=n.Ie(e);o?(r=r.insert(t,o),i=i.insert(t,Nf(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{ve:r,Pe:i}})},t.prototype.Re=function(t,e,n){if(e.isEmpty())return Jl.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return nh(t).qt({range:r},function(t,e,r){for(var u=ks.fromSegments(t);o&&ks.comparator(o,u)<0;)n(o,null),o=i.getNext();o&&o.isEqual(u)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ot(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=jc(),o=e.path.length+1,u={};if(n.isEqual(Na.min())){var s=e.path.toArray();u.range=IDBKeyRange.lowerBound(s)}else{var a=e.path.toArray(),c=vf(n);u.range=IDBKeyRange.lowerBound([a,c],!0),u.index=Ml.collectionReadTimeIndex}return nh(t).qt(u,function(t,n,u){if(t.length===o){var s=df(r.D,n);e.path.isPrefixOf(s.key.path)?s instanceof Ws&&xa(e,s)&&(i=i.insert(s.key,s)):u.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new th(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return eh(t).get(Fl.key).next(function(t){return is(!!t),t})},t.prototype.Te=function(t,e){return eh(t).put(Fl.key,e)},t.prototype.Ie=function(t){if(t){var e=df(this.D,t);return e instanceof Qs&&e.version.isEqual(Na.min())?null:e}return null},t}(),th=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ve=e,r.trackRemovals=n,r.Se=new Xf(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Yu.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Oc(function(t,e){return as(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,u){var s=e.Se.get(o);if(u.maybeDocument){var a=pf(e.Ve.D,u.maybeDocument,e.getReadTime(o));i=i.add(o.path.popLast());var c=Nf(a);r+=c-s,n.push(e.Ve.addEntry(t,o,a))}else if(r-=s,e.trackRemovals){var l=pf(e.Ve.D,new Qs(o,Na.min()),e.getReadTime(o));n.push(e.Ve.addEntry(t,o,l))}else n.push(e.Ve.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ve.Gt.addToCollectionParentIndex(t,r))}),n.push(this.Ve.updateMetadata(t,r)),Jl.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ve.Ae(t,e).next(function(t){return null===t?(n.Se.set(e,0),null):(n.Se.set(e,t.size),t.maybeDocument)})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ve.be(t,e).next(function(t){var e=t.ve;return t.Pe.forEach(function(t,e){n.Se.set(t,e)}),e})},e}(Zf);function eh(t){return af(t,Fl.store)}function nh(t){return af(t,Ml.store)}function rh(t){return t.path.toArray()}var ih=function(){function t(t){this.D=t}return t.prototype.St=function(t,e,n,r){var i=this;is(n<r&&n>=0&&r<=11);var o=new Xl("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(jl.store)}(t),function(t){t.createObjectStore(Dl.store,{keyPath:Dl.keyPath}),t.createObjectStore(Nl.store,{keyPath:Nl.keyPath,autoIncrement:!0}).createIndex(Nl.userMutationsIndex,Nl.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Rl.store)}(t),oh(t),function(t){t.createObjectStore(Ml.store)}(t));var u=Jl.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ql.store),t.deleteObjectStore(Vl.store),t.deleteObjectStore(Ul.store)}(t),oh(t)),u=u.next(function(){return function(t){var e=t.store(Ul.store),n=new Ul(0,0,Na.min().toTimestamp(),0);return e.put(Ul.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(u=u.next(function(){return function(t,e){return e.store(Nl.store).kt().next(function(n){t.deleteObjectStore(Nl.store),t.createObjectStore(Nl.store,{keyPath:Nl.keyPath,autoIncrement:!0}).createIndex(Nl.userMutationsIndex,Nl.userMutationsKeyPath,{unique:!0});var r=e.store(Nl.store),i=n.map(function(t){return r.put(t)});return Jl.waitFor(i)})}(t,o)})),u=u.next(function(){!function(t){t.createObjectStore(Hl.store,{keyPath:Hl.keyPath})}(t)})),n<5&&r>=5&&(u=u.next(function(){return i.De(o)})),n<6&&r>=6&&(u=u.next(function(){return function(t){t.createObjectStore(Fl.store)}(t),i.Ce(o)})),n<7&&r>=7&&(u=u.next(function(){return i.xe(o)})),n<8&&r>=8&&(u=u.next(function(){return i.Ne(t,o)})),n<9&&r>=9&&(u=u.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ml.store);e.createIndex(Ml.readTimeIndex,Ml.readTimeIndexPath,{unique:!1}),e.createIndex(Ml.collectionReadTimeIndex,Ml.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(u=u.next(function(){return i.$e(o)})),n<11&&r>=11&&(u=u.next(function(){!function(t){t.createObjectStore(zl.store,{keyPath:zl.keyPath})}(t),function(t){t.createObjectStore(Gl.store,{keyPath:Gl.keyPath})}(t)})),u},t.prototype.Ce=function(t){var e=0;return t.store(Ml.store).qt(function(t,n){e+=Nf(n)}).next(function(){var n=new Fl(e);return t.store(Fl.store).put(Fl.key,n)})},t.prototype.De=function(t){var e=this,n=t.store(Dl.store),r=t.store(Nl.store);return n.kt().next(function(n){return Jl.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(Nl.userMutationsIndex,i).next(function(r){return Jl.forEach(r,function(r){is(r.userId===n.userId);var i=bf(e.D,r);return Df(t,n.userId,i).next(function(){})})})})})},t.prototype.xe=function(t){var e=t.store(ql.store),n=t.store(Ml.store);return t.store(Ul.store).get(Ul.key).next(function(t){var r=[];return n.qt(function(n,i){var o=new ws(n),u=function(t){return[0,Tl(t)]}(o);r.push(e.get(u).next(function(n){return n?Jl.resolve():function(n){return e.put(new ql(0,Tl(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Jl.waitFor(r)})})},t.prototype.Ne=function(t,e){t.createObjectStore(Bl.store,{keyPath:Bl.keyPath});var n=e.store(Bl.store),r=new Sf,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Tl(i)})}};return e.store(Ml.store).qt({Bt:!0},function(t,e){var n=new ws(t);return i(n.popLast())}).next(function(){return e.store(Rl.store).qt({Bt:!0},function(t,e){var n=Al(t[1]);return i(n.popLast())})})},t.prototype.$e=function(t){var e=this,n=t.store(Vl.store);return n.qt(function(t,r){var i=wf(r),o=_f(e.D,i);return n.put(o)})},t}();function oh(t){t.createObjectStore(ql.store,{keyPath:ql.keyPath}).createIndex(ql.documentTargetsIndex,ql.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Vl.store,{keyPath:Vl.keyPath}).createIndex(Vl.queryTargetsIndexName,Vl.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ul.store)}var uh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sh=function(){function t(e,n,r,i,o,u,s,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fe=o,this.window=u,this.document=s,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(t){return Promise.resolve()},!t.At())throw new ms(gs.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Yf(this,i),this.We=n+"main",this.D=new hf(a),this.je=new Zl(this.We,11,new ih(this.D)),this.Ge=new qf(this.referenceDelegate,this.D),this.Gt=new Cf,this.ze=function(t,e){return new $f(t,e)}(this.D,this.Gt),this.He=new kf,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&ts("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Ye().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ms(gs.FAILED_PRECONDITION,uh);return t.Xe(),t.Ze(),t.tn(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Ge.getHighestSequenceNumber(e)})}).then(function(e){t.Me=new Ju(e,t.Oe)}).then(function(){t.Le=!0}).catch(function(e){return t.je&&t.je.close(),Promise.reject(e)})},t.prototype.en=function(t){var e=this;return this.Ke=function(n){return Object(Yu.b)(e,void 0,void 0,function(){return Object(Yu.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.je.Ct(function(n){return Object(Yu.b)(e,void 0,void 0,function(){return Object(Yu.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Fe.enqueueAndForget(function(){return Object(Yu.b)(e,void 0,void 0,function(){return Object(Yu.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Ye=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return ch(e).put(new Hl(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.nn(e).next(function(e){e||(t.isPrimary=!1,t.Fe.enqueueRetryable(function(){return t.Ke(!1)}))})}).next(function(){return t.sn(e)}).next(function(n){return t.isPrimary&&!n?t.rn(e).next(function(){return!1}):!!n&&t.on(e).next(function(){return!0})})}).catch(function(e){if(ef(e))return $u("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return $u("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Fe.enqueueRetryable(function(){return t.Ke(e)}),t.isPrimary=e})},t.prototype.nn=function(t){var e=this;return ah(t).get(jl.key).next(function(t){return Jl.resolve(e.cn(t))})},t.prototype.an=function(t){return ch(t).delete(this.clientId)},t.prototype.un=function(){return Object(Yu.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Yu.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=af(t,Hl.store);return e.kt().next(function(t){var n=r.ln(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Jl.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Je)for(e=0,n=t;e<n.length;e++)this.Je.removeItem(this.fn(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.tn=function(){var t=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.Ye().then(function(){return t.un()}).then(function(){return t.tn()})})},t.prototype.cn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sn=function(t){var e=this;return this.ke?Jl.resolve(!0):ah(t).get(jl.key).next(function(n){if(null!==n&&e.hn(n.leaseTimestampMs,5e3)&&!e.dn(n.ownerId)){if(e.cn(n)&&e.networkEnabled)return!0;if(!e.cn(n)){if(!n.allowTabSynchronization)throw new ms(gs.FAILED_PRECONDITION,uh);return!1}}return!(!e.networkEnabled||!e.inForeground)||ch(t).kt().next(function(t){return void 0===e.ln(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&$u("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Yu.b)(this,void 0,void 0,function(){var t=this;return Object(Yu.d)(this,function(e){switch(e.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[jl.store,Hl.store],function(e){var n=new sf(e,Ju.o);return t.rn(n).next(function(){return t.an(n)})})];case 1:return e.sent(),this.je.close(),this.yn(),[2]}})})},t.prototype.ln=function(t,e){var n=this;return t.filter(function(t){return n.hn(t.updateTimeMs,e)&&!n.dn(t.clientId)})},t.prototype.gn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return ch(e).kt().next(function(e){return t.ln(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Rf.Ht(t,this.D,this.Gt,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r,i=this;return $u("IndexedDbPersistence","Starting transaction:",t),this.je.runTransaction(t,"readonly"===e?"readonly":"readwrite",Kl,function(o){return r=new sf(o,i.Me?i.Me.next():Ju.o),"readwrite-primary"===e?i.nn(r).next(function(t){return!!t||i.sn(r)}).next(function(e){if(!e)throw ts("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Fe.enqueueRetryable(function(){return i.Ke(!1)}),new ms(gs.FAILED_PRECONDITION,Wl);return n(r)}).next(function(t){return i.on(r).next(function(){return t})}):i.pn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.pn=function(t){var e=this;return ah(t).get(jl.key).next(function(t){if(null!==t&&e.hn(t.leaseTimestampMs,5e3)&&!e.dn(t.ownerId)&&!e.cn(t)&&!(e.ke||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ms(gs.FAILED_PRECONDITION,uh)})},t.prototype.on=function(t){var e=new jl(this.clientId,this.allowTabSynchronization,Date.now());return ah(t).put(jl.key,e)},t.At=function(){return Zl.At()},t.prototype.rn=function(t){var e=this,n=ah(t);return n.get(jl.key).next(function(t){return e.cn(t)?($u("IndexedDbPersistence","Releasing primary lease."),n.delete(jl.key)):Jl.resolve()})},t.prototype.hn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ts("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xe=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){t.Fe.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.Ye()})},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},t.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},t.prototype.Ze=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Be=function(){e.wn(),e.Fe.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Be))},t.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},t.prototype.dn=function(t){var e;try{var n=null!==(null===(e=this.Je)||void 0===e?void 0:e.getItem(this.fn(t)));return $u("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ts("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(t){ts("Failed to set zombie client id.",t)}},t.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(t){}},t.prototype.fn=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ah(t){return af(t,jl.store)}function ch(t){return af(t,Hl.store)}function lh(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var fh=function(t,e){this.progress=t,this.En=e},hh=function(){function t(t,e,n){this.ze=t,this.Tn=e,this.Gt=n}return t.prototype.In=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.An(t,e,r)})},t.prototype.An=function(t,e,n){return this.ze.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t})},t.prototype.Rn=function(t,e,n){var r=Ac();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.bn=function(t,e){var n=this;return this.ze.getEntries(t,e).next(function(e){return n.vn(t,e)})},t.prototype.vn=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.Rn(t,e,r),o=Cc();return i.forEach(function(t,e){e||(e=new Qs(t,Na.min())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return ks.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Pn(t,e.path):ka(e)?this.Vn(t,e,n):this.Sn(t,e,n)},t.prototype.Pn=function(t,e){return this.In(t,new ks(e)).next(function(t){var e=jc();return t instanceof Ws&&(e=e.insert(t.key,t)),e})},t.prototype.Vn=function(t,e,n){var r=this,i=e.collectionGroup,o=jc();return this.Gt.getCollectionParents(t,i).next(function(u){return Jl.forEach(u,function(u){var s=function(t,e){return new ya(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,u.child(i));return r.Sn(t,s,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.Sn=function(t,e,n){var r,i,o=this;return this.ze.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o.Tn.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Dn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],u=0,s=o.mutations;u<s.length;u++){var a=s[u],c=a.key,l=oc(a,r.get(c),o.localWriteTime);r=l instanceof Ws?r.insert(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){xa(e,n)||(r=r.remove(t))}),r})},t.prototype.Dn=function(t,e,n){for(var r=Pc(),i=0,o=e;i<o.length;i++)for(var u=0,s=o[i].mutations;u<s.length;u++){var a=s[u];a instanceof lc&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.ze.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Ws&&(c=c.insert(t,e))}),c})},t}(),dh=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Cn=n,this.xn=r}return t.Nn=function(e,n){for(var r=Pc(),i=Pc(),o=0,u=n.docChanges;o<u.length;o++){var s=u[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ph=function(){function t(){}return t.prototype.$n=function(t){this.Fn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Na.min())?this.On(t,e):this.Fn.bn(t,r).next(function(o){var u=i.kn(e,o);return(ba(e)||wa(e))&&i.Mn(e.limitType,u,r,n)?i.On(t,e):(Zu()<=Gn.a.DEBUG&&$u("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Aa(e)),i.Fn.getDocumentsMatchingQuery(t,e,n).next(function(t){return u.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.kn=function(t,e){var n=new Oc(ja(t));return e.forEach(function(e,r){r instanceof Ws&&xa(t,r)&&(n=n.add(r))}),n},t.prototype.Mn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.On=function(t,e){return Zu()<=Gn.a.DEBUG&&$u("QueryEngine","Using full collection scan to execute query:",Aa(e)),this.Fn.getDocumentsMatchingQuery(t,e,Na.min())},t}(),vh=function(){function t(t,e,n,r){this.persistence=t,this.Ln=e,this.D=r,this.Bn=new Ec(as),this.qn=new Xf(function(t){return Zs(t)},$s),this.Un=Na.min(),this.Tn=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.Ge=t.getTargetCache(),this.Kn=new hh(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=t.getBundleCache(),this.Ln.$n(this.Kn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Bn)})},t}();function yh(t,e,n,r){return new vh(t,e,n,r)}function gh(t,e){return Object(Yu.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Yu.d)(this,function(u){switch(u.label){case 0:return n=os(t),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Tn.getAllMutationBatches(t).next(function(u){return o=u,r=n.persistence.getMutationQueue(e),i=new hh(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],u=Pc(),s=0,a=o;s<a.length;s++){var c=a[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++)u=u.add(f[l].key)}for(var h=0,d=e;h<d.length;h++){var p=d[h];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)u=u.add(y[v].key)}return i.bn(t,u).next(function(t){return{Wn:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=u.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),o)]}})})}function mh(t,e){var n=os(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),u=Jl.resolve();return o.forEach(function(t){u=u.next(function(){return r.getEntry(e,t)}).next(function(e){var o=e,u=n.docVersions.get(t);is(null!==u),(!o||o.version.compareTo(u)<0)&&(o=i.applyToRemoteDocument(t,o,n))&&r.addEntry(o,n.commitVersion)})}),u.next(function(){return t.Tn.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}function bh(t){var e=os(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Ge.getLastRemoteSnapshotVersion(t)})}function wh(t,e){var n=os(t),r=e.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var u=[];e.targetChanges.forEach(function(e,o){var s=i.get(o);if(s){u.push(n.Ge.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.Ge.addMatchingKeys(t,e.addedDocuments,o)}));var a=e.resumeToken;if(a.approximateByteSize()>0){var c=s.withResumeToken(a,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return is(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&u.push(n.Ge.updateTargetData(t,c))}}});var s=Cc();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),u.push(_h(t,o,e.documentUpdates,r,void 0).next(function(t){s=t})),!r.isEqual(Na.min())){var a=n.Ge.getLastRemoteSnapshotVersion(t).next(function(e){return n.Ge.setTargetsMetadata(t,t.currentSequenceNumber,r)});u.push(a)}return Jl.waitFor(u).next(function(){return o.apply(t)}).next(function(){return n.Kn.vn(t,s)})}).then(function(t){return n.Bn=i,t})}function _h(t,e,n,r,i){var o=Pc();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Cc();return n.forEach(function(n,u){var s=t.get(n),a=(null==i?void 0:i.get(n))||r;u instanceof Qs&&u.version.isEqual(Na.min())?(e.removeEntry(n,a),o=o.insert(n,u)):null==s||u.version.compareTo(s.version)>0||0===u.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(u,a),o=o.insert(n,u)):$u("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",u.version)}),o})}function Eh(t,e){var n=os(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Tn.getNextMutationBatchAfterBatchId(t,e)})}function kh(t,e){var n=os(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Ge.getTargetData(t,e).next(function(i){return i?Jl.resolve(r=i):n.Ge.allocateTargetId(t).next(function(i){return r=new ff(e,i,0,t.currentSequenceNumber),n.Ge.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Bn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(t.targetId,t),n.qn.set(e,t.targetId)),t})}function Ih(t,e,n){return Object(Yu.b)(this,void 0,void 0,function(){var r,i,o,u;return Object(Yu.d)(this,function(s){switch(s.label){case 0:r=os(t),i=r.Bn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!ef(u=s.sent()))throw u;return $u("LocalStore","Failed to update sequence numbers for target "+e+": "+u),[3,5];case 5:return r.Bn=r.Bn.remove(e),r.qn.delete(i.target),[2]}})})}function Oh(t,e,n){var r=os(t),i=Na.min(),o=Pc();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=os(t),i=r.qn.get(n);return void 0!==i?Jl.resolve(r.Bn.get(i)):r.Ge.getTargetData(e,n)}(r,t,Oa(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.Ln.getDocumentsMatchingQuery(t,e,n?i:Na.min(),n?o:Pc())}).next(function(t){return{documents:t,jn:o}})})}function Th(t,e){var n=os(t),r=os(n.Ge),i=n.Bn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.yt(t,e).next(function(t){return t?t.target:null})})}function Sh(t){var e=os(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=os(t),i=Cc(),o=vf(n),u=nh(e),s=IDBKeyRange.lowerBound(o,!0);return u.qt({index:Ml.readTimeIndex,range:s},function(t,e){var n=df(r.D,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{En:i,readTime:yf(o)}})}(e.Qn,t,e.Un)}).then(function(t){var n=t.En;return e.Un=t.readTime,n})}function Ch(t){return Object(Yu.b)(this,void 0,void 0,function(){var e;return Object(Yu.d)(this,function(n){return[2,(e=os(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=nh(t),n=Na.min();return e.qt({index:Ml.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=yf(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Un=t})]})})}function Ah(t,e,n,r){return Object(Yu.b)(this,void 0,void 0,function(){var i,o,u,s,a,c,l,f,h,d;return Object(Yu.d)(this,function(p){switch(p.label){case 0:for(i=os(t),o=Pc(),u=Cc(),s=Nc(),a=0,c=n;a<c.length;a++)f=e.Gn((l=c[a]).metadata.name),l.document&&(o=o.add(f)),u=u.insert(f,e.zn(l)),s=s.insert(f,e.Hn(l.metadata.readTime));return h=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,kh(i,function(t){return Oa(ma(ws.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return _h(t,h,u,Na.min(),s).next(function(e){return h.apply(t),e}).next(function(e){return i.Ge.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.Ge.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Kn.vn(t,e)})})})]}})})}function xh(t,e,n){return void 0===n&&(n=Pc()),Object(Yu.b)(this,void 0,void 0,function(){var r,i;return Object(Yu.d)(this,function(o){switch(o.label){case 0:return[4,kh(t,Oa(Ef(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=os(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=$c(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.He.saveNamedQuery(t,e);var u=r.withResumeToken(Is.EMPTY_BYTE_STRING,o);return i.Bn=i.Bn.insert(u.targetId,u),i.Ge.updateTargetData(t,u).next(function(){return i.Ge.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.Ge.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.He.saveNamedQuery(t,e)})})]}})})}var jh=function(){function t(t){this.D=t,this.Jn=new Map,this.Yn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Jl.resolve(this.Jn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:$c(n.createTime)}),Jl.resolve()},t.prototype.getNamedQuery=function(t,e){return Jl.resolve(this.Yn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:Ef(t.bundledQuery),readTime:$c(t.readTime)}}(e)),Jl.resolve()},t}(),Dh=function(){function t(){this.Xn=new Oc(Nh.Zn),this.ts=new Oc(Nh.es)}return t.prototype.isEmpty=function(){return this.Xn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Nh(t,e);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},t.prototype.ns=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.ss(new Nh(t,e))},t.prototype.rs=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.os=function(t){var e=this,n=new ks(new ws([])),r=new Nh(n,t),i=new Nh(n,t+1),o=[];return this.ts.forEachInRange([r,i],function(t){e.ss(t),o.push(t.key)}),o},t.prototype.cs=function(){var t=this;this.Xn.forEach(function(e){return t.ss(e)})},t.prototype.ss=function(t){this.Xn=this.Xn.delete(t),this.ts=this.ts.delete(t)},t.prototype.us=function(t){var e=new ks(new ws([])),n=new Nh(e,t),r=new Nh(e,t+1),i=Pc();return this.ts.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Nh(t,0),n=this.Xn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Nh=function(){function t(t,e){this.key=t,this.hs=e}return t.Zn=function(t,e){return ks.comparator(t.key,e.key)||as(t.hs,e.hs)},t.es=function(t,e){return as(t.hs,e.hs)||ks.comparator(t.key,e.key)},t}(),Rh=function(){function t(t,e){this.Gt=t,this.referenceDelegate=e,this.Tn=[],this.ls=1,this.fs=new Oc(Nh.Zn)}return t.prototype.checkEmpty=function(t){return Jl.resolve(0===this.Tn.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ls;this.ls++;var o=new cf(i,e,n,r);this.Tn.push(o);for(var u=0,s=r;u<s.length;u++){var a=s[u];this.fs=this.fs.add(new Nh(a.key,i)),this.Gt.addToCollectionParentIndex(t,a.key.path.popLast())}return Jl.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Jl.resolve(this.ds(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.ws(e+1),r=n<0?0:n;return Jl.resolve(this.Tn.length>r?this.Tn[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Jl.resolve(0===this.Tn.length?-1:this.ls-1)},t.prototype.getAllMutationBatches=function(t){return Jl.resolve(this.Tn.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Nh(e,0),i=new Nh(e,Number.POSITIVE_INFINITY),o=[];return this.fs.forEachInRange([r,i],function(t){var e=n.ds(t.hs);o.push(e)}),Jl.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Oc(as);return e.forEach(function(t){var e=new Nh(t,0),i=new Nh(t,Number.POSITIVE_INFINITY);n.fs.forEachInRange([e,i],function(t){r=r.add(t.hs)})}),Jl.resolve(this._s(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ks.isDocumentKey(i)||(i=i.child(""));var o=new Nh(new ks(i),0),u=new Oc(as);return this.fs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(u=u.add(t.hs)),!0)},o),Jl.resolve(this._s(u))},t.prototype._s=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.ds(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;is(0===this.ys(e.batchId,"removed")),this.Tn.shift();var r=this.fs;return Jl.forEach(e.mutations,function(i){var o=new Nh(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.fs=r})},t.prototype.Xt=function(t){},t.prototype.containsKey=function(t,e){var n=new Nh(e,0),r=this.fs.firstAfterOrEqual(n);return Jl.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Jl.resolve()},t.prototype.ys=function(t,e){return this.ws(t)},t.prototype.ws=function(t){return 0===this.Tn.length?0:t-this.Tn[0].batchId},t.prototype.ds=function(t){var e=this.ws(t);return e<0||e>=this.Tn.length?null:this.Tn[e]},t}(),Ph=function(){function t(t,e){this.Gt=t,this.gs=e,this.docs=new Ec(ks.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,u=this.gs(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:u,readTime:n}),this.size+=u-o,this.Gt.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Jl.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ac();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),Jl.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=jc(),i=new ks(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var u=o.getNext(),s=u.value,a=s.maybeDocument,c=s.readTime;if(!e.path.isPrefixOf(u.key.path))break;c.compareTo(n)<=0||a instanceof Ws&&xa(e,a)&&(r=r.insert(a.key,a))}return Jl.resolve(r)},t.prototype.ps=function(t,e){return Jl.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Lh(this)},t.prototype.getSize=function(t){return Jl.resolve(this.size)},t}(),Lh=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ve=e,n}return Object(Yu.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i&&i.maybeDocument?n.push(e.Ve.addEntry(t,i.maybeDocument,e.getReadTime(r))):e.Ve.removeEntry(r)}),Jl.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ve.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ve.getEntries(t,e)},e}(Zf),Mh=function(){function t(t){this.persistence=t,this.Es=new Xf(function(t){return Zs(t)},$s),this.lastRemoteSnapshotVersion=Na.min(),this.highestTargetId=0,this.Ts=0,this.Is=new Dh,this.targetCount=0,this.As=Vf.ee()}return t.prototype.forEachTarget=function(t,e){return this.Es.forEach(function(t,n){return e(n)}),Jl.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Jl.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Jl.resolve(this.Ts)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.As.next(),Jl.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ts&&(this.Ts=e),Jl.resolve()},t.prototype.re=function(t){this.Es.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.As=new Vf(e),this.highestTargetId=e),t.sequenceNumber>this.Ts&&(this.Ts=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.re(e),this.targetCount+=1,Jl.resolve()},t.prototype.updateTargetData=function(t,e){return this.re(e),Jl.resolve()},t.prototype.removeTargetData=function(t,e){return this.Es.delete(e.target),this.Is.os(e.targetId),this.targetCount-=1,Jl.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.Es.forEach(function(u,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.Es.delete(u),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),Jl.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Jl.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.Es.get(e)||null;return Jl.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.Is.ns(e,n),Jl.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this.Is.rs(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Jl.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.Is.os(e),Jl.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.Is.us(e);return Jl.resolve(n)},t.prototype.containsKey=function(t,e){return Jl.resolve(this.Is.containsKey(e))},t}(),Fh=function(){function t(t,e){var n=this;this.Rs={},this.Me=new Ju(0),this.Le=!1,this.Le=!0,this.referenceDelegate=t(this),this.Ge=new Mh(this),this.Gt=new Tf,this.ze=function(t,e){return new Ph(t,function(t){return n.referenceDelegate.bs(t)})}(this.Gt),this.D=new hf(e),this.He=new jh(this.D)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getMutationQueue=function(t){var e=this.Rs[t.toKey()];return e||(e=new Rh(this.Gt,this.referenceDelegate),this.Rs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r=this;$u("MemoryPersistence","Starting transaction:",t);var i=new Vh(this.Me.next());return this.referenceDelegate.vs(),n(i).next(function(t){return r.referenceDelegate.Ps(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Vs=function(t,e){return Jl.or(Object.values(this.Rs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Vh=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Yu.c)(e,t),e}(Ql),qh=function(){function t(t){this.persistence=t,this.Ss=new Dh,this.Ds=null}return t.Cs=function(e){return new t(e)},Object.defineProperty(t.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw rs()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.Ss.addReference(n,e),this.xs.delete(n.toString()),Jl.resolve()},t.prototype.removeReference=function(t,e,n){return this.Ss.removeReference(n,e),this.xs.add(n.toString()),Jl.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.xs.add(e.toString()),Jl.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Ss.os(e.targetId).forEach(function(t){return n.xs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.xs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.vs=function(){this.Ds=new Set},t.prototype.Ps=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Jl.forEach(this.xs,function(r){var i=ks.fromPath(r);return e.Ns(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Ds=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ns(t,e).next(function(t){t?n.xs.delete(e.toString()):n.xs.add(e.toString())})},t.prototype.bs=function(t){return 0},t.prototype.Ns=function(t,e){var n=this;return Jl.or([function(){return Jl.resolve(n.Ss.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Vs(t,e)}])},t}(),Uh=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Bh(t,e){return"firestore_clients_"+t+"_"+e}function Hh(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function zh(t,e){return"firestore_targets_"+t+"_"+e}Uh.UNAUTHENTICATED=new Uh(null),Uh.GOOGLE_CREDENTIALS=new Uh("google-credentials-uid"),Uh.FIRST_PARTY=new Uh("first-party-uid");var Gh=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.$s=function(e,n,r){var i,o=JSON.parse(r),u="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return u&&o.error&&(u="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new ms(o.error.code,o.error.message)),u?new t(e,n,o.state,i):(ts("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Kh=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.$s=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ms(i.error.code,i.error.message)),o?new t(e,i.state,r):(ts("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Wh=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.$s=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Mc(),u=0;i&&u<r.activeTargetIds.length;++u)i=ys(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new t(e,o):(ts("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Qh=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.$s=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ts("SharedClientState","Failed to parse online state: "+e),null)},t}(),Yh=function(){function t(){this.activeTargetIds=Mc()}return t.prototype.Os=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ks=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fs=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Jh=function(){function t(t,e,n,r,i){this.window=t,this.Fe=e,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new Ec(as),this.started=!1,this.Us=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=Bh(this.persistenceKey,this.Ms),this.Ks=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new Yh),this.Ws=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.zs=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Hs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return t.At=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Yu.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,u,s,a,c,l=this;return Object(Yu.d)(this,function(f){switch(f.label){case 0:return[4,this.syncEngine.gn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ms&&(i=this.getItem(Bh(this.persistenceKey,r)))&&(o=Wh.$s(r,i))&&(this.qs=this.qs.insert(o.clientId,o));for(this.Js(),(u=this.storage.getItem(this.zs))&&(s=this.Ys(u))&&this.Xs(s),a=0,c=this.Us;a<c.length;a++)this.Bs(c[a]);return this.Us=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ks,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.qs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.ti(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.ti(t,e,n),this.ei(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(zh(this.persistenceKey,t));if(n){var r=Kh.$s(t,n);r&&(e=r.state)}}return this.ni.Os(t),this.Js(),e},t.prototype.removeLocalQueryTarget=function(t){this.ni.ks(t),this.Js()},t.prototype.isLocalQueryTarget=function(t){return this.ni.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(zh(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.si(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.ei(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.ii(t)},t.prototype.notifyBundleLoaded=function(){this.ri()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return $u("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){$u("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){$u("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Bs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if($u("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void ts("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable(function(){return Object(Yu.b)(e,void 0,void 0,function(){var t,e,r,i,o,u;return Object(Yu.d)(this,function(s){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return t=this.oi(n.key),[2,this.ci(t,null)];if(e=this.ai(n.key,n.newValue))return[2,this.ci(e.clientId,e)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(o=this.Ys(n.newValue)))return[2,this.Xs(o)]}else if(n.key===this.Ks)(u=function(t){var e=Ju.o;if(null!=t)try{var n=JSON.parse(t);is("number"==typeof n),e=n}catch(t){ts("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ju.o&&this.sequenceNumberHandler(u);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),t.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},t.prototype.ti=function(t,e,n){var r=new Gh(this.currentUser,t,e,n),i=Hh(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Fs())},t.prototype.ei=function(t){var e=Hh(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ii=function(t){this.storage.setItem(this.zs,JSON.stringify({clientId:this.Ms,onlineState:t}))},t.prototype.si=function(t,e,n){var r=zh(this.persistenceKey,t),i=new Kh(t,e,n);this.setItem(r,i.Fs())},t.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},t.prototype.oi=function(t){var e=this.Ws.exec(t);return e?e[1]:null},t.prototype.ai=function(t,e){var n=this.oi(t);return Wh.$s(n,e)},t.prototype.ui=function(t,e){var n=this.js.exec(t),r=Number(n[1]);return Gh.$s(new Uh(void 0!==n[2]?n[2]:null),r,e)},t.prototype.li=function(t,e){var n=this.Gs.exec(t),r=Number(n[1]);return Kh.$s(r,e)},t.prototype.Ys=function(t){return Qh.$s(t)},t.prototype.hi=function(t){return Object(Yu.b)(this,void 0,void 0,function(){return Object(Yu.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(t.batchId,t.state,t.error)]:($u("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.fi=function(t){return this.syncEngine._i(t.targetId,t.state,t.error)},t.prototype.ci=function(t,e){var n=this,r=e?this.qs.insert(t,e):this.qs.remove(t),i=this.Zs(this.qs),o=this.Zs(r),u=[],s=[];return o.forEach(function(t){i.has(t)||u.push(t)}),i.forEach(function(t){o.has(t)||s.push(t)}),this.syncEngine.mi(u,s).then(function(){n.qs=r})},t.prototype.Xs=function(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Zs=function(t){var e=Mc();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Xh=function(){function t(){this.yi=new Yh,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.yi.Os(t),this.gi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.gi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.yi.ks(t)},t.prototype.isLocalQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.gi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.start=function(){return this.yi=new Yh,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Zh=function(){function t(){}return t.prototype.pi=function(t){},t.prototype.shutdown=function(){},t}(),$h=function(){function t(){var t=this;this.Ei=function(){return t.Ti()},this.Ii=function(){return t.Ai()},this.Ri=[],this.bi()}return t.prototype.pi=function(t){this.Ri.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},t.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},t.prototype.Ti=function(){$u("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(0)},t.prototype.Ai=function(){$u("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(1)},t.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),td={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ed=function(){function t(t){this.vi=t.vi,this.Pi=t.Pi}return t.prototype.Vi=function(t){this.Si=t},t.prototype.Di=function(t){this.Ci=t},t.prototype.onMessage=function(t){this.xi=t},t.prototype.close=function(){this.Pi()},t.prototype.send=function(t){this.vi(t)},t.prototype.Ni=function(){this.Si()},t.prototype.$i=function(t){this.Ci(t)},t.prototype.Fi=function(t){this.xi(t)},t}(),nd=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(Yu.c)(e,t),e.prototype.qi=function(t,e,n,r){return new Promise(function(i,o){var u=new Qu;u.listenOnce(Gu.COMPLETE,function(){try{switch(u.getLastErrorCode()){case zu.NO_ERROR:var e=u.getResponseJson();$u("Connection","XHR received:",JSON.stringify(e)),i(e);break;case zu.TIMEOUT:$u("Connection",'RPC "'+t+'" timed out'),o(new ms(gs.DEADLINE_EXCEEDED,"Request time out"));break;case zu.HTTP_ERROR:var n=u.getStatus();if($u("Connection",'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(gs).indexOf(e)>=0?e:gs.UNKNOWN}(r.status);o(new ms(s,r.message))}else o(new ms(gs.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new ms(gs.UNAVAILABLE,"Connection failed."));break;default:rs()}}finally{$u("Connection",'RPC "'+t+'" completed.')}});var s=JSON.stringify(r);u.send(e,"POST",s,n,15)})},e.prototype.Qi=function(t,e){var n=[this.Oi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Vu,i=Ui(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(o.initMessageHeaders,e),Object(Kn.l)()||Object(Kn.n)()||Object(Kn.j)()||Object(Kn.k)()||Object(Kn.o)()||Object(Kn.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=n.join("");$u("Connection","Creating WebChannel: "+u,o);var s=r.createWebChannel(u,o),a=!1,c=!1,l=new ed({vi:function(t){c?$u("Connection","Not sending because WebChannel is closed:",t):(a||($u("Connection","Opening WebChannel transport."),s.open(),a=!0),$u("Connection","WebChannel sending:",t),s.send(t))},Pi:function(){return s.close()}}),f=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return f(s,Wu.EventType.OPEN,function(){c||$u("Connection","WebChannel transport opened.")}),f(s,Wu.EventType.CLOSE,function(){c||(c=!0,$u("Connection","WebChannel transport closed"),l.$i())}),f(s,Wu.EventType.ERROR,function(t){c||(c=!0,es("Connection","WebChannel transport errored:",t),l.$i(new ms(gs.UNAVAILABLE,"The operation could not be completed")))}),f(s,Wu.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];is(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){$u("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=vc[t];if(void 0!==e)return _c(e)}(i),u=r.message;void 0===o&&(o=gs.INTERNAL,u="Unknown error status: "+i+" with message "+r.message),c=!0,l.$i(new ms(o,u)),s.close()}else $u("Connection","WebChannel received:",n),l.Fi(n)}}),f(i,Ku.STAT_EVENT,function(t){10===t.stat?$u("Connection","Detected buffering proxy"):11===t.stat&&$u("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ni()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Oi=(t.ssl?"https":"http")+"://"+t.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Mi=function(t,e,n,r){var i=this.Li(t,e);$u("RestConnection","Sending: ",i,n);var o={};return this.Bi(o,r),this.qi(t,i,o,n).then(function(t){return $u("RestConnection","Received: ",t),t},function(e){throw es("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Ui=function(t,e,n,r){return this.Mi(t,e,n,r)},t.prototype.Bi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.Li=function(t,e){return this.Oi+"/v1/"+e+":"+td[t]},t}());function rd(){return"undefined"!=typeof window?window:null}function id(){return"undefined"!=typeof document?document:null}function od(t){return new Yc(t,!0)}var ud=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=t,this.timerId=e,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return t.prototype.reset=function(){this.Gi=0},t.prototype.Ji=function(){this.Gi=this.ji},t.prototype.Yi=function(t){var e=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&$u("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,function(){return e.Hi=Date.now(),t()}),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},t.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},t.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},t.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},t}(),sd=function(){function t(t,e,n,r,i,o){this.Fe=t,this.tr=n,this.er=r,this.nr=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new ud(t,e)}return t.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ar=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ur()},t.prototype.stop=function(){return Object(Yu.b)(this,void 0,void 0,function(){return Object(Yu.d)(this,function(t){switch(t.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.hr=function(){this.state=0,this.rr.reset()},t.prototype.lr=function(){var t=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,function(){return t.dr()}))},t.prototype.wr=function(t){this._r(),this.stream.send(t)},t.prototype.dr=function(){return Object(Yu.b)(this,void 0,void 0,function(){return Object(Yu.d)(this,function(t){return this.ar()?[2,this.close(0)]:[2]})})},t.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},t.prototype.close=function(t,e){return Object(Yu.b)(this,void 0,void 0,function(){return Object(Yu.d)(this,function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():e&&e.code===gs.RESOURCE_EXHAUSTED?(ts(e.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):e&&e.code===gs.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Di(e)];case 1:return n.sent(),[2]}})})},t.prototype.mr=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.yr(this.sr),n=this.sr;this.nr.getToken().then(function(e){t.sr===n&&t.gr(e)},function(n){e(function(){var e=new ms(gs.UNKNOWN,"Fetching auth token failed: "+n.message);return t.pr(e)})})},t.prototype.gr=function(t){var e=this,n=this.yr(this.sr);this.stream=this.Er(t),this.stream.Vi(function(){n(function(){return e.state=2,e.listener.Vi()})}),this.stream.Di(function(t){n(function(){return e.pr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.ur=function(){var t=this;this.state=4,this.rr.Yi(function(){return Object(Yu.b)(t,void 0,void 0,function(){return Object(Yu.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.pr=function(t){return $u("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.yr=function(t){var e=this;return function(n){e.Fe.enqueueAndForget(function(){return e.sr===t?n():($u("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),ad=function(t){function e(e,n,r,i,o){var u=this;return(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).D=i,u}return Object(Yu.c)(e,t),e.prototype.Er=function(t){return this.er.Qi("Listen",t)},e.prototype.onMessage=function(t){this.rr.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:rs()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.V?(is(void 0===e||"string"==typeof e),Is.fromBase64String(e||"")):(is(void 0===e||e instanceof Uint8Array),Is.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),u=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?gs.UNKNOWN:_c(t.code);return new ms(e,t.message||"")}(s);n=new Bc(r,i,o,u||null)}else if("documentChange"in e){i=rl(t,(r=e.documentChange).document.name),o=$c(r.document.updateTime);var s=new Pa({mapValue:{fields:r.document.fields}}),a=(u=new Ws(i,o,s,{}),r.targetIds||[]);n=new qc(a,r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e)i=rl(t,(r=e.documentDelete).document),o=r.readTime?$c(r.readTime):Na.min(),s=new Qs(i,o),n=new qc([],u=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=rl(t,(r=e.documentRemove).document),n=new qc([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return rs();var c=e.filter;i=new bc(r=c.count||0),n=new Uc(o=c.targetId,i)}return n}(this.D,t),n=function(t){if(!("targetChange"in t))return Na.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Na.min():e.readTime?$c(e.readTime):Na.min()}(t);return this.listener.Tr(e,n)},e.prototype.Ir=function(t){var e={};e.database=ul(this.D),e.addTarget=function(t,e){var n,r=e.target;return(n=ta(r)?{documents:hl(t,r)}:{query:dl(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Xc(t,e.resumeToken):e.snapshotVersion.compareTo(Na.min())>0&&(n.readTime=Jc(t,e.snapshotVersion.toTimestamp())),n}(this.D,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rs()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.wr(e)},e.prototype.Ar=function(t){var e={};e.database=ul(this.D),e.removeTarget=t,this.wr(e)},e}(sd),cd=function(t){function e(e,n,r,i,o){var u=this;return(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).D=i,u.Rr=!1,u}return Object(Yu.c)(e,t),Object.defineProperty(e.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mr=function(){this.Rr&&this.vr([])},e.prototype.Er=function(t){return this.er.Qi("Write",t)},e.prototype.onMessage=function(t){if(is(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();var e=function(t,e){return t&&t.length>0?(is(void 0!==e),t.map(function(t){return function(t,e){var n=$c(t.updateTime?t.updateTime:e);return n.isEqual(Na.min())&&(n=$c(e)),new tc(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=$c(t.commitTime);return this.listener.Pr(n,e)}return is(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()},e.prototype.Sr=function(){var t={};t.database=ul(this.D),this.wr(t)},e.prototype.vr=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return ll(e.D,t)})};this.wr(n)},e}(sd),ld=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.er=n,i.D=r,i.Dr=!1,i}return Object(Yu.c)(e,t),e.prototype.Cr=function(){if(this.Dr)throw new ms(gs.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mi=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Mi(t,e,n,i)}).catch(function(t){throw t.code===gs.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Ui=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Ui(t,e,n,i)}).catch(function(t){throw t.code===gs.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Dr=!1},e}(function(){}),fd=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return t.prototype.Or=function(){var t=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.$r=null,t.Mr("Backend didn't respond within 10 seconds."),t.kr("Offline"),Promise.resolve()}))},t.prototype.Lr=function(t){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+t.toString()),this.kr("Offline")))},t.prototype.set=function(t){this.Br(),this.Nr=0,"Online"===t&&(this.Fr=!1),this.kr(t)},t.prototype.kr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Mr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(ts(e),this.Fr=!1):$u("OnlineStateTracker",e)},t.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},t}(),hd=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi(function(t){n.enqueueAndForget(function(){return Object(Yu.b)(o,void 0,void 0,function(){return Object(Yu.d)(this,function(t){switch(t.label){case 0:return _d(this)?($u("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Yu.b)(this,void 0,void 0,function(){var e;return Object(Yu.d)(this,function(n){switch(n.label){case 0:return(e=os(t)).Qr.add(4),[4,pd(e)];case 1:return n.sent(),e.jr.set("Unknown"),e.Qr.delete(4),[4,dd(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.jr=new fd(n,r)};function dd(t){return Object(Yu.b)(this,void 0,void 0,function(){var e,n;return Object(Yu.d)(this,function(r){switch(r.label){case 0:if(!_d(t))return[3,4];e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function pd(t){return Object(Yu.b)(this,void 0,void 0,function(){var e,n;return Object(Yu.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function vd(t,e){var n=os(t);n.Ur.has(e.targetId)||(n.Ur.set(e.targetId,e),wd(n)?bd(n):Ld(n).ar()&&gd(n,e))}function yd(t,e){var n=os(t),r=Ld(n);n.Ur.delete(e),r.ar()&&md(n,e),0===n.Ur.size&&(r.ar()?r.lr():_d(n)&&n.jr.set("Unknown"))}function gd(t,e){t.Gr.H(e.targetId),Ld(t).Ir(e)}function md(t,e){t.Gr.H(e),Ld(t).Ar(e)}function bd(t){t.Gr=new zc({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},yt:function(e){return t.Ur.get(e)||null}}),Ld(t).start(),t.jr.Or()}function wd(t){return _d(t)&&!Ld(t).cr()&&t.Ur.size>0}function _d(t){return 0===os(t).Qr.size}function Ed(t){t.Gr=void 0}function kd(t){return Object(Yu.b)(this,void 0,void 0,function(){return Object(Yu.d)(this,function(e){return t.Ur.forEach(function(e,n){gd(t,e)}),[2]})})}function Id(t,e){return Object(Yu.b)(this,void 0,void 0,function(){return Object(Yu.d)(this,function(n){return Ed(t),wd(t)?(t.jr.Lr(e),bd(t)):t.jr.set("Unknown"),[2]})})}function Od(t,e,n){return Object(Yu.b)(this,void 0,void 0,function(){var r,i,o;return Object(Yu.d)(this,function(u){switch(u.label){case 0:if(t.jr.set("Online"),!(e instanceof Bc&&2===e.state&&e.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(t,e){return Object(Yu.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Yu.d)(this,function(u){switch(u.label){case 0:n=e.cause,r=0,i=e.targetIds,u.label=1;case 1:return r<i.length?t.Ur.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:u.sent(),t.Ur.delete(o),t.Gr.removeTarget(o),u.label=3;case 3:u.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),$u("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Td(t,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof qc?t.Gr.st(e):e instanceof Uc?t.Gr.ht(e):t.Gr.ot(e),n.isEqual(Na.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,bh(t.localStore)];case 8:return i=u.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.Gr.dt(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Ur.get(r);i&&t.Ur.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Ur.get(e);if(n){t.Ur.set(e,n.withResumeToken(Is.EMPTY_BYTE_STRING,n.snapshotVersion)),md(t,e);var r=new ff(n.target,e,1,n.sequenceNumber);gd(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return $u("RemoteStore","Failed to raise snapshot:",o=u.sent()),[4,Td(t,o)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function Td(t,e,n){return Object(Yu.b)(this,void 0,void 0,function(){var r=this;return Object(Yu.d)(this,function(i){switch(i.label){case 0:if(!ef(e))throw e;return t.Qr.add(1),[4,pd(t)];case 1:return i.sent(),t.jr.set("Offline"),n||(n=function(){return bh(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Yu.b)(r,void 0,void 0,function(){return Object(Yu.d)(this,function(e){switch(e.label){case 0:return $u("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Qr.delete(1),[4,dd(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Sd(t,e){return e().catch(function(n){return Td(t,n,e)})}function Cd(t){return Object(Yu.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Yu.d)(this,function(u){switch(u.label){case 0:e=os(t),n=Md(e),r=e.qr.length>0?e.qr[e.qr.length-1].batchId:-1,u.label=1;case 1:if(!function(t){return _d(t)&&t.qr.length<10}(e))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,Eh(e.localStore,r)];case 3:return null===(i=u.sent())?(0===e.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(t,e){t.qr.push(e);var n=Md(t);n.ar()&&n.br&&n.vr(e.mutations)}(e,i),[3,6]);case 4:return o=u.sent(),[4,Td(e,o)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return Ad(e)&&xd(e),[2]}})})}function Ad(t){return _d(t)&&!Md(t).cr()&&t.qr.length>0}function xd(t){Md(t).start()}function jd(t){return Object(Yu.b)(this,void 0,void 0,function(){return Object(Yu.d)(this,function(e){return Md(t).Sr(),[2]})})}function Dd(t){return Object(Yu.b)(this,void 0,void 0,function(){var e,n,r;return Object(Yu.d)(this,function(i){for(e=Md(t),n=0,r=t.qr;n<r.length;n++)e.vr(r[n].mutations);return[2]})})}function Nd(t,e,n){return Object(Yu.b)(this,void 0,void 0,function(){var r,i;return Object(Yu.d)(this,function(o){switch(o.label){case 0:return r=t.qr.shift(),i=lf.from(r,e,n),[4,Sd(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Cd(t)];case 2:return o.sent(),[2]}})})}function Rd(t,e){return Object(Yu.b)(this,void 0,void 0,function(){return Object(Yu.d)(this,function(n){switch(n.label){case 0:return e&&Md(t).br?[4,function(t,e){return Object(Yu.b)(this,void 0,void 0,function(){var n,r;return Object(Yu.d)(this,function(i){switch(i.label){case 0:return wc(r=e.code)&&r!==gs.ABORTED?(n=t.qr.shift(),Md(t).hr(),[4,Sd(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Cd(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Ad(t)&&xd(t),[2]}})})}function Pd(t,e){return Object(Yu.b)(this,void 0,void 0,function(){var n;return Object(Yu.d)(this,function(r){switch(r.label){case 0:return n=os(t),e?(n.Qr.delete(2),[4,dd(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Qr.add(2),[4,pd(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Ld(t){var e=this;return t.zr||(t.zr=function(t,e,n){var r=os(t);return r.Cr(),new ad(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:kd.bind(null,t),Di:Id.bind(null,t),Tr:Od.bind(null,t)}),t.Kr.push(function(n){return Object(Yu.b)(e,void 0,void 0,function(){return Object(Yu.d)(this,function(e){switch(e.label){case 0:return n?(t.zr.hr(),wd(t)?bd(t):t.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.zr.stop()];case 2:e.sent(),Ed(t),e.label=3;case 3:return[2]}})})})),t.zr}function Md(t){var e=this;return t.Hr||(t.Hr=function(t,e,n){var r=os(t);return r.Cr(),new cd(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:jd.bind(null,t),Di:Rd.bind(null,t),Vr:Dd.bind(null,t),Pr:Nd.bind(null,t)}),t.Kr.push(function(n){return Object(Yu.b)(e,void 0,void 0,function(){return Object(Yu.d)(this,function(e){switch(e.label){case 0:return n?(t.Hr.hr(),[4,Cd(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Hr.stop()];case 3:e.sent(),t.qr.length>0&&($u("RemoteStore","Stopping write stream with "+t.qr.length+" pending writes"),t.qr=[]),e.label=4;case 4:return[2]}})})})),t.Hr}var Fd=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Yl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var u=new t(e,n,Date.now()+r,i,o);return u.start(r),u},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ms(gs.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Vd(t,e){if(ts("AsyncQueue",e+": "+t),ef(t))return new ms(gs.UNAVAILABLE,e+": "+t);throw t}var qd=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ks.comparator(e.key,n.key)}:function(t,e){return ks.comparator(t.key,e.key)},this.keyedMap=jc(),this.sortedSet=new Ec(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Ud=function(){function t(){this.Jr=new Ec(ks.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):rs():this.Jr=this.Jr.insert(e,t)},t.prototype.Yr=function(){var t=[];return this.Jr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Bd=function(){function t(t,e,n,r,i,o,u,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,qd.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sa(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Hd=function(){this.Xr=void 0,this.listeners=[]},zd=function(){this.queries=new Xf(function(t){return Ca(t)},Sa),this.onlineState="Unknown",this.Zr=new Set};function Gd(t,e){return Object(Yu.b)(this,void 0,void 0,function(){var n,r,i,o,u,s,a;return Object(Yu.d)(this,function(c){switch(c.label){case 0:if(n=os(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Hd),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),u=o,[4,n.onListen(r)];case 2:return u.Xr=c.sent(),[3,4];case 3:return s=c.sent(),a=Vd(s,"Initialization of query '"+Aa(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.eo(n.onlineState),o.Xr&&e.no(o.Xr)&&Yd(n),[2]}})})}function Kd(t,e){return Object(Yu.b)(this,void 0,void 0,function(){var n,r,i,o,u;return Object(Yu.d)(this,function(s){return n=os(t),i=!1,(o=n.queries.get(r=e.query))&&(u=o.listeners.indexOf(e))>=0&&(o.listeners.splice(u,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Wd(t,e){for(var n=os(t),r=!1,i=0,o=e;i<o.length;i++){var u=o[i],s=n.queries.get(u.query);if(s){for(var a=0,c=s.listeners;a<c.length;a++)c[a].no(u)&&(r=!0);s.Xr=u}}r&&Yd(n)}function Qd(t,e,n){var r=os(t),i=r.queries.get(e);if(i)for(var o=0,u=i.listeners;o<u.length;o++)u[o].onError(n);r.queries.delete(e)}function Yd(t){t.Zr.forEach(function(t){t.next()})}var Jd=function(){function t(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.no=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Bd(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.io?this.oo(t)&&(this.so.next(t),o=!0):this.co(t,this.onlineState)&&(this.ao(t),o=!0),this.ro=t,o},t.prototype.onError=function(t){this.so.error(t)},t.prototype.eo=function(t){this.onlineState=t;var e=!1;return this.ro&&!this.io&&this.co(this.ro,t)&&(this.ao(this.ro),e=!0),e},t.prototype.co=function(t,e){return!t.fromCache||!(this.options.uo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.oo=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ao=function(t){t=Bd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)},t}(),Xd=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.ho=function(){return"metadata"in this.payload},t}(),Zd=function(){function t(t){this.D=t}return t.prototype.Gn=function(t){return rl(this.D,t)},t.prototype.zn=function(t){return t.metadata.exists?cl(this.D,t.document,!1):new Qs(this.Gn(t.metadata.name),this.Hn(t.metadata.readTime))},t.prototype.Hn=function(t){return $c(t)},t}();!function(){function t(t,e,n){this.lo=t,this.localStore=e,this.D=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.fo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.wo=function(t){for(var e=new Map,n=new Zd(this.D),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var u=n.Gn(o.metadata.name),s=0,a=o.metadata.queries;s<a.length;s++){var c=a[s],l=(e.get(c)||Pc()).add(u);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Yu.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Yu.d)(this,function(o){switch(o.label){case 0:return[4,Ah(this.localStore,new Zd(this.D),this.documents,this.lo.id)];case 1:t=o.sent(),e=this.wo(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,xh(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new fh(Object.assign({},this.progress),t))]}})})}}();var $d=function(t){this.key=t},tp=function(t){this.key=t},ep=function(){function t(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=Pc(),this.mutatedKeys=Pc(),this.po=ja(t),this.Eo=new qd(this.po)}return Object.defineProperty(t.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),t.prototype.Io=function(t,e){var n=this,r=e?e.Ao:new Ud,i=e?e.Eo:this.Eo,o=e?e.mutatedKeys:this.mutatedKeys,u=i,s=!1,a=ba(this.query)&&i.size===this.query.limit?i.last():null,c=wa(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),f=e instanceof Ws?e:null;f&&(f=xa(n.query,f)?f:null);var h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data().isEqual(f.data())?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ro(l,f)||(r.track({type:2,doc:f}),p=!0,(a&&n.po(f,a)>0||c&&n.po(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(a||c)&&(s=!0)),p&&(f?(u=u.add(f),o=d?o.add(t):o.delete(t)):(u=u.delete(t),o=o.delete(t)))}),ba(this.query)||wa(this.query))for(;u.size>this.query.limit;){var l=ba(this.query)?u.last():u.first();u=u.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Eo:u,Ao:r,Mn:s,mutatedKeys:o}},t.prototype.Ro=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;var o=t.Ao.Yr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rs()}};return n(t)-n(e)}(t.type,e.type)||r.po(t.doc,e.doc)}),this.bo(n);var u=e?this.vo():[],s=0===this.yo.size&&this.current?1:0,a=s!==this.mo;return this.mo=s,0!==o.length||a?{snapshot:new Bd(this.query,t.Eo,i,o,t.mutatedKeys,0===s,a,!1),Po:u}:{Po:u}},t.prototype.eo=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Ud,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},t.prototype.Vo=function(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations},t.prototype.bo=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._o=e._o.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e._o=e._o.delete(t)}),this.current=t.current)},t.prototype.vo=function(){var t=this;if(!this.current)return[];var e=this.yo;this.yo=Pc(),this.Eo.forEach(function(e){t.Vo(e.key)&&(t.yo=t.yo.add(e.key))});var n=[];return e.forEach(function(e){t.yo.has(e)||n.push(new tp(e))}),this.yo.forEach(function(t){e.has(t)||n.push(new $d(t))}),n},t.prototype.So=function(t){this._o=t.jn,this.yo=Pc();var e=this.Io(t.documents);return this.applyChanges(e,!0)},t.prototype.Do=function(){return Bd.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},t}(),np=function(t,e,n){this.query=t,this.targetId=e,this.view=n},rp=function(t){this.key=t,this.Co=!1},ip=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.xo={},this.No=new Xf(function(t){return Ca(t)},Sa),this.$o=new Map,this.Fo=new Set,this.Oo=new Ec(ks.comparator),this.ko=new Map,this.Mo=new Dh,this.Lo={},this.Bo=new Map,this.qo=Vf.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),t}();function op(t,e){return Object(Yu.b)(this,void 0,void 0,function(){var n,r,i,o,u;return Object(Yu.d)(this,function(s){switch(s.label){case 0:return n=Rp(t),(i=n.No.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Do(),[3,4]):[3,1];case 1:return[4,kh(n.localStore,Oa(e))];case 2:return o=s.sent(),u=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,up(n,e,o.targetId,"current"===u)];case 3:r=s.sent(),n.isPrimaryClient&&vd(n.remoteStore,o),s.label=4;case 4:return[2,r]}})})}function up(t,e,n,r){return Object(Yu.b)(this,void 0,void 0,function(){var i,o,u,s,a,c;return Object(Yu.d)(this,function(l){switch(l.label){case 0:return t.Qo=function(e,n,r){return function(t,e,n,r){return Object(Yu.b)(this,void 0,void 0,function(){var i,o,u;return Object(Yu.d)(this,function(s){switch(s.label){case 0:return(i=e.view.Io(n)).Mn?[4,Oh(t.localStore,e.query,!1).then(function(t){return e.view.Io(t.documents,i)})]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),u=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(bp(t,e.targetId,u.Po),u.snapshot)]}})})}(t,e,n,r)},[4,Oh(t.localStore,e,!0)];case 1:return i=l.sent(),o=new ep(e,i.jn),u=o.Io(i.documents),s=Vc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),a=o.applyChanges(u,t.isPrimaryClient,s),bp(t,n,a.Po),c=new np(e,n,o),[2,(t.No.set(e,c),t.$o.has(n)?t.$o.get(n).push(e):t.$o.set(n,[e]),a.snapshot)]}})})}function sp(t,e){return Object(Yu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Yu.d)(this,function(o){switch(o.label){case 0:return n=os(t),r=n.No.get(e),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter(function(t){return!Sa(t,e)})),void n.No.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ih(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),yd(n.remoteStore,r.targetId),gp(n,r.targetId)}).catch(zf)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return gp(n,r.targetId),[4,Ih(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function ap(t,e,n){return Object(Yu.b)(this,void 0,void 0,function(){var r,i,o,u;return Object(Yu.d)(this,function(s){switch(s.label){case 0:r=Pp(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=os(t),i=As.now(),o=e.reduce(function(t,e){return t.add(e.key)},Pc());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Kn.bn(t,o).next(function(o){n=o;for(var u=[],s=0,a=e;s<a.length;s++){var c=a[s],l=uc(c,n.get(c.key));null!=l&&u.push(new lc(c.key,l,Ma(l.proto.mapValue),ec.exists(!0)))}return r.Tn.addMutationBatch(t,i,u,e)})}).then(function(t){var e=t.applyToLocalDocumentSet(n);return{batchId:t.batchId,changes:e}})}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.Lo[t.currentUser.toKey()];r||(r=new Ec(as)),r=r.insert(e,n),t.Lo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Ep(r,i.changes)];case 3:return s.sent(),[4,Cd(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),u=Vd(o,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function cp(t,e){return Object(Yu.b)(this,void 0,void 0,function(){var n,r;return Object(Yu.d)(this,function(i){switch(i.label){case 0:n=os(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,wh(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.ko.get(e);r&&(is(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Co=!0:t.modifiedDocuments.size>0?is(r.Co):t.removedDocuments.size>0&&(is(r.Co),r.Co=!1))}),[4,Ep(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,zf(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function lp(t,e,n){var r=os(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach(function(t,n){var r=n.view.eo(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=os(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].eo(e)&&(r=!0)}),r&&Yd(n)}(r.eventManager,e),i.length&&r.xo.Tr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function fp(t,e,n){return Object(Yu.b)(this,void 0,void 0,function(){var r,i,o,u,s,a;return Object(Yu.d)(this,function(c){switch(c.label){case 0:return(r=os(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.ko.get(e),(o=i&&i.key)?(u=(u=new Ec(ks.comparator)).insert(o,new Qs(o,Na.min())),s=Pc().add(o),a=new Fc(Na.min(),new Map,new Oc(as),u,s),[4,cp(r,a)]):[3,2];case 1:return c.sent(),r.Oo=r.Oo.remove(o),r.ko.delete(e),_p(r),[3,4];case 2:return[4,Ih(r.localStore,e,!1).then(function(){return gp(r,e,n)}).catch(zf)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function hp(t,e){return Object(Yu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Yu.d)(this,function(o){switch(o.label){case 0:n=os(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,mh(n.localStore,e)];case 2:return i=o.sent(),yp(n,r,null),vp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ep(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,zf(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function dp(t,e,n){return Object(Yu.b)(this,void 0,void 0,function(){var r,i;return Object(Yu.d)(this,function(o){switch(o.label){case 0:r=os(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=os(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Tn.lookupMutationBatch(t,e).next(function(e){return is(null!==e),r=e.keys(),n.Tn.removeMutationBatch(t,e)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),yp(r,e,n),vp(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Ep(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,zf(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function pp(t,e){return Object(Yu.b)(this,void 0,void 0,function(){var n,r,i,o,u;return Object(Yu.d)(this,function(s){switch(s.label){case 0:_d((n=os(t)).remoteStore)||$u("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=os(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Tn.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Bo.get(r)||[]).push(e),n.Bo.set(r,i),[3,4]);case 3:return o=s.sent(),u=Vd(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(u),[3,4];case 4:return[2]}})})}function vp(t,e){(t.Bo.get(e)||[]).forEach(function(t){t.resolve()}),t.Bo.delete(e)}function yp(t,e,n){var r=os(t),i=r.Lo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Lo[r.currentUser.toKey()]=i}}function gp(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.$o.get(e);r<i.length;r++){var o=i[r];t.No.delete(o),n&&t.xo.Ko(o,n)}t.$o.delete(e),t.isPrimaryClient&&t.Mo.os(e).forEach(function(e){t.Mo.containsKey(e)||mp(t,e)})}function mp(t,e){t.Fo.delete(e.path.canonicalString());var n=t.Oo.get(e);null!==n&&(yd(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.ko.delete(n),_p(t))}function bp(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof $d?(t.Mo.addReference(o.key,e),wp(t,o)):o instanceof tp?($u("SyncEngine","Document no longer in limbo: "+o.key),t.Mo.removeReference(o.key,e),t.Mo.containsKey(o.key)||mp(t,o.key)):rs()}}function wp(t,e){var n=e.key,r=n.path.canonicalString();t.Oo.get(n)||t.Fo.has(r)||($u("SyncEngine","New document in limbo: "+n),t.Fo.add(r),_p(t))}function _p(t){for(;t.Fo.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){var e=t.Fo.values().next().value;t.Fo.delete(e);var n=new ks(ws.fromString(e)),r=t.qo.next();t.ko.set(r,new rp(n)),t.Oo=t.Oo.insert(n,r),vd(t.remoteStore,new ff(Oa(ma(n.path)),r,2,Ju.o))}}function Ep(t,e,n){return Object(Yu.b)(this,void 0,void 0,function(){var r,i,o,u;return Object(Yu.d)(this,function(s){switch(s.label){case 0:return r=os(t),i=[],o=[],u=[],r.No.isEmpty()?[3,3]:(r.No.forEach(function(t,s){u.push(r.Qo(s,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=dh.Nn(s.targetId,t);o.push(e)}}))}),[4,Promise.all(u)]);case 1:return s.sent(),r.xo.Tr(i),[4,function(t,e){return Object(Yu.b)(this,void 0,void 0,function(){var n,r,i,o,u,s,a,c;return Object(Yu.d)(this,function(l){switch(l.label){case 0:n=os(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Jl.forEach(e,function(e){return Jl.forEach(e.Cn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Jl.forEach(e.xn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!ef(r=l.sent()))throw r;return $u("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(u=o[i]).targetId,u.fromCache||(a=n.Bn.get(s),c=a.withLastLimboFreeSnapshotVersion(a.snapshotVersion),n.Bn=n.Bn.insert(s,c));return[2]}})})}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function kp(t,e){return Object(Yu.b)(this,void 0,void 0,function(){var n,r;return Object(Yu.d)(this,function(i){switch(i.label){case 0:return(n=os(t)).currentUser.isEqual(e)?[3,3]:($u("SyncEngine","User change. New user:",e.toKey()),[4,gh(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Bo.forEach(function(t){t.forEach(function(t){t.reject(new ms(gs.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Ep(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Ip(t,e){var n=os(t),r=n.ko.get(e);if(r&&r.Co)return Pc().add(r.key);var i=Pc(),o=n.$o.get(e);if(!o)return i;for(var u=0,s=o;u<s.length;u++){var a=n.No.get(s[u]);i=i.unionWith(a.view.To)}return i}function Op(t,e){return Object(Yu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Yu.d)(this,function(o){switch(o.label){case 0:return[4,Oh((n=os(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.So(r),[2,(n.isPrimaryClient&&bp(n,e.targetId,i.Po),i)]}})})}function Tp(t){return Object(Yu.b)(this,void 0,void 0,function(){var e;return Object(Yu.d)(this,function(n){return[2,Sh((e=os(t)).localStore).then(function(t){return Ep(e,t)})]})})}function Sp(t,e,n,r){return Object(Yu.b)(this,void 0,void 0,function(){var i,o;return Object(Yu.d)(this,function(u){switch(u.label){case 0:return[4,function(t,e){var n=os(t),r=os(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Jt(t,e).next(function(e){return e?n.Kn.bn(t,e):Jl.resolve(null)})})}((i=os(t)).localStore,e)];case 1:return null===(o=u.sent())?[3,6]:"pending"!==n?[3,3]:[4,Cd(i.remoteStore)];case 2:return u.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(yp(i,e,r||null),vp(i,e),function(t,e){os(os(t).Tn).Xt(e)}(i.localStore,e)):rs(),u.label=4;case 4:return[4,Ep(i,o)];case 5:return u.sent(),[3,7];case 6:$u("SyncEngine","Cannot apply mutation batch with id: "+e),u.label=7;case 7:return[2]}})})}function Cp(t,e){return Object(Yu.b)(this,void 0,void 0,function(){var n,r,i,o,u,s,a;return Object(Yu.d)(this,function(c){switch(c.label){case 0:return Rp(n=os(t)),Pp(n),!0!==e||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Ap(n,r.toArray())]);case 1:return i=c.sent(),n.Uo=!0,[4,Pd(n.remoteStore,!0)];case 2:for(c.sent(),o=0,u=i;o<u.length;o++)vd(n.remoteStore,u[o]);return[3,7];case 3:return!1!==e||!1===n.Uo?[3,7]:(s=[],a=Promise.resolve(),n.$o.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?s.push(e):a=a.then(function(){return gp(n,e),Ih(n.localStore,e,!0)}),yd(n.remoteStore,e)}),[4,a]);case 4:return c.sent(),[4,Ap(n,s)];case 5:return c.sent(),function(t){var e=os(t);e.ko.forEach(function(t,n){yd(e.remoteStore,n)}),e.Mo.cs(),e.ko=new Map,e.Oo=new Ec(ks.comparator)}(n),n.Uo=!1,[4,Pd(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Ap(t,e,n){return Object(Yu.b)(this,void 0,void 0,function(){var n,r,i,o,u,s,a,c,l,f,h,d,p;return Object(Yu.d)(this,function(v){switch(v.label){case 0:n=os(t),r=[],i=[],o=0,u=e,v.label=1;case 1:return o<u.length?(a=void 0,(c=n.$o.get(s=u[o]))&&0!==c.length?[4,kh(n.localStore,Oa(c[0]))]:[3,7]):[3,13];case 2:a=v.sent(),l=0,f=c,v.label=3;case 3:return l<f.length?(h=n.No.get(f[l]),[4,Op(n,h)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Th(n.localStore,s)];case 8:return p=v.sent(),[4,kh(n.localStore,p)];case 9:return a=v.sent(),[4,up(n,xp(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(a),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}})})}function xp(t){return ga(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function jp(t){var e=os(t);return os(os(e.localStore).persistence).gn()}function Dp(t,e,n,r){return Object(Yu.b)(this,void 0,void 0,function(){var i,o,u;return Object(Yu.d)(this,function(s){switch(s.label){case 0:return(i=os(t)).Uo?($u("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Sh(i.localStore)];case 3:return o=s.sent(),u=Fc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Ep(i,o,u)];case 4:return s.sent(),[3,8];case 5:return[4,Ih(i.localStore,e,!0)];case 6:return s.sent(),gp(i,e,r),[3,8];case 7:rs(),s.label=8;case 8:return[2]}})})}function Np(t,e,n){return Object(Yu.b)(this,void 0,void 0,function(){var r,i,o,u,s,a,c,l,f;return Object(Yu.d)(this,function(h){switch(h.label){case 0:if(!(r=Rp(t)).Uo)return[3,10];i=0,o=e,h.label=1;case 1:return i<o.length?r.$o.has(u=o[i])?($u("SyncEngine","Adding an already active target "+u),[3,5]):[4,Th(r.localStore,u)]:[3,6];case 2:return s=h.sent(),[4,kh(r.localStore,s)];case 3:return a=h.sent(),[4,up(r,xp(s),a.targetId,!1)];case 4:h.sent(),vd(r.remoteStore,a),h.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Yu.d)(this,function(e){switch(e.label){case 0:return r.$o.has(t)?[4,Ih(r.localStore,t,!1).then(function(){yd(r.remoteStore,t),gp(r,t)}).catch(zf)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,f=n,h.label=7;case 7:return l<f.length?[5,c(f[l])]:[3,10];case 8:h.sent(),h.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Rp(t){var e=os(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ip.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fp.bind(null,e),e.xo.Tr=Wd.bind(null,e.eventManager),e.xo.Ko=Qd.bind(null,e.eventManager),e}function Pp(t){var e=os(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dp.bind(null,e),e}var Lp=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Yu.b)(this,void 0,void 0,function(){return Object(Yu.d)(this,function(e){switch(e.label){case 0:return this.D=od(t.databaseInfo.databaseId),this.sharedClientState=this.jo(t),this.persistence=this.Go(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t),[2]}})})},t.prototype.zo=function(t){return null},t.prototype.Ho=function(t){return yh(this.persistence,new ph,t.initialUser,this.D)},t.prototype.Go=function(t){return new Fh(qh.Cs,this.D)},t.prototype.jo=function(t){return new Xh},t.prototype.terminate=function(){return Object(Yu.b)(this,void 0,void 0,function(){return Object(Yu.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Mp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Jo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Yu.c)(e,t),e.prototype.initialize=function(e){return Object(Yu.b)(this,void 0,void 0,function(){return Object(Yu.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Ch(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,e)];case 3:return n.sent(),[4,Pp(this.Jo.syncEngine)];case 4:return n.sent(),[4,Cd(this.Jo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ho=function(t){return yh(this.persistence,new ph,t.initialUser,this.D)},e.prototype.zo=function(t){return new Wf(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.Go=function(t){var e=lh(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?jf.withCacheSize(this.cacheSizeBytes):jf.DEFAULT;return new sh(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,rd(),id(),this.D,this.sharedClientState,!!this.forceOwnership)},e.prototype.jo=function(t){return new Xh},e}(Lp),Fp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Jo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Yu.c)(e,t),e.prototype.initialize=function(e){return Object(Yu.b)(this,void 0,void 0,function(){var n,r=this;return Object(Yu.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof Jh?(this.sharedClientState.syncEngine={wi:Sp.bind(null,n),_i:Dp.bind(null,n),mi:Np.bind(null,n),gn:jp.bind(null,n),di:Tp.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en(function(t){return Object(Yu.b)(r,void 0,void 0,function(){return Object(Yu.d)(this,function(e){switch(e.label){case 0:return[4,Cp(this.Jo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jo=function(t){var e=rd();if(!Jh.At(e))throw new ms(gs.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=lh(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Jh(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Mp),Vp=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Yu.b)(this,void 0,void 0,function(){var n=this;return Object(Yu.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return lp(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=kp.bind(null,this.syncEngine),[4,Pd(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new zd},t.prototype.createDatastore=function(t){var e=od(t.databaseInfo.databaseId),n=new nd(t.databaseInfo);return function(t,e,n){return new ld(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,u=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return lp(u.syncEngine,t,0)},o=$h.At()?new $h:new Zh,new hd(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,u){var s=new ip(t,e,n,r,i,o);return u&&(s.Uo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Yu.b)(this,void 0,void 0,function(){var e;return Object(Yu.d)(this,function(n){switch(n.label){case 0:return e=os(t),$u("RemoteStore","RemoteStore shutting down."),e.Qr.add(5),[4,pd(e)];case 1:return n.sent(),e.Wr.shutdown(),e.jr.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),qp=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xo=function(){this.muted=!0},t.prototype.Yo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Up=(function(){function t(t,e){var n=this;this.Zo=t,this.D=e,this.metadata=new Yl,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then(function(t){t&&t.ho()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Zo.cancel()},t.prototype.getMetadata=function(){return Object(Yu.b)(this,void 0,void 0,function(){return Object(Yu.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Wo=function(){return Object(Yu.b)(this,void 0,void 0,function(){return Object(Yu.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.ec())]}})})},t.prototype.ec=function(){return Object(Yu.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Yu.d)(this,function(i){switch(i.label){case 0:return[4,this.nc()];case 1:return null===(t=i.sent())?[2,null]:(e=this.tc.decode(t),n=Number(e),isNaN(n)&&this.sc("length string ("+e+") is not valid number"),[4,this.ic(n)]);case 2:return r=i.sent(),[2,new Xd(JSON.parse(r),t.length+n)]}})})},t.prototype.rc=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.nc=function(){return Object(Yu.b)(this,void 0,void 0,function(){var t,e;return Object(Yu.d)(this,function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.ic=function(t){return Object(Yu.b)(this,void 0,void 0,function(){var e;return Object(Yu.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.tc.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.sc=function(t){throw this.Zo.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.oc=function(){return Object(Yu.b)(this,void 0,void 0,function(){var t,e;return Object(Yu.d)(this,function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Yu.b)(this,void 0,void 0,function(){var e,n=this;return Object(Yu.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ms(gs.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Yu.b)(this,void 0,void 0,function(){var n,r,i,o,u,s;return Object(Yu.d)(this,function(a){switch(a.label){case 0:return n=os(t),r=ul(n.D)+"/documents",i={documents:e.map(function(t){return nl(n.D,t)})},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return o=a.sent(),u=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){is(!!e.found);var n=rl(t,e.found.name),r=$c(e.found.updateTime),i=new Pa({mapValue:{fields:e.found.fields}});return new Ws(n,r,i,{})}(t,e):"missing"in e?function(t,e){is(!!e.missing),is(!!e.readTime);var n=rl(t,e.missing),r=$c(e.readTime);return new Qs(n,r)}(t,e):rs()}(n.D,t);u.set(e.key.toString(),e)}),s=[],[2,(e.forEach(function(t){var e=u.get(t.toString());is(!!e),s.push(e)}),s)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Qs||t instanceof Ws?n.recordVersion(t):rs()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new gc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Yu.b)(this,void 0,void 0,function(){var t,e=this;return Object(Yu.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=ks.fromPath(n);e.mutations.push(new mc(r,e.precondition(r)))}),[4,function(t,e){return Object(Yu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Yu.d)(this,function(o){switch(o.label){case 0:return n=os(t),r=ul(n.D)+"/documents",i={writes:e.map(function(t){return ll(n.D,t)})},[4,n.Mi("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t instanceof Ws)e=t.version;else{if(!(t instanceof Qs))throw rs();e=Na.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ms(gs.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ec.updateTime(e):ec.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Na.min()))throw new ms(gs.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ec.updateTime(e)}return ec.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Bp=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new ud(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ac()},t.prototype.ac=function(){var t=this;this.rr.Yi(function(){return Object(Yu.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Yu.d)(this,function(r){return t=new Up(this.datastore),(e=this.uc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.hc(t)})})}).catch(function(t){n.hc(t)}),[2]})})})},t.prototype.uc=function(t){try{var e=this.updateFunction(t);return!ps(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.hc=function(t){var e=this;this.cc>0&&this.lc(t)?(this.cc-=1,this.asyncQueue.enqueueAndForget(function(){return e.ac(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.lc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!wc(e)}return!1},t}(),Hp=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Uh.UNAUTHENTICATED,this.clientId=ss.u(),this.credentialListener=function(){},this.receivedInitialUser=new Yl,this.credentials.setChangeListener(function(t){$u("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(Yu.b)(this,void 0,void 0,function(){return Object(Yu.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ms(gs.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Yl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Yu.b)(t,void 0,void 0,function(){var t,n;return Object(Yu.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Vd(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function zp(t,e){return Object(Yu.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Yu.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),$u("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(Yu.b)(i,void 0,void 0,function(){return Object(Yu.d)(this,function(t){switch(t.label){case 0:return[4,gh(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Gp(t,e){return Object(Yu.b)(this,void 0,void 0,function(){var n,r;return Object(Yu.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Kp(t)];case 1:return n=i.sent(),$u("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(Yu.b)(this,void 0,void 0,function(){var n,r;return Object(Yu.d)(this,function(i){switch(i.label){case 0:return(n=os(t)).asyncQueue.verifyOperationInProgress(),$u("RemoteStore","RemoteStore received new credentials"),r=_d(n),n.Qr.add(3),[4,pd(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Qr.delete(3),[4,dd(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function Kp(t){return Object(Yu.b)(this,void 0,void 0,function(){return Object(Yu.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:($u("FirestoreClient","Using default OfflineComponentProvider"),[4,zp(t,new Lp)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Wp(t){return Object(Yu.b)(this,void 0,void 0,function(){return Object(Yu.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:($u("FirestoreClient","Using default OnlineComponentProvider"),[4,Gp(t,new Vp)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Qp(t){return Kp(t).then(function(t){return t.persistence})}function Yp(t){return Kp(t).then(function(t){return t.localStore})}function Jp(t){return Wp(t).then(function(t){return t.remoteStore})}function Xp(t){return Wp(t).then(function(t){return t.syncEngine})}function Zp(t){return Object(Yu.b)(this,void 0,void 0,function(){var e,n;return Object(Yu.d)(this,function(r){switch(r.label){case 0:return[4,Wp(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=op.bind(null,e.syncEngine),n.onUnlisten=sp.bind(null,e.syncEngine),n)]}})})}function $p(t,e,n){var r=this;void 0===n&&(n={});var i=new Yl;return t.asyncQueue.enqueueAndForget(function(){return Object(Yu.b)(r,void 0,void 0,function(){var r;return Object(Yu.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new qp({next:function(o){e.enqueueAndForget(function(){return Kd(t,u)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new ms(gs.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new ms(gs.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),u=new Jd(ma(n.path),o,{includeMetadataChanges:!0,uo:!0});return Gd(t,u)},[4,Zp(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function tv(t,e,n){var r=this;void 0===n&&(n={});var i=new Yl;return t.asyncQueue.enqueueAndForget(function(){return Object(Yu.b)(r,void 0,void 0,function(){var r;return Object(Yu.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new qp({next:function(n){e.enqueueAndForget(function(){return Kd(t,u)}),n.fromCache&&"server"===r.source?i.reject(new ms(gs.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),u=new Jd(n,o,{includeMetadataChanges:!0,uo:!0});return Gd(t,u)},[4,Zp(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var ev=function(t,e,n,r,i,o){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=o},nv=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),rv=new Map,iv=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},ov=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(Uh.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),uv=function(){function t(t){var e=this;this.fc=null,this.currentUser=Uh.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){e.dc++,e.currentUser=e.wc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.dc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),t.get().then(function(t){e.auth=t,e.fc&&e.auth.addAuthTokenListener(e.fc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.dc!==e?($u("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(is("string"==typeof n.accessToken),new iv(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},t.prototype.wc=function(){var t=this.auth&&this.auth.getUid();return is(null===t||"string"==typeof t),new Uh(t)},t}(),sv=function(){function t(t,e){this._c=t,this.mc=e,this.type="FirstParty",this.user=Uh.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.mc},e=this._c.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),av=function(){function t(t,e){this._c=t,this.mc=e}return t.prototype.getToken=function(){return Promise.resolve(new sv(this._c,this.mc))},t.prototype.setChangeListener=function(t){t(Uh.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function cv(t,e,n){if(!n)throw new ms(gs.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function lv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ms(gs.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function fv(t,e,n,r){if(!0===e&&!0===r)throw new ms(gs.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function hv(t){if(!ks.isDocumentKey(t))throw new ms(gs.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function dv(t){if(ks.isDocumentKey(t))throw new ms(gs.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function pv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":rs()}function vv(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ms(gs.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=pv(t);throw new ms(gs.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function yv(t,e){if(e<=0)throw new ms(gs.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var gv=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ms(gs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ms(gs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,fv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),mv=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new gv({}),this._settingsFrozen=!1,t instanceof nv?(this._databaseId=t,this._credentials=new ov):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ms(gs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nv(t.options.projectId)}(t),this._credentials=new uv(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new ms(gs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new ms(gs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gv(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new ov;switch(t.type){case"gapi":var e=t.client;return is(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new av(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new ms(gs.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=rv.get(this))&&($u("ComponentProvider","Removing Datastore"),rv.delete(this),t.terminate()),Promise.resolve();var t},t}(),bv=function(t){this._delegate=t},wv=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ev(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),_v=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Ev=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ma(r))||this).firestore=e,i._path=r,i.type="collection",i}return Object(Yu.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new wv(this.firestore,null,new ks(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(_v);function kv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof bv&&(t=t._delegate),cv("collection","path",e),t instanceof mv)return dv(n=ws.fromString.apply(ws,Object(Yu.f)([e],r))),new Ev(t,null,n);if(!(t instanceof wv||t instanceof Ev))throw new ms(gs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return dv(n=ws.fromString.apply(ws,Object(Yu.f)([t.path],r)).child(ws.fromString(e))),new Ev(t.firestore,null,n)}function Iv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof bv&&(t=t._delegate),1===arguments.length&&(e=ss.u()),cv("doc","path",e),t instanceof mv)return hv(n=ws.fromString.apply(ws,Object(Yu.f)([e],r))),new wv(t,null,new ks(n));if(!(t instanceof wv||t instanceof Ev))throw new ms(gs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return hv(n=t._path.child(ws.fromString.apply(ws,Object(Yu.f)([e],r)))),new wv(t.firestore,t instanceof Ev?t._converter:null,new ks(n))}function Ov(t,e){return t instanceof bv&&(t=t._delegate),e instanceof bv&&(e=e._delegate),(t instanceof wv||t instanceof Ev)&&(e instanceof wv||e instanceof Ev)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function Tv(t,e){return t instanceof bv&&(t=t._delegate),e instanceof bv&&(e=e._delegate),t instanceof _v&&e instanceof _v&&t.firestore===e.firestore&&Sa(t._query,e._query)&&t._converter===e._converter}var Sv=function(){function t(){var t=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new ud(this,"async_queue_retry"),this.bc=function(){var e=id();e&&$u("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.Zi()};var e=id();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.vc(),this.Pc(t)},t.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var t=id();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}},t.prototype.enqueue=function(t){return this.vc(),this.Ec?new Promise(function(t){}):this.Pc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.gc.push(t),e.Vc()})},t.prototype.Vc=function(){return Object(Yu.b)(this,void 0,void 0,function(){var t,e=this;return Object(Yu.d)(this,function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!ef(t=n.sent()))throw t;return $u("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gc.length>0&&this.rr.Yi(function(){return e.Vc()}),n.label=5;case 5:return[2]}})})},t.prototype.Pc=function(t){var e=this,n=this.yc.then(function(){return e.Ac=!0,t().catch(function(t){throw e.Ic=t,e.Ac=!1,ts("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Ac=!1,t})});return this.yc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.vc(),this.Rc.indexOf(t)>-1&&(e=0);var i=Fd.createAndSchedule(this,t,e,n,function(t){return r.Sc(t)});return this.Tc.push(i),i},t.prototype.vc=function(){this.Ic&&rs()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Dc=function(){return Object(Yu.b)(this,void 0,void 0,function(){var t;return Object(Yu.d)(this,function(e){switch(e.label){case 0:return[4,t=this.yc];case 1:e.sent(),e.label=2;case 2:if(t!==this.yc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Cc=function(t){for(var e=0,n=this.Tc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.xc=function(t){var e=this;return this.Dc().then(function(){e.Tc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Dc()})},t.prototype.Nc=function(t){this.Rc.push(t)},t.prototype.Sc=function(t){var e=this.Tc.indexOf(t);this.Tc.splice(e,1)},t}();function Cv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Yl,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Av=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new Sv,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Yu.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||jv(this),this._firestoreClient.terminate()},e}(mv);function xv(t){return t._firestoreClient||jv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jv(t){var e=t._freezeSettings(),n=function(t,e,n){return new ev(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t._databaseId,t._persistenceKey,e);t._firestoreClient=new Hp(t._credentials,t._queue,n)}function Dv(t,e,n){var r=this,i=new Yl;return t.asyncQueue.enqueue(function(){return Object(Yu.b)(r,void 0,void 0,function(){var r;return Object(Yu.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,zp(t,n)];case 1:return o.sent(),[4,Gp(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===gs.FAILED_PRECONDITION||t.code===gs.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Nv(t){if(t._initialized||t._terminated)throw new ms(gs.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Rv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new ms(gs.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Es(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Pv=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Is.fromBase64String(e))}catch(e){throw new ms(gs.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Is.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Lv=function(t){this._methodName=t},Mv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new ms(gs.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ms(gs.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return as(this._lat,t._lat)||as(this._long,t._long)},t}(),Fv=/^__.*__$/,Vv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new lc(t,this.data,this.fieldMask,e,this.fieldTransforms):new cc(t,this.data,e,this.fieldTransforms)},t}(),qv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new lc(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Uv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rs()}}var Bv=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),t.prototype.Oc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.Lc(t),r},t.prototype.Bc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.$c(),r},t.prototype.qc=function(t){return this.Oc({path:void 0,Mc:!0})},t.prototype.Uc=function(t){return ay(t,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.$c=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Lc(this.path.get(t))},t.prototype.Lc=function(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(Uv(this.Fc)&&Fv.test(t))throw this.Uc('Document fields cannot begin and end with "__"')},t}(),Hv=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.D=n||od(t)}return t.prototype.Wc=function(t,e,n,r){return void 0===r&&(r=!1),new Bv({Fc:t,methodName:e,Kc:n,path:Es.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},t}();function zv(t){var e=t._freezeSettings(),n=od(t._databaseId);return new Hv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Gv(t,e,n,r,i,o){void 0===o&&(o={});var u=t.Wc(o.merge||o.mergeFields?2:0,e,n,i);iy("Data must be an object, but it was:",u,r);var s,a,c=ny(r,u);if(o.merge)s=new Ra(u.fieldMask),a=u.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=oy(e,h[f],n);if(!u.contains(d))throw new ms(gs.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");cy(l,d)||l.push(d)}s=new Ra(l),a=u.fieldTransforms.filter(function(t){return s.covers(t.field)})}else s=null,a=u.fieldTransforms;return new Vv(new Pa(c),s,a)}var Kv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yu.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Fc)throw t.Uc(1===t.Fc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Lv);function Wv(t,e,n){return new Bv({Fc:3,Kc:e.settings.Kc,methodName:t._methodName,Mc:n},e.databaseId,e.D,e.ignoreUndefinedProperties)}var Qv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yu.c)(e,t),e.prototype._toFieldTransform=function(t){return new $a(t.path,new Ga)},e.prototype.isEqual=function(t){return t instanceof e},e}(Lv),Yv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(Yu.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Wv(this,t,!0),n=this.jc.map(function(t){return ey(t,e)}),r=new Ka(n);return new $a(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Lv),Jv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(Yu.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Wv(this,t,!0),n=this.jc.map(function(t){return ey(t,e)}),r=new Qa(n);return new $a(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Lv),Xv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Gc=n,r}return Object(Yu.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Ja(t.D,qa(t.D,this.Gc));return new $a(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Lv);function Zv(t,e,n,r){var i=t.Wc(1,e,n);iy("Data must be an object, but it was:",i,r);var o=[],u=new La;hs(r,function(t,r){var s=sy(e,t,n);r instanceof bv&&(r=r._delegate);var a=i.Bc(s);if(r instanceof Kv)o.push(s);else{var c=ey(r,a);null!=c&&(o.push(s),u.set(s,c))}});var s=new Ra(o);return new qv(u.v(),s,i.fieldTransforms)}function $v(t,e,n,r,i,o){var u=t.Wc(1,e,n),s=[oy(e,r,n)],a=[i];if(o.length%2!=0)throw new ms(gs.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(oy(e,o[c])),a.push(o[c+1]);for(var l=[],f=new La,h=s.length-1;h>=0;--h)if(!cy(l,s[h])){var d=s[h],p=a[h];p instanceof bv&&(p=p._delegate);var v=u.Bc(d);if(p instanceof Kv)l.push(d);else{var y=ey(p,v);null!=y&&(l.push(d),f.set(d,y))}}var g=new Ra(l);return new qv(f.v(),g,u.fieldTransforms)}function ty(t,e,n,r){return void 0===r&&(r=!1),ey(n,t.Wc(r?4:3,e))}function ey(t,e){if(t instanceof bv&&(t=t._delegate),ry(t))return iy("Unsupported field value:",e,t),ny(t,e);if(t instanceof Lv)return function(t,e){if(!Uv(e.Fc))throw e.Uc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Uc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Mc&&4!==e.Fc)throw e.Uc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var u=ey(o[i],e.qc(r));null==u&&(u={nullValue:"NULL_VALUE"}),n.push(u),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof bv&&(t=t._delegate),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return qa(e.D,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=As.fromDate(t);return{timestampValue:Jc(e.D,n)}}if(t instanceof As)return n=new As(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Jc(e.D,n)};if(t instanceof Mv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Pv)return{bytesValue:Xc(e.D,t._byteString)};if(t instanceof wv){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:tl(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc("Unsupported field value: "+pv(t))}(t,e)}function ny(t,e){var n={};return ds(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(t,function(t,r){var i=ey(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function ry(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof As||t instanceof Mv||t instanceof Pv||t instanceof wv||t instanceof Lv)}function iy(t,e,n){if(!ry(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=pv(n);throw e.Uc("an object"===r?t+" a custom object":t+" "+r)}}function oy(t,e,n){if(e instanceof bv&&(e=e._delegate),e instanceof Rv)return e._internalPath;if("string"==typeof e)return sy(t,e);throw ay("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var uy=new RegExp("[~\\*/\\[\\]]");function sy(t,e,n){if(e.search(uy)>=0)throw ay("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Rv.bind.apply(Rv,Object(Yu.f)([void 0],e.split(".")))))._internalPath}catch(r){throw ay("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ay(t,e,n,r,i){var o=r&&!r.isEmpty(),u=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var a="";return(o||u)&&(a+=" (found",o&&(a+=" in field "+r),u&&(a+=" in document "+i),a+=")"),new ms(gs.INVALID_ARGUMENT,(s+=". ")+t+a)}function cy(t,e){return t.some(function(t){return t.isEqual(e)})}var ly=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new wv(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new fy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data().field(hy("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),fy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yu.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(ly);function hy(t,e){return"string"==typeof e?sy(t,e):e instanceof bv?e._delegate._internalPath:e._internalPath}var dy=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),py=function(t){function e(e,n,r,i,o,u){var s=this;return(s=t.call(this,e,n,r,i,u)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Object(Yu.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new vy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data().field(hy("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(ly),vy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yu.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(py),yy=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new dy(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new vy(n._firestore,n._userDataWriter,r.key,r,new dy(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ms(gs.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new vy(t._firestore,t._userDataWriter,e.doc.key,e.doc,new dy(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new vy(t._firestore,t._userDataWriter,e.doc.key,e.doc,new dy(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:gy(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function gy(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rs()}}function my(t,e){return t instanceof py&&e instanceof py?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof yy&&e instanceof yy&&t._firestore===e._firestore&&Tv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function by(t){if(wa(t)&&0===t.explicitOrderBy.length)throw new ms(gs.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wy=function(){};function _y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Ey=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).zc=e,i.Hc=n,i.Jc=r,i.type="where",i}return Object(Yu.c)(e,t),e.prototype._apply=function(t){var e=zv(t.firestore),n=function(t,e,n,r,i,o,u){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ms(gs.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Ay(u,o);for(var a=[],c=0,l=u;c<l.length;c++)a.push(Cy(r,t,l[c]));s={arrayValue:{values:a}}}else s=Cy(r,t,u)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ay(u,o),s=ty(n,"where",u,"in"===o||"not-in"===o);var f=ea.create(i,o,s);return function(t,e){if(e.g()){var n=Ea(t);if(null!==n&&!n.isEqual(e.field))throw new ms(gs.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=_a(t);null!==r&&xy(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new ms(gs.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new _v(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new ya(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(wy),ky=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zc=e,r.Yc=n,r.type="orderBy",r}return Object(Yu.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new ms(gs.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ms(gs.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ha(e,n);return function(t,e){if(null===_a(t)){var n=Ea(t);null!==n&&xy(0,n,e.field)}}(t,r),r}(t._query,this.zc,this.Yc);return new _v(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new ya(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(wy),Iy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(Yu.c)(e,t),e.prototype._apply=function(t){return new _v(t.firestore,t._converter,Ta(t._query,this.Xc,this.Zc))},e}(wy),Oy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(Yu.c)(e,t),e.prototype._apply=function(t){var e=Sy(t,this.type,this.ta,this.ea);return new _v(t.firestore,t._converter,function(t,e){return new ya(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(wy),Ty=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(Yu.c)(e,t),e.prototype._apply=function(t){var e=Sy(t,this.type,this.ta,this.ea);return new _v(t.firestore,t._converter,function(t,e){return new ya(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(wy);function Sy(t,e,n,r){if(n[0]instanceof bv&&(n[0]=n[0]._delegate),n[0]instanceof ly)return function(t,e,n,r,i){if(!r)throw new ms(gs.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],u=0,s=Ia(t);u<s.length;u++){var a=s[u];if(a.field.isKeyField())o.push(qs(e,r.key));else{var c=r.field(a.field);if(xs(c))throw new ms(gs.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=a.field.canonicalString();throw new ms(gs.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new la(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=zv(t.firestore);return function(t,e,n,r,i,o){var u=t.explicitOrderBy;if(i.length>u.length)throw new ms(gs.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],a=0;a<i.length;a++){var c=i[a];if(u[a].field.isKeyField()){if("string"!=typeof c)throw new ms(gs.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ka(t)&&-1!==c.indexOf("/"))throw new ms(gs.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(ws.fromString(c));if(!ks.isDocumentKey(l))throw new ms(gs.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new ks(l);s.push(qs(e,f))}else{var h=ty(n,r,c);s.push(h)}}return new la(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Cy(t,e,n){if(n instanceof bv&&(n=n._delegate),"string"==typeof n){if(""===n)throw new ms(gs.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ka(e)&&-1!==n.indexOf("/"))throw new ms(gs.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ws.fromString(n));if(!ks.isDocumentKey(r))throw new ms(gs.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return qs(t,new ks(r))}if(n instanceof wv)return qs(t,n._key);throw new ms(gs.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+pv(n)+".")}function Ay(t,e){if(!Array.isArray(t)||0===t.length)throw new ms(gs.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ms(gs.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function xy(t,e,n){if(!n.isEqual(e))throw new ms(gs.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var jy=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Ns(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ss(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Cs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw rs()}},t.prototype.convertObject=function(t,e){var n=this,r={};return hs(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Mv(Ss(t.latitude),Ss(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=js(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Ds(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Ts(t);return new As(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=ws.fromString(t);is(Ol(n));var r=new nv(n.get(1),n.get(3)),i=new ks(n.popFirst(5));return r.isEqual(e)||ts("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Dy(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Ny=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Yu.c)(e,t),e.prototype.convertBytes=function(t){return new Pv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new wv(this.firestore,null,e)},e}(jy),Ry=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=zv(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Py(t,this._firestore),i=Dy(r._converter,e,n),o=Gv(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,ec.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,u=Py(t,this._firestore);return e instanceof bv&&(e=e._delegate),o="string"==typeof e||e instanceof Rv?$v(this._dataReader,"WriteBatch.update",u._key,e,n,r):Zv(this._dataReader,"WriteBatch.update",u._key,e),this._mutations.push(o.toMutation(u._key,ec.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Py(t,this._firestore);return this._mutations=this._mutations.concat(new gc(e._key,ec.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new ms(gs.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Py(t,e){if(t instanceof bv&&(t=t._delegate),t.firestore!==e)throw new ms(gs.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Ly=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Yu.c)(e,t),e.prototype.convertBytes=function(t){return new Pv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new wv(this.firestore,null,e)},e}(jy);function My(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=vv(t,wv);var o=vv(t.firestore,Av),u=zv(o);return e instanceof bv&&(e=e._delegate),Vy(o,[("string"==typeof e||e instanceof Rv?$v(u,"updateDoc",t._key,e,n,r):Zv(u,"updateDoc",t._key,e)).toMutation(t._key,ec.exists(!0))])}function Fy(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof bv&&(t=t._delegate);var u={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Cv(i[s])||(u=i[s],s++);var a,c,l,f={includeMetadataChanges:u.includeMetadataChanges};if(Cv(i[s])){var h=i[s];i[s]=null===(e=h.next)||void 0===e?void 0:e.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(t instanceof wv)c=vv(t.firestore,Av),l=ma(t._key.path),a={next:function(e){i[s]&&i[s](qy(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=vv(t,_v);c=vv(d.firestore,Av),l=d._query;var p=new Ly(c);a={next:function(t){i[s]&&i[s](new yy(c,p,d,t))},error:i[s+1],complete:i[s+2]},by(t._query)}return function(t,e,n,r){var i=this,o=new qp(r),u=new Jd(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Yu.b)(i,void 0,void 0,function(){var e;return Object(Yu.d)(this,function(n){switch(n.label){case 0:return e=Gd,[4,Zp(t)];case 1:return[2,e.apply(void 0,[n.sent(),u])]}})})}),function(){o.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(Yu.b)(i,void 0,void 0,function(){var e;return Object(Yu.d)(this,function(n){switch(n.label){case 0:return e=Kd,[4,Zp(t)];case 1:return[2,e.apply(void 0,[n.sent(),u])]}})})})}}(xv(c),l,f,a)}function Vy(t,e){return function(t,e){var n=this,r=new Yl;return t.asyncQueue.enqueueAndForget(function(){return Object(Yu.b)(n,void 0,void 0,function(){var n;return Object(Yu.d)(this,function(i){switch(i.label){case 0:return n=ap,[4,Xp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(xv(t),e)}function qy(t,e,n){var r=n.docs.get(e._key),i=new Ly(t);return new py(t,i,e._key,r,new dy(n.hasPendingWrites,n.fromCache),e._converter)}var Uy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Yu.c)(e,t),e.prototype.get=function(e){var n=this,r=Py(e,this._firestore),i=new Ly(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new py(n._firestore,i,r._key,t._document,new dy(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=zv(t)}return t.prototype.get=function(t){var e=this,n=Py(t,this._firestore),r=new Ny(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return rs();var i=t[0];if(i instanceof Qs)return new ly(e._firestore,r,n._key,null,n._converter);if(i instanceof Ws)return new ly(e._firestore,r,i.key,i,n._converter);throw rs()})},t.prototype.set=function(t,e,n){var r=Py(t,this._firestore),i=Dy(r._converter,e,n),o=Gv(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,u=Py(t,this._firestore);return e instanceof bv&&(e=e._delegate),o="string"==typeof e||e instanceof Rv?$v(this._dataReader,"Transaction.update",u._key,e,n,r):Zv(this._dataReader,"Transaction.update",u._key,e),this._transaction.update(u._key,o),this},t.prototype.delete=function(t){var e=Py(t,this._firestore);return this._transaction.delete(e._key),this},t}());function By(){if("undefined"==typeof Uint8Array)throw new ms(gs.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Hy(){if("undefined"==typeof atob)throw new ms(gs.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var zy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yu.c)(e,t),e.fromBase64String=function(t){return Hy(),new e(Pv.fromBase64String(t))},e.fromUint8Array=function(t){return By(),new e(Pv.fromUint8Array(t))},e.prototype.toBase64=function(){return Hy(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return By(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(bv),Gy=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Nv(t=vv(t,Av));var n=xv(t),r=t._freezeSettings(),i=new Vp;return Dv(n,i,new Mp(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Nv(t=vv(t,Av));var e=xv(t),n=t._freezeSettings(),r=new Vp;return Dv(e,r,new Fp(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new ms(gs.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Yl;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Yu.b)(e,void 0,void 0,function(){var e;return Object(Yu.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Yu.b)(this,void 0,void 0,function(){return Object(Yu.d)(this,function(e){switch(e.label){case 0:return Zl.At()?[4,Zl.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(lh(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Ky=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof nv||(i.sa=e),i}return Object(Yu.c)(e,t),Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=vv(t,mv))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&es("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Yu.b)(e,void 0,void 0,function(){var e,n;return Object(Yu.d)(this,function(r){switch(r.label){case 0:return[4,Qp(t)];case 1:return e=r.sent(),[4,Jp(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=os(t);return e.Qr.delete(0),dd(e)}(n))]}})})})}(xv(vv(this._delegate,Av)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Yu.b)(e,void 0,void 0,function(){var e,n;return Object(Yu.d)(this,function(r){switch(r.label){case 0:return[4,Qp(t)];case 1:return e=r.sent(),[4,Jp(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Yu.b)(this,void 0,void 0,function(){var e;return Object(Yu.d)(this,function(n){switch(n.label){case 0:return(e=os(t)).Qr.add(0),[4,pd(e)];case 1:return n.sent(),e.jr.set("Offline"),[2]}})})}(n))]}})})})}(xv(vv(this._delegate,Av)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&fv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Yl;return t.asyncQueue.enqueueAndForget(function(){return Object(Yu.b)(e,void 0,void 0,function(){var e;return Object(Yu.d)(this,function(r){switch(r.label){case 0:return e=pp,[4,Xp(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(xv(vv(this._delegate,Av)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new qp(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Yu.b)(n,void 0,void 0,function(){var e;return Object(Yu.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){os(t).Zr.add(e),e.next()},[4,Zp(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(Yu.b)(n,void 0,void 0,function(){var e;return Object(Yu.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){os(t).Zr.delete(e)},[4,Zp(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(xv(t=vv(t,Av)),Cv(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.sa)throw new ms(gs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new ug(this,kv(this._delegate,t))}catch(t){throw Zy(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Xy(this,Iv(this._delegate,t))}catch(t){throw Zy(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new rg(this,function(t,e){if(t=vv(t,mv),cv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ms(gs.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new _v(t,null,function(t){return new ya(ws.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Zy(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Yl;return t.asyncQueue.enqueueAndForget(function(){return Object(Yu.b)(n,void 0,void 0,function(){var n;return Object(Yu.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Wp(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Bp(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(xv(t),function(n){return e(new Uy(t,n))})}(this._delegate,function(n){return t(new Qy(e,n))})},e.prototype.batch=function(){var t=this;return xv(this._delegate),new Yy(new Ry(this._delegate,function(e){return Vy(t._delegate,e)}))},e.prototype.loadBundle=function(t){throw new ms(gs.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new ms(gs.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(bv),Wy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Yu.c)(e,t),e.prototype.convertBytes=function(t){return new zy(new Pv(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Xy.ia(e,this.firestore,null)},e}(jy),Qy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r._userDataWriter=new Wy(e),r}return Object(Yu.c)(e,t),e.prototype.get=function(t){var e=this,n=sg(t);return this._delegate.get(n).then(function(t){return new eg(e._firestore,new py(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},e.prototype.set=function(t,e,n){var r=sg(t);return n?(lv("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var u=sg(t);return 2===arguments.length?this._delegate.update(u,e):(r=this._delegate).update.apply(r,Object(Yu.f)([u,e,n],i)),this},e.prototype.delete=function(t){var e=sg(t);return this._delegate.delete(e),this},e}(bv),Yy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yu.c)(e,t),e.prototype.set=function(t,e,n){var r=sg(t);return n?(lv("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var u=sg(t);return 2===arguments.length?this._delegate.update(u,e):(r=this._delegate).update.apply(r,Object(Yu.f)([u,e,n],i)),this},e.prototype.delete=function(t){var e=sg(t);return this._delegate.delete(e),this},e.prototype.commit=function(){return this._delegate.commit()},e}(bv),Jy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this)._firestore=e,i._userDataWriter=n,i}return Object(Yu.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new vy(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ng(this._firestore,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},e.ra=function(t,n){var r=e.oa,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Wy(t),n),i.set(n,o)),o},e}(bv);Jy.oa=new WeakMap;var Xy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new Wy(e),r}return Object(Yu.c)(e,t),e.ca=function(t,n,r){if(t.length%2!=0)throw new ms(gs.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new wv(n._delegate,r,new ks(t)))},e.ia=function(t,n,r){return new e(n,new wv(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ug(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new ug(this.firestore,kv(this._delegate,t))}catch(t){throw Zy(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof bv&&(t=t._delegate),t instanceof wv&&Ov(this._delegate,t)},e.prototype.set=function(t,e){e=lv("DocumentReference.set",e);try{return function(t,e,n){t=vv(t,wv);var r=vv(t.firestore,Av),i=Dy(t._converter,e,n);return Vy(r,[Gv(zv(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,ec.none())])}(this._delegate,t,e)}catch(t){throw Zy(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?My(this._delegate,t):My.apply(void 0,Object(Yu.f)([this._delegate,t,e],n))}catch(t){throw Zy(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Vy(vv((t=this._delegate).firestore,Av),[new gc(t._key,ec.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=$y(e),i=tg(e,function(e){return new eg(t.firestore,new py(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return Fy(this._delegate,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=vv(t,wv);var e=vv(t.firestore,Av),n=xv(e),r=new Ly(e);return function(t,e){var n=this,r=new Yl;return t.asyncQueue.enqueueAndForget(function(){return Object(Yu.b)(n,void 0,void 0,function(){var n;return Object(Yu.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Yu.b)(this,void 0,void 0,function(){var r,i;return Object(Yu.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=os(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Kn.In(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof Ws?n.resolve(i):i instanceof Qs?n.resolve(null):n.reject(new ms(gs.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Vd(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Yp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new py(e,r,t._key,n,new dy(n instanceof Ws&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=vv(t,wv);var e=vv(t.firestore,Av);return $p(xv(e),t._key,{source:"server"}).then(function(n){return qy(e,t,n)})}(this._delegate):function(t){t=vv(t,wv);var e=vv(t.firestore,Av);return $p(xv(e),t._key).then(function(n){return qy(e,t,n)})}(this._delegate)).then(function(t){return new eg(e.firestore,new py(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Jy.ra(this.firestore,t):null))},e}(bv);function Zy(t,e,n){return t.message=t.message.replace(e,n),t}function $y(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Cv(r))return r}return{}}function tg(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Cv(t[0])?t[0]:Cv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var eg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Yu.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Xy(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,e){return this._delegate.get(t,e)},e.prototype.isEqual=function(t){return my(this._delegate,t._delegate)},e}(bv),ng=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yu.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(eg),rg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new Wy(e),r}return Object(Yu.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,_y(this._delegate,function(t,e,n){var r=e,i=hy("where",t);return new Ey(i,r,n)}(t,n,r)))}catch(t){throw Zy(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,_y(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=hy("orderBy",t);return new ky(r,n)}(t,n)))}catch(t){throw Zy(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,_y(this._delegate,function(t){return yv("limit",t),new Iy("limit",t,"F")}(t)))}catch(t){throw Zy(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,_y(this._delegate,function(t){return yv("limitToLast",t),new Iy("limitToLast",t,"L")}(t)))}catch(t){throw Zy(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,_y(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Oy("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Zy(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,_y(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Oy("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Zy(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,_y(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ty("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Zy(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,_y(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ty("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Zy(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Tv(this._delegate,t._delegate)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=vv(t,_v);var e=vv(t.firestore,Av),n=xv(e),r=new Ly(e);return function(t,e){var n=this,r=new Yl;return t.asyncQueue.enqueueAndForget(function(){return Object(Yu.b)(n,void 0,void 0,function(){var n;return Object(Yu.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Yu.b)(this,void 0,void 0,function(){var r,i,o,u,s;return Object(Yu.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Oh(t,e,!0)];case 1:return s=a.sent(),r=new ep(e,s.jn),i=r.Io(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return u=a.sent(),s=Vd(u,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,Yp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new yy(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=vv(t,_v);var e=vv(t.firestore,Av),n=xv(e),r=new Ly(e);return tv(n,t._query,{source:"server"}).then(function(n){return new yy(e,r,t,n)})}(this._delegate):function(t){t=vv(t,_v);var e=vv(t.firestore,Av),n=xv(e),r=new Ly(e);return by(t._query),tv(n,t._query).then(function(n){return new yy(e,r,t,n)})}(this._delegate)).then(function(t){return new og(e.firestore,new yy(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=$y(e),i=tg(e,function(e){return new og(t.firestore,new yy(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Fy(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Jy.ra(this.firestore,t):null))},e}(bv),ig=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Yu.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new ng(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(bv),og=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Yu.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new rg(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new ng(t._firestore,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new ig(e._firestore,t)})},e.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new ng(n._firestore,r))})},e.prototype.isEqual=function(t){return my(this._delegate,t._delegate)},e}(bv),ug=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Yu.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Xy(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Xy(this.firestore,void 0===t?Iv(this._delegate):Iv(this._delegate,t))}catch(t){throw Zy(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=vv(t.firestore,Av),r=Iv(t),i=Dy(t._converter,e);return Vy(n,[Gv(zv(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,ec.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Xy(e.firestore,t)})},e.prototype.isEqual=function(t){return Ov(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Jy.ra(this.firestore,t):null))},e}(rg);function sg(t){return t instanceof bv&&(t=t._delegate),vv(t,wv)}var ag,cg=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Rv.bind.apply(Rv,Object(Yu.f)([void 0],e))))||this}return Object(Yu.c)(e,t),e.documentId=function(){return new e(Es.keyField().canonicalString())},e.prototype.isEqual=function(t){return t instanceof bv&&(t=t._delegate),t instanceof Rv&&this._delegate._internalPath.isEqual(t._internalPath)},e}(bv),lg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yu.c)(e,t),e.serverTimestamp=function(){var t=new Qv("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Kv("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yv("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jv("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Xv("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(bv),fg=o("/6Yf"),hg={Firestore:Ky,GeoPoint:Mv,Timestamp:As,Blob:zy,Transaction:Qy,WriteBatch:Yy,DocumentReference:Xy,DocumentSnapshot:eg,Query:rg,QueryDocumentSnapshot:ng,QuerySnapshot:og,CollectionReference:ug,FieldPath:cg,FieldValue:lg,setLogLevel:function(t){Xu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new fg.a("firestore",function(t){return function(t,e){return new Ky(t,new Av(t,e),new Gy)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},hg)))})(ag=zn.a),ag.registerVersion("@firebase/firestore","2.2.1");var dg=o("qgXg"),pg=o("quSY"),vg=o("Ylt2"),yg=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return h(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return p(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}f(_(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new gg(this._getNow(),t)),this._trimBufferThenGetEvents()),f(_(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new Rt.a;if(this.isStopped||this.hasError?e=pg.a.EMPTY:(this.observers.push(t),e=new vg.a(this,t)),i&&t.add(t=new Bn.a(t,i)),n)for(var u=0;u<o&&!t.closed;u++)t.next(r[u]);else for(var s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||dg.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(yt.a),gg=function t(e,n){h(this,t),this.time=e,this.value=n};function mg(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,u=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,a=t.scheduler,c=0,l=!1,f=!1;return function(t){var r;c++,!e||l?(l=!1,e=new yg(i,u,a),r=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){f=!0,n=void 0,e.complete()}}),f&&(n=void 0)):r=e.subscribe(this),this.add(function(){c--,r.unsubscribe(),r=void 0,n&&!f&&s&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)})}}(r))}}var bg=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();function wg(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new _g(t))}}var _g=function(){function t(e){h(this,t),this.defaultValue=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Eg(t,this.defaultValue))}}]),t}(),Eg=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return p(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(St.a);function kg(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tg;return function(e){return e.lift(new Ig(t))}}var Ig=function(){function t(e){h(this,t),this.errorFactory=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Og(t,this.errorFactory))}}]),t}(),Og=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return p(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(ag){t=ag}this.destination.error(t)}}]),n}(St.a);function Tg(){return new bg}var Sg=o("SpAZ");function Cg(t,e){return e?ue(function(){return t},e):ue(function(){return t})}var Ag,xg=o("tf+s"),jg=new s.m("angularfire2.auth.use-emulator"),Dg=new s.m("angularfire2.auth.settings"),Ng=new s.m("angularfire2.auth.tenant-id"),Rg=new s.m("angularfire2.auth.langugage-code"),Pg=new s.m("angularfire2.auth.use-device-language"),Lg=new s.m("angularfire.auth.persistence"),Mg=((Ag=function t(e,n,r,i,u,s,a,c,l,f){h(this,t);var d=new Pn.d(i),p=Object(Pn.h)(d),v=new yt.a,y=Object(vt.a)(void 0).pipe(Object(Bn.b)(d.outsideAngular),ue(function(){return i.runOutsideAngular(function(){return o.e(5).then(o.bind(null,"6nsN"))})}),Object(bt.a)(function(){return Object(Pn.g)(e,i,n)}),Object(bt.a)(function(t){return i.runOutsideAngular(function(){var e=u,n=s;return Object(Pn.f)("".concat(t.name,".auth"),"AngularFireAuth",t,function(){var r=i.runOutsideAngular(function(){return t.auth()});return e&&r.useEmulator("http://".concat(e.join(":"))),a&&(r.tenantId=a),r.languageCode=c,l&&r.useDeviceLanguage(),n&&(r.settings=n),f&&r.setPersistence(f),r},[e,a,c,l,n,f])})}),mg({bufferSize:1,refCount:!1}));if(O(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(vt.a)(null);else{y.pipe(function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Yt(function(e,n){return t(e,n,r)}):Sg.a,$t(1),n?wg(e):kg(function(){return new bg}))}}()).subscribe();var g=y.pipe(ue(function(t){return t.getRedirectResult().then(function(t){return t},function(){return null})}),p,mg({bufferSize:1,refCount:!1})),m=function(t){return new dt.a(function(e){return{unsubscribe:i.runOutsideAngular(function(){return t(e)})}})},b=y.pipe(ue(function(t){return m(t.onAuthStateChanged.bind(t))})),w=y.pipe(ue(function(t){return m(t.onIdTokenChanged.bind(t))}));this.authState=g.pipe(Cg(b),Object(xg.a)(d.outsideAngular),Object(Bn.b)(d.insideAngular)),this.user=g.pipe(Cg(w),Object(xg.a)(d.outsideAngular),Object(Bn.b)(d.insideAngular)),this.idToken=this.user.pipe(ue(function(t){return t?Object(oe.a)(t.getIdToken()):Object(vt.a)(null)})),this.idTokenResult=this.user.pipe(ue(function(t){return t?Object(oe.a)(t.getIdTokenResult()):Object(vt.a)(null)})),this.credential=Object(Ht.a)(g,v,this.authState.pipe(Yt(function(t){return!t}))).pipe(Object(bt.a)(function(t){return(null==t?void 0:t.user)?t:null}),Object(xg.a)(d.outsideAngular),Object(Bn.b)(d.insideAngular))}return Object(Pn.i)(this,y,i,{spy:{apply:function(t,e,n){(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(function(t){return v.next(t)})}}})}).\u0275fac=function(t){return new(t||Ag)(s.Ob(Pn.c),s.Ob(Pn.b,8),s.Ob(s.v),s.Ob(s.t),s.Ob(jg,8),s.Ob(Dg,8),s.Ob(Ng,8),s.Ob(Rg,8),s.Ob(Pg,8),s.Ob(Lg,8))},Ag.\u0275prov=Object(s.yb)({factory:function(){return new Ag(Object(s.Ob)(Pn.c),Object(s.Ob)(Pn.b,8),Object(s.Ob)(s.v),Object(s.Ob)(s.t),Object(s.Ob)(jg,8),Object(s.Ob)(Dg,8),Object(s.Ob)(Ng,8),Object(s.Ob)(Rg,8),Object(s.Ob)(Pg,8),Object(s.Ob)(Lg,8))},token:Ag,providedIn:"any"}),Ag);function Fg(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Et.b;return new dt.a(function(n){var r;return null!=e?e.schedule(function(){r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}})}(t,e)}function Vg(t,e){return Fg(t,e).pipe(Object(bt.a)(function(t){return{payload:t,type:"query"}}))}function qg(t,n){return Vg(t,n).pipe(ne(void 0),Ln(),Object(bt.a)(function(t){var n=e(t,2),r=n[0],i=n[1],o=i.payload.docChanges(),u=o.map(function(t){return{type:t.type,payload:t}});return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach(function(t,e){var n=o.find(function(e){return e.doc.ref.isEqual(t.ref)}),i=null==r?void 0:r.payload.docs.find(function(e){return e.ref.isEqual(t.ref)});n&&JSON.stringify(n.doc.metadata)===JSON.stringify(t.metadata)||!n&&i&&JSON.stringify(i.metadata)===JSON.stringify(t.metadata)||u.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})}),u}))}function Ug(t,e,n){return qg(t,n).pipe(Vn(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Bg(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Bg(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Bg(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(function(t){return t.payload}),e)},[]),function(t){return t.lift(new re(void 0,void 0))},Object(bt.a)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}function Bg(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),u=3;u<i;u++)o[u-3]=arguments[u];return r.splice.apply(r,[e,n].concat(o)),r}function Hg(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Pn.e)(Mg,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);var zg=function(){function n(t,e,r){h(this,n),this.ref=t,this.query=e,this.afs=r}return p(n,[{key:"stateChanges",value:function(t){var n=qg(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(n=n.pipe(Object(bt.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}))),n.pipe(ne(void 0),Ln(),Yt(function(t){var n=e(t,2),r=n[0];return n[1].length>0||!r}),Object(bt.a)(function(t){var n=e(t,2);n[0];return n[1]}),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Vn(function(t,e){return[].concat(i(t),i(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=Hg(t);return Ug(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Vg(this.query,this.afs.schedulers.outsideAngular).pipe(Object(bt.a)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(Object.assign({},n.data()),t({},e.idField,n.id)):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(oe.a)(this.query.get(t)).pipe(Object(Bn.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new Gg(this.ref.doc(t),this.afs)}}]),n}(),Gg=function(){function n(t,e){h(this,n),this.ref=t,this.afs=e}return p(n,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=Xg(this.ref.collection(t),e),r=n.ref,i=n.query;return new zg(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return Fg(this.ref,this.afs.schedulers.outsideAngular).pipe(ne(void 0),Ln(),Object(bt.a)(function(t){var n=e(t,2),r=n[0],i=n[1];return i.exists?(null==r?void 0:r.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}})).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(bt.a)(function(n){var r=n.payload;return e.idField?Object.assign(Object.assign({},r.data()),t({},e.idField,r.id)):r.data()}))}},{key:"get",value:function(t){return Object(oe.a)(this.ref.get(t)).pipe(Object(Bn.b)(this.afs.schedulers.insideAngular))}}]),n}(),Kg=function(){function e(t,n){h(this,e),this.query=t,this.afs=n}return p(e,[{key:"stateChanges",value:function(t){return t&&0!==t.length?qg(this.query,this.afs.schedulers.outsideAngular).pipe(Object(bt.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),Yt(function(t){return t.length>0}),this.afs.keepUnstableUntilFirst):qg(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Vn(function(t,e){return[].concat(i(t),i(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=Hg(t);return Ug(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Vg(this.query,this.afs.schedulers.outsideAngular).pipe(Object(bt.a)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(t({},e.idField,n.id),n.data()):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(oe.a)(this.query.get(t)).pipe(Object(Bn.b)(this.afs.schedulers.insideAngular))}}]),e}(),Wg=new s.m("angularfire2.enableFirestorePersistence"),Qg=new s.m("angularfire2.firestore.persistenceSettings"),Yg=new s.m("angularfire2.firestore.settings"),Jg=new s.m("angularfire2.firestore.use-emulator");function Xg(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var Zg,$g,tm,em=(($g=function(){function t(n,r,o,u,s,a,c,l,f){h(this,t),this.schedulers=new Pn.d(a),this.keepUnstableUntilFirst=Object(Pn.h)(this.schedulers);var d=Object(Pn.g)(n,a,r);!Hn.a.auth&&f&&Object(Pn.j)();var p=l,v=e(Object(Pn.f)("".concat(d.name,".firestore"),"AngularFirestore",d,function(){var t=a.runOutsideAngular(function(){return d.firestore()});return u&&t.settings(u),p&&t.useEmulator.apply(t,i(p)),o&&!O(s)?[t,a.runOutsideAngular(function(){try{return Object(oe.a)(t.enablePersistence(c||void 0).then(function(){return!0},function(){return!1}))}catch(ag){return"undefined"!=typeof console&&console.warn(ag),Object(vt.a)(!1)}})]:[t,Object(vt.a)(!1)]},[u,p,o]),2);this.firestore=v[0],this.persistenceEnabled$=v[1]}return p(t,[{key:"collection",value:function(t,e){var n=Xg("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run(function(){return r});return new zg(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new Kg(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run(function(){return e});return new Gg(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||$g)(s.Ob(Pn.c),s.Ob(Pn.b,8),s.Ob(Wg,8),s.Ob(Yg,8),s.Ob(s.v),s.Ob(s.t),s.Ob(Qg,8),s.Ob(Jg,8),s.Ob(jg,8))},$g.\u0275prov=Object(s.yb)({factory:function(){return new $g(Object(s.Ob)(Pn.c),Object(s.Ob)(Pn.b,8),Object(s.Ob)(Wg,8),Object(s.Ob)(Yg,8),Object(s.Ob)(s.v),Object(s.Ob)(s.t),Object(s.Ob)(Qg,8),Object(s.Ob)(Jg,8),Object(s.Ob)(jg,8))},token:$g,providedIn:"any"}),$g),nm=((Zg=function(){function t(){h(this,t)}return p(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:Wg,useValue:!0},{provide:Qg,useValue:e}]}}}]),t}()).\u0275fac=function(t){return new(t||Zg)},Zg.\u0275mod=s.Ab({type:Zg}),Zg.\u0275inj=s.zb({providers:[em]}),Zg),rm={apiKey:"AIzaSyDvoK8xNki9xglDT_iNBonCGKbdCogMY6o",authDomain:"huaweiexporter.firebaseapp.com",databaseURL:"https://huaweiexporter-default-rtdb.firebaseio.com",projectId:"huaweiexporter",storageBucket:"huaweiexporter.appspot.com",messagingSenderId:"420687984337",appId:"1:420687984337:web:f6ec3e21f266d02bde77f0",measurementId:"G-18FH7EVG9J"},im=((tm=function t(){h(this,t)}).\u0275fac=function(t){return new(t||tm)},tm.\u0275mod=s.Ab({type:tm,bootstrap:[ht]}),tm.\u0275inj=s.zb({providers:[lt],imports:[[st,Rn,Pn.a.initializeApp(rm),nm]]}),tm);Object(s.J)(),ot().bootstrapModule(im).catch(function(t){return console.error(t)})},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return a});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD"),u=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this)).parent=t,r}return p(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(r.a),s=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(r.a);function a(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]])}();