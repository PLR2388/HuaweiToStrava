!function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){return r(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||s(t,e)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t){if(Array.isArray(t))return t}function i(t){return function(t){if(Array.isArray(t))return u(t)}(t)||o(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function a(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return l(t,arguments,_(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,t)})(t)}function l(t,e,n){return(l=w()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&y(i,n.prototype),i}).apply(null,arguments)}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=w();return function(){var n,r=_(t);if(e){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService({instanceIdentifier:i});if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(l){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(void 0===e?"[DEFAULT]":e);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:i,options:r})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o)),o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){v(n,t);var e=g(n);function n(t,r){return h(this,n),e.call(this)}return p(n,[{key:"schedule",value:function(t){return this}}]),n}(n("quSY").a))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(o){return o.pipe(a(function(n,o){return Object(i.a)(t(n,o)).pipe(Object(r.a)(function(t,r){return e(n,t,o,r)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new s(t,n))})}var s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;h(this,t),this.project=e,this.concurrent=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}]),t}(),u=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return h(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return p(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new o.a(this),n=this.destination;n.add(e);var r=Object(o.c)(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(o.b)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),c=function(t){v(n,t);var e=g(n);function n(t,r,o){var a;switch(h(this,n),(a=e.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!t){a.destination=i.a;break}if("object"==typeof t){t instanceof n?(a.syncErrorThrowable=t.syncErrorThrowable,a.destination=t,t.add(b(a))):(a.syncErrorThrowable=!0,a.destination=new l(b(a),t));break}default:a.syncErrorThrowable=!0,a.destination=new l(b(a),t,r,o)}return a}return p(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,f(_(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(t){v(n,t);var e=g(n);function n(t,o,a,s){var u,c;h(this,n),(u=e.call(this))._parentSubscriber=t;var l=b(u);return Object(r.a)(o)?c=o:o&&(c=o.next,a=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(b(u)))),u._context=l,u._next=c,u._error=a,u._complete=s,u}return p(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(c)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function f(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}(t,e);if(Object(l.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(function(n){var r,i=new o.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[u.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a"),i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return c});var r,i=n("XNiG"),o=n("HDdC"),a=(n("7o/Q"),n("quSY")),s=n("x+ZX"),u=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return p(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new l(this.getSubject(),this))),t.closed&&(this._connection=null,t=a.a.EMPTY)),t}},{key:"refCount",value:function(){return Object(s.a)()(this)}}]),n}(o.a),c={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(r=u.prototype)._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}},l=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).connectable=r,i}return p(n,[{key:"_error",value:function(t){this._unsubscribe(),f(_(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),f(_(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(i.b)},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC"),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r,i=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),s=n("kJWO"),u=n("SpAZ"),c=n("2fFW"),l=((r=function(){function t(e){h(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return p(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(s.add(r?r.call(s,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof i.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=f(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(r=e).length?u.a:1===r.length?r[0]:function(t){return r.reduce(function(t,e){return e(t)},t)})(this);var r}},{key:"toPromise",value:function(t){var e=this;return new(t=f(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}}]),t}()).create=function(t){return new r(t)},r);function f(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;h(this,t),this.SchedulerAction=e,this.now=n}return p(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){v(n,t);var e=g(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return h(this,n),(i=e.call(this,t,function(){return n.delegate&&n.delegate!==b(i)?n.delegate.now():o()})).actions=[],i.active=!1,i.scheduled=void 0,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):f(_(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.3.1","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return Object(r.a)(a)?(e.pop(),Object(o.a)(e,a)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[a.a])return l=t,function(t){var e=l[a.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,l,f=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(f," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=e[e.length-1];return Object(i.a)(c)?(u=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof c&&(s=e.pop()),null===u&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(s)(Object(a.a)(e,u))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EY2u"),i=n("LRne"),o=n("z6cu"),a=function(){var t=function(){function t(e,n,r){h(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return p(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}();return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),c=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),l=function(){var t=function(t){v(n,t);var e=g(n);function n(){var t;return h(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return p(n,[{key:u.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new d(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new a.a;return f(_(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new d(t,e)},t}(),d=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).destination=t,i.source=r,i}return p(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return p(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,n,r){"use strict";r.d(n,"a",function(){return mn}),r.d(n,"b",function(){return $c}),r.d(n,"c",function(){return Qc}),r.d(n,"d",function(){return Kc}),r.d(n,"e",function(){return Wc}),r.d(n,"f",function(){return Gl}),r.d(n,"g",function(){return Pl}),r.d(n,"h",function(){return Ku}),r.d(n,"i",function(){return ll}),r.d(n,"j",function(){return yu}),r.d(n,"k",function(){return nl}),r.d(n,"l",function(){return wu}),r.d(n,"m",function(){return Rr}),r.d(n,"n",function(){return Sc}),r.d(n,"o",function(){return No}),r.d(n,"p",function(){return Fn}),r.d(n,"q",function(){return H}),r.d(n,"r",function(){return gn}),r.d(n,"s",function(){return Qo}),r.d(n,"t",function(){return Uu}),r.d(n,"u",function(){return qu}),r.d(n,"v",function(){return el}),r.d(n,"w",function(){return nc}),r.d(n,"x",function(){return Ml}),r.d(n,"y",function(){return ec}),r.d(n,"z",function(){return Al}),r.d(n,"A",function(){return dl}),r.d(n,"B",function(){return Un}),r.d(n,"C",function(){return Xc}),r.d(n,"D",function(){return Yc}),r.d(n,"E",function(){return Tc}),r.d(n,"F",function(){return Eu}),r.d(n,"G",function(){return ku}),r.d(n,"H",function(){return Ur}),r.d(n,"I",function(){return Su}),r.d(n,"J",function(){return Tr}),r.d(n,"K",function(){return Vn}),r.d(n,"L",function(){return Vl}),r.d(n,"M",function(){return Xu}),r.d(n,"N",function(){return wl}),r.d(n,"O",function(){return bn}),r.d(n,"P",function(){return Tu}),r.d(n,"Q",function(){return Iu}),r.d(n,"R",function(){return ic}),r.d(n,"S",function(){return Q}),r.d(n,"T",function(){return jl}),r.d(n,"U",function(){return Cl}),r.d(n,"V",function(){return S}),r.d(n,"W",function(){return Tl}),r.d(n,"X",function(){return Hl}),r.d(n,"Y",function(){return kl}),r.d(n,"Z",function(){return tl}),r.d(n,"ab",function(){return Po}),r.d(n,"bb",function(){return ps}),r.d(n,"cb",function(){return Sr}),r.d(n,"db",function(){return sr}),r.d(n,"eb",function(){return Zn}),r.d(n,"fb",function(){return Yn}),r.d(n,"gb",function(){return er}),r.d(n,"hb",function(){return $n}),r.d(n,"ib",function(){return Xn}),r.d(n,"jb",function(){return tr}),r.d(n,"kb",function(){return ls}),r.d(n,"lb",function(){return Bl}),r.d(n,"mb",function(){return fs}),r.d(n,"nb",function(){return hs}),r.d(n,"ob",function(){return Jn}),r.d(n,"pb",function(){return $}),r.d(n,"qb",function(){return ia}),r.d(n,"rb",function(){return Oa}),r.d(n,"sb",function(){return ka}),r.d(n,"tb",function(){return Ea}),r.d(n,"ub",function(){return cs}),r.d(n,"vb",function(){return Lt}),r.d(n,"wb",function(){return k}),r.d(n,"xb",function(){return Qn}),r.d(n,"yb",function(){return Jo}),r.d(n,"zb",function(){return jt}),r.d(n,"Ab",function(){return du}),r.d(n,"Bb",function(){return Ni}),r.d(n,"Cb",function(){return ca}),r.d(n,"Db",function(){return Ba}),r.d(n,"Eb",function(){return is}),r.d(n,"Fb",function(){return qa}),r.d(n,"Gb",function(){return Uc}),r.d(n,"Hb",function(){return ft}),r.d(n,"Ib",function(){return mt}),r.d(n,"Jb",function(){return N}),r.d(n,"Kb",function(){return D}),r.d(n,"Lb",function(){return vt}),r.d(n,"Mb",function(){return bt}),r.d(n,"Nb",function(){return da}),r.d(n,"Ob",function(){return ma}),r.d(n,"Pb",function(){return wa}),r.d(n,"Qb",function(){return ba}),r.d(n,"Rb",function(){return ga}),r.d(n,"Sb",function(){return ya}),r.d(n,"Tb",function(){return _a}),r.d(n,"Ub",function(){return dn}),r.d(n,"Vb",function(){return os}),r.d(n,"Wb",function(){return ru}),r.d(n,"Xb",function(){return ou}),r.d(n,"Yb",function(){return iu}),r.d(n,"Zb",function(){return Dn}),r.d(n,"ac",function(){return vn}),r.d(n,"bc",function(){return Gc}),r.d(n,"cc",function(){return Sa}),r.d(n,"dc",function(){return Vc}),r.d(n,"ec",function(){return je}),r.d(n,"fc",function(){return Ae}),r.d(n,"gc",function(){return Ca}),r.d(n,"hc",function(){return Ec}),r.d(n,"ic",function(){return Oc}),r.d(n,"jc",function(){return ja}),r.d(n,"kc",function(){return Aa}),r.d(n,"lc",function(){return pa}),r.d(n,"mc",function(){return Ra}),r.d(n,"nc",function(){return Na}),r.d(n,"oc",function(){return mc}),r.d(n,"pc",function(){return bc}),r.d(n,"qc",function(){return wc}),r.d(n,"rc",function(){return Mc}),r.d(n,"sc",function(){return ha}),r.d(n,"tc",function(){return ne}),r.d(n,"uc",function(){return Cr}),r.d(n,"vc",function(){return yt}),r.d(n,"wc",function(){return Va}),r.d(n,"xc",function(){return fa}),r.d(n,"yc",function(){return zc}),r.d(n,"zc",function(){return ts}),r.d(n,"Ac",function(){return es}),r.d(n,"Bc",function(){return ns}),r.d(n,"Cc",function(){return rs}),r.d(n,"Dc",function(){return Fc});var o=r("XNiG"),s=r("quSY"),u=r("HDdC"),d=r("VRyK"),y=r("w1tV");function m(t){for(var e in t)if(t[e]===m)return e;throw Error("Could not find renamed property on target object.")}function w(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function k(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(k).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function E(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var O=m({__forward_ref__:m});function S(t){return t.__forward_ref__=S,t.toString=function(){return k(this())},t}function I(t){return T(t)?t():t}function T(t){return"function"==typeof t&&t.hasOwnProperty(O)&&t.__forward_ref__===S}var C=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,r))).code=t,i}return n}(c(Error));function x(t){return"string"==typeof t?t:null==t?"":String(t)}function A(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():x(t)}function j(t,e){var n=e?" in ".concat(e):"";throw new C("201","No provider for ".concat(A(t)," found").concat(n))}function R(t,e,n,r){throw new Error("ASSERTION ERROR: ".concat(t)+(null==r?"":" [Expected=> ".concat(n," ").concat(r," ").concat(e," <=Actual]")))}function N(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function D(t){return{providers:t.providers||[],imports:t.imports||[]}}function P(t){return L(t,U)||L(t,q)}function L(t,e){return t.hasOwnProperty(e)?t[e]:null}function M(t){return t&&(t.hasOwnProperty(V)||t.hasOwnProperty(B))?t[V]:null}var F,U=m({"\u0275prov":m}),V=m({"\u0275inj":m}),q=m({ngInjectableDef:m}),B=m({ngInjectorDef:m}),H=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function z(t){var e=F;return F=t,e}function G(t,e,n){var r=P(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&H.Optional?null:void 0!==e?e:void j(k(t),"Injector")}function K(t){return{toString:t}.toString()}var W=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Q=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),Z="undefined"!=typeof globalThis&&globalThis,J="undefined"!=typeof window&&window,Y="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,X="undefined"!=typeof global&&global,$=Z||X||J||Y,tt={},et=[],nt=[],rt=m({"\u0275cmp":m}),it=m({"\u0275dir":m}),ot=m({"\u0275pipe":m}),at=m({"\u0275mod":m}),st=m({"\u0275loc":m}),ut=m({"\u0275fac":m}),ct=m({__NG_ELEMENT_ID__:m}),lt=0;function ft(t){return K(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===W.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||nt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Q.Emulated,id:"c",styles:t.styles||nt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=lt++,n.inputs=gt(t.inputs,e),n.outputs=gt(t.outputs),i&&i.forEach(function(t){return t(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(ht)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(dt)}:null,n})}function ht(t){return wt(t)||function(t){return t[it]||null}(t)}function dt(t){return function(t){return t[ot]||null}(t)}var pt={};function vt(t){var e={type:t.type,bootstrap:t.bootstrap||nt,declarations:t.declarations||nt,imports:t.imports||nt,exports:t.exports||nt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&K(function(){pt[t.id]=t.type}),e}function yt(t,e){return K(function(){var n=_t(t,!0);n.declarations=e.declarations||nt,n.imports=e.imports||nt,n.exports=e.exports||nt})}function gt(t,e){if(null==t)return tt;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var mt=ft;function bt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function wt(t){return t[rt]||null}function _t(t,e){var n=t[at]||null;if(!n&&!0===e)throw new Error("Type ".concat(k(t)," does not have '\u0275mod' property."));return n}function kt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Et(t){return Array.isArray(t)&&!0===t[1]}function Ot(t){return 0!=(8&t.flags)}function St(t){return 2==(2&t.flags)}function It(t){return 1==(1&t.flags)}function Tt(t){return null!==t.template}function Ct(t,e){return t.hasOwnProperty(ut)?t[ut]:null}var xt,At=function(){function t(e,n,r){h(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return p(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function jt(){return Rt}function Rt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Dt),Nt}function Nt(){var t=Pt(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===tt)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Dt(t,e,n,r){var i=Pt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:tt,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new At(u&&u.currentValue,e,a===tt),t[r]=e}function Pt(t){return t.__ngSimpleChanges__||null}function Lt(t){xt=t}function Mt(){return void 0!==xt?xt:"undefined"!=typeof document?document:void 0}function Ft(t){return!!t.listen}jt.ngInherit=!0;var Ut={createRenderer:function(t,e){return Mt()}};function Vt(t){for(;Array.isArray(t);)t=t[0];return t}function qt(t,e){return Vt(e[t])}function Bt(t,e){return Vt(e[t.index])}function Ht(t,e){return t.data[e]}function zt(t,e){return t[e]}function Gt(t,e){var n=e[t];return kt(n)?n:n[0]}function Kt(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Wt(t){return 4==(4&t[2])}function Qt(t){return 128==(128&t[2])}function Zt(t,e){return null==e?null:t[e]}function Jt(t){t[18]=0}function Yt(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var Xt={lFrame:Ee(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function $t(){return Xt.bindingsEnabled}function te(){return Xt.lFrame.lView}function ee(){return Xt.lFrame.tView}function ne(t){Xt.lFrame.contextLView=t}function re(){for(var t=ie();null!==t&&64===t.type;)t=t.parent;return t}function ie(){return Xt.lFrame.currentTNode}function oe(){var t=Xt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ae(t,e){var n=Xt.lFrame;n.currentTNode=t,n.isParent=e}function se(){return Xt.lFrame.isParent}function ue(){Xt.lFrame.isParent=!1}function ce(){return Xt.isInCheckNoChangesMode}function le(t){Xt.isInCheckNoChangesMode=t}function fe(){var t=Xt.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function he(){return Xt.lFrame.bindingIndex}function de(){return Xt.lFrame.bindingIndex++}function pe(t){var e=Xt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ve(t){Xt.lFrame.inI18n=t}function ye(t){Xt.lFrame.currentDirectiveIndex=t}function ge(){return Xt.lFrame.currentQueryIndex}function me(t){Xt.lFrame.currentQueryIndex=t}function be(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function we(t,e,n){if(n&H.SkipSelf){for(var r=e,i=t;!(null!==(r=r.parent)||n&H.Host||(r=be(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}var o=Xt.lFrame=ke();return o.currentTNode=e,o.lView=t,!0}function _e(t){var e=ke(),n=t[1];Xt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ke(){var t=Xt.lFrame,e=null===t?null:t.child;return null===e?Ee(t):e}function Ee(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Oe(){var t=Xt.lFrame;return Xt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Se=Oe;function Ie(){var t=Oe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Te(){return Xt.lFrame.selectedIndex}function Ce(t){Xt.lFrame.selectedIndex=t}function xe(){var t=Xt.lFrame;return Ht(t.tView,t.selectedIndex)}function Ae(){Xt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function je(){Xt.lFrame.currentNamespace=null}function Re(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Ne(t,e,n){Le(t,e,3,n)}function De(t,e,n,r){(3&t[2])===n&&Le(t,e,n,r)}function Pe(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Le(t,e,n,r){for(var i=null!=r?r:-1,o=e.length-1,a=0,s=void 0!==r?65535&t[18]:0;s<o;s++)if("number"==typeof e[s+1]){if(a=e[s],null!=r&&a>=r)break}else e[s]<0&&(t[18]+=65536),(a<i||-1==i)&&(Me(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Me(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var Fe=function t(e,n,r){h(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Ue(t,e,n){for(var r=Ft(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];qe(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Ve(t){return 3===t||4===t||6===t}function qe(t){return 64===t.charCodeAt(0)}function Be(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||He(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function He(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function ze(t){return-1!==t}function Ge(t){return 32767&t}function Ke(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}var We=!0;function Qe(t){var e=We;return We=t,e}var Ze=0;function Je(t,e){var n=Xe(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ye(r.data,t),Ye(e,null),Ye(r.blueprint,null));var i=$e(t,e),o=t.injectorIndex;if(ze(i))for(var a=Ge(i),s=Ke(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function Ye(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Xe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function $e(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function tn(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ct)&&(r=n[ct]),null==r&&(r=n[ct]=Ze++);var i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function en(t,e,n){if(n&H.Optional)return t;j(e,"NodeInjector")}function nn(t,e,n,r){if(n&H.Optional&&void 0===r&&(r=null),0==(n&(H.Self|H.Host))){var i=t[9],o=z(void 0);try{return i?i.get(e,r,n&H.Optional):G(e,r,n&H.Optional)}finally{z(o)}}return en(r,e,n)}function rn(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(ct)?t[ct]:void 0;return"number"==typeof e?e>=0?255&e:an:e}(n);if("function"==typeof o){if(!we(e,t,r))return r&H.Host?en(i,n,r):nn(e,n,r,i);try{var a=o();if(null!=a||r&H.Optional)return a;j(n)}finally{Se()}}else if("number"==typeof o){var s=null,u=Xe(t,e),c=-1,l=r&H.Host?e[16][6]:null;for((-1===u||r&H.SkipSelf)&&(-1!==(c=-1===u?$e(t,e):e[u+8])&&fn(r,!1)?(s=e[1],u=Ge(c),e=Ke(c,e)):u=-1);-1!==u;){var f=e[1];if(ln(o,u,f.data)){var h=sn(u,e,n,s,r,l);if(h!==on)return h}-1!==(c=e[u+8])&&fn(r,e[1].data[u+8]===l)&&ln(o,u,e)?(s=f,u=Ge(c),e=Ke(c,e)):u=-1}}}return nn(e,n,r,i)}var on={};function an(){return new hn(re(),te())}function sn(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=un(s,a,n,null==r?St(s)&&We:r!=a&&0!=(3&s.type),i&H.Host&&o===s);return null!==u?cn(e,a,u,s):on}function un(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=1048575&o,u=t.directiveStart,c=o>>20,l=i?s+c:t.directiveEnd,f=r?s:s+c;f<l;f++){var h=a[f];if(f<u&&n===h||f>=u&&h.type===n)return f}if(i){var d=a[u];if(d&&Tt(d)&&d.type===n)return u}return null}function cn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Fe){var a=i;a.resolving&&function(t,e){throw new C("200","Circular dependency in DI detected for ".concat(t))}(A(o[n]));var s=Qe(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?z(a.injectImpl):null;we(t,r,H.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,a=r.ngDoCheck;if(i){var s=Rt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a))}(n,o[n],e)}finally{null!==u&&z(u),Qe(s),a.resolving=!1,Se()}}return i}function ln(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function fn(t,e){return!(t&H.Self||t&H.Host&&e)}var hn=function(){function t(e,n){h(this,t),this._tNode=e,this._lView=n}return p(t,[{key:"get",value:function(t,e){return rn(this._tNode,this._lView,t,void 0,e)}}]),t}();function dn(t){return K(function(){for(var e=t.prototype.constructor,n=e[ut]||pn(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[ut]||pn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}})}function pn(t){return T(t)?function(){var e=pn(I(t));return e&&e()}:Ct(t)}function vn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Ve(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(re(),t)}function yn(t,e,n){return K(function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=l(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var gn=function(){function t(e,n){h(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=N({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return p(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),mn=new gn("AnalyzeForEntryComponents"),bn=Function;function wn(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),wn(r,e)):e!==t&&e.push(r)}return e}function _n(t,e){t.forEach(function(t){return Array.isArray(t)?_n(t,e):e(t)})}function kn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function En(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function On(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function Sn(t,e,n){var r=Tn(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function In(t,e){var n=Tn(t,e);if(n>=0)return t[1|n]}function Tn(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var Cn,xn={},An=/\n/gm,jn=m({provide:String,useValue:m});function Rn(t){var e=Cn;return Cn=t,e}function Nn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.Default;if(void 0===Cn)throw new Error("inject() must be called from an injection context");return null===Cn?G(t,void 0,e):Cn.get(t,e&H.Optional?null:void 0,e)}function Dn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.Default;return(F||Nn)(I(t),e)}function Pn(t){for(var e=[],n=0;n<t.length;n++){var r=I(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=H.Default,a=0;a<r.length;a++){var s=r[a],u=s.__NG_DI_FLAG__;"number"==typeof u?-1===u?i=s.token:o|=u:i=s}e.push(Dn(i,o))}else e.push(Dn(r))}return e}function Ln(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}var Mn,Fn=Ln(yn("Inject",function(t){return{token:t}}),-1),Un=Ln(yn("Optional"),8),Vn=Ln(yn("SkipSelf"),4);function qn(t){var e;return(null===(e=function(){if(void 0===Mn&&(Mn=null,$.trustedTypes))try{Mn=$.trustedTypes.createPolicy("angular",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(e){}return Mn}())||void 0===e?void 0:e.createHTML(t))||t}var Bn=function(){function t(e){h(this,t),this.changingThisBreaksApplicationSecurity=e}return p(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),t}(),Hn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Bn),zn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Bn),Gn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Bn),Kn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Bn),Wn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Bn);function Qn(t){return t instanceof Bn?t.changingThisBreaksApplicationSecurity:t}function Zn(t,e){var n=Jn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}function Jn(t){return t instanceof Bn&&t.getTypeName()||null}function Yn(t){return new Hn(t)}function Xn(t){return new zn(t)}function $n(t){return new Gn(t)}function tr(t){return new Kn(t)}function er(t){return new Wn(t)}function nr(t){var e=new ir(t);return function(){try{return!!(new window.DOMParser).parseFromString(qn(""),"text/html")}catch(t){return!1}}()?new rr(e):e}var rr=function(){function t(e){h(this,t),this.inertDocumentHelper=e}return p(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(qn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(n){return null}}}]),t}(),ir=function(){function t(e){if(h(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return p(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=qn(t),e;var n=this.inertDocument.createElement("body");return n.innerHTML=qn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),or=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ar=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function sr(t){return(t=String(t)).match(or)||t.match(ar)?t:"unsafe:"+t}function ur(t){return(t=String(t)).split(",").map(function(t){return sr(t.trim())}).join(", ")}function cr(t){var e,n={},r=a(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function lr(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var fr,hr=cr("area,br,col,hr,img,wbr"),dr=cr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pr=cr("rp,rt"),vr=lr(pr,dr),yr=lr(hr,lr(dr,cr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lr(pr,cr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vr),gr=cr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mr=cr("srcset"),br=lr(gr,mr,cr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wr=cr("script,style,template"),_r=function(){function t(){h(this,t),this.sanitizedSomething=!1,this.buf=[]}return p(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!yr.hasOwnProperty(e))return this.sanitizedSomething=!0,!wr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n=t.attributes,r=0;r<n.length;r++){var i=n.item(r),o=i.name,a=o.toLowerCase();if(br.hasOwnProperty(a)){var s=i.value;gr[a]&&(s=sr(s)),mr[a]&&(s=ur(s)),this.buf.push(" ",o,'="',Or(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();yr.hasOwnProperty(e)&&!hr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(Or(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),kr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Er=/([^\#-~ |!])/g;function Or(t){return t.replace(/&/g,"&amp;").replace(kr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Er,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Sr(t,e){var n=null;try{fr=fr||nr(t);var r=e?String(e):"";n=fr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=fr.getInertBodyElement(r)}while(r!==o);return qn((new _r).sanitizeChildren(Ir(n)||n))}finally{if(n)for(var a=Ir(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}function Ir(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Tr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Cr(t){var e,n=(e=te())&&e[12];return n?n.sanitize(Tr.URL,t)||"":Zn(t,"URL")?Qn(t):sr(x(t))}function xr(t){return t.ngDebugContext}function Ar(t){return t.ngOriginalError}function jr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Rr=function(){function t(){h(this,t),this._console=console}return p(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||jr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?xr(t)?xr(t):this._findContext(Ar(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Ar(t);e&&Ar(e);)e=Ar(e);return e}}]),t}(),Nr=/^>|^->|<!--|-->|--!>|<!-$/g,Dr=/(<|>)/;function Pr(t,e){t.__ngContext__=e}var Lr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($);function Mr(t){return t instanceof Function?t():t}var Fr,Ur=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Vr(t,e){return Fr(t,e)}function qr(t){var e=t[3];return Et(e)?e[3]:e}function Br(t){return zr(t[13])}function Hr(t){return zr(t[4])}function zr(t){for(;null!==t&&!Et(t);)t=t[4];return t}function Gr(t,e,n,r,i){if(null!=r){var o,a=!1;Et(r)?o=r:kt(r)&&(a=!0,r=r[0]);var s=Vt(r);0===t&&null!==n?null==i?ri(e,n,s):ni(e,n,s,i||null,!0):1===t&&null!==n?ni(e,n,s,i||null,!0):2===t?vi(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Vt(n)&&Gr(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];gi(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function Kr(t,e){return Ft(t)?t.createText(e):t.createTextNode(e)}function Wr(t,e,n){Ft(t)?t.setValue(e,n):e.textContent=n}function Qr(t,e){return t.createComment(function(t){return t.replace(Nr,function(t){return t.replace(Dr,"\u200b$1\u200b")})}(e))}function Zr(t,e,n){return Ft(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Jr(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Yt(i,-1)),n.splice(r,1)}function Yr(t,e){if(!(t.length<=10)){var n,r=10+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&Jr(o,i),e>0&&(t[r-1][4]=i[4]);var a=En(t,10+e);gi(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Xr(t,e){if(!(256&e[2])){var n=e[11];Ft(n)&&n.destroyNode&&gi(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return $r(t[1],t);for(;e;){var n=null;if(kt(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)kt(e)&&$r(e[1],e),e=e[3];null===e&&(e=t),kt(e)&&$r(e[1],e),n=e&&e[4]}e=n}}(e)}}function $r(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Fe)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup,r=e[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(e):Vt(e[a]),u=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var f=i+1;f<r.length;f++)(0,r[f])();e[7]=null}}(t,e),1===e[1].type&&Ft(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&Et(e[3])){n!==e[3]&&Jr(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function ti(t,e,n){return ei(t,e.parent,n)}function ei(t,e,n){for(var r=e;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){var i=t.data[r.directiveStart].encapsulation;if(i===Q.None||i===Q.Emulated)return null}return Bt(r,n)}function ni(t,e,n,r,i){Ft(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function ri(t,e,n){Ft(t)?t.appendChild(e,n):e.appendChild(n)}function ii(t,e,n,r,i){null!==r?ni(t,e,n,r,i):ri(t,e,n)}function oi(t,e){return Ft(t)?t.parentNode(e):e.parentNode}function ai(t,e,n){return ci(t,e,n)}function si(t,e,n){return 40&t.type?Bt(t,n):null}var ui,ci=si;function li(t,e){ci=t,ui=e}function fi(t,e,n,r){var i=ti(t,r,e),o=e[11],a=ai(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)ii(o,i,n[s],a,!1);else ii(o,i,n,a,!1);void 0!==ui&&ui(o,r,e,n,i)}function hi(t,e){if(null!==e){var n=e.type;if(3&n)return Bt(e,t);if(4&n)return pi(-1,t[e.index]);if(8&n){var r=e.child;if(null!==r)return hi(t,r);var i=t[e.index];return Et(i)?pi(-1,i):Vt(i)}if(32&n)return Vr(e,t)()||Vt(t[e.index]);var o=di(t,e);return null!==o?Array.isArray(o)?o[0]:hi(qr(t[16]),o):hi(t,e.next)}return null}function di(t,e){return null!==e?t[16][6].projection[e.projection]:null}function pi(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return hi(r,i)}return e[7]}function vi(t,e,n){var r=oi(t,e);r&&function(t,e,n,r){Ft(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function yi(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;if(a&&0===e&&(s&&Pr(Vt(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)yi(t,e,n.child,r,i,o,!1),Gr(e,t,i,s,o);else if(32&u){for(var c=Vr(n,r),l=void 0;l=c();)Gr(e,t,i,l,o);Gr(e,t,i,s,o)}else 16&u?mi(t,e,r,n,i,o):Gr(e,t,i,s,o);n=a?n.projectionNext:n.next}}function gi(t,e,n,r,i,o){yi(n,r,t.firstChild,e,i,o,!1)}function mi(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Gr(e,t,i,s[u],o);else yi(t,e,s,a[3],i,o,!0)}function bi(t,e,n){Ft(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function wi(t,e,n){Ft(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function _i(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function ki(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==_i((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Ei(t){return 4===t.type&&"ng-template"!==t.value}function Oi(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function Si(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Ve(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!Oi(t,u,n)||""===u&&1===e.length){if(Ii(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!ki(t.attrs,c,n)){if(Ii(r))return!1;a=!0}continue}var l=Ti(8&r?"class":u,i,Ei(t),n);if(-1===l){if(Ii(r))return!1;a=!0;continue}if(""!==c){var f;f=l>o?"":i[l+1].toLowerCase();var h=8&r?f:null;if(h&&-1!==_i(h,c,0)||2&r&&c!==f){if(Ii(r))return!1;a=!0}}}}else{if(!a&&!Ii(r)&&!Ii(u))return!1;if(a&&Ii(u))continue;a=!1,r=u|1&r}}return Ii(r)||a}function Ii(t){return 0==(1&t)}function Ti(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ci(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(Si(t,e[r],n))return!0;return!1}function xi(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}function Ai(t,e){return t?":not("+e.trim()+")":e}function ji(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Ii(a)||(e+=Ai(o,i),i=""),r=a,o=o||!Ii(r);n++}return""!==i&&(e+=Ai(o,i)),e}var Ri={};function Ni(t){Di(ee(),te(),Te()+t,ce())}function Di(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&Ne(e,i,n)}else{var o=t.preOrderHooks;null!==o&&De(e,o,0,n)}Ce(n)}function Pi(t,e){return t<<17|e<<2}function Li(t){return t>>17&32767}function Mi(t){return 2|t}function Fi(t){return(131068&t)>>2}function Ui(t,e){return-131069&t|e<<2}function Vi(t){return 1|t}function qi(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];me(i),a.contentQueries(2,e[o],o)}}}function Bi(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Jt(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Hi(t,e,n,r,i){var o=t.data[e];if(null===o)o=zi(t,e,n,r,i),Xt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;var a=oe();o.injectorIndex=null===a?-1:a.injectorIndex}return ae(o,!0),o}function zi(t,e,n,r,i){var o=ie(),a=se(),s=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}function Gi(t,e,n,r){if(0===n)return-1;for(var i=e.length,o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ki(t,e,n){_e(e);try{var r=t.viewQuery;null!==r&&Oo(1,r,n);var i=t.template;null!==i&&Zi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&qi(t,e),t.staticViewQueries&&Oo(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)bo(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,Ie()}}function Wi(t,e,n,r){var i=e[2];if(256!=(256&i)){_e(e);var o=ce();try{Jt(e),Xt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Zi(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&Ne(e,s,null)}else{var u=t.preOrderHooks;null!==u&&De(e,u,0,null),Pe(e,0)}if(function(t){for(var e=Br(t);null!==e;e=Hr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Yt(o,1),i[2]|=1024}}(e),function(t){for(var e=Br(t);null!==e;e=Hr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Qt(r)&&Wi(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&qi(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&Ne(e,c)}else{var l=t.contentHooks;null!==l&&De(e,l,1),Pe(e,1)}!function(t,e){var n,r,i,o=t.hostBindingOpCodes;if(null!==o)try{for(var a=0;a<o.length;a++){var s=o[a];if(s<0)Ce(~s);else{var u=s,c=o[++a],l=o[++a];n=c,r=u,i=void 0,(i=Xt.lFrame).bindingIndex=i.bindingRootIndex=n,ye(r),l(2,e[u])}}}finally{Ce(-1)}}(t,e);var f=t.components;null!==f&&function(t,e){for(var n=0;n<e.length;n++)go(t,e[n])}(e,f);var h=t.viewQuery;if(null!==h&&Oo(2,h,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&Ne(e,d)}else{var p=t.viewHooks;null!==p&&De(e,p,2),Pe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Yt(e[3],-1))}finally{Ie()}}}function Qi(t,e,n,r){var i=e[10],o=!ce(),a=Wt(e);try{o&&!a&&i.begin&&i.begin(),a&&Ki(t,e,r),Wi(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Zi(t,e,n,r,i){var o=Te();try{Ce(-1),2&r&&e.length>20&&Di(t,e,20,ce()),n(r,i)}finally{Ce(o)}}function Ji(t,e,n){if(Ot(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Yi(t,e,n){$t()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Je(n,e),Pr(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=Tt(u);c&&fo(e,n,u);var l=cn(e,t,s,n);Pr(l,e),null!==a&&po(0,s-i,l,u,0,a),c&&(Gt(n.index,e)[8]=l)}}(t,e,n,Bt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Xt.lFrame.currentDirectiveIndex;try{Ce(o);for(var s=r;s<i;s++){var u=t.data[s],c=e[s];ye(s),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||ao(u,c)}}finally{Ce(-1),ye(a)}}(t,e,n))}function Xi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function $i(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=to(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function to(t,e,n,r,i,o,a,s,u,c){var l=20+r,f=l+i,h=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:Ri);return n}(l,f),d="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:s,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function eo(t,e,n,r){var i=Io(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&To(t).push(r,i.length-1))}function no(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ro(t,e,n,r,i,o,a,s){var u,c,l=Bt(e,n),f=e.inputs;!s&&null!=f&&(u=f[r])?(xo(t,n,u,r,i),St(e)&&function(t,e){var n=Gt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,e.value||"",r):i,Ft(o)?o.setProperty(l,r,i):qe(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function io(t,e,n,r){var i=!1;if($t()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Ci(n,a.selectors,!1)&&(i||(i=[]),tn(Je(n,e),t,a.type),Tt(a)?(so(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){i=!0,co(n,t.data.length,o.length);for(var s=0;s<o.length;s++){var u=o[s];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,f=Gi(t,e,o.length,null),h=0;h<o.length;h++){var d=o[h];n.mergedAttrs=Be(n.mergedAttrs,d.hostAttrs),lo(t,n,e,f,d),uo(f,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),f++}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,f=null===i||Ei(e)?null:vo(l,i);o.push(f),a=no(l,u,a),s=no(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new C("301","Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=Be(n.mergedAttrs,n.attrs),i}function oo(t,e,n,r,i,o){var a=o.hostBindings;if(a){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var u=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,i,a)}}function ao(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function so(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function uo(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Tt(e)&&(n[""]=t)}}function co(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function lo(t,e,n,r,i){t.data[r]=i;var o=i.factory||(i.factory=Ct(i.type)),a=new Fe(o,Tt(i),null);t.blueprint[r]=a,n[r]=a,oo(t,e,0,r,Gi(t,n,i.hostVars,Ri),i)}function fo(t,e,n){var r=Bt(e,t),i=$i(n),o=t[10],a=wo(t,Bi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=a}function ho(t,e,n,r,i,o,a){if(null==o)Ft(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{var s=null==a?x(o):a(o,r||"",i);Ft(t)?t.setAttribute(e,i,s,n):n?e.setAttributeNS(n,i,s):e.setAttribute(i,s)}}function po(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],f=a[u++];null!==s?r.setInput(n,f,c,l):n[l]=f}}function vo(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function yo(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function go(t,e){var n=Gt(e,t);if(Qt(n)){var r=n[1];80&n[2]?Wi(r,n,r.template,n[8]):n[5]>0&&mo(n)}}function mo(t){for(var e=Br(t);null!==e;e=Hr(e))for(var n=10;n<e.length;n++){var r=e[n];if(1024&r[2]){var i=r[1];Wi(i,r,i.template,r[8])}else r[5]>0&&mo(r)}var o=t[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=Gt(o[a],t);Qt(s)&&s[5]>0&&mo(s)}}function bo(t,e){var n=Gt(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ki(r,n,n[8])}function wo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function _o(t){for(;t;){t[2]|=64;var e=qr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function ko(t,e,n){var r=e[10];r.begin&&r.begin();try{Wi(t,e,t.template,n)}catch(i){throw Co(e,i),i}finally{r.end&&r.end()}}function Eo(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Kt(n),i=r[1];Qi(i,r,i.template,n)}}(t[8])}function Oo(t,e,n){me(0),e(t,n)}var So=Promise.resolve(null);function Io(t){return t[7]||(t[7]=[])}function To(t){return t.cleanup||(t.cleanup=[])}function Co(t,e){var n=t[9],r=n?n.get(Rr,null):null;r&&r.handleError(e)}function xo(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function Ao(t,e,n){var r=qt(e,t);Wr(t[11],r,n)}function jo(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=E(i,s):2==o&&(r=E(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ro,No=new gn("INJECTOR",-1),Do=function(){function t(){h(this,t)}return p(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xn;if(e===xn){var n=new Error("NullInjectorError: No provider for ".concat(k(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),Po=new gn("Set Injector scope."),Lo={},Mo={},Fo=[];function Uo(){return void 0===Ro&&(Ro=new Do),Ro}function Vo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new qo(t,n,e||Uo(),r)}var qo=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&_n(n,function(t){return i.processProvider(t,e,n)}),_n([e],function(t){return i.processInjectorType(t,[],a)}),this.records.set(No,zo(void 0,this));var s=this.records.get(Po);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:k(e))}return p(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H.Default;this.assertNotDestroyed();var r,i=Rn(this);try{if(!(n&H.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof gn)&&P(t);o=a&&this.injectableDefInScope(a)?zo(Bo(t),Lo):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&H.Self?Uo():this.parent).get(t,e=n&H.Optional&&e===xn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(k(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=k(e);if(Array.isArray(e))i=e.map(k).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):k(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(An,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{Rn(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(k(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=I(t)))return!1;var i=M(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=M(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{_n(i.imports,function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))})}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;_n(i,function(t){return r.processProvider(t,n,i||Fo)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a);var f=Ct(a)||function(){return new a};this.records.set(a,zo(f,Lo));var h=i.providers;if(null!=h&&!s){var d=t;_n(h,function(t){return r.processProvider(t,d,h)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=Ko(t=I(t))?t:I(t&&t.provide),i=function(t,e,n){return Go(t)?zo(void 0,t.useValue):zo(Ho(t),Lo)}(t);if(Ko(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=zo(void 0,Lo,!0)).factory=function(){return Pn(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===Lo&&(e.value=Mo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}]),t}();function Bo(t){var e=P(t),n=null!==e?e.factory:Ct(t);if(null!==n)return n;if(t instanceof gn)throw new Error("Token ".concat(k(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=On(e,"?");throw new Error("Can't resolve all parameters for ".concat(k(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[U]||t[q]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function Ho(t,e,n){var r,o;if(Ko(t)){var a=I(t);return Ct(a)||Bo(a)}if(Go(t))r=function(){return I(t.useValue)};else if((o=t)&&o.useFactory)r=function(){return t.useFactory.apply(t,i(Pn(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))r=function(){return Dn(I(t.useExisting))};else{var s=I(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Ct(s)||Bo(s);r=function(){return l(s,i(Pn(t.deps)))}}return r}function zo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function Go(t){return null!==t&&"object"==typeof t&&jn in t}function Ko(t){return"function"==typeof t}var Wo=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=Vo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},Qo=function(){var t=function(){function t(){h(this,t)}return p(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Wo(t,e,""):Wo(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=xn,t.NULL=new Do,t.\u0275prov=N({token:t,providedIn:"any",factory:function(){return Dn(No)}}),t.__NG_ELEMENT_ID__=-1,t}();function Zo(t,e){Re(Kt(t)[1],re())}function Jo(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(Tt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=Yo(t.inputs),o.declaredInputs=Yo(t.declaredInputs),o.outputs=Yo(t.outputs);var a=i.hostBindings;a&&ta(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&Xo(t,s),u&&$o(t,u),w(t.inputs,i.inputs),w(t.declaredInputs,i.declaredInputs),w(t.outputs,i.outputs),Tt(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var f=0;f<l.length;f++){var h=l[f];h&&h.ngInherit&&h(t),h===Jo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Be(i.hostAttrs,n=Be(n,i.hostAttrs))}}(r)}function Yo(t){return t===tt?{}:t===nt?[]:t}function Xo(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function $o(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function ta(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var ea=null;function na(){if(!ea){var t=$.Symbol;if(t&&t.iterator)ea=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ea=r)}}return ea}var ra=function(){function t(e){h(this,t),this.wrapped=e}return p(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function ia(t){return!!oa(t)&&(Array.isArray(t)||!(t instanceof Map)&&na()in t)}function oa(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function aa(t,e,n){return t[e]=n}function sa(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ua(t,e,n,r){var i=sa(t,e,n);return sa(t,e+1,r)||i}function ca(t,e,n,r){var i=te();return sa(i,de(),e)&&(ee(),function(t,e,n,r,i,o){var a=Bt(t,e);ho(e[11],a,o,t.value,n,r,i)}(xe(),i,t,e,n,r)),ca}function la(t,e,n,r){return sa(t,de(),n)?e+x(n)+r:Ri}function fa(t,e,n,r,i,o,a,s){var u=te(),c=ee(),l=t+20,f=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=Hi(e,t,4,a||null,Zt(c,s));io(e,n,l,Zt(c,u)),Re(e,l);var f=l.tViews=to(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),f.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,a):c.data[l];ae(f,!1);var h=u[11].createComment("");fi(c,u,h,f),Pr(h,u),wo(u,u[l]=yo(h,u,h,f)),It(f)&&Yi(c,u,f),null!=a&&Xi(u,f,s)}function ha(t){return zt(Xt.lFrame.contextLView,20+t)}function da(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.Default,n=te();return null===n?Dn(t,e):rn(re(),n,I(t),e)}function pa(t,e,n){var r=te();return sa(r,de(),e)&&ro(ee(),xe(),r,t,e,r[11],n,!1),pa}function va(t,e,n,r,i){var o=i?"class":"style";xo(t,n,e.inputs[o],o,r)}function ya(t,e,n,r){var i=te(),o=ee(),a=20+t,s=i[11],u=i[a]=Zr(s,e,Xt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=Hi(e,t,2,i,Zt(s,o));return io(e,n,u,Zt(s,a)),null!==u.attrs&&jo(u,u.attrs,!1),null!==u.mergedAttrs&&jo(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(a,o,i,0,e,n,r):o.data[a];ae(c,!0);var l=c.mergedAttrs;null!==l&&Ue(s,u,l);var f=c.classes;null!==f&&wi(s,u,f);var h=c.styles;null!==h&&bi(s,u,h),64!=(64&c.flags)&&fi(o,i,u,c),0===Xt.lFrame.elementDepthCount&&Pr(u,i),Xt.lFrame.elementDepthCount++,It(c)&&(Yi(o,i,c),Ji(o,c,i)),null!==r&&Xi(i,c)}function ga(){var t=re();se()?ue():ae(t=t.parent,!1);var e=t;Xt.lFrame.elementDepthCount--;var n=ee();n.firstCreatePass&&(Re(n,t),Ot(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&va(n,e,te(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&va(n,e,te(),e.stylesWithoutHost,!1)}function ma(t,e,n,r){ya(t,e,n,r),ga()}function ba(t,e,n){var r=te(),i=ee(),o=t+20,a=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,a=Zt(o,r),s=Hi(e,t,8,"ng-container",a);return null!==a&&jo(s,a,!0),io(e,n,s,Zt(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(o,i,r,e,n):i.data[o];ae(a,!0);var s=r[o]=r[11].createComment("");fi(i,r,s,a),Pr(s,r),It(a)&&(Yi(i,r,a),Ji(i,a,r)),null!=n&&Xi(r,a)}function wa(){var t=re(),e=ee();se()?ue():ae(t=t.parent,!1),e.firstCreatePass&&(Re(e,t),Ot(t)&&e.queries.elementEnd(t))}function _a(){return te()}function ka(t){return!!t&&"function"==typeof t.then}function Ea(t){return!!t&&"function"==typeof t.subscribe}var Oa=Ea;function Sa(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=te(),o=ee(),a=re();return function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=It(r),c=t.firstCreatePass&&To(t),l=Io(e),f=!0;if(3&r.type){var h=Bt(r,e),d=s?s(h):tt,p=d.target||h,v=l.length,y=s?function(t){return s(Vt(t[r.index])).target}:r.index;if(Ft(n)){var g=null;if(!s&&u&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,f=!1;else{o=Ta(r,e,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=Ta(r,e,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,y,v,a)}else o=Ta(r,e,o,!1);var b,w=r.outputs;if(f&&null!==w&&(b=w[i])){var _=b.length;if(_)for(var k=0;k<_;k+=2){var E=e[b[k]][b[k+1]].subscribe(o),O=l.length;l.push(o,E),c&&c.push(i,r.index,O,-(O+1))}}}(o,i,i[11],a,t,e,n,r),Sa}function Ia(t,e,n){try{return!1!==e(n)}catch(r){return Co(t,r),!1}}function Ta(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?Gt(t.index,e):e;0==(32&e[2])&&_o(a);for(var s=Ia(e,n,o),u=i.__ngNextListenerFn__;u;)s=Ia(e,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Ca(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(Xt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Xt.lFrame.contextLView))[8]}(t)}function xa(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?Ci(t,o,!0):xi(r,o))return i}else n=i}return n}function Aa(t){var e=te()[16][6];if(!e.projection)for(var n=e.projection=On(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?xa(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function ja(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=te(),i=ee(),o=Hi(i,20+t,16,null,n||null);null===o.projection&&(o.projection=e),ue(),64!=(64&o.flags)&&function(t,e,n){mi(e[11],0,e,n,ti(t,n,e),ai(n.parent||e[6],n,e))}(i,r,o)}function Ra(t,e,n){return Na(t,"",e,"",n),Ra}function Na(t,e,n,r,i){var o=te(),a=la(o,e,n,r);return a!==Ri&&ro(ee(),xe(),o,t,a,o[11],i,!1),Na}function Da(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?Li(o):Fi(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];Pa(t[s],e)&&(u=!0,t[s+1]=r?Vi(c):Mi(c)),s=r?Li(c):Fi(c)}u&&(t[n+1]=r?Mi(o):Vi(o))}function Pa(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Tn(t,e)>=0}var La={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ma(t){return t.substring(La.key,La.keyEnd)}function Fa(t,e){var n=La.textEnd;return n===e?-1:(e=La.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,La.key=e,n),Ua(t,e,n))}function Ua(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Va(t,e,n){return za(t,e,n,!1),Va}function qa(t,e){return za(t,e,null,!0),qa}function Ba(t){Ga(Sn,Ha,t,!0)}function Ha(t,e){for(var n=function(t){return function(t){La.key=0,La.keyEnd=0,La.value=0,La.valueEnd=0,La.textEnd=t.length}(t),Fa(t,Ua(t,0,La.textEnd))}(e);n>=0;n=Fa(e,n))Sn(t,Ma(e),!0)}function za(t,e,n,r){var i=te(),o=ee(),a=pe(2);o.firstUpdatePass&&Wa(o,t,a,r),e!==Ri&&sa(i,a,e)&&Ja(o,o.data[Te()],i,i[11],t,i[a+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=k(Qn(t)))),t}(e,n),r,a)}function Ga(t,e,n,r){var i=ee(),o=pe(2);i.firstUpdatePass&&Wa(i,null,o,r);var a=te();if(n!==Ri&&sa(a,o,n)){var s=i.data[Te()];if($a(s,r)&&!Ka(i,o)){var u=r?s.classesWithoutHost:s.stylesWithoutHost;null!==u&&(n=E(u,n||"")),va(i,s,a,n,r)}else!function(t,e,n,r,i,o,a,s){i===Ri&&(i=et);for(var u=0,c=0,l=0<i.length?i[0]:null,f=0<o.length?o[0]:null;null!==l||null!==f;){var h=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=void 0,v=null;l===f?(u+=2,c+=2,h!==d&&(v=f,p=d)):null===f||null!==l&&l<f?(u+=2,v=l):(c+=2,v=f,p=d),null!==v&&Ja(t,e,n,r,v,p,a,s),l=u<i.length?i[u]:null,f=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return et;var r=[],i=Qn(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&t(r,a,i[a]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Ka(t,e){return e>=t.expandoStartIndex}function Wa(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Te()],a=Ka(t,n);$a(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=Xt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Za(n=Qa(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=Qa(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==Fi(r))return t[Li(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[Li(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=Za(s=Qa(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=Za(r,t[o].hostAttrs,n);return Za(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=o?e.classBindings:e.styleBindings,s=Li(a),u=Fi(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var f=n;(null===(c=f[1])||Tn(f,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var h=Li(t[s+1]);t[r+1]=Pi(h,s),0!==h&&(t[h+1]=Ui(t[h+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=Pi(s,0),0!==s&&(t[s+1]=Ui(t[s+1],r)),s=r;else t[r+1]=Pi(u,0),0===s?s=r:t[u+1]=Ui(t[u+1],r),u=r;l&&(t[r+1]=Mi(t[r+1])),Da(t,c,r,!0),Da(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Tn(o,e)>=0&&(n[r+1]=Vi(n[r+1]))}(e,c,t,r,o),a=Pi(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}function Qa(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Za(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function Za(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Sn(t,a,!!n||e[++o]))}return void 0===t?null:t}function Ja(t,e,n,r,i,o,a,s){if(3&e.type){var u=t.data,c=u[s+1];Xa(1==(1&c)?Ya(u,e,n,i,Fi(c),a):void 0)||(Xa(o)||2==(2&c)&&(o=Ya(u,null,n,i,s,a)),function(t,e,n,r,i){var o=Ft(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var a=-1===r.indexOf("-")?void 0:Ur.DashCase;if(null==i)o?t.removeStyle(n,r,a):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),a|=Ur.Important),o?t.setStyle(n,r,i,a):n.style.setProperty(r,i,s?"important":"")}}}(r,a,qt(Te(),n),i,o))}}function Ya(t,e,n,r,i,o){for(var a,s=null===e;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,f=null===l,h=n[i+1];h===Ri&&(h=f?et:void 0);var d=f?In(h,r):l===r?h:void 0;if(c&&!Xa(d)&&(d=In(u,r)),Xa(d)&&(a=d,s))return a;var p=t[i+1];i=s?Li(p):Fi(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(a=In(v,r))}return a}function Xa(t){return void 0!==t}function $a(t,e){return 0!=(t.flags&(e?16:32))}function ts(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=te(),r=ee(),i=t+20,o=r.firstCreatePass?Hi(r,i,1,e,null):r.data[i],a=n[i]=Kr(n[11],e);fi(r,n,a,o),ae(o,!1)}function es(t){return ns("",t,""),es}function ns(t,e,n){var r=te(),i=la(r,t,e,n);return i!==Ri&&Ao(r,Te(),i),ns}function rs(t,e,n,r,i){var o=te(),a=function(t,e,n,r,i,o){var a=ua(t,he(),n,i);return pe(2),a?e+x(n)+r+x(i)+o:Ri}(o,t,e,n,r,i);return a!==Ri&&Ao(o,Te(),a),rs}function is(t,e,n,r,i,o,a,s,u){Ga(Sn,Ha,function(t,e,n,r,i,o,a,s,u,c){var l=function(t,e,n,r,i,o){var a=ua(t,e,n,r);return ua(t,e+2,i,o)||a}(t,he(),n,i,a,u);return pe(4),l?e+x(n)+r+x(i)+o+x(a)+s+x(u)+c:Ri}(te(),t,e,n,r,i,o,a,s,u),!0)}function os(t,e,n){var r=te();return sa(r,de(),e)&&ro(ee(),xe(),r,t,e,r[11],n,!0),os}var as=void 0,ss=["en",[["a","p"],["AM","PM"],as],[["AM","PM"],as,as],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],as,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],as,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",as,"{1} 'at' {0}",as],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],us={};function cs(t,e,n){"string"!=typeof e&&(n=e,e=t[ps.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),us[e]=t,n&&(us[e][ps.ExtraData]=n)}function ls(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=ds(e);if(n)return n;var r=e.split("-")[0];if(n=ds(r))return n;if("en"===r)return ss;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function fs(t){return ls(t)[ps.CurrencyCode]||null}function hs(t){return ls(t)[ps.PluralCase]}function ds(t){return t in us||(us[t]=$.ng&&$.ng.common&&$.ng.common.locales&&$.ng.common.locales[t]),us[t]}var ps=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({}),vs=["zero","one","two","few","many"],ys={marker:"element"},gs={marker:"ICU"},ms=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({}),bs="en-US";function ws(t){var e;null==(e=t)&&R("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(bs=t.toLowerCase().replace(/_/g,"-"))}function _s(t,e,n){var r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?si(t,0,n):Vt(n[i])}function ks(t,e,n,r,i){var o=e.insertBeforeIndex;if(Array.isArray(o)){var a=r,s=null;if(3&e.type||(s=a,a=i),null!==a&&0==(2&e.flags))for(var u=1;u<o.length;u++)ni(t,a,n[o[u]],s,!1)}}function Es(t,e){if(t.push(e),t.length>1)for(var n=t.length-2;n>=0;n--){var r=t[n];Os(r)||Ss(r,e)&&null===(i=void 0,i=r.insertBeforeIndex,Array.isArray(i)?i[0]:i)&&Is(r,e.index)}var i}function Os(t){return!(64&t.type)}function Ss(t,e){return Os(e)||t.index>e.index}function Is(t,e){var n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(li(_s,ks),t.insertBeforeIndex=e)}function Ts(t,e){var n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Cs(t,e,n){var r=zi(t,n,64,null,null);return Es(e,r),r}function xs(t,e){var n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}var As=0,js=0;function Rs(t,e,n,r){for(var i,o=n[11],a=null,s=0;s<e.length;s++){var u=e[s];if("string"==typeof u){var c=e[++s];null===n[c]&&(n[c]=Kr(o,u))}else if("number"==typeof u)switch(1&u){case 0:var l=u>>>17,f=void 0,h=void 0;if(null===a&&(a=l,i=oi(o,r)),l===a?(f=r,h=i):(f=null,h=Vt(n[l])),null!==h){var d=(131070&u)>>>1;ni(o,h,n[d],f,!1);var p=Ts(t,d);if(null!==p&&"object"==typeof p){var v=xs(p,n);null!==v&&Rs(t,p.create[v],n,n[p.anchorIdx])}}break;case 1:var y=e[++s],g=e[++s];ho(o,qt(u>>>1,n),null,null,y,g,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(u,'"'))}else switch(u){case gs:var m=e[++s],b=e[++s];null===n[b]&&Pr(n[b]=Qr(o,m),n);break;case ys:var w=e[++s],_=e[++s];null===n[_]&&Pr(n[_]=Zr(o,w,null),n)}}}function Ns(t,e,n,r,i){for(var o=0;o<n.length;o++){var a=n[o],s=n[++o];if(a&i)for(var u="",c=o+1;c<=o+s;c++){var l=n[c];if("string"==typeof l)u+=l;else if("number"==typeof l)if(l<0)u+=x(e[r-l]);else{var f=l>>>2;switch(3&l){case 1:var h=n[++c],d=n[++c],p=t.data[f];"string"==typeof p?ho(e[11],e[f],null,p,h,u,d):ro(t,p,e,h,u,e[11],d,!1);break;case 0:var v=e[f];null!==v&&Wr(e[11],v,u);break;case 2:Ps(t,Ts(t,f),e,u);break;case 3:Ds(t,Ts(t,f),r,e)}}}else{var y=n[o+1];if(y>0&&3==(3&y)){var g=Ts(t,y>>>2);e[g.currentCaseLViewIndex]<0&&Ds(t,g,r,e)}}o+=s}}function Ds(t,e,n,r){var i=r[e.currentCaseLViewIndex];if(null!==i){var o=As;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),Ns(t,r,e.update[i],n,o)}}function Ps(t,e,n,r){var i=function(t,e){var n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:var r=function(t,e){var n=hs(e)(parseInt(t,10)),r=vs[n];return void 0!==r?r:"other"}(e,bs);-1===(n=t.cases.indexOf(r))&&"other"!==r&&(n=t.cases.indexOf("other"));break;case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(xs(e,n)!==i&&(Ls(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){var o=n[e.anchorIdx];o&&Rs(t,e.create[i],n,o)}}function Ls(t,e,n){var r=xs(e,n);if(null!==r)for(var i=e.remove[r],o=0;o<i.length;o++){var a=i[o];if(a>0){var s=qt(a,n);null!==s&&vi(n[11],s)}else Ls(t,Ts(t,~a),n)}}var Ms=/\ufffd(\d+):?\d*\ufffd/gi,Fs=/\ufffd(\d+)\ufffd/,Us=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Vs=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,qs=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Bs=/\uE500/g;function Hs(t,e,n,r,i,o,a){var s=Gi(t,r,1,null),u=s<<ms.SHIFT,c=oe();e===c&&(c=null),null===c&&(u|=ms.APPEND_EAGERLY),a&&(u|=ms.COMMENT,void 0===Fr&&(Fr=function(){var t,e,n=[],r=-1;function i(t,n){r=0;var i=xs(t,n);e=null!==i?t.remove[i]:nt}function o(){if(r<e.length){var a=e[r++];return a>0?t[a]:(n.push(r,e),i(t[1].data[~a],t),o())}return 0===n.length?null:(e=n.pop(),r=n.pop(),o())}return function(e,r){for(t=r;n.length;)n.pop();return i(e.value,r),o}}())),i.push(u,null===o?"":o);var l=zi(t,s,a?32:1,null===o?"":o,null);Es(n,l);var f=l.index;return ae(l,!1),null!==c&&e!==c&&function(t,e){var n,r=t.insertBeforeIndex;null===r?(li(_s,ks),r=t.insertBeforeIndex=[null,e]):(1!=(n=Array.isArray(r))&&R("Expecting array here",n,!0,"=="),r.push(e))}(c,f),l}function zs(t,e,n,r,i,o,a){var s=a.match(Ms),u=Hs(t,e,n,o,r,s?null:a,!1);s&&Gs(i,a,u.index)}function Gs(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=t.length,a=o+1;t.push(null,null);for(var s=o+2,u=e.split(Ms),c=0,l=0;l<u.length;l++){var f=u[l];if(1&l){var h=parseInt(f,10);t.push(-1-h),c|=Ks(h)}else""!==f&&t.push(f)}return t.push(n<<2|(r?1:0)),r&&t.push(r,i),t[o]=c,t[a]=t.length-s,c}function Ks(t){return 1<<Math.min(t,31)}function Ws(t){for(var e,n,r="",i=0,o=!1;null!==(e=Vs.exec(t));)o?e[0]==="\ufffd/*".concat(n,"\ufffd")&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i)}function Qs(t,e,n,r,i,o){var a=0,s={type:i.type,currentCaseLViewIndex:Gi(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(Ks(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){var r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,s);for(var u=i.values,c=0;c<u.length;c++){for(var l=u[c],f=[],h=0;h<l.length;h++){var d=l[h];if("string"!=typeof d){var p=f.push(d)-1;l[h]="\x3c!--\ufffd".concat(p,"\ufffd--\x3e")}}a=Ys(t,s,e,n,r,i.cases[c],l.join(""),f)|a}a&&function(t,e,n){t.push(e,1,n<<2|3)}(n,a,o)}function Zs(t){for(var e=[],n=[],r=1,i=0,o=Js(t=t.replace(Us,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})),a=0;a<o.length;){var s=o[a++].trim();1===r&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&e.push(s);var u=Js(o[a++]);e.length>n.length&&n.push(u)}return{type:r,mainBinding:i,cases:e,values:n}}function Js(t){if(!t)return[];var e,n=0,r=[],i=[],o=/[{}]/g;for(o.lastIndex=0;e=o.exec(t);){var a=e.index;if("}"==e[0]){if(r.pop(),0==r.length){var s=t.substring(n,a);Us.test(s)?i.push(Zs(s)):i.push(s),n=a+1}}else{if(0==r.length){var u=t.substring(n,a);i.push(u),n=a+1}r.push("{")}}var c=t.substring(n);return i.push(c),i}function Ys(t,e,n,r,i,o,a,s){var u=[],c=[],l=[];e.cases.push(o),e.create.push(u),e.remove.push(c),e.update.push(l);var f=nr(Mt()).getInertBodyElement(a),h=Ir(f)||f;return h?Xs(t,e,n,r,u,c,l,h,i,s,0):0}function Xs(t,e,n,r,i,o,a,s,u,c,l){for(var f=0,h=s.firstChild;h;){var d=Gi(t,n,1,null);switch(h.nodeType){case Node.ELEMENT_NODE:var p=h,v=p.tagName.toLowerCase();if(yr.hasOwnProperty(v)){eu(i,ys,v,u,d),t.data[d]=v;for(var y=p.attributes,g=0;g<y.length;g++){var m=y.item(g),b=m.name.toLowerCase();m.value.match(Ms)?br.hasOwnProperty(b)&&(gr[b]?Gs(a,m.value,d,m.name,sr):mr[b]?Gs(a,m.value,d,m.name,ur):Gs(a,m.value,d,m.name)):nu(i,d,m)}f=Xs(t,e,n,r,i,o,a,h,d,c,l+1)|f,$s(o,d,l)}break;case Node.TEXT_NODE:var w=h.textContent||"",_=w.match(Ms);eu(i,null,_?"":w,u,d),$s(o,d,l),_&&(f=Gs(a,w,d)|f);break;case Node.COMMENT_NODE:var k=Fs.exec(h.textContent||"");if(k){var E=c[parseInt(k[1],10)];eu(i,gs,"",u,d),Qs(t,n,r,u,E,d),tu(o,d,l)}}h=h.nextSibling}return f}function $s(t,e,n){0===n&&t.push(e)}function tu(t,e,n){0===n&&(t.push(~e),t.push(e))}function eu(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function nu(t,e,n){t.push(e<<1|1,n.name,n.value)}function ru(t,e,n){(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=ee(),i=te(),o=20+t,a=Zt(r.consts,e),s=oe();r.firstCreatePass&&function(t,e,n,r,i,o){for(var a,s=oe(),u=[],c=[],l=[[]],f=(a=i=function(t,e){if(function(t){return-1===t}(e))return Ws(t);var n=t.indexOf(":".concat(e,"\ufffd"))+2+e.toString().length,r=t.search(new RegExp("\ufffd\\/\\*\\d+:".concat(e,"\ufffd")));return Ws(t.substring(n,r))}(i,o),a.replace(Bs," ")).split(qs),h=0;h<f.length;h++){var d=f[h];if(0==(1&h))for(var p=Js(d),v=0;v<p.length;v++){var y=p[v];if(0==(1&v)){var g=y;""!==g&&zs(t,s,l[0],u,c,n,g)}else{var m=y;if("object"!=typeof m)throw new Error('Unable to parse ICU expression in "'.concat(i,'" message.'));Qs(t,n,c,e,m,Hs(t,s,l[0],n,u,"",!0).index)}}else{var b=47===d.charCodeAt(0),w=(d.charCodeAt(b?1:0),20+Number.parseInt(d.substring(b?2:1)));if(b)l.shift(),ae(oe(),!1);else{var _=Cs(t,l[0],w);l.unshift([]),ae(_,!0)}}}t.data[r]={create:u,update:c}}(r,null===s?0:s.index,i,o,a,n);var u=r.data[o],c=ei(r,s===i[6]?null:s,i);!function(t,e,n,r){for(var i=t[11],o=0;o<e.length;o++){var a=e[o++],s=e[o],u=(a&ms.COMMENT)===ms.COMMENT,c=(a&ms.APPEND_EAGERLY)===ms.APPEND_EAGERLY,l=a>>>ms.SHIFT,f=t[l];null===f&&(f=t[l]=u?i.createComment(s):Kr(i,s)),c&&null!==n&&ni(i,n,f,r,!1)}}(i,u.create,c,s&&8&s.type?i[s.index]:null),ve(!0)})(t,e,n),ve(!1)}function iu(t){return sa(te(),de(),t)&&(As|=1<<Math.min(js,31)),js++,iu}function ou(t){!function(t,e,n){if(js>0){var r=t.data[n];Ns(t,e,Array.isArray(r)?r:r.update,he()-js-1,As)}As=0,js=0}(ee(),te(),t+20)}function au(t,e,n,r,i){if(t=I(t),Array.isArray(t))for(var o=0;o<t.length;o++)au(t[o],e,n,r,i);else{var a=ee(),s=te(),u=Ko(t)?t:I(t.provide),c=Ho(t),l=re(),f=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(Ko(t)||!t.multi){var p=new Fe(c,i,da),v=cu(u,e,i?f:f+d,h);-1===v?(tn(Je(l,s),a,u),su(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var y=cu(u,e,f+d,h),g=cu(u,e,f,f+d),m=y>=0&&n[y],b=g>=0&&n[g];if(i&&!b||!i&&!m){tn(Je(l,s),a,u);var w=function(t,e,n,r,i){var o=new Fe(t,n,da);return o.multi=[],o.index=e,o.componentProviders=0,uu(o,i,r&&!n),o}(i?fu:lu,n.length,i,r,c);!i&&b&&(n[g].providerFactory=w),su(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(w),s.push(w)}else su(a,t,y>-1?y:g,uu(n[i?g:y],c,!i&&r));!i&&r&&b&&n[g].componentProviders++}}}function su(t,e,n,r){var i=Ko(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function uu(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function cu(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function lu(t,e,n,r){return hu(this.multi,[])}function fu(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=cn(n,n[1],this.providerFactory.index,r);hu(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else hu(o,i=[]);return i}function hu(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function du(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=ee();if(r.firstCreatePass){var i=Tt(t);au(n,r.data,r.blueprint,i,!0),au(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var pu=function t(){h(this,t)},vu=function(){function t(){h(this,t)}return p(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(k(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),yu=function(){var t=function t(){h(this,t)};return t.NULL=new vu,t}();function gu(){}function mu(t,e){return new wu(Bt(t,e))}var bu=function(){return mu(re(),te())},wu=function(){var t=function t(e){h(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=bu,t}();function _u(t){return t instanceof wu?t.nativeElement:t}var ku=function t(){h(this,t)},Eu=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=function(){return Ou()},t}(),Ou=function(){var t=te(),e=Gt(re().index,t);return function(t){return t[11]}(kt(e)?e:t)},Su=function(){var t=function t(){h(this,t)};return t.\u0275prov=N({token:t,providedIn:"root",factory:function(){return null}}),t}(),Iu=function t(e){h(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Tu=new Iu("11.2.6"),Cu=function(){function t(){h(this,t)}return p(t,[{key:"supports",value:function(t){return ia(t)}},{key:"create",value:function(t){return new Au(t)}}]),t}(),xu=function(t,e){return e},Au=function(){function t(e){h(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||xu}return p(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Du(n,r,i)?e:n,a=Du(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var f=l<i.length?i[l]:i[l]=0,h=f+l;c<=h&&h<u&&(i[l]=f+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!ia(t))throw new Error("Error trying to diff '".concat(k(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[na()]();!(r=i.next()).done;)e(r.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new ju(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Nu),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Nu),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),ju=function t(e,n){h(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Ru=function(){function t(){h(this,t),this._head=null,this._tail=null}return p(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Nu=function(){function t(){h(this,t),this.map=new Map}return p(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Ru,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function Du(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Pu=function(){function t(){h(this,t)}return p(t,[{key:"supports",value:function(t){return t instanceof Map||oa(t)}},{key:"create",value:function(){return new Lu}}]),t}(),Lu=function(){function t(){h(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return p(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||oa(t)))throw new Error("Error trying to diff '".concat(k(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Mu(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),Mu=function t(e){h(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function Fu(){return new Uu([new Cu])}var Uu=function(){var t=function(){function t(e){h(this,t),this.factories=e}return p(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||Fu())},deps:[[t,new Vn,new Un]]}}}]),t}();return t.\u0275prov=N({token:t,providedIn:"root",factory:Fu}),t}();function Vu(){return new qu([new Pu])}var qu=function(){var t=function(){function t(e){h(this,t),this.factories=e}return p(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||Vu())},deps:[[t,new Vn,new Un]]}}}]),t}();return t.\u0275prov=N({token:t,providedIn:"root",factory:Vu}),t}();function Bu(t,e,n,r){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var a=e[n.index];if(null!==a&&r.push(Vt(a)),Et(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&Bu(u[1],u,c,r)}var l=n.type;if(8&l)Bu(t,e,n.child,r);else if(32&l)for(var f=Vr(n,e),h=void 0;h=f();)r.push(h);else if(16&l){var d=di(e,n);if(Array.isArray(d))r.push.apply(r,i(d));else{var p=qr(e[16]);Bu(p[1],p,d,r,!0)}}n=o?n.projectionNext:n.next}return r}var Hu=function(){function t(e,n){h(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return p(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return Bu(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(Et(t)){var e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Yr(t,n),En(e,n))}this._attachedToViewContainer=!1}Xr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){eo(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){_o(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){ko(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){le(!0);try{ko(t,e,n)}finally{le(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,gi(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),zu=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t))._view=t,r}return p(n,[{key:"detectChanges",value:function(){Eo(this._view)}},{key:"checkNoChanges",value:function(){!function(t){le(!0);try{Eo(t)}finally{le(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Hu),Gu=Wu,Ku=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=Gu,t.__ChangeDetectorRef__=!0,t}();function Wu(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&St(t)){var r=Gt(t.index,e);return new Hu(r,r)}return 47&t.type?new Hu(e[16],e):null}(re(),te(),t)}var Qu=[new Pu],Zu=new Uu([new Cu]),Ju=new qu(Qu),Yu=function(){return tc(re(),te())},Xu=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=Yu,t}(),$u=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=r,o.elementRef=i,o}return p(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Bi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ki(e,n,t),new Hu(n)}}]),n}(Xu);function tc(t,e){return 4&t.type?new $u(e,t,mu(t,e)):null}var ec=function t(){h(this,t)},nc=function t(){h(this,t)},rc=function(){return uc(re(),te())},ic=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=rc,t}(),oc=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=r,o._hostLView=i,o}return p(n,[{key:"element",get:function(){return mu(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new hn(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=$e(this._hostTNode,this._hostLView);if(ze(t)){var e=Ke(t,this._hostLView),n=Ge(t);return new hn(e[1].data[n+8],e)}return new hn(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=ac(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(ec,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var r=t._lView,i=r[1];if(Et(r[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var a=r[3],s=new n(a,a[6],a[3]);s.detach(s.indexOf(t))}}var u=this._adjustIndex(e),c=this._lContainer;!function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],kn(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(i,r,c,u);var l=pi(u,c),f=r[11],h=oi(f,c[7]);return null!==h&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,gi(t,r,n,1,i,o)}(i,c[6],f,r,h,l),t.attachToViewContainerRef(),kn(sc(c),u,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=ac(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=Yr(this._lContainer,e);n&&(En(sc(this._lContainer),e),Xr(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=Yr(this._lContainer,e);return n&&null!=En(sc(this._lContainer),e)?new Hu(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(ic);function ac(t){return t[8]}function sc(t){return t[8]||(t[8]=[])}function uc(t,e){var n,r=e[t.index];if(Et(r))n=r;else{var i;if(8&t.type)i=Vt(r);else{var o=e[11];i=o.createComment("");var a=Bt(t,e);ni(o,oi(o,a),i,function(t,e){return Ft(t)?t.nextSibling(e):e.nextSibling}(o,a),!1)}e[t.index]=n=yo(r,e,i,t),wo(e,n)}return new oc(n,t,e)}var cc={},lc=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this)).ngModule=t,r}return p(n,[{key:"resolveComponentFactory",value:function(t){var e=wt(t);return new dc(e,this.ngModule)}}]),n}(yu);function fc(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var hc=new gn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Lr}}),dc=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(ji).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return p(n,[{key:"inputs",get:function(){return fc(this.componentDef.inputs)}},{key:"outputs",get:function(){return fc(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,cc,i);return o!==cc||r===cc?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(ku,Ut),u=a.get(Su,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",f=n?function(t,e,n){if(Ft(t))return t.selectRootElement(e,n===Q.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Zr(s.createRenderer(null,this.componentDef),l,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,d={components:[],scheduler:Lr,clean:So,playerHandler:null,flags:0},p=to(0,null,null,1,0,null,null,null,null,null),v=Bi(null,p,d,h,null,null,s,c,u,a);_e(v);try{var y=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=Hi(a,20,2,"#host",null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(jo(s,u,!0),null!==t&&(Ue(i,t,u),null!==s.classes&&wi(i,t,s.classes),null!==s.styles&&bi(i,t,s.styles)));var c=r.createRenderer(t,e),l=Bi(n,$i(e),null,e.onPush?64:16,n[20],s,r,c,null,null);return a.firstCreatePass&&(tn(Je(s,n),a,e.type),so(a,s),co(s,n.length,1)),wo(n,l),n[20]=l}(f,this.componentDef,v,s,c);if(f)if(n)Ue(c,f,["ng-version",Tu.full]);else{var g=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ii(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),m=g.attrs,b=g.classes;m&&Ue(c,f,m),b&&b.length>0&&wi(c,f,b.join(" "))}if(o=Ht(p,20),void 0!==e)for(var w=o.projection=[],_=0;_<this.ngContentSelectors.length;_++){var k=e[_];w.push(null!=k?Array.from(k):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=re();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),lo(t,r,e,Gi(t,e,1,null),n));var i=cn(e,t,r.directiveStart,r);Pr(i,e);var o=Bt(r,e);return o&&Pr(o,e),i}(o,n,e);if(r.components.push(a),t[8]=a,i&&i.forEach(function(t){return t(a,e)}),e.contentQueries){var s=re();e.contentQueries(1,a,s.directiveStart)}var u=re();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ce(u.index),oo(n[1],u,0,u.directiveStart,u.directiveEnd,e),ao(e,a)),a}(y,this.componentDef,v,d,[Zo]),Ki(p,v,null)}finally{Ie()}return new pc(this.componentType,i,mu(o,v),v,o)}}]),n}(pu),pc=function(t){v(n,t);var e=g(n);function n(t,r,i,o,a){var s;return h(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.instance=r,s.hostView=s.changeDetectorRef=new zu(o),s.componentType=t,s}return p(n,[{key:"injector",get:function(){return new hn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(function(){return function t(){h(this,t)}}()),vc=new Map,yc=function(t){v(n,t);var e=g(n);function n(t,r){var i;h(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=b(i),i.destroyCbs=[],i.componentFactoryResolver=new lc(b(i));var o=_t(t),a=t[st]||null;return a&&ws(a),i._bootstrapComponents=Mr(o.bootstrap),i._r3Injector=Vo(t,r,[{provide:ec,useValue:b(i)},{provide:yu,useValue:i.componentFactoryResolver}],k(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return p(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qo.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H.Default;return t===Qo||t===ec||t===No?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(ec),gc=function(t){v(n,t);var e=g(n);function n(t){var r,i,o;return h(this,n),(r=e.call(this)).moduleType=t,null!==_t(t)&&(i=t,o=new Set,function t(e){var n=_t(e,!0),r=n.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(k(e)," vs ").concat(k(e.name)))}(r,vc.get(r),e),vc.set(r,e));var i,s=a(Mr(n.imports));try{for(s.s();!(i=s.n()).done;){var u=i.value;o.has(u)||(o.add(u),t(u))}}catch(c){s.e(c)}finally{s.f()}}(i)),r}return p(n,[{key:"create",value:function(t){return new yc(this.moduleType,t)}}]),n}(nc);function mc(t,e,n,r){return kc(te(),fe(),t,e,n,r)}function bc(t,e,n,r,i){return function(t,e,n,r,i,o,a){var s=e+n;return ua(t,s,i,o)?aa(t,s+2,a?r.call(a,i,o):r(i,o)):_c(t,s+2)}(te(),fe(),t,e,n,r,i)}function wc(t,e,n,r,i,o){return function(t,e,n,r,i,o,a,s){var u=e+n;return function(t,e,n,r,i){var o=ua(t,e,n,r);return sa(t,e+2,i)||o}(t,u,i,o,a)?aa(t,u+3,s?r.call(s,i,o,a):r(i,o,a)):_c(t,u+3)}(te(),fe(),t,e,n,r,i,o)}function _c(t,e){var n=t[e];return n===Ri?void 0:n}function kc(t,e,n,r,i,o){var a=e+n;return sa(t,a,i)?aa(t,a+1,o?r.call(o,i):r(i)):_c(t,a+1)}function Ec(t,e){var n,r=ee(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new C("302","The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Ct(n.type)),a=z(da);try{var s=Qe(!1),u=o();return Qe(s),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(r,te(),i,u),u}finally{z(a)}}function Oc(t,e,n){var r=t+20,i=te(),o=zt(i,r);return function(t,e){return ra.isWrapped(e)&&(e=ra.unwrap(e),t[he()]=Ri),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?kc(i,fe(),e,o.transform,n,o):o.transform(n))}var Sc=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return h(this,n),(t=e.call(this)).__isAsync=r,t}return p(n,[{key:"emit",value:function(t){f(_(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o=function(t){return null},a=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var u=f(_(n.prototype),"subscribe",this).call(this,i,o,a);return t instanceof s.a&&t.add(u),u}}]),n}(o.a);function Ic(){return this._results[na()]()}var Tc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];h(this,t),this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=na(),r=t.prototype;r[n]||(r[n]=Ic)}return p(t,[{key:"changes",get:function(){return this._changes||(this._changes=new Sc)}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,e){this.dirty=!1;var n=wn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Cc=function(){function t(e){h(this,t),this.queryList=e,this.matches=null}return p(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),xc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];h(this,t),this.queries=e}return p(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Hc(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Ac=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;h(this,t),this.predicate=e,this.flags=n,this.read=r},jc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];h(this,t),this.queries=e}return p(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),Rc=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;h(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return p(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,Nc(e,i)),this.matchTNodeWithReadOption(t,e,un(e,t,i,!1,!1))}else n===Xu?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,un(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===wu||r===ic||r===Xu&&4&e.type)this.addMatch(e.index,-2);else{var i=un(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Nc(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Dc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?mu(t,e):4&t.type?tc(t,e):null}(e,t):-2===n?function(t,e,n){return n===wu?mu(e,t):n===Xu?tc(e,t):n===ic?uc(e,t):void 0}(t,e,r):cn(t,t[1],n,e)}function Pc(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:Dc(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Lc(t,e,n,r){var i=t.queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=Pc(t,e,i,n),s=0;s<o.length;s+=2){var u=o[s];if(u>0)r.push(a[s/2]);else{for(var c=o[s+1],l=e[-u],f=10;f<l.length;f++){var h=l[f];h[17]===h[3]&&Lc(h[1],h,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];Lc(v[1],v,c,r)}}}return r}function Mc(t){var e=te(),n=ee(),r=ge();me(r+1);var i=Hc(n,r);if(t.dirty&&Wt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?Lc(n,e,r,[]):Pc(n,e,i,r);t.reset(o,_u),t.notifyOnChanges()}return!0}return!1}function Fc(t,e,n){var r=ee();r.firstCreatePass&&(Bc(r,new Ac(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),qc(r,te(),e)}function Uc(t,e,n,r){var i=ee();if(i.firstCreatePass){var o=re();Bc(i,new Ac(e,n,r),o.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}qc(i,te(),n)}function Vc(){return t=te(),e=ge(),t[19].queries[e].queryList;var t,e}function qc(t,e,n){var r=new Tc(4==(4&n));eo(t,e,r,r.destroy),null===e[19]&&(e[19]=new xc),e[19].queries.push(new Cc(r))}function Bc(t,e,n){null===t.queries&&(t.queries=new jc),t.queries.track(new Rc(e,n))}function Hc(t,e){return t.queries.getByIndex(e)}function zc(t,e){return tc(t,e)}function Gc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.Default,e=Wu(!0);if(null!=e||t&H.Optional)return e;j("ChangeDetectorRef")}var Kc=new gn("Application Initializer"),Wc=function(){var t=function(){function t(e){var n=this;h(this,t),this.appInits=e,this.resolve=gu,this.reject=gu,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return p(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();ka(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Dn(Kc,8))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t}(),Qc=new gn("AppId"),Zc={provide:Qc,useFactory:function(){return"".concat(Jc()).concat(Jc()).concat(Jc())},deps:[]};function Jc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Yc=new gn("Platform Initializer"),Xc=new gn("Platform ID"),$c=new gn("appBootstrapListener"),tl=function(){var t=function(){function t(){h(this,t)}return p(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t}(),el=new gn("LocaleId"),nl=new gn("DefaultCurrencyCode"),rl=function t(e,n){h(this,t),this.ngModuleFactory=e,this.componentFactories=n},il=function(t){return new gc(t)},ol=il,al=function(t){return Promise.resolve(il(t))},sl=function(t){var e=il(t),n=Mr(_t(t).declarations).reduce(function(t,e){var n=wt(e);return n&&t.push(new dc(n)),t},[]);return new rl(e,n)},ul=sl,cl=function(t){return Promise.resolve(sl(t))},ll=function(){var t=function(){function t(){h(this,t),this.compileModuleSync=ol,this.compileModuleAsync=al,this.compileModuleAndAllComponentsSync=ul,this.compileModuleAndAllComponentsAsync=cl}return p(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t}(),fl=Promise.resolve(0);function hl(t){"undefined"==typeof Zone?fl.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var dl=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a,u=e.shouldCoalesceRunChangeDetection,c=void 0!==u&&u;if(h(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sc(!1),this.onMicrotaskEmpty=new Sc(!1),this.onStable=new Sc(!1),this.onError=new Sc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!c&&s,this.shouldCoalesceRunChangeDetection=c,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=$.requestAnimationFrame,e=$.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,yl(t),vl(t)},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),yl(t))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,i,o,a,s){try{return gl(n),t.invokeTask(i,o,a,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&r(),ml(n)}},onInvoke:function(t,e,i,o,a,s,u){try{return gl(n),t.invoke(i,o,a,s,u)}finally{n.shouldCoalesceRunChangeDetection&&r(),ml(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,yl(n),vl(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular(function(){return n.onError.emit(i)}),!1}})}return p(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,pl,gu,gu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),pl={};function vl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function yl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function gl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ml(t){t._nesting--,vl(t)}var bl=function(){function t(){h(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sc,this.onMicrotaskEmpty=new Sc,this.onStable=new Sc,this.onError=new Sc}return p(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),wl=function(){var t=function(){function t(e){var n=this;h(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return p(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){dl.assertNotInAngularZone(),hl(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())hl(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Dn(dl))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t}(),_l=function(){var t=function(){function t(){h(this,t),this._applications=new Map,Ol.addToWindow(this)}return p(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Ol.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t}();function kl(t){Ol=t}var El,Ol=new(function(){function t(){h(this,t)}return p(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Sl=!0,Il=!1;function Tl(){return Il=!0,Sl}function Cl(){if(Il)throw new Error("Cannot enable prod mode after platform setup.");Sl=!1}var xl=new gn("AllowMultipleToken"),Al=function t(e,n){h(this,t),this.name=e,this.token=n};function jl(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new gn(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Rl();if(!o||o.injector.get(xl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:Po,useValue:"platform"});!function(t){if(El&&!El.destroyed&&!El.injector.get(xl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");El=t.get(Nl);var e=t.get(Yc,null);e&&e.forEach(function(t){return t()})}(Qo.create({providers:a,name:r}))}return function(t){var e=Rl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Rl(){return El&&!El.destroyed?El:null}var Nl=function(){var t=function(){function t(e){h(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return p(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r={ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1},"noop"===n?new bl:("zone.js"===n?void 0:n)||new dl({enableLongStackTrace:Tl(),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),a=[{provide:dl,useValue:o}];return o.run(function(){var e=Qo.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(Rr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){r.handleError(t)}});n.onDestroy(function(){Ll(i._modules,n),t.unsubscribe()})}),function(t,e,r){try{var o=((a=n.injector.get(Wc)).runInitializers(),a.donePromise.then(function(){return ws(n.injector.get(el,"en-US")||"en-US"),i._moduleDoBootstrap(n),n}));return ka(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(r,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Dl({},n);return function(t,e,n){var r=new gc(n);return Promise.resolve(r)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,r)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Pl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(k(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Dn(Qo))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t}();function Dl(t,e){return Array.isArray(e)?e.reduce(Dl,t):Object.assign(Object.assign({},t),e)}var Pl=function(){var t=function(){function t(e,n,r,i,o){var a=this;h(this,t),this._zone=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new u.a(function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){t.next(a._stable),t.complete()})}),c=new u.a(function(t){var e;a._zone.runOutsideAngular(function(){e=a._zone.onStable.subscribe(function(){dl.assertNotInAngularZone(),hl(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){dl.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(d.a)(s,c.pipe(Object(y.a)()))}return p(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof pu?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(ec),o=n.create(Qo.NULL,[],e||n.selector,i),a=o.location.nativeElement,s=o.injector.get(wl,null),u=s&&o.injector.get(_l);return s&&u&&u.registerApplication(a,s),o.onDestroy(function(){r.detachView(o.hostView),Ll(r.components,o),u&&u.unregisterApplication(a)}),this._loadComponent(o),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=a(this._views);try{for(n.s();!(e=n.n()).done;){e.value.detectChanges()}}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Ll(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get($c,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Dn(dl),Dn(Qo),Dn(Rr),Dn(yu),Dn(Wc))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t}();function Ll(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Ml=function t(){h(this,t)},Fl=function t(){h(this,t)},Ul={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Vl=function(){var t=function(){function t(e,n){h(this,t),this._compiler=e,this._config=n||Ul}return p(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var n=this,i=e(t.split("#"),2),o=i[0],a=i[1];return void 0===a&&(a="default"),r("zn8P")(o).then(function(t){return t[a]}).then(function(t){return ql(t,o,a)}).then(function(t){return n._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(t){var n=e(t.split("#"),2),i=n[0],o=n[1],a="NgFactory";return void 0===o&&(o="default",a=""),r("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+a]}).then(function(t){return ql(t,i,o)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Dn(ll),Dn(Fl,8))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t}();function ql(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Bl=function(t){return null},Hl=jl(null,"core",[{provide:Xc,useValue:"unknown"},{provide:Nl,deps:[Qo]},{provide:_l,deps:[]},{provide:tl,deps:[]}]),zl=[{provide:Pl,useClass:Pl,deps:[dl,Qo,Rr,yu,Wc]},{provide:hc,deps:[dl],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Wc,useClass:Wc,deps:[[new Un,Kc]]},{provide:ll,useClass:ll,deps:[]},Zc,{provide:Uu,useFactory:function(){return Zu},deps:[]},{provide:qu,useFactory:function(){return Ju},deps:[]},{provide:el,useFactory:function(t){return ws(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new Fn(el),new Un,new Vn]]},{provide:nl,useValue:"USD"}],Gl=function(){var t=function t(e){h(this,t)};return t.\u0275fac=function(e){return new(e||t)(Dn(Pl))},t.\u0275mod=vt({type:t}),t.\u0275inj=D({providers:zl}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){h(this,t),this.project=e,this.thisArg=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}]),t}(),a=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||b(o),o}return p(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return s});var r=n("7o/Q"),i=n("WMd4");function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new a(t,e))}}var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h(this,t),this.scheduler=e,this.delay=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.scheduler,this.delay))}}]),t}(),s=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return h(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return p(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new u(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(i.a.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(r.a),u=function t(e,n){h(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",function(){return a}),n.d(e,"b",function(){return f}),n.d(e,"c",function(){return h}),n.d(e,"d",function(){return d});var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},f=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function h(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return g}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return f}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return h}),n.d(e,"o",function(){return v});var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function s(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(s())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function h(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return s().indexOf("Electron/")>=0}function p(){var t=s();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return s().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return Object(r.c)(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?m(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new y(i,s,r);return u},t}();function m(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new k(t,e);return n.subscribe.bind(n)}var k=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?f(_(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?f(_(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?f(_(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=new(function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(r),o=i},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r,i,o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),u=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=((i=function(){function t(e){h(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return p(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var f=0;f<n.length;++f)n[f].remove(this);if(Object(s.a)(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(v){e=v instanceof u?l(v.errors):[v]}}if(Object(o.a)(c))for(var h=-1,d=c.length;++h<d;){var p=c[h];if(Object(a.a)(p))try{p.unsubscribe()}catch(v){e=e||[],v instanceof u?e=e.concat(l(v.errors)):e.push(v)}}if(e)throw new u(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new i).closed=!0,r),i);function l(t){return t.reduce(function(t,e){return t.concat(e instanceof u?e.errors:e)},[])}},spgP:function(t,e,a){"use strict";(function(t){a.d(e,"a",function(){return N}),a.d(e,"b",function(){return I}),a.d(e,"c",function(){return S}),a.d(e,"d",function(){return w}),a.d(e,"e",function(){return O}),a.d(e,"f",function(){return j}),a.d(e,"g",function(){return C}),a.d(e,"h",function(){return _}),a.d(e,"i",function(){return E}),a.d(e,"j",function(){return x});var u=a("qgXg"),c=a("D0XW"),l=a("vkgz"),f=a("tf+s"),d=a("pxpQ"),v=a("fXoL"),y=a("Jgta");function g(){}var m=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.b;h(this,t),this.zone=e,this.delegate=n}return p(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule(function(e){var n=this;r.runGuarded(function(){t.apply(n,[e])})},e,n)}}]),t}(),b=function(){function t(e){h(this,t),this.zone=e,this.task=null}return p(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",g,{},g,g)}),e.pipe(Object(l.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout(function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)},10)}}]),t}(),w=function t(e){h(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular(function(){return new m(Zone.current)}),this.insideAngular=e.run(function(){return new m(Zone.current,c.b)})};function _(t){return function(e){return(e=e.lift(new b(t.ngZone))).pipe(Object(f.a)(t.outsideAngular),Object(d.b)(t.insideAngular))}}var k=["ngOnDestroy"],E=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(o,a){return n.runOutsideAngular(function(){var o;if(t[a])return(null===(o=null==r?void 0:r.spy)||void 0===o?void 0:o.get)&&r.spy.get(a,t[a]),t[a];if(k.indexOf(a)>-1)return function(){};var s=e.toPromise().then(function(t){var e=t&&t[a];return"function"==typeof e?e.bind(t):e&&e.then?e.then(function(t){return n.run(function(){return t})}):n.run(function(){return e})});return new Proxy(function(){},{get:function(t,e){return s[e]},apply:function(t,e,n){return s.then(function(t){var e,o=t&&t.apply(void 0,i(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(a,n,o),o})}})})}})},O=function(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype||e).forEach(function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},S=new v.r("angularfire2.app.options"),I=new v.r("angularfire2.app.nameOrConfig"),T=new v.Q("6.1.4");function C(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=y.a.apps.filter(function(t){return t&&t.name===i.name})[0]||n.runOutsideAngular(function(){return y.a.initializeApp(e,i)});try{JSON.stringify(e)!==JSON.stringify(o.options)&&A("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var x=function(){A("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},A=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(v.W)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function j(e,a,u,c,l){var f,h=globalThis.\u0275AngularfireInstanceCache.get(e)||[],d=r(f=h)||o(f)||s(f)||n(),p=d[0],v=d.slice(1);if(p){try{l.some(function(t,e){var n=v[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&A("error","".concat(a," was already initialized on the ").concat(u.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(g){}return p}var y=c();return globalThis.\u0275AngularfireInstanceCache.set(e,[y].concat(i(l))),y}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var R={provide:function t(){h(this,t)},useFactory:C,deps:[S,v.A,[new v.B,I]]},N=function(){var t=function(){function t(e){h(this,t),y.a.registerVersion("angularfire",T.full,e.toString()),y.a.registerVersion("angular",v.P.full)}return p(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:S,useValue:e},{provide:I,useValue:n}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(v.Zb(v.C))},t.\u0275mod=v.Lb({type:t}),t.\u0275inj=v.Kb({providers:[R]}),t}()}).call(this,a("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("HDdC"),i=1,o=Promise.resolve(),a={};function s(t){return t in a&&(delete a[t],!0)}var u=function(t){var e=i++;return a[e]=!0,o.then(function(){return s(e)&&t()}),e},c=function(t){s(t)},l=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return p(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?f(_(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=u(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return f(_(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(c(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),d=new(function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(l),y=n("Y7HM"),m=function(t){v(n,t);var e=g(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return h(this,n),(r=e.call(this)).source=t,r.delayTime=i,r.scheduler=o,(!Object(y.a)(i)||i<0)&&(r.delayTime=0),o&&"function"==typeof o.schedule||(r.scheduler=d),r}return p(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.a);function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new w(t,e))}}var w=function(){function t(e,n){h(this,t),this.scheduler=e,this.delay=n}return p(t,[{key:"call",value:function(t,e){return new m(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function a(t,e,n){return function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(e,n,r){h(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),u=function(t){v(n,t);var e=g(n);function n(t,r,a,s){var u;return h(this,n),(u=e.call(this,t))._tapNext=i.a,u._tapError=i.a,u._tapComplete=i.a,u._tapError=a||i.a,u._tapComplete=s||i.a,Object(o.a)(r)?(u._context=b(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i.a,u._tapError=r.error||i.a,u._tapComplete=r.complete||i.a),u}return p(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("EQ5u"),i=n("x+ZX"),o=n("XNiG");function a(){return new o.a}function s(){return function(t){return Object(i.a)()((e=a,function(t){var n;n="function"==typeof e?e:function(){return e};var i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}var o=function(){function t(e){h(this,t),this.connectable=e}return p(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new a(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),a=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).connectable=r,i}return p(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(r.a)},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?function(n){return e.schedule(o,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function o(t){var e=t.error;t.subscriber.error(e)}},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),f="@firebase/app",h=((i={})[f]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.b("@firebase/app"),p=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.e)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.c)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}o(new s.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(a.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return d.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Object(a.f)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var c=0,f=Object.keys(e);c<f.length;c++)e[f[c]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(p);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.f)(e,t)},createSubscribe:a.d,ErrorFactory:a.b,deepExtend:a.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(a.h)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.m)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var b=v;!function(t,e){t.INTERNAL.registerComponent(new s.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(f,"0.6.17",void 0),t.registerVersion("fire-js","")}(b),e.a=b},zUnb:function(n,r,o){"use strict";o.r(r);var s=o("fXoL"),u=null;function c(){return u}var l,d=new s.r("DocumentToken"),y=((l=function t(){h(this,t)}).\u0275fac=function(t){return new(t||l)},l.\u0275prov=Object(s.Jb)({factory:w,token:l,providedIn:"platform"}),l);function w(){return Object(s.Zb)(O)}var k,E=new s.r("Location Initialized"),O=((k=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this))._doc=t,r._init(),r}return p(n,[{key:"_init",value:function(){this.location=c().getLocation(),this._history=c().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return c().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){c().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){c().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){S()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){S()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(y)).\u0275fac=function(t){return new(t||k)(s.Zb(d))},k.\u0275prov=Object(s.Jb)({factory:I,token:k,providedIn:"platform"}),k);function S(){return!!window.history.pushState}function I(){return new O(Object(s.Zb)(d))}function T(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function C(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function x(t){return t&&"?"!==t[0]?"?"+t:t}var A,j=((A=function t(){h(this,t)}).\u0275fac=function(t){return new(t||A)},A.\u0275prov=Object(s.Jb)({factory:R,token:A,providedIn:"root"}),A);function R(t){var e=Object(s.Zb)(d).location;return new M(Object(s.Zb)(y),e&&e.origin||"")}var N,D,P,L=new s.r("appBaseHref"),M=((P=function(t){v(n,t);var e=g(n);function n(t,r){var i;if(h(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,m(i)}return p(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return T(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+x(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(j)).\u0275fac=function(t){return new(t||P)(s.Zb(y),s.Zb(L,8))},P.\u0275prov=s.Jb({token:P,factory:P.\u0275fac}),P),F=((D=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return p(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=T(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(j)).\u0275fac=function(t){return new(t||D)(s.Zb(y),s.Zb(L,8))},D.\u0275prov=s.Jb({token:D,factory:D.\u0275fac}),D),U=((N=function(){function t(e,n){var r=this;h(this,t),this._subject=new s.n,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=C(q(i)),this._platformStrategy.onPopState(function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})})}return p(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+x(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,q(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+x(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+x(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||N)(s.Zb(j),s.Zb(y))},N.normalizeQueryParams=x,N.joinWithSlash=T,N.stripTrailingSlash=C,N.\u0275prov=Object(s.Jb)({factory:V,token:N,providedIn:"root"}),N);function V(){return new U(Object(s.Zb)(j),Object(s.Zb)(y))}function q(t){return t.replace(/\/index.html$/,"")}var B,H=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),z=s.nb,G=function t(){h(this,t)},K=((B=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this)).locale=t,r}return p(n,[{key:"getPluralCategory",value:function(t,e){switch(z(e||this.locale)(t)){case H.Zero:return"zero";case H.One:return"one";case H.Two:return"two";case H.Few:return"few";case H.Many:return"many";default:return"other"}}}]),n}(G)).\u0275fac=function(t){return new(t||B)(s.Zb(s.v))},B.\u0275prov=s.Jb({token:B,factory:B.\u0275fac}),B);function W(t,n){n=encodeURIComponent(n);var r,i=a(t.split(";"));try{for(i.s();!(r=i.n()).done;){var o=r.value,s=o.indexOf("="),u=e(-1==s?[o,""]:[o.slice(0,s),o.slice(s+1)],2),c=u[0],l=u[1];if(c.trim()===n)return decodeURIComponent(l)}}catch(f){i.e(f)}finally{i.f()}return null}var Q,Z,J,Y=((Q=function(){function t(e,n,r,i){h(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return p(t,[{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(s.qb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Object(s.wb)(t.item)));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})}}]),t}()).\u0275fac=function(t){return new(t||Q)(s.Nb(s.t),s.Nb(s.u),s.Nb(s.l),s.Nb(s.F))},Q.\u0275dir=s.Ib({type:Q,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),Q),X=function(){function t(e,n,r,i){h(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return p(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),$=((Z=function(){function t(e,n,r){h(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return p(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new X(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new tt(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new tt(t,s);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||Z)(s.Nb(s.R),s.Nb(s.M),s.Nb(s.t))},Z.\u0275dir=s.Ib({type:Z,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Z),tt=function t(e,n){h(this,t),this.record=e,this.view=n},et=((J=function(){function t(e,n){h(this,t),this._viewContainer=e,this._context=new nt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return p(t,[{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){rt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){rt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||J)(s.Nb(s.R),s.Nb(s.M))},J.\u0275dir=s.Ib({type:J,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),J),nt=function t(){h(this,t),this.$implicit=null,this.ngIf=null};function rt(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(s.wb)(e),"'."))}var it,ot=((it=function t(){h(this,t)}).\u0275fac=function(t){return new(t||it)},it.\u0275mod=s.Lb({type:it}),it.\u0275inj=s.Kb({providers:[{provide:G,useClass:K}]}),it);function at(t){return"server"===t}var st,ut=((st=function t(){h(this,t)}).\u0275prov=Object(s.Jb)({token:st,providedIn:"root",factory:function(){return new ct(Object(s.Zb)(d),window)}}),st),ct=function(){function t(e,n){h(this,t),this.document=e,this.window=n,this.offset=function(){return[0,0]}}return p(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){var e;if(this.supportsScrolling()){var n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(t){return t.focus(),this.document.activeElement===t}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=lt(this.window.history)||lt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}]),t}();function lt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var ft,ht,dt,pt,vt=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=yt||(yt=document.querySelector("base"))?yt.getAttribute("href"):null;return null==n?null:(e=n,ft||(ft=document.createElement("a")),ft.setAttribute("href",e),"/"===ft.pathname.charAt(0)?ft.pathname:"/"+ft.pathname)}},{key:"resetBaseElement",value:function(){yt=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return W(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,u||(u=t)}}]),n}(function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.call(this)}return p(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){h(this,t)}}())),yt=null,gt=new s.r("TRANSITION_ID"),mt=[{provide:s.d,useFactory:function(t,e,n){return function(){n.get(s.e).donePromise.then(function(){var n=c();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[gt,d,s.s],multi:!0}],bt=function(){function t(){h(this,t)}return p(t,[{key:"addToWindow",value:function(t){s.pb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},s.pb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},s.pb.getAllAngularRootElements=function(){return t.getAllRootElements()},s.pb.frameworkStabilizers||(s.pb.frameworkStabilizers=[]),s.pb.frameworkStabilizers.push(function(t){var e=s.pb.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?c().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(s.Y)(new t)}}]),t}(),wt=new s.r("EventManagerPlugins"),_t=((ht=function(){function t(e,n){var r=this;h(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=r}),this._plugins=e.slice().reverse()}return p(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}()).\u0275fac=function(t){return new(t||ht)(s.Zb(wt),s.Zb(s.A))},ht.\u0275prov=s.Jb({token:ht,factory:ht.\u0275fac}),ht),kt=function(){function t(e){h(this,t),this._doc=e}return p(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=c().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),Et=((pt=function(){function t(){h(this,t),this._stylesSet=new Set}return p(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||pt)},pt.\u0275prov=s.Jb({token:pt,factory:pt.\u0275fac}),pt),Ot=((dt=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return p(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(t){return c().remove(t)})}}]),n}(Et)).\u0275fac=function(t){return new(t||dt)(s.Zb(d))},dt.\u0275prov=s.Jb({token:dt,factory:dt.\u0275fac}),dt),St={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},It=/%COMP%/g;function Tt(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Tt(t,i,n):(i=i.replace(It,t),n.push(i))}return n}function Ct(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var xt,At,jt,Rt,Nt=((xt=function(){function t(e,n,r){h(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Dt(e)}return p(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case s.S.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Pt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case s.S.ShadowDom:return new Lt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=Tt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||xt)(s.Zb(_t),s.Zb(Ot),s.Zb(s.c))},xt.\u0275prov=s.Jb({token:xt,factory:xt.\u0275fac}),xt),Dt=function(){function t(e){h(this,t),this.eventManager=e,this.data=Object.create(null)}return p(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(St[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=St[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=St[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&(s.H.DashCase|s.H.Important)?t.style.setProperty(e,n,r&s.H.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&s.H.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ct(n)):this.eventManager.addEventListener(t,e,Ct(n))}}]),t}(),Pt=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;h(this,n),(a=e.call(this,t)).component=i;var s=Tt(o+"-"+i.id,i.styles,[]);return r.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(It,o+"-"+i.id),a.hostAttr="_nghost-%COMP%".replace(It,o+"-"+i.id),a}return p(n,[{key:"applyToHost",value:function(t){f(_(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=f(_(n.prototype),"createElement",this).call(this,t,e);return f(_(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Dt),Lt=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;h(this,n),(a=e.call(this,t)).sharedStylesHost=r,a.hostEl=i,a.shadowRoot=i.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=Tt(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return p(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return f(_(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return f(_(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return f(_(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(f(_(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(Dt),Mt=((At=function(t){v(n,t);var e=g(n);function n(t){return h(this,n),e.call(this,t)}return p(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(kt)).\u0275fac=function(t){return new(t||At)(s.Zb(d))},At.\u0275prov=s.Jb({token:At,factory:At.\u0275fac}),At),Ft=["alt","control","meta","shift"],Ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Bt=((jt=function(t){v(n,t);var e=g(n);function n(t){return h(this,n),e.call(this,t)}return p(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return c().onAndCancel(t,i.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Ft.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Vt.hasOwnProperty(e)&&(e=Vt[e]))}return Ut[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Ft.forEach(function(r){r!=n&&(0,qt[r])(t)&&(e+=r+".")}),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(kt)).\u0275fac=function(t){return new(t||jt)(s.Zb(d))},jt.\u0275prov=s.Jb({token:jt,factory:jt.\u0275fac}),jt),Ht=[{provide:s.C,useValue:"browser"},{provide:s.D,useValue:function(){vt.makeCurrent(),bt.init()},multi:!0},{provide:d,useFactory:function(){return Object(s.vb)(document),document},deps:[]}],zt=Object(s.T)(s.X,"browser",Ht),Gt=[[],{provide:s.ab,useValue:"root"},{provide:s.m,useFactory:function(){return new s.m},deps:[]},{provide:wt,useClass:Mt,multi:!0,deps:[d,s.A,s.C]},{provide:wt,useClass:Bt,multi:!0,deps:[d]},[],{provide:Nt,useClass:Nt,deps:[_t,Ot,s.c]},{provide:s.G,useExisting:Nt},{provide:Et,useExisting:Ot},{provide:Ot,useClass:Ot,deps:[d]},{provide:s.N,useClass:s.N,deps:[s.A]},{provide:_t,useClass:_t,deps:[wt,s.A]},[]],Kt=((Rt=function(){function t(e){if(h(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return p(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:s.c,useValue:e.appId},{provide:gt,useExisting:s.c},mt]}}}]),t}()).\u0275fac=function(t){return new(t||Rt)(s.Zb(Rt,12))},Rt.\u0275mod=s.Lb({type:Rt}),Rt.\u0275inj=s.Kb({providers:Gt,imports:[ot,s.f]}),Rt);"undefined"!=typeof window&&window;var Wt=o("Cfvw"),Qt=o("LRne"),Zt=o("XNiG"),Jt=o("9ppp"),Yt=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this))._value=t,r}return p(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=f(_(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Jt.a;return this._value}},{key:"next",value:function(t){f(_(n.prototype),"next",this).call(this,this._value=t)}}]),n}(Zt.a),Xt=o("z+Ro"),$t=o("DH7j"),te=o("7o/Q"),ee=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(te.a),ne=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return p(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(te.a),re=o("SeVD"),ie=o("HDdC");function oe(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new ne(t,n,r);if(!i.closed)return e instanceof ie.a?e.subscribe(i):Object(re.a)(e)(i)}var ae=o("yCtX"),se={},ue=function(){function t(e){h(this,t),this.resultSelector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new ce(t,this.resultSelector))}}]),t}(),ce=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return p(n,[{key:"_next",value:function(t){this.values.push(se),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add(oe(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var r=this.values,i=this.toRespond?r[n]===se?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(ee),le=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),fe=o("bHdf");function he(){return Object(fe.a)(1)(Object(Qt.a).apply(void 0,arguments))}var de=o("EY2u");function pe(t){return new ie.a(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Wt.a)(n):Object(de.b)()).subscribe(e)})}var ve=o("EQ5u"),ye=o("lJxs"),ge=o("zx2A");function me(t,e){return"function"==typeof e?function(n){return n.pipe(me(function(n,r){return Object(Wt.a)(t(n,r)).pipe(Object(ye.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new be(t))}}var be=function(){function t(e){h(this,t),this.project=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new we(t,this.project))}}]),t}(),we=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return p(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new ge.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(ge.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||f(_(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&f(_(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(ge.b),_e=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function ke(t){return function(e){return 0===t?Object(de.b)():e.lift(new Ee(t))}}var Ee=function(){function t(e){if(h(this,t),this.total=e,this.total<0)throw new _e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Oe(t,this.total))}}]),t}(),Oe=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return p(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(te.a);function Se(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(Xt.a)(r)?(e.pop(),function(t){return he(e,t,r)}):function(t){return he(e,t)}}function Ie(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Te(t,e,n))}}var Te=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];h(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Ce(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),Ce=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return h(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return p(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}}]),n}(te.a);function xe(t,e){return function(n){return n.lift(new Ae(t,e))}}var Ae=function(){function t(e,n){h(this,t),this.predicate=e,this.thisArg=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new je(t,this.predicate,this.thisArg))}}]),t}(),je=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return p(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(te.a);function Re(t){return function(e){var n=new Ne(t),r=e.lift(n);return n.caught=r}}var Ne=function(){function t(e){h(this,t),this.selector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new De(t,this.selector,this.caught))}}]),t}(),De=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return p(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void f(_(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new ge.a(this);this.add(r);var i=Object(ge.c)(e,r);i!==r&&this.add(i)}}}]),n}(ge.b),Pe=o("5+tZ");function Le(t,e){return Object(Pe.a)(t,e,1)}function Me(t){return function(e){return 0===t?Object(de.b)():e.lift(new Fe(t))}}var Fe=function(){function t(e){if(h(this,t),this.total=e,this.total<0)throw new _e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Ue(t,this.total))}}]),t}(),Ue=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return p(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(te.a);function Ve(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;return function(e){return e.lift(new qe(t))}}var qe=function(){function t(e){h(this,t),this.errorFactory=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Be(t,this.errorFactory))}}]),t}(),Be=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return p(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(d_){t=d_}this.destination.error(t)}}]),n}(te.a);function He(){return new le}function ze(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new Ge(t))}}var Ge=function(){function t(e){h(this,t),this.defaultValue=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Ke(t,this.defaultValue))}}]),t}(),Ke=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return p(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(te.a),We=o("SpAZ");function Qe(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?xe(function(e,n){return t(e,n,r)}):We.a,ke(1),n?ze(e):Ve(function(){return new le}))}}var Ze=o("vkgz"),Je=o("x+ZX"),Ye=o("quSY"),Xe=function(){function t(e){h(this,t),this.callback=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new $e(t,this.callback))}}]),t}(),$e=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).add(new Ye.a(r)),i}return n}(te.a),tn=function t(e,n){h(this,t),this.id=e,this.url=n},en=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return p(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(tn),nn=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return p(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(tn),rn=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t,r)).reason=i,o}return p(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(tn),on=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t,r)).error=i,o}return p(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(tn),an=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return h(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(tn),sn=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return h(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(tn),un=function(t){v(n,t);var e=g(n);function n(t,r,i,o,a){var s;return h(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return p(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(tn),cn=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return h(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(tn),ln=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return h(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(tn),fn=function(){function t(e){h(this,t),this.route=e}return p(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),hn=function(){function t(e){h(this,t),this.route=e}return p(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),dn=function(){function t(e){h(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),pn=function(){function t(e){h(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),vn=function(){function t(e){h(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),yn=function(){function t(e){h(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),gn=function(){function t(e,n,r){h(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return p(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),mn=function(){function t(e){h(this,t),this.params=e||{}}return p(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function bn(t){return new mn(t)}function wn(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function _n(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function kn(t,e){var n,r=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!En(t[n=r[o]],e[n]))return!1;return!0}function En(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=i(t).sort(),r=i(e).sort();return n.every(function(t,e){return r[e]===t})}return t===e}function On(t){return Array.prototype.concat.apply([],t)}function Sn(t){return t.length>0?t[t.length-1]:null}function In(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Tn(t){return Object(s.rb)(t)?t:Object(s.sb)(t)?Object(Wt.a)(Promise.resolve(t)):Object(Qt.a)(t)}function Cn(t,e,n){return n?function(t,e){return kn(t,e)}(t.queryParams,e.queryParams)&&xn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return En(t[n],e[n])})}(t.queryParams,e.queryParams)&&An(t.root,e.root)}function xn(t,e){if(!Pn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!xn(t.children[n],e.children[n]))return!1}return!0}function An(t,e){return jn(t,e,e.segments)}function jn(t,e,n){if(t.segments.length>n.length)return!!Pn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Pn(t.segments,n))return!1;for(var r in e.children){if(!t.children[r])return!1;if(!An(t.children[r],e.children[r]))return!1}return!0}var i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!Pn(t.segments,i)&&!!t.children.primary&&jn(t.children.primary,e,o)}var Rn=function(){function t(e,n,r){h(this,t),this.root=e,this.queryParams=n,this.fragment=r}return p(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=bn(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Fn.serialize(this)}}]),t}(),Nn=function(){function t(e,n){var r=this;h(this,t),this.segments=e,this.children=n,this.parent=null,In(n,function(t,e){return t.parent=r})}return p(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Un(this)}}]),t}(),Dn=function(){function t(e,n){h(this,t),this.path=e,this.parameters=n}return p(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=bn(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Kn(this)}}]),t}();function Pn(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}var Ln=function t(){h(this,t)},Mn=function(){function t(){h(this,t)}return p(t,[{key:"parse",value:function(t){var e=new Yn(t);return new Rn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,r;return"/".concat(Vn(t.root,!0)).concat((n=t.queryParams,r=Object.keys(n).map(function(t){var e=n[t];return Array.isArray(e)?e.map(function(e){return"".concat(Bn(t),"=").concat(Bn(e))}).join("&"):"".concat(Bn(t),"=").concat(Bn(e))}),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),Fn=new Mn;function Un(t){return t.segments.map(function(t){return Kn(t)}).join("/")}function Vn(t,e){if(!t.hasChildren())return Un(t);if(e){var n=t.children.primary?Vn(t.children.primary,!1):"",r=[];return In(t.children,function(t,e){"primary"!==e&&r.push("".concat(e,":").concat(Vn(t,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(t,e){var n=[];return In(t.children,function(t,r){"primary"===r&&(n=n.concat(e(t,r)))}),In(t.children,function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,function(e,n){return"primary"===n?[Vn(t.children.primary,!1)]:["".concat(n,":").concat(Vn(e,!1))]});return 1===Object.keys(t.children).length&&null!=t.children.primary?"".concat(Un(t),"/").concat(i[0]):"".concat(Un(t),"/(").concat(i.join("//"),")")}function qn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bn(t){return qn(t).replace(/%3B/gi,";")}function Hn(t){return qn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zn(t){return decodeURIComponent(t)}function Gn(t){return zn(t.replace(/\+/g,"%20"))}function Kn(t){return"".concat(Hn(t.path)).concat((e=t.parameters,Object.keys(e).map(function(t){return";".concat(Hn(t),"=").concat(Hn(e[t]))}).join("")));var e}var Wn=/^[^\/()?;=#]+/;function Qn(t){var e=t.match(Wn);return e?e[0]:""}var Zn=/^[^=?&#]+/,Jn=/^[^?&#]+/,Yn=function(){function t(e){h(this,t),this.url=e,this.remaining=e}return p(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nn([],{}):new Nn([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Nn(t,e)),n}},{key:"parseSegment",value:function(){var t=Qn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new Dn(zn(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Qn(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Qn(this.remaining);r&&(n=r,this.capture(n))}t[zn(e)]=zn(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Zn);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Jn);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Gn(e),o=Gn(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Qn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Nn([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Xn=function(){function t(e){h(this,t),this._root=e}return p(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=$n(t,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(t){var e=$n(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=tr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(t){return tr(t,this._root).map(function(t){return t.value})}}]),t}();function $n(t,e){if(t===e.value)return e;var n,r=a(e.children);try{for(r.s();!(n=r.n()).done;){var i=$n(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function tr(t,e){if(t===e.value)return[e];var n,r=a(e.children);try{for(r.s();!(n=r.n()).done;){var i=tr(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var er=function(){function t(e,n){h(this,t),this.value=e,this.children=n}return p(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function nr(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var rr=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).snapshot=r,cr(b(i),t),i}return p(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Xn);function ir(t,e){var n=function(t,e){var n=new sr([],{},{},"",{},"primary",e,null,t.root,-1,{});return new ur("",new er(n,[]))}(t,e),r=new Yt([new Dn("",{})]),i=new Yt({}),o=new Yt({}),a=new Yt({}),s=new Yt(""),u=new or(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new rr(new er(u,[]),n)}var or=function(){function t(e,n,r,i,o,a,s,u){h(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return p(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(ye.a)(function(t){return bn(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(ye.a)(function(t){return bn(t)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function ar(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var sr=function(){function t(e,n,r,i,o,a,s,u,c,l,f){h(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=f}return p(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=bn(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=bn(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(t){return t.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),t}(),ur=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,r)).url=t,cr(b(i),r),i}return p(n,[{key:"toString",value:function(){return lr(this._root)}}]),n}(Xn);function cr(t,e){e.value._routerState=t,e.children.forEach(function(e){return cr(t,e)})}function lr(t){var e=t.children.length>0?" { ".concat(t.children.map(lr).join(", ")," } "):"";return"".concat(t.value).concat(e)}function fr(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,kn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),kn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!kn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),kn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function hr(t,e){return kn(t.params,e.params)&&function(t,e){return Pn(t,e)&&t.every(function(t,n){return kn(t.parameters,e[n].parameters)})}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||hr(t.parent,e.parent))}function dr(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=e.value;var i=function(t,e,n){return e.children.map(function(e){var r,i=a(n.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(t.shouldReuseRoute(e.value,o.value.snapshot))return dr(t,e,o)}}catch(s){i.e(s)}finally{i.f()}return dr(t,e)})}(t,e,n);return new er(r,i)}var o=t.retrieve(e.value);if(o){var s=o.route;return pr(e,s),s}var u,c=new or(new Yt((u=e.value).url),new Yt(u.params),new Yt(u.queryParams),new Yt(u.fragment),new Yt(u.data),u.outlet,u.component,u),l=e.children.map(function(e){return dr(t,e)});return new er(c,l)}function pr(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)pr(t.children[n],e.children[n])}function vr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function yr(t){return"object"==typeof t&&null!=t&&t.outlets}function gr(t,e,n,r,i){var o={};return r&&In(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return"".concat(t)}):"".concat(t)}),new Rn(n.root===t?e:mr(n.root,t,e),o,i)}function mr(t,e,n){var r={};return In(t.children,function(t,i){r[i]=t===e?n:mr(t,e,n)}),new Nn(t.segments,r)}var br=function(){function t(e,n,r){if(h(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&vr(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(yr);if(i&&i!==Sn(r))throw new Error("{outlets:{}} has to be the last command")}return p(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),wr=function t(e,n,r){h(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function _r(t,e,n){if(t||(t=new Nn([],{})),0===t.segments.length&&t.hasChildren())return kr(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=n[r];if(yr(s))break;var u="".concat(s),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!Ir(u,c,a))return o;r+=2}else{if(!Ir(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Nn(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new Nn(t.segments.slice(r.pathIndex),t.children),kr(o,0,i)}return r.match&&0===i.length?new Nn(t.segments,{}):r.match&&!t.hasChildren()?Er(t,e,n):r.match?kr(t,0,i):Er(t,e,n)}function kr(t,e,n){if(0===n.length)return new Nn(t.segments,{});var r=function(t){return yr(t[0])?t[0].outlets:{primary:t}}(n),i={};return In(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=_r(t.children[r],e,n))}),In(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new Nn(t.segments,i)}function Er(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){var o=n[i];if(yr(o)){var a=Or(o.outlets);return new Nn(r,a)}if(0===i&&vr(n[0]))r.push(new Dn(t.segments[e].path,Sr(n[0]))),i++;else{var s=yr(o)?o.outlets.primary:"".concat(o),u=i<n.length-1?n[i+1]:null;s&&u&&vr(u)?(r.push(new Dn(s,Sr(u))),i+=2):(r.push(new Dn(s,{})),i++)}}return new Nn(r,{})}function Or(t){var e={};return In(t,function(t,n){"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Er(new Nn([],{}),0,t))}),e}function Sr(t){var e={};return In(t,function(t,n){return e[n]="".concat(t)}),e}function Ir(t,e,n){return t==n.path&&kn(e,n.parameters)}var Tr=function(){function t(e,n,r,i){h(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return p(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),fr(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=nr(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),In(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){for(var n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=nr(t),o=0,a=Object.keys(i);o<a.length;o++){var s=a[o];this.deactivateRouteAndItsChildren(i[s],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=nr(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new yn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new pn(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(fr(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Cr(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function Cr(t){fr(t.value),t.children.forEach(Cr)}var xr=function t(e,n){h(this,t),this.routes=e,this.module=n};function Ar(t){return"function"==typeof t}function jr(t){return t instanceof Rn}var Rr=Symbol("INITIAL_VALUE");function Nr(){return me(function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i;return Object(Xt.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object($t.a)(e[0])&&(e=e[0]),Object(ae.a)(e,i).lift(new ue(r))}(t.map(function(t){return t.pipe(ke(1),Se(Rr))})).pipe(Ie(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==Rr)return t;if(r===Rr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||jr(r))return r}return t},t)},Rr),xe(function(t){return t!==Rr}),Object(ye.a)(function(t){return jr(t)?t:!0===t}),ke(1))})}var Dr,Pr=((Dr=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Dr)},Dr.\u0275cmp=s.Hb({type:Dr,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&s.Ob(0,"router-outlet")},directives:function(){return[xi]},encapsulation:2}),Dr);function Lr(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];Mr(r,Fr(e,r))}}function Mr(t,e){t.children&&Lr(t.children,e)}function Fr(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Ur(t){var e=t.children&&t.children.map(Ur),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Pr),n}function Vr(t){return t.outlet||"primary"}function qr(t,e){var n=t.filter(function(t){return Vr(t)===e});return n.push.apply(n,i(t.filter(function(t){return Vr(t)!==e}))),n}var Br={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Hr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Br):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(e.matcher||_n)(n,t,e);if(!i)return Object.assign({},Br);var o={};In(i.posParams,function(t,e){o[e]=t.path});var a=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function zr(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(t,e,n){return n.some(function(n){return Gr(t,e,n)&&"primary"!==Vr(n)})}(t,n,r)){var o=new Nn(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,s=a(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(""===u.path&&"primary"!==Vr(u)){var c=new Nn([],{});c._sourceSegment=t,c._segmentIndexShift=e.length,i[Vr(u)]=c}}}catch(l){s.e(l)}finally{s.f()}return i}(t,e,r,new Nn(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(function(n){return Gr(t,e,n)})}(t,n,r)){var s=new Nn(t.segments,function(t,e,n,r,i,o){var s,u={},c=a(r);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(Gr(t,n,l)&&!i[Vr(l)]){var f=new Nn([],{});f._sourceSegment=t,f._segmentIndexShift="legacy"===o?t.segments.length:e.length,u[Vr(l)]=f}}}catch(h){c.e(h)}finally{c.f()}return Object.assign(Object.assign({},i),u)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}var u=new Nn(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}function Gr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Kr(t,e,n,r){return!!(Vr(t)===r||"primary"!==r&&Gr(e,n,t))&&("**"===t.path||Hr(e,t,n).matched)}function Wr(t,e,n){return 0===e.length&&!t.children[n]}var Qr=function t(e){h(this,t),this.segmentGroup=e||null},Zr=function t(e){h(this,t),this.urlTree=e};function Jr(t){return new ie.a(function(e){return e.error(new Qr(t))})}function Yr(t){return new ie.a(function(e){return e.error(new Zr(t))})}function Xr(t){return new ie.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var $r=function(){function t(e,n,r,i,o){h(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(s.y)}return p(t,[{key:"apply",value:function(){var t=this,e=zr(this.urlTree.root,[],[],this.config).segmentGroup,n=new Nn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe(Object(ye.a)(function(e){return t.createUrlTree(ti(e),t.urlTree.queryParams,t.urlTree.fragment)})).pipe(Re(function(e){if(e instanceof Zr)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Qr)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(ye.a)(function(n){return e.createUrlTree(ti(n),t.queryParams,t.fragment)})).pipe(Re(function(t){if(t instanceof Qr)throw e.noMatchError(t);throw t}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new Nn([],{primary:t}):t;return new Rn(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(ye.a)(function(t){return new Nn([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){for(var r=this,i=[],o=0,a=Object.keys(n.children);o<a.length;o++){var s=a[o];"primary"===s?i.unshift(s):i.push(s)}return Object(Wt.a)(i).pipe(Le(function(i){var o=n.children[i],a=qr(e,i);return r.expandSegmentGroup(t,a,o,i).pipe(Object(ye.a)(function(t){return{segment:t,outlet:i}}))}),Ie(function(t,e){return t[e.outlet]=e.segment,t},{}),function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?xe(function(e,n){return t(e,n,r)}):We.a,Me(1),n?ze(e):Ve(function(){return new le}))}}())}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return Object(Wt.a)(n).pipe(Le(function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Re(function(t){if(t instanceof Qr)return Object(Qt.a)(null);throw t}))}),Qe(function(t){return!!t}),Re(function(t,n){if(t instanceof le||"EmptyError"===t.name){if(Wr(e,r,i))return Object(Qt.a)(new Nn([],{}));throw new Qr(e)}throw t}))}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return Kr(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Jr(e):Jr(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Yr(o):this.lineralizeSegments(n,o).pipe(Object(Pe.a)(function(n){var o=new Nn(n,{});return i.expandSegment(t,o,e,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=Hr(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,f=s.positionalParamSegments;if(!u)return Jr(e);var h=this.applyRedirectCommands(c,r.redirectTo,f);return r.redirectTo.startsWith("/")?Yr(h):this.lineralizeSegments(r,h).pipe(Object(Pe.a)(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(Qt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(ye.a)(function(t){return n._loadedConfig=t,new Nn(r,{})})):Object(Qt.a)(new Nn(r,{}));var a=Hr(e,n,r),s=a.matched,u=a.consumedSegments,c=a.lastChild;if(!s)return Jr(e);var l=r.slice(c);return this.getChildConfig(t,n,r).pipe(Object(Pe.a)(function(t){var r=t.module,a=t.routes,s=zr(e,u,l,a),c=s.segmentGroup,f=s.slicedSegments,h=new Nn(c.segments,c.children);if(0===f.length&&h.hasChildren())return o.expandChildren(r,a,h).pipe(Object(ye.a)(function(t){return new Nn(u,t)}));if(0===a.length&&0===f.length)return Object(Qt.a)(new Nn(u,{}));var d=Vr(n)===i;return o.expandSegment(r,h,a,f,d?"primary":i,!0).pipe(Object(ye.a)(function(t){return new Nn(u.concat(t.segments),t.children)}))}))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(Qt.a)(new xr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Qt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Pe.a)(function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(ye.a)(function(t){return e._loadedConfig=t,t})):function(t){return new ie.a(function(e){return e.error(wn("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(e)})):Object(Qt.a)(new xr([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r=this,i=e.canLoad;if(!i||0===i.length)return Object(Qt.a)(!0);var o=i.map(function(r){var i,o=t.get(r);if(function(t){return t&&Ar(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!Ar(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return Tn(i)});return Object(Qt.a)(o).pipe(Nr(),Object(Ze.a)(function(t){if(jr(t)){var e=wn('Redirecting to "'.concat(r.urlSerializer.serialize(t),'"'));throw e.url=t,e}}),Object(ye.a)(function(t){return!0===t}))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Qt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Xr(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Rn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return In(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return In(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new Nn(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=a(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(s){i.e(s)}finally{i.f()}return t}}]),t}();function ti(t){for(var e={},n=0,r=Object.keys(t.children);n<r.length;n++){var i=r[n],o=ti(t.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new Nn(t.segments.concat(e.segments),e.children)}return t}(new Nn(t.segments,e))}var ei=function t(e){h(this,t),this.path=e,this.route=this.path[this.path.length-1]},ni=function t(e,n){h(this,t),this.component=e,this.route=n};function ri(t,e,n){var r=t._root;return oi(r,e?e._root:null,n,[r.value])}function ii(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function oi(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=nr(e);return t.children.forEach(function(t){!function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Pn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Pn(t.url,e.url)||!kn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hr(t,e)||!kn(t.queryParams,e.queryParams);case"paramsChange":default:return!hr(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ei(r)):(o.data=a.data,o._resolvedData=a._resolvedData),oi(t,e,o.component?s?s.children:null:n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new ni(s.outlet.component,a))}else a&&ai(e,s,i),i.canActivateChecks.push(new ei(r)),oi(t,null,o.component?s?s.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),In(o,function(t,e){return ai(t,n.getContext(e),i)}),i}function ai(t,e,n){var r=nr(t),i=t.value;In(r,function(t,r){ai(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new ni(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var si=function t(){h(this,t)};function ui(t){return new ie.a(function(e){return e.error(t)})}var ci=function(){function t(e,n,r,i,o,a){h(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return p(t,[{key:"recognize",value:function(){var t=zr(this.urlTree.root,[],[],this.config.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;var n=new sr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new er(n,e),i=new ur(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=ar(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){for(var n=[],r=0,o=Object.keys(e.children);r<o.length;r++){var s=o[r],u=e.children[s],c=qr(t,s),l=this.processSegmentGroup(c,u,s);if(null===l)return null;n.push.apply(n,i(l))}var f=function(t){var e,n=[],r=a(t);try{var o=function(){var t,r=e.value;if(!function(t){var e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}(r))return n.push(r),"continue";var o=n.find(function(t){return r.value.routeConfig===t.value.routeConfig});void 0!==o?(t=o.children).push.apply(t,i(r.children)):n.push(r)};for(r.s();!(e=r.n()).done;)o()}catch(s){r.e(s)}finally{r.f()}return n}(n);return f.sort(function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)}),f}},{key:"processSegment",value:function(t,e,n,r){var i,o=a(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=this.processSegmentAgainstRoute(s,e,n,r);if(null!==u)return u}}catch(c){o.e(c)}finally{o.f()}return Wr(e,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo||!Kr(t,e,n,r))return null;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?Sn(n).parameters:{};i=new sr(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hi(t),Vr(t),t.component,t,li(e),fi(e)+n.length,di(t))}else{var u=Hr(e,t,n);if(!u.matched)return null;o=u.consumedSegments,a=n.slice(u.lastChild),i=new sr(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hi(t),Vr(t),t.component,t,li(e),fi(e)+o.length,di(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=zr(e,o,a,c.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution),f=l.segmentGroup,h=l.slicedSegments;if(0===h.length&&f.hasChildren()){var d=this.processChildren(c,f);return null===d?null:[new er(i,d)]}if(0===c.length&&0===h.length)return[new er(i,[])];var p=Vr(t)===r,v=this.processSegment(c,f,h,p?"primary":r);return null===v?null:[new er(i,v)]}}]),t}();function li(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function fi(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function hi(t){return t.data||{}}function di(t){return t.resolve||{}}function pi(t){return me(function(e){var n=t(e);return n?Object(Wt.a)(n).pipe(Object(ye.a)(function(){return e})):Object(Qt.a)(e)})}var vi=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return n}(function(){function t(){h(this,t)}return p(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),yi=new s.r("ROUTES"),gi=function(){function t(e,n,r,i){h(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return p(t,[{key:"load",value:function(t,e){var n=this;if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren).pipe(Object(ye.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new xr(On(i.injector.get(yi,void 0,s.q.Self|s.q.Optional)).map(Ur),i)}),Re(function(t){throw e._loader$=void 0,t}));return e._loader$=new ve.a(r,function(){return new Zt.a}).pipe(Object(Je.a)()),e._loader$}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(Wt.a)(this.loader.load(t)):Tn(t()).pipe(Object(Pe.a)(function(t){return t instanceof s.w?Object(Qt.a)(t):Object(Wt.a)(e.compiler.compileModuleAsync(t))}))}}]),t}(),mi=function t(){h(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new bi,this.attachRef=null},bi=function(){function t(){h(this,t),this.contexts=new Map}return p(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new mi,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),wi=function(){function t(){h(this,t)}return p(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function _i(t){throw t}function ki(t,e,n){return e.parse("/")}function Ei(t,e){return Object(Qt.a)(null)}var Oi,Si,Ii,Ti,Ci=((Si=function(){function t(e,n,r,i,o,a,u,c){var l=this;h(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Zt.a,this.errorHandler=_i,this.malformedUriErrorHandler=ki,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ei,afterPreactivation:Ei},this.urlHandlingStrategy=new wi,this.routeReuseStrategy=new vi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(s.y),this.console=o.get(s.Z);var f=o.get(s.A);this.isNgZoneEnabled=f instanceof s.A&&s.A.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Rn(new Nn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new gi(a,u,function(t){return l.triggerEvent(new fn(t))},function(t){return l.triggerEvent(new hn(t))}),this.routerState=ir(this.currentUrlTree,this.rootComponentType),this.transitions=new Yt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return p(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(xe(function(t){return 0!==t.id}),Object(ye.a)(function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),me(function(t){var r,i,o,a,s=!1,u=!1;return Object(Qt.a)(t).pipe(Object(Ze.a)(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}}),me(function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Qt.a)(t).pipe(me(function(t){var r=e.transitions.getValue();return n.next(new en(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?de.a:Promise.resolve(t)}),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,me(function(t){return function(t,e,n,r,i){return new $r(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(ye.a)(function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})}))})),Object(Ze.a)(function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,n,r,i,o){return Object(Pe.a)(function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new ci(t,e,n,r,i,o).recognize();return null===a?ui(new si):Object(Qt.a)(a)}catch(d_){return ui(d_)}}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(ye.a)(function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})}));var a})}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(Ze.a)(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects);var r=new an(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,f=t.restoredState,h=t.extras,d=new en(u,e.serializeUrl(c),l,f);n.next(d);var p=ir(c,e.rootComponentType).snapshot;return Object(Qt.a)(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},h),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),de.a}),pi(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),Object(Ze.a)(function(t){var n=new sn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(ye.a)(function(t){return Object.assign(Object.assign({},t),{guards:ri(t.targetSnapshot,t.currentSnapshot,e.rootContexts)})}),function(t,e){return Object(Pe.a)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(Qt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Wt.a)(t).pipe(Object(Pe.a)(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Qt.a)(!0);var a=o.map(function(o){var a,s=ii(o,e,i);if(function(t){return t&&Ar(t.canDeactivate)}(s))a=Tn(s.canDeactivate(t,e,n,r));else{if(!Ar(s))throw new Error("Invalid CanDeactivate guard");a=Tn(s(t,e,n,r))}return a.pipe(Qe())});return Object(Qt.a)(a).pipe(Nr())}(t.component,t.route,n,e,r)}),Qe(function(t){return!0!==t},!0))}(s,r,i,t).pipe(Object(Pe.a)(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(Wt.a)(e).pipe(Le(function(e){return he(function(t,e){return null!==t&&e&&e(new dn(t)),Object(Qt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new vn(t)),Object(Qt.a)(!0)}(e.route,r),function(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return pe(function(){var i=e.guards.map(function(i){var o,a=ii(i,e.node,n);if(function(t){return t&&Ar(t.canActivateChild)}(a))o=Tn(a.canActivateChild(r,t));else{if(!Ar(a))throw new Error("Invalid CanActivateChild guard");o=Tn(a(r,t))}return o.pipe(Qe())});return Object(Qt.a)(i).pipe(Nr())})});return Object(Qt.a)(i).pipe(Nr())}(t,e.path,n),function(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Qt.a)(!0);var i=r.map(function(r){return pe(function(){var i,o=ii(r,e,n);if(function(t){return t&&Ar(t.canActivate)}(o))i=Tn(o.canActivate(e,t));else{if(!Ar(o))throw new Error("Invalid CanActivate guard");i=Tn(o(e,t))}return i.pipe(Qe())})});return Object(Qt.a)(i).pipe(Nr())}(t,e.route,n))}),Qe(function(t){return!0!==t},!0))}(r,a,t,e):Object(Qt.a)(n)}),Object(ye.a)(function(t){return Object.assign(Object.assign({},n),{guardsResult:t})}))})}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),Object(Ze.a)(function(t){if(jr(t.guardsResult)){var n=wn('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}var r=new un(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(r)}),xe(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new rn(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),pi(function(t){if(t.guards.canActivateChecks.length)return Object(Qt.a)(t).pipe(Object(Ze.a)(function(t){var n=new cn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),me(function(t){var r,i,o=!1;return Object(Qt.a)(t).pipe((r=e.paramsInheritanceStrategy,i=e.ngModule.injector,Object(Pe.a)(function(t){var e=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return Object(Qt.a)(t);var o=0;return Object(Wt.a)(n).pipe(Le(function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(Qt.a)({});var o={};return Object(Wt.a)(i).pipe(Object(Pe.a)(function(i){return function(t,e,n,r){var i=ii(t,e,r);return Tn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Ze.a)(function(t){o[i]=t}))}),Me(1),Object(Pe.a)(function(){return Object.keys(o).length===i.length?Object(Qt.a)(o):de.a}))}(t._resolve,t,e,r).pipe(Object(ye.a)(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ar(t,n).resolve),null}))}(t.route,e,r,i)}),Object(Ze.a)(function(){return o++}),Me(1),Object(Pe.a)(function(e){return o===n.length?Object(Qt.a)(t):de.a}))})),Object(Ze.a)({next:function(){return o=!0},complete:function(){if(!o){var r=new rn(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),t.resolve(!1)}}}))}),Object(Ze.a)(function(t){var n=new ln(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}))}),pi(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),Object(ye.a)(function(t){var n=function(t,e,n){var r=dr(t,e._root,n?n._root:void 0);return new rr(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})}),Object(Ze.a)(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},Object(ye.a)(function(t){return new Tr(o,t.targetRouterState,t.currentRouterState,a).activate(i),t})),Object(Ze.a)({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){e.resetUrlToCurrentUrlTree();var r=new rn(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Xe(r))}),Re(function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=jr(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new rn(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout(function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new on(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(Lh){t.reject(Lh)}}var s;return de.a}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout(function(){var e=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var a=Object.assign({},r);delete a.navigationId,0!==Object.keys(a).length&&(o.state=a)}t.scheduleNavigation(i,e,r,o)},0),t.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Lr(t),this.config=t.map(Ur),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,r=e.queryParams,o=e.fragment,a=e.queryParamsHandling,s=e.preserveFragment,u=n||this.routerState.root,c=s?this.currentUrlTree.fragment:o,l=null;switch(a){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,o){if(0===n.length)return gr(e.root,e.root,e,r,o);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new br(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,o){if("object"==typeof r&&null!=r){if(r.outlets){var a={};return In(r.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),[].concat(i(t),[{outlets:a}])}if(r.segmentPath)return[].concat(i(t),[r.segmentPath])}return"string"!=typeof r?[].concat(i(t),[r]):0===o?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[].concat(i(t),[r])},[]);return new br(n,e,r)}(n);if(a.toRoot())return gr(e.root,new Nn([],{}),e,r,o);var s=function(t,e,n){if(t.isAbsolute)return new wr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new wr(r,r===e.root,0)}var i=vr(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new wr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(a,e,t),u=s.processChildren?kr(s.segmentGroup,s.index,a.commands):_r(s.segmentGroup,s.index,a.commands);return gr(s.segmentGroup,u,e,r,o)}(u,this.currentUrlTree,t,l,c)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=jr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(d_){e=this.malformedUriErrorHandler(d_,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(jr(t))return Cn(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Cn(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new nn(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);var o,a,s,u=this.getTransition(),c="imperative"!==e&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===t.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise(function(t,e){o=t,a=e});var f=++this.navigationId;return this.setTransition({id:f,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),t}()).\u0275fac=function(t){return new(t||Si)(s.Zb(s.O),s.Zb(Ln),s.Zb(bi),s.Zb(U),s.Zb(s.s),s.Zb(s.x),s.Zb(s.i),s.Zb(void 0))},Si.\u0275prov=s.Jb({token:Si,factory:Si.\u0275fac}),Si),xi=((Oi=function(){function t(e,n,r,i,o){h(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.n,this.deactivateEvents=new s.n,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return p(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Ai(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}()).\u0275fac=function(t){return new(t||Oi)(s.Nb(bi),s.Nb(s.R),s.Nb(s.j),s.ac("name"),s.Nb(s.h))},Oi.\u0275dir=s.Ib({type:Oi,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Oi),Ai=function(){function t(e,n,r){h(this,t),this.route=e,this.childContexts=n,this.parent=r}return p(t,[{key:"get",value:function(t,e){return t===or?this.route:t===bi?this.childContexts:this.parent.get(t,e)}}]),t}(),ji=function t(){h(this,t)},Ri=function(){function t(){h(this,t)}return p(t,[{key:"preload",value:function(t,e){return Object(Qt.a)(null)}}]),t}(),Ni=((Ti=function(){function t(e,n,r,i,o){h(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new gi(n,r,function(t){return e.triggerEvent(new fn(t))},function(t){return e.triggerEvent(new hn(t))})}return p(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(xe(function(t){return t instanceof nn}),Le(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(s.y);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=a(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(u){i.e(u)}finally{i.f()}return Object(Wt.a)(r).pipe(Object(fe.a)(),Object(ye.a)(function(t){}))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return(e._loadedConfig?Object(Qt.a)(e._loadedConfig):n.loader.load(t.injector,e)).pipe(Object(Pe.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})}}]),t}()).\u0275fac=function(t){return new(t||Ti)(s.Zb(Ci),s.Zb(s.x),s.Zb(s.i),s.Zb(s.s),s.Zb(ji))},Ti.\u0275prov=s.Jb({token:Ti,factory:Ti.\u0275fac}),Ti),Di=((Ii=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return p(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof en?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof nn&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof gn&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new gn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||Ii)(s.Zb(Ci),s.Zb(ut),s.Zb(void 0))},Ii.\u0275prov=s.Jb({token:Ii,factory:Ii.\u0275fac}),Ii),Pi=new s.r("ROUTER_CONFIGURATION"),Li=new s.r("ROUTER_FORROOT_GUARD"),Mi=[U,{provide:Ln,useClass:Mn},{provide:Ci,useFactory:function(t,e,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,f=new Ci(null,t,e,n,r,i,o,On(a));if(u&&(f.urlHandlingStrategy=u),l&&(f.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(s,f),s.enableTracing){var h=c();f.events.subscribe(function(t){h.logGroup("Router Event: ".concat(t.constructor.name)),h.log(t.toString()),h.log(t),h.logGroupEnd()})}return f},deps:[Ln,bi,U,s.s,s.x,s.i,yi,Pi,[function(){return function t(){h(this,t)}}(),new s.B],[function(){return function t(){h(this,t)}}(),new s.B]]},bi,{provide:or,useFactory:function(t){return t.routerState.root},deps:[Ci]},{provide:s.x,useClass:s.L},Ni,Ri,function(){function t(){h(this,t)}return p(t,[{key:"preload",value:function(t,e){return e().pipe(Re(function(){return Object(Qt.a)(null)}))}}]),t}(),{provide:Pi,useValue:{enableTracing:!1}}];function Fi(){return new s.z("Router",Ci)}var Ui,Vi=((Ui=function(){function t(e,n){h(this,t)}return p(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[Mi,zi(e),{provide:Li,useFactory:Hi,deps:[[Ci,new s.B,new s.K]]},{provide:Pi,useValue:n||{}},{provide:j,useFactory:Bi,deps:[y,[new s.p(L),new s.B],Pi]},{provide:Di,useFactory:qi,deps:[Ci,ut,Pi]},{provide:ji,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ri},{provide:s.z,multi:!0,useFactory:Fi},[Ki,{provide:s.d,multi:!0,useFactory:Wi,deps:[Ki]},{provide:Ji,useFactory:Qi,deps:[Ki]},{provide:s.b,multi:!0,useExisting:Ji}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[zi(e)]}}}]),t}()).\u0275fac=function(t){return new(t||Ui)(s.Zb(Li,8),s.Zb(Ci,8))},Ui.\u0275mod=s.Lb({type:Ui}),Ui.\u0275inj=s.Kb({}),Ui);function qi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Di(t,e,n)}function Bi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new F(t,e):new M(t,e)}function Hi(t){return"guarded"}function zi(t){return[{provide:s.a,multi:!0,useValue:t},{provide:yi,multi:!0,useValue:t}]}var Gi,Ki=((Gi=function(){function t(e){h(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new Zt.a}return p(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(E,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(Ci),i=t.injector.get(Pi);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),e(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return t.initNavigation?Object(Qt.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()):e(!0),n})}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Pi),n=this.injector.get(Ni),r=this.injector.get(Di),i=this.injector.get(Ci),o=this.injector.get(s.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),t}()).\u0275fac=function(t){return new(t||Gi)(s.Zb(s.s))},Gi.\u0275prov=s.Jb({token:Gi,factory:Gi.\u0275fac}),Gi);function Wi(t){return t.appInitializer.bind(t)}function Qi(t){return t.bootstrapListener.bind(t)}var Zi,Ji=new s.r("Router Initializer"),Yi=((Zi=function t(){h(this,t),this.title="huaweiToStrava"}).\u0275fac=function(t){return new(t||Zi)},Zi.\u0275cmp=s.Hb({type:Zi,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-xs-12"]],template:function(t,e){1&t&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Sb(2,"div",2),s.Ob(3,"router-outlet"),s.Rb(),s.Rb(),s.Rb())},directives:[xi],styles:[""]}),Zi),Xi=o("n6bG");function $i(t,e,n,r){return Object(Xi.a)(n)&&(r=n,n=void 0),r?$i(t,e,n).pipe(Object(ye.a)(function(t){return Object($t.a)(t)?r.apply(void 0,i(t)):r(t)})):new ie.a(function(r){to(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function to(t,e,n,r,i){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var a=t;t.addEventListener(e,n,i),o=function(){return a.removeEventListener(e,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var s=t;t.on(e,n),o=function(){return s.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var u=t;t.addListener(e,n),o=function(){return u.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,l=t.length;c<l;c++)to(t[c],e,n,r,i)}r.add(o)}var eo=o("D0XW"),no=o("Y7HM");function ro(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}var io=function(){function t(){h(this,t)}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new oo(t))}}]),t}(),oo=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).hasFirst=!1,r.observables=[],r.subscriptions=[],r}return p(n,[{key:"_next",value:function(t){this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=oe(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}},{key:"notifyNext",value:function(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(e)}}]),n}(ee);o("KqfI");var ao=o("Lhse");function so(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return"function"==typeof r&&e.pop(),Object(ae.a)(e,void 0).lift(new uo(r))}var uo=function(){function t(e){h(this,t),this.resultSelector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new co(t,this.resultSelector))}}]),t}(),co=function(t){v(n,t);var e=g(n);function n(t,r){var i;arguments.length>2&&void 0!==arguments[2]||Object.create(null);return h(this,n),(i=e.call(this,t)).resultSelector=r,i.iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:void 0,i}return p(n,[{key:"_next",value:function(t){var e=this.iterators;Object($t.a)(t)?e.push(new fo(t)):e.push("function"==typeof t[ao.a]?new lo(t[ao.a]()):new ho(this.destination,this,t))}},{key:"_complete",value:function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){var i=t[r];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,a=[],s=0;s<e;s++){var u=t[s],c=u.next();if(u.hasCompleted()&&(o=!0),c.done)return void n.complete();a.push(c.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),o&&n.complete()}},{key:"_tryresultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(te.a),lo=function(){function t(e){h(this,t),this.iterator=e,this.nextResult=e.next()}return p(t,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t}},{key:"hasCompleted",value:function(){var t=this.nextResult;return Boolean(t&&t.done)}}]),t}(),fo=function(){function t(e){h(this,t),this.array=e,this.index=0,this.length=0,this.length=e.length}return p(t,[{key:ao.a,value:function(){return this}},{key:"next",value:function(t){var e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),t}(),ho=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).parent=r,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return p(n,[{key:ao.a,value:function(){return this}},{key:"next",value:function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(t){this.buffer.push(t),this.parent.checkIterators()}},{key:"subscribe",value:function(){return Object(ge.c)(this.observable,new ge.a(this))}}]),n}(ge.b),po=o("VRyK");function vo(t){return function(e){return e.lift(new yo(t))}}var yo=function(){function t(e){h(this,t),this.notifier=e}return p(t,[{key:"call",value:function(t,e){var n=new go(t),r=Object(ge.c)(this.notifier,new ge.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}]),t}(),go=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).seenValue=!1,r}return p(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(ge.b),mo=function(){function t(e,n){h(this,t),this.compare=e,this.keySelector=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new bo(t,this.compare,this.keySelector))}}]),t}(),bo=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return p(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(te.a);function wo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new _o(e,n))}}var _o=function(){function t(e,n){h(this,t),this.observables=e,this.project=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new ko(t,this.observables,this.project))}}]),t}(),ko=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;h(this,n),(o=e.call(this,t)).observables=r,o.project=i,o.toRespond=[];var a=r.length;o.values=new Array(a);for(var s=0;s<a;s++)o.toRespond.push(s);for(var u=0;u<a;u++)o.add(oe(b(o),r[u],void 0,u));return o}return p(n,[{key:"notifyNext",value:function(t,e,n){this.values[n]=e;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat(i(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(ee);o("WMd4"),o("w1tV"),o("XoHu");var Eo,Oo,So,Io=((So=function t(){h(this,t)}).\u0275fac=function(t){return new(t||So)},So.\u0275mod=s.Lb({type:So}),So.\u0275inj=s.Kb({}),So),To=((Oo=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Oo)},Oo.\u0275mod=s.Lb({type:Oo}),Oo.\u0275inj=s.Kb({imports:[[Io]]}),Oo),Co=((Eo=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Eo)},Eo.\u0275mod=s.Lb({type:Eo}),Eo.\u0275inj=s.Kb({imports:[To]}),Eo),xo=["*"],Ao=["dialog"];function jo(t){return null!=t}function Ro(t){return(t||document.body).offsetHeight}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var No,Do,Po,Lo,Mo,Fo,Uo=!0,Vo=5,qo=((No=function t(){h(this,t),this.animation=Uo}).\u0275fac=function(t){return new(t||No)},No.\u0275prov=Object(s.Jb)({factory:function(){return new No},token:No,providedIn:"root"}),No),Bo=function(){},Ho=Vo,zo=new Map,Go=function(t,e,n,r){var i=r.context||{},o=zo.get(e);if(o)switch(r.runningTransition){case"continue":return de.a;case"stop":t.run(function(){return o.transition$.complete()}),i=Object.assign(o.context,i),zo.delete(e)}var a=n(e,r.animation,i)||Bo;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(function(){return a()}),Object(Qt.a)(void 0).pipe(function(t){return function(e){return new ie.a(function(n){return e.subscribe(function(e){return t.run(function(){return n.next(e)})},function(e){return t.run(function(){return n.error(e)})},function(){return t.run(function(){return n.complete()})})})}}(t));var s=new Zt.a,u=new Zt.a,c=s.pipe(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return he(t,Object(Qt.a).apply(void 0,e))}}(!0));zo.set(e,{transition$:s,complete:function(){u.next(),u.complete()},context:i});var l=function(t){var e=window.getComputedStyle(t),n=e.transitionDelay,r=e.transitionDuration;return 1e3*(parseFloat(n)+parseFloat(r))}(e);return t.runOutsideAngular(function(){var n=$i(e,"transitionend").pipe(vo(c),xe(function(t){return t.target===e}));(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){if(!Object($t.a)(e[0]))return e[0];e=e[0]}return Object(ae.a)(e,void 0).lift(new io)})(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return Object(no.a)(e)?r=Number(e)<1?1:Number(e):Object(Xt.a)(e)&&(n=e),Object(Xt.a)(n)||(n=eo.a),new ie.a(function(e){var i=Object(no.a)(t)?t:+t-n.now();return n.schedule(ro,i,{index:0,period:r,subscriber:e})})}(l+Ho).pipe(vo(c)),n,u).pipe(vo(c)).subscribe(function(){zo.delete(e),t.run(function(){a(),s.next(),s.complete()})})}),s.asObservable()},Ko=((Fo=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Fo)},Fo.\u0275mod=s.Lb({type:Fo}),Fo.\u0275inj=s.Kb({imports:[[ot]]}),Fo),Wo=((Mo=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Mo)},Mo.\u0275mod=s.Lb({type:Mo}),Mo.\u0275inj=s.Kb({imports:[[ot]]}),Mo),Qo=((Lo=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Lo)},Lo.\u0275mod=s.Lb({type:Lo}),Lo.\u0275inj=s.Kb({}),Lo),Zo=((Po=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Po)},Po.\u0275mod=s.Lb({type:Po}),Po.\u0275inj=s.Kb({imports:[[ot]]}),Po),Jo=((Do=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Do)},Do.\u0275mod=s.Lb({type:Do}),Do.\u0275inj=s.Kb({}),Do),Yo=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));var Xo=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function $o(t){var e=Array.from(t.querySelectorAll(Xo)).filter(function(t){return-1!==t.tabIndex});return[e[0],e[e.length-1]]}new(function(){function t(){h(this,t)}return p(t,[{key:"getAllStyles",value:function(t){return window.getComputedStyle(t)}},{key:"getStyle",value:function(t,e){return this.getAllStyles(t)[e]}},{key:"isStaticPositioned",value:function(t){return"static"===(this.getStyle(t,"position")||"static")}},{key:"offsetParent",value:function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}},{key:"position",value:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))e={top:(e=t.getBoundingClientRect()).top,bottom:e.bottom,left:e.left,right:e.right,height:e.height,width:e.width};else{var i=this.offsetParent(t);e=this.offset(t,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return e.top-=r.top,e.bottom-=r.top,e.left-=r.left,e.right-=r.left,n&&(e.top=Math.round(e.top),e.bottom=Math.round(e.bottom),e.left=Math.round(e.left),e.right=Math.round(e.right)),e}},{key:"offset",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}},{key:"positionElements",value:function(t,n,r,i){var o=e(r.split("-"),2),a=o[0],s=void 0===a?"top":a,u=o[1],c=void 0===u?"center":u,l=i?this.offset(t,!1):this.position(t,!1),f=this.getAllStyles(n),h=parseFloat(f.marginTop),d=parseFloat(f.marginBottom),p=parseFloat(f.marginLeft),v=parseFloat(f.marginRight),y=0,g=0;switch(s){case"top":y=l.top-(n.offsetHeight+h+d);break;case"bottom":y=l.top+l.height;break;case"left":g=l.left-(n.offsetWidth+p+v);break;case"right":g=l.left+l.width}switch(c){case"top":y=l.top;break;case"bottom":y=l.top+l.height-n.offsetHeight;break;case"left":g=l.left;break;case"right":g=l.left+l.width-n.offsetWidth;break;case"center":"top"===s||"bottom"===s?g=l.left+l.width/2-n.offsetWidth/2:y=l.top+l.height/2-n.offsetHeight/2}n.style.transform="translate(".concat(Math.round(g),"px, ").concat(Math.round(y),"px)");var m=n.getBoundingClientRect(),b=document.documentElement,w=window.innerHeight||b.clientHeight,_=window.innerWidth||b.clientWidth;return m.left>=0&&m.top>=0&&m.right<=_&&m.bottom<=w}}]),t}()),new Date(1882,10,12),new Date(2174,10,25);var ta,ea,na,ra,ia,oa,aa,sa,ua,ca,la,fa,ha,da,pa,va,ya,ga=((na=function t(){h(this,t)}).\u0275fac=function(t){return new(t||na)},na.\u0275mod=s.Lb({type:na}),na.\u0275inj=s.Kb({imports:[[ot,Co]]}),na),ma=((ea=function t(){h(this,t)}).\u0275fac=function(t){return new(t||ea)},ea.\u0275mod=s.Lb({type:ea}),ea.\u0275inj=s.Kb({}),ea),ba=((ta=function(){function t(e){h(this,t),this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}return p(t,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(t){this._animation=t}}]),t}()).\u0275fac=function(t){return new(t||ta)(s.Zb(qo))},ta.\u0275prov=Object(s.Jb)({factory:function(){return new ta(Object(s.Zb)(qo))},token:ta,providedIn:"root"}),ta),wa=function t(e,n,r){h(this,t),this.nodes=e,this.viewRef=n,this.componentRef=r},_a=function(){},ka=((ia=function(){function t(e){h(this,t),this._document=e}return p(t,[{key:"compensate",value:function(){var t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):_a}},{key:"_adjustBody",value:function(t){var e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]="".concat(r+t,"px"),function(){return e.style["padding-right"]=n}}},{key:"_isPresent",value:function(t){var e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}},{key:"_getWidth",value:function(){var t=this._document.createElement("div");t.className="modal-scrollbar-measure";var e=this._document.body;e.appendChild(t);var n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}]),t}()).\u0275fac=function(t){return new(t||ia)(s.Zb(d))},ia.\u0275prov=Object(s.Jb)({factory:function(){return new ia(Object(s.Zb)(d))},token:ia,providedIn:"root"}),ia),Ea=((ra=function(){function t(e,n){h(this,t),this._el=e,this._zone=n}return p(t,[{key:"ngOnInit",value:function(){var t=this;this._zone.onStable.asObservable().pipe(ke(1)).subscribe(function(){Go(t._zone,t._el.nativeElement,function(t,e){e&&Ro(t),t.classList.add("show")},{animation:t.animation,runningTransition:"continue"})})}},{key:"hide",value:function(){return Go(this._zone,this._el.nativeElement,function(t){return t.classList.remove("show")},{animation:this.animation,runningTransition:"stop"})}}]),t}()).\u0275fac=function(t){return new(t||ra)(s.Nb(s.l),s.Nb(s.A))},ra.\u0275cmp=s.Hb({type:ra,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(s.Db("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),s.Fb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),ra),Oa=function(){function t(){h(this,t)}return p(t,[{key:"close",value:function(t){}},{key:"dismiss",value:function(t){}}]),t}(),Sa=function(){function t(e,n,r,i){var o=this;h(this,t),this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Zt.a,this._dismissed=new Zt.a,this._hidden=new Zt.a,e.instance.dismissEvent.subscribe(function(t){o.dismiss(t)}),this.result=new Promise(function(t,e){o._resolve=t,o._reject=e}),this.result.then(null,function(){})}return p(t,[{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}},{key:"closed",get:function(){return this._closed.asObservable().pipe(vo(this._hidden))}},{key:"dismissed",get:function(){return this._dismissed.asObservable().pipe(vo(this._hidden))}},{key:"hidden",get:function(){return this._hidden.asObservable()}},{key:"shown",get:function(){return this._windowCmptRef.instance.shown.asObservable()}},{key:"close",value:function(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}},{key:"_dismiss",value:function(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}},{key:"dismiss",value:function(t){var e=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then(function(n){!1!==n&&e._dismiss(t)},function(){}):!1!==n&&this._dismiss(t)}else this._dismiss(t)}},{key:"_removeModalElements",value:function(){var t=this,e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(Qt.a)(void 0);e.subscribe(function(){var e=t._windowCmptRef.location.nativeElement;e.parentNode.removeChild(e),t._windowCmptRef.destroy(),t._contentRef&&t._contentRef.viewRef&&t._contentRef.viewRef.destroy(),t._windowCmptRef=null,t._contentRef=null}),n.subscribe(function(){if(t._backdropCmptRef){var e=t._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),t._backdropCmptRef.destroy(),t._backdropCmptRef=null}}),so(e,n).subscribe(function(){t._hidden.next(),t._hidden.complete()})}}]),t}(),Ia=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({}),Ta=((ya=function(){function t(e,n,r){h(this,t),this._document=e,this._elRef=n,this._zone=r,this._closed$=new Zt.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new s.n,this.shown=new Zt.a,this.hidden=new Zt.a}return p(t,[{key:"dismiss",value:function(t){this.dismissEvent.emit(t)}},{key:"ngOnInit",value:function(){this._elWithFocus=this._document.activeElement}},{key:"ngAfterViewInit",value:function(){this._show()}},{key:"ngOnDestroy",value:function(){this._disableEventHandling()}},{key:"hide",value:function(){var t=this,e=this._elRef.nativeElement,n={animation:this.animation,runningTransition:"stop"},r=so(Go(this._zone,e,function(){return e.classList.remove("show")},n),Go(this._zone,this._dialogEl.nativeElement,function(){},n));return r.subscribe(function(){t.hidden.next(),t.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}},{key:"_show",value:function(){var t=this,e={animation:this.animation,runningTransition:"continue"};so(Go(this._zone,this._elRef.nativeElement,function(t,e){e&&Ro(t),t.classList.add("show")},e),Go(this._zone,this._dialogEl.nativeElement,function(){},e)).subscribe(function(){t.shown.next(),t.shown.complete()}),this._enableEventHandling(),this._setFocus()}},{key:"_enableEventHandling",value:function(){var t=this,e=this._elRef.nativeElement;this._zone.runOutsideAngular(function(){$i(e,"keydown").pipe(vo(t._closed$),xe(function(t){return t.which===Yo.Escape})).subscribe(function(e){t.keyboard?requestAnimationFrame(function(){e.defaultPrevented||t._zone.run(function(){return t.dismiss(Ia.ESC)})}):"static"===t.backdrop&&t._bumpBackdrop()});var n=!1;$i(t._dialogEl.nativeElement,"mousedown").pipe(vo(t._closed$),Object(Ze.a)(function(){return n=!1}),me(function(){return $i(e,"mouseup").pipe(vo(t._closed$),ke(1))}),xe(function(t){var n=t.target;return e===n})).subscribe(function(){n=!0}),$i(e,"click").pipe(vo(t._closed$)).subscribe(function(r){var i=r.target;e===i&&("static"===t.backdrop?t._bumpBackdrop():!0!==t.backdrop||n||t._zone.run(function(){return t.dismiss(Ia.BACKDROP_CLICK)})),n=!1})})}},{key:"_disableEventHandling",value:function(){this._closed$.next()}},{key:"_setFocus",value:function(){var t=this._elRef.nativeElement;if(!t.contains(document.activeElement)){var e=t.querySelector("[ngbAutofocus]"),n=$o(t)[0];(e||n||t).focus()}}},{key:"_restoreFocus",value:function(){var t,e=this,n=this._document.body,r=this._elWithFocus;t=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular(function(){setTimeout(function(){return t.focus()}),e._elWithFocus=null})}},{key:"_bumpBackdrop",value:function(){"static"===this.backdrop&&Go(this._zone,this._elRef.nativeElement,function(t){var e=t.classList;return e.add("modal-static"),function(){return e.remove("modal-static")}},{animation:this.animation,runningTransition:"continue"})}}]),t}()).\u0275fac=function(t){return new(t||ya)(s.Nb(d),s.Nb(s.l),s.Nb(s.A))},ya.\u0275cmp=s.Hb({type:ya,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;1&t&&s.Dc(Ao,3),2&t&&s.rc(n=s.dc())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(s.Cb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),s.Db("modal d-block"+(e.windowClass?" "+e.windowClass:"")),s.Fb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:xo,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(s.kc(),s.Sb(0,"div",0,1),s.Sb(2,"div",2),s.jc(3),s.Rb(),s.Rb()),2&t&&s.Db("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),ya),Ca=((va=function(){function t(n,r,i,o,a,u){var c=this;h(this,t),this._applicationRef=n,this._injector=r,this._document=i,this._scrollBar=o,this._rendererFactory=a,this._ngZone=u,this._activeWindowCmptHasChanged=new Zt.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new s.n,this._activeWindowCmptHasChanged.subscribe(function(){if(c._windowCmpts.length){var t=c._windowCmpts[c._windowCmpts.length-1];(function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];c._ngZone.runOutsideAngular(function(){var t=$i(n,"focusin").pipe(vo(r),Object(ye.a)(function(t){return t.target}));$i(n,"keydown").pipe(vo(r),xe(function(t){return t.which===Yo.Tab}),wo(t)).subscribe(function(t){var r=e(t,2),i=r[0],o=r[1],a=e($o(n),2),s=a[0],u=a[1];o!==s&&o!==n||!i.shiftKey||(u.focus(),i.preventDefault()),o!==u||i.shiftKey||(s.focus(),i.preventDefault())}),i&&$i(n,"click").pipe(vo(r),wo(t),Object(ye.a)(function(t){return t[1]})).subscribe(function(t){return t.focus()})})})(0,t.location.nativeElement,c._activeWindowCmptHasChanged),c._revertAriaHidden(),c._setAriaHidden(t.location.nativeElement)}})}return p(t,[{key:"open",value:function(t,e,n,r){var i=this,o=r.container instanceof HTMLElement?r.container:jo(r.container)?this._document.querySelector(r.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),u=function(){i._modalRefs.length||(a.removeClass(i._document.body,"modal-open"),i._revertAriaHidden())};if(!o)throw new Error('The specified modal container "'.concat(r.container||"body",'" was not found in the DOM.'));var c=new Oa,l=this._getContentRef(t,r.injector||e,n,c,r),f=!1!==r.backdrop?this._attachBackdrop(t,o):void 0,h=this._attachWindowComponent(t,o,l),d=new Sa(h,l,f,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(s,s),d.result.then(u,u),c.close=function(t){d.close(t)},c.dismiss=function(t){d.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),f&&f.instance&&this._applyBackdropOptions(f.instance,r),d}},{key:"activeInstances",get:function(){return this._activeInstances}},{key:"dismissAll",value:function(t){this._modalRefs.forEach(function(e){return e.dismiss(t)})}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(t,e){var n=t.resolveComponentFactory(Ea).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(t,e,n){var r=t.resolveComponentFactory(Ta).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}},{key:"_applyWindowOptions",value:function(t,e){this._windowAttributes.forEach(function(n){jo(e[n])&&(t[n]=e[n])})}},{key:"_applyBackdropOptions",value:function(t,e){this._backdropAttributes.forEach(function(n){jo(e[n])&&(t[n]=e[n])})}},{key:"_getContentRef",value:function(t,e,n,r,i){return n?n instanceof s.M?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,r,i):new wa([])}},{key:"_createFromTemplateRef",value:function(t,e){var n=t.createEmbeddedView({$implicit:e,close:function(t){e.close(t)},dismiss:function(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new wa([n.rootNodes],n)}},{key:"_createFromString",value:function(t){var e=this._document.createTextNode("".concat(t));return new wa([[e]])}},{key:"_createFromComponent",value:function(t,e,n,r,i){var o=t.resolveComponentFactory(n),a=s.s.create({providers:[{provide:Oa,useValue:r}],parent:e}),u=o.create(a),c=u.location.nativeElement;return i.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new wa([[c]],u.hostView,u)}},{key:"_setAriaHidden",value:function(t){var e=this,n=t.parentElement;n&&t!==this._document.body&&(Array.from(n.children).forEach(function(n){n!==t&&"SCRIPT"!==n.nodeName&&(e._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach(function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(t){var e=this,n=function(){var n=e._modalRefs.indexOf(t);n>-1&&(e._modalRefs.splice(n,1),e._activeInstances.emit(e._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(t){var e=this;this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(function(){var n=e._windowCmpts.indexOf(t);n>-1&&(e._windowCmpts.splice(n,1),e._activeWindowCmptHasChanged.next())})}}]),t}()).\u0275fac=function(t){return new(t||va)(s.Zb(s.g),s.Zb(s.s),s.Zb(d),s.Zb(ka),s.Zb(s.G),s.Zb(s.A))},va.\u0275prov=Object(s.Jb)({factory:function(){return new va(Object(s.Zb)(s.g),Object(s.Zb)(s.o),Object(s.Zb)(d),Object(s.Zb)(ka),Object(s.Zb)(s.G),Object(s.Zb)(s.A))},token:va,providedIn:"root"}),va),xa=((pa=function(){function t(e,n,r,i){h(this,t),this._moduleCFR=e,this._injector=n,this._modalStack=r,this._config=i}return p(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}},{key:"activeInstances",get:function(){return this._modalStack.activeInstances}},{key:"dismissAll",value:function(t){this._modalStack.dismissAll(t)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),t}()).\u0275fac=function(t){return new(t||pa)(s.Zb(s.j),s.Zb(s.s),s.Zb(Ca),s.Zb(ba))},pa.\u0275prov=Object(s.Jb)({factory:function(){return new pa(Object(s.Zb)(s.j),Object(s.Zb)(s.o),Object(s.Zb)(Ca),Object(s.Zb)(ba))},token:pa,providedIn:"root"}),pa),Aa=((da=function t(){h(this,t)}).\u0275fac=function(t){return new(t||da)},da.\u0275mod=s.Lb({type:da}),da.\u0275inj=s.Kb({providers:[xa]}),da),ja=((ha=function t(){h(this,t)}).\u0275fac=function(t){return new(t||ha)},ha.\u0275mod=s.Lb({type:ha}),ha.\u0275inj=s.Kb({imports:[[ot]]}),ha),Ra=((fa=function t(){h(this,t)}).\u0275fac=function(t){return new(t||fa)},fa.\u0275mod=s.Lb({type:fa}),fa.\u0275inj=s.Kb({imports:[[ot]]}),fa),Na=((la=function t(){h(this,t)}).\u0275fac=function(t){return new(t||la)},la.\u0275mod=s.Lb({type:la}),la.\u0275inj=s.Kb({imports:[[ot]]}),la),Da=((ca=function t(){h(this,t)}).\u0275fac=function(t){return new(t||ca)},ca.\u0275mod=s.Lb({type:ca}),ca.\u0275inj=s.Kb({imports:[[ot]]}),ca),Pa=((ua=function t(){h(this,t)}).\u0275fac=function(t){return new(t||ua)},ua.\u0275mod=s.Lb({type:ua}),ua.\u0275inj=s.Kb({imports:[[ot]]}),ua),La=((sa=function t(){h(this,t)}).\u0275fac=function(t){return new(t||sa)},sa.\u0275mod=s.Lb({type:sa}),sa.\u0275inj=s.Kb({imports:[[ot]]}),sa),Ma=((aa=function t(){h(this,t)}).\u0275fac=function(t){return new(t||aa)},aa.\u0275mod=s.Lb({type:aa}),aa.\u0275inj=s.Kb({imports:[[ot]]}),aa),Fa=((oa=function t(){h(this,t)}).\u0275fac=function(t){return new(t||oa)},oa.\u0275mod=s.Lb({type:oa}),oa.\u0275inj=s.Kb({}),oa);new s.r("live announcer delay",{providedIn:"root",factory:function(){return 100}});var Ua,Va,qa=((Ua=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Ua)},Ua.\u0275mod=s.Lb({type:Ua}),Ua.\u0275inj=s.Kb({imports:[[ot]]}),Ua),Ba=[Ko,Wo,Qo,Zo,Jo,ga,ma,Aa,ja,Ra,Na,Da,Pa,La,Ma,Fa,qa],Ha=((Va=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Va)},Va.\u0275mod=s.Lb({type:Va}),Va.\u0275inj=s.Kb({imports:[Ba,Ko,Wo,Qo,Zo,Jo,ga,ma,Aa,ja,Ra,Na,Da,Pa,La,Ma,Fa,qa]}),Va),za=o("spgP");function Ga(){return function(t){return t.lift(new Ka)}}var Ka=function(){function t(){h(this,t)}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Wa(t))}}]),t}(),Wa=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).hasPrev=!1,r}return p(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(te.a),Qa=o("pxpQ"),Za=o("Jgta"),Ja=o("zIRd"),Ya=o("q/0M"),Xa=o("qOnz"),$a=function(t,e){return($a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ts(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var es,ns="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},rs=rs||{},is=ns||self;function os(){}function as(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ss(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var us="closure_uid_"+(1e9*Math.random()>>>0),cs=0;function ls(t,e,n){return t.call.apply(t.bind,arguments)}function fs(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function hs(t,e,n){return(hs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ls:fs).apply(null,arguments)}function ds(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ps(){return Date.now()}function vs(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ys(){this.j=this.j,this.i=this.i}ys.prototype.j=!1,ys.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,us)&&t[us]||(t[us]=++cs)}(this)},ys.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var gs=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ms=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function bs(t){return Array.prototype.concat.apply([],arguments)}function ws(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function _s(t){return/^[\s\xa0]*$/.test(t)}var ks,Es=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Os(t,e){return-1!=t.indexOf(e)}function Ss(t,e){return t<e?-1:t>e?1:0}t:{var Is=is.navigator;if(Is){var Ts=Is.userAgent;if(Ts){ks=Ts;break t}}ks=""}function Cs(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function xs(t){var e={};for(var n in t)e[n]=t[n];return e}var As="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function js(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<As.length;o++)n=As[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Rs(t){return Rs[" "](t),t}Rs[" "]=os;var Ns,Ds,Ps=Os(ks,"Opera"),Ls=Os(ks,"Trident")||Os(ks,"MSIE"),Ms=Os(ks,"Edge"),Fs=Ms||Ls,Us=Os(ks,"Gecko")&&!(Os(ks.toLowerCase(),"webkit")&&!Os(ks,"Edge"))&&!(Os(ks,"Trident")||Os(ks,"MSIE"))&&!Os(ks,"Edge"),Vs=Os(ks.toLowerCase(),"webkit")&&!Os(ks,"Edge");function qs(){var t=is.document;return t?t.documentMode:void 0}t:{var Bs="",Hs=(Ds=ks,Us?/rv:([^\);]+)(\)|;)/.exec(Ds):Ms?/Edge\/([\d\.]+)/.exec(Ds):Ls?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ds):Vs?/WebKit\/(\S+)/.exec(Ds):Ps?/(?:Version)[ \/]?(\S+)/.exec(Ds):void 0);if(Hs&&(Bs=Hs?Hs[1]:""),Ls){var zs=qs();if(null!=zs&&zs>parseFloat(Bs)){Ns=String(zs);break t}}Ns=Bs}var Gs={};function Ks(t){return function(t,e){var n=Gs;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Es(String(Ns)).split("."),r=Es(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Ss(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Ss(0==a[2].length,0==s[2].length)||Ss(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var Ws=is.document&&Ls&&(qs()||parseInt(Ns,10))||void 0,Qs=!Ls||9<=Number(Ws),Zs=Ls&&!Ks("9"),Js=function(){if(!is.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{is.addEventListener("test",os,e),is.removeEventListener("test",os,e)}catch(n){}return t}();function Ys(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Xs(t,e){if(Ys.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Us){t:{try{Rs(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:$s[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Ys.prototype.b=function(){this.defaultPrevented=!0},vs(Xs,Ys);var $s={2:"touch",3:"pen",4:"mouse"};Xs.prototype.b=function(){Xs.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Zs)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var tu="closure_listenable_"+(1e6*Math.random()|0),eu=0;function nu(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++eu,this.Y=this.Z=!1}function ru(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function iu(t){this.src=t,this.a={},this.b=0}function ou(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=gs(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ru(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function au(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}iu.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=au(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new nu(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var su="closure_lm_"+(1e6*Math.random()|0),uu={};function cu(t,e,n,r,i){if(r&&r.once)return fu(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)cu(t,e[o],n,r,i);return null}return n=bu(n),t&&t[tu]?t.va(e,n,ss(r)?!!r.capture:!!r,i):lu(t,e,n,!1,r,i)}function lu(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=ss(i)?!!i.capture:!!i;if(a&&!Qs)return null;var s=gu(t);if(s||(t[su]=s=new iu(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=yu,e=Qs?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Js||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pu(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function fu(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)fu(t,e[o],n,r,i);return null}return n=bu(n),t&&t[tu]?t.wa(e,n,ss(r)?!!r.capture:!!r,i):lu(t,e,n,!0,r,i)}function hu(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hu(t,e[o],n,r,i);else r=ss(r)?!!r.capture:!!r,n=bu(n),t&&t[tu]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=au(o=t.a[e],n,r,i))&&(ru(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=gu(t))&&(e=t.a[e.toString()],t=-1,e&&(t=au(e,n,r,i)),(n=-1<t?e[t]:null)&&du(n))}function du(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[tu])ou(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pu(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gu(e))?(ou(n,t),0==n.b&&(n.src=null,e[su]=null)):ru(t)}}}function pu(t){return t in uu?uu[t]:uu[t]="on"+t}function vu(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&du(t),n.call(r,e)}function yu(t,e){if(t.Y)return!0;if(!Qs){if(!e)t:{e=["window","event"];for(var n=is,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return vu(t,e=new Xs(e,this))}return vu(t,new Xs(e,this))}function gu(t){return(t=t[su])instanceof iu?t:null}var mu="__closure_events_fn_"+(1e9*Math.random()>>>0);function bu(t){return"function"==typeof t?t:(t[mu]||(t[mu]=function(e){return t.handleEvent(e)}),t[mu])}function wu(){ys.call(this),this.c=new iu(this),this.J=this,this.C=null}function _u(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Ys(e,t);else if(e instanceof Ys)e.target=e.target||t;else{var i=e;js(e=new Ys(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=ku(a,r,!0,e)&&i}if(i=ku(a=e.a=t,r,!0,e)&&i,i=ku(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=ku(a=e.a=n[o],r,!1,e)&&i}function ku(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&ou(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}vs(wu,ys),wu.prototype[tu]=!0,(es=wu.prototype).addEventListener=function(t,e,n,r){cu(this,t,e,n,r)},es.removeEventListener=function(t,e,n,r){hu(this,t,e,n,r)},es.G=function(){if(wu.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ru(n[r]);delete e.a[t],e.b--}}this.C=null},es.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},es.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Eu=is.JSON.stringify;function Ou(){this.b=this.a=null}var Su,Iu=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Cu},function(t){t.reset()});function Tu(){var t=Ru,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Cu(){this.next=this.b=this.a=null}function xu(t){is.setTimeout(function(){throw t},0)}function Au(t,e){Su||function(){var t=is.Promise.resolve(void 0);Su=function(){t.then(Nu)}}(),ju||(Su(),ju=!0),Ru.add(t,e)}Ou.prototype.add=function(t,e){var n=Iu.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Cu.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Cu.prototype.reset=function(){this.next=this.b=this.a=null};var ju=!1,Ru=new Ou;function Nu(){for(var t;t=Tu();){try{t.a.call(t.b)}catch(n){xu(n)}var e=Iu;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}ju=!1}function Du(t,e){wu.call(this),this.b=t||1,this.a=e||is,this.f=hs(this.Za,this),this.g=ps()}function Pu(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Lu(t,e,n){if("function"==typeof t)n&&(t=hs(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=hs(t.handleEvent,t)}return 2147483647<Number(e)?-1:is.setTimeout(t,e||0)}function Mu(t){t.a=Lu(function(){t.a=null,t.c&&(t.c=!1,Mu(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}vs(Du,wu),(es=Du.prototype).aa=!1,es.M=null,es.Za=function(){if(this.aa){var t=ps()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),_u(this,"tick"),this.aa&&(Pu(this),this.start()))}},es.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ps())},es.G=function(){Du.X.G.call(this),Pu(this),delete this.a};var Fu=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}$a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Mu(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(is.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(ys);function Uu(t){ys.call(this),this.b=t,this.a={}}vs(Uu,ys);var Vu=[];function qu(t,e,n,r){Array.isArray(n)||(n&&(Vu[0]=n.toString()),n=Vu);for(var i=0;i<n.length;i++){var o=cu(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Bu(t){Cs(t.a,function(t,e){this.a.hasOwnProperty(e)&&du(t)},t),t.a={}}function Hu(){this.a=!0}function zu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Eu(n)}catch(s){return e}}(t,n)+(r?" "+r:"")})}Uu.prototype.G=function(){Uu.X.G.call(this),Bu(this)},Uu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hu.prototype.info=function(){};var Gu={},Ku=null;function Wu(){return Ku=Ku||new wu}function Qu(t){Ys.call(this,Gu.Fa,t)}function Zu(t){var e=Wu();_u(e,new Qu(e,t))}function Ju(t,e){Ys.call(this,Gu.STAT_EVENT,t),this.stat=e}function Yu(t){var e=Wu();_u(e,new Ju(e,t))}function Xu(t){Ys.call(this,Gu.Ga,t)}function $u(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return is.setTimeout(function(){t()},e)}Gu.Fa="serverreachability",vs(Qu,Ys),Gu.STAT_EVENT="statevent",vs(Ju,Ys),Gu.Ga="timingevent",vs(Xu,Ys);var tc={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},ec={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function nc(){}function rc(){}nc.prototype.a=null;var ic,oc={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ac(){Ys.call(this,"d")}function sc(){Ys.call(this,"c")}function uc(){}function cc(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Uu(this),this.P=lc,this.R=new Du(t=Fs?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}vs(ac,Ys),vs(sc,Ys),vs(uc,nc),ic=new uc;var lc=45e3,fc={},hc={};function dc(t,e,n){t.H=1,t.i=Pc(xc(e)),t.j=n,t.I=!0,pc(t,null)}function pc(t,e){t.u=ps(),gc(t),t.l=xc(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Qc(n.b,"t",r),t.D=0,t.a=Bl(t.g,t.g.C?e:null),0<t.O&&(t.F=new Fu(hs(t.Ca,t,t.a),t.O)),qu(t.J,t.a,"readystatechange",t.Xa),e=t.B?xs(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Zu(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.c,t.m,t.l,t.f,t.S,t.j)}function vc(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=yc(t,n);if(i==hc){4==e&&(t.h=4,Yu(14),r=!1),zu(t.c,t.f,null,"[Incomplete Response]");break}if(i==fc){t.h=4,Yu(15),zu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}zu(t.c,t.f,i,null),kc(t,i)}4==e&&0==n.length&&(t.h=1,Yu(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Dl(e),e.F=!0,Yu(11))):(zu(t.c,t.f,n,"[Invalid Chunked Response]"),_c(t),wc(t))}function yc(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?hc:(n=Number(e.substring(n,r)),isNaN(n)?fc:(r+=1)+n>e.length?hc:(e=e.substr(r,n),t.D=r+n,e))}function gc(t){t.T=ps()+t.P,mc(t,t.P)}function mc(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=$u(hs(t.Va,t),e)}function bc(t){t.o&&(is.clearTimeout(t.o),t.o=null)}function wc(t){0==t.g.v||t.A||Ml(t.g,t)}function _c(t){bc(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Pu(t.R),Bu(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function kc(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||el(n.b,t)))if(n.I=t.N,!t.C&&el(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Iw){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Ll(n),Sl(n)}Nl(n),Yu(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=$u(hs(n.Sa,n),6e3));if(1>=tl(n.b)&&n.ea){try{n.ea()}catch(Iw){}n.ea=void 0}}else Ul(n,11)}else if((t.C||n.a==t)&&Ll(n),!_s(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=u.b;!f.a&&(Os(l,"spdy")||Os(l,"quic")||Os(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(nl(f,f.b),f.b=null))}if(u.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(u.na=h,Dc(u.B,u.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ps()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=ql(u,u.C?u.ga:null,u.fa),d.C){rl(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(bc(p),gc(p)),u.a=d}else Rl(u);0<n.g.length&&Cl(n)}else"stop"!=i[0]&&"close"!=i[0]||Ul(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Ul(n,7):Ol(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Zu(4)}catch(Iw){}}function Ec(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(as(t)||"string"==typeof t)ms(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(as(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(as(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Oc(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Oc)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Sc(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ic(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ic(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ic(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(es=cc.prototype).setTimeout=function(t){this.P=t},es.Xa=function(t){t=t.target;var e=this.F;e&&3==wl(t)?e.f():this.Ca(t)},es.Ca=function(t){try{if(t==this.a)t:{var e=wl(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Fs&&!this.a.$())){this.A||4!=e||7==n||Zu(8==n||0>=r?3:2),bc(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_s(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,Yu(12),_c(this),wc(this);break t}zu(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,kc(this,u)}this.I?(vc(this,e,o),Fs&&this.b&&3==e&&(qu(this.J,this.R,"tick",this.Wa),this.R.start())):(zu(this.c,this.f,o,null),kc(this,o)),4==e&&_c(this),this.b&&!this.A&&(4==e?Ml(this.g,this):(this.b=!1,gc(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Yu(12)):(this.h=0,Yu(13)),_c(this),wc(this)}}}catch(c){}},es.Wa=function(){if(this.a){var t=wl(this.a),e=this.a.$();this.D<e.length&&(bc(this),vc(this,t,e),this.b&&4!=t&&gc(this))}},es.cancel=function(){this.A=!0,_c(this)},es.Va=function(){this.o=null;var t=ps();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Zu(3),Yu(17)),_c(this),this.h=2,wc(this)):mc(this,this.T-t)},(es=Oc.prototype).K=function(){Sc(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},es.L=function(){return Sc(this),this.a.concat()},es.get=function(t,e){return Ic(this.b,t)?this.b[t]:e},es.set=function(t,e){Ic(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},es.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Tc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cc(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Cc){this.a=void 0!==e?e:t.a,Ac(this,t.f),this.j=t.j,jc(this,t.c),Rc(this,t.h),this.g=t.g,e=t.b;var n=new zc;n.c=e.c,e.a&&(n.a=new Oc(e.a),n.b=e.b),Nc(this,n),this.i=t.i}else t&&(n=String(t).match(Tc))?(this.a=!!e,Ac(this,n[1]||"",!0),this.j=Lc(n[2]||""),jc(this,n[3]||"",!0),Rc(this,n[4]),this.g=Lc(n[5]||"",!0),Nc(this,n[6]||"",!0),this.i=Lc(n[7]||"")):(this.a=!!e,this.b=new zc(null,this.a))}function xc(t){return new Cc(t)}function Ac(t,e,n){t.f=n?Lc(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function jc(t,e,n){t.c=n?Lc(e,!0):e}function Rc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Nc(t,e,n){e instanceof zc?(t.b=e,function(t,e){e&&!t.f&&(Gc(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Kc(this,e),Qc(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Mc(e,Bc)),t.b=new zc(e,t.a))}function Dc(t,e,n){t.b.set(e,n)}function Pc(t){return Dc(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ps()).toString(36)),t}function Lc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Mc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Fc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Fc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Cc.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Mc(e,Uc,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Mc(e,Uc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Mc(n,"/"==n.charAt(0)?qc:Vc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Mc(n,Hc)),t.join("")};var Uc=/[#\/\?@]/g,Vc=/[#\?:]/g,qc=/[#\?]/g,Bc=/[#\?@]/g,Hc=/#/g;function zc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Gc(t){t.a||(t.a=new Oc,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Kc(t,e){Gc(t),e=Zc(t,e),Ic(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ic((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Sc(t)))}function Wc(t,e){return Gc(t),e=Zc(t,e),Ic(t.a.b,e)}function Qc(t,e,n){Kc(t,e),0<n.length&&(t.c=null,t.a.set(Zc(t,e),ws(n)),t.b+=n.length)}function Zc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(es=zc.prototype).add=function(t,e){Gc(this),this.c=null,t=Zc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},es.forEach=function(t,e){Gc(this),this.a.forEach(function(n,r){ms(n,function(n){t.call(e,n,r,this)},this)},this)},es.L=function(){Gc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},es.K=function(t){Gc(this);var e=[];if("string"==typeof t)Wc(this,t)&&(e=bs(e,this.a.get(Zc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=bs(e,t[n])}return e},es.set=function(t,e){return Gc(this),this.c=null,Wc(this,t=Zc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},es.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},es.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Jc=function(t,e){this.b=t,this.a=e};function Yc(t){this.g=t||Xc,t=is.PerformanceNavigationTiming?0<(t=is.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(is.ia&&is.ia.ya&&is.ia.ya()&&is.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Xc=10;function $c(t){return!!t.b||!!t.a&&t.a.size>=t.f}function tl(t){return t.b?1:t.a?t.a.size:0}function el(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function nl(t,e){t.a?t.a.add(e):t.b=e}function rl(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function il(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=ts(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ws(t.c)}function ol(){}function al(){this.a=new ol}function sl(t,e,n){var r=n||"";try{Ec(t,function(t,n){var i=t;ss(t)&&(i=Eu(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(d_){throw e.push(r+"type="+encodeURIComponent("_badmap")),d_}}function ul(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Yc.prototype.cancel=function(){var t,e;if(this.c=il(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=ts(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},ol.prototype.stringify=function(t){return is.JSON.stringify(t,void 0)},ol.prototype.parse=function(t){return is.JSON.parse(t,void 0)};var cl=is.JSON.parse;function ll(t){wu.call(this),this.headers=new Oc,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=fl,this.D=this.F=!1}vs(ll,wu);var fl="",hl=/^https?$/i,dl=["POST","PUT"];function pl(t){return"content-type"==t.toLowerCase()}function vl(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,yl(t),ml(t)}function yl(t){t.u||(t.u=!0,_u(t,"complete"),_u(t,"error"))}function gl(t){if(t.b&&void 0!==rs&&(!t.s[1]||4!=wl(t)||2!=t.W()))if(t.l&&4==wl(t))Lu(t.za,0,t);else if(_u(t,"readystatechange"),4==wl(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Tc)[1]||null;if(!o&&is.self&&is.self.location){var a=is.self.location.protocol;o=a.substr(0,a.length-1)}i=!hl.test(o?o.toLowerCase():"")}e=i}if(e)_u(t,"complete"),_u(t,"success");else{t.h=6;try{var s=2<wl(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",yl(t)}}finally{ml(t)}}}function ml(t,e){if(t.a){bl(t);var n=t.a,r=t.s[0]?os:null;t.a=null,t.s=null,e||_u(t,"ready");try{n.onreadystatechange=r}catch(d_){}}}function bl(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(is.clearTimeout(t.m),t.m=null)}function wl(t){return t.a?t.a.readyState:0}function _l(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Cs(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Dc(t,e,n))}function kl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function El(t){this.pa=0,this.g=[],this.c=new Hu,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=kl("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=kl("baseRetryDelayMs",5e3,t),this.Ra=kl("retryDelaySeedMs",1e4,t),this.Ma=kl("forwardChannelMaxRetries",2,t),this.ma=kl("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Yc(t&&t.concurrentRequestLimit),this.ka=new al,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Ol(t){if(Il(t),3==t.v){var e=t.R++,n=xc(t.B);Dc(n,"SID",t.J),Dc(n,"RID",e),Dc(n,"TYPE","terminate"),Al(t,n),(e=new cc(t,t.c,e,void 0)).H=2,e.i=Pc(xc(n)),n=!1,is.navigator&&is.navigator.sendBeacon&&(n=is.navigator.sendBeacon(e.i.toString(),"")),!n&&is.Image&&((new Image).src=e.i,n=!0),n||(e.a=Bl(e.g,null),e.a.ba(e.i)),e.u=ps(),gc(e)}Vl(t)}function Sl(t){t.a&&(Dl(t),t.a.cancel(),t.a=null)}function Il(t){Sl(t),t.j&&(is.clearTimeout(t.j),t.j=null),Ll(t),t.b.cancel(),t.h&&("number"==typeof t.h&&is.clearTimeout(t.h),t.h=null)}function Tl(t,e){t.g.push(new Jc(t.Oa++,e)),3==t.v&&Cl(t)}function Cl(t){$c(t.b)||t.h||(t.h=!0,Au(t.Ba,t),t.u=0)}function xl(t,e){var n;n=e?e.f:t.R++;var r=xc(t.B);Dc(r,"SID",t.J),Dc(r,"RID",n),Dc(r,"AID",t.P),Al(t,r),t.i&&t.l&&_l(r,t.i,t.l),n=new cc(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=jl(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),nl(t.b,n),dc(n,r,e)}function Al(t,e){t.f&&Ec({},function(t,n){Dc(e,n,t)})}function jl(t,e,n){n=Math.min(t.g.length,n);var r=t.f?hs(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{sl(l,a,"req"+c+"_")}catch(kf){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Rl(t){t.a||t.j||(t.T=1,Au(t.Aa,t),t.o=0)}function Nl(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=$u(hs(t.Aa,t),Fl(t,t.o)),t.o++,0))}function Dl(t){null!=t.s&&(is.clearTimeout(t.s),t.s=null)}function Pl(t){t.a=new cc(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=xc(t.la);Dc(e,"RID","rpc"),Dc(e,"SID",t.J),Dc(e,"CI",t.H?"0":"1"),Dc(e,"AID",t.P),Al(t,e),Dc(e,"TYPE","xmlhttp"),t.i&&t.l&&_l(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Pc(xc(e)),n.j=null,n.I=!0,pc(n,t)}function Ll(t){null!=t.m&&(is.clearTimeout(t.m),t.m=null)}function Ml(t,e){var n=null;if(t.a==e){Ll(t),Dl(t),t.a=null;var r=2}else{if(!el(t.b,e))return;n=e.s,rl(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ps()-e.u;var i=t.u;_u(r=Wu(),new Xu(r,n,e,i)),Cl(t)}else Rl(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(tl(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=$u(hs(t.Ba,t,e),Fl(t,t.u)),t.u++,0)))}(t,e)||2==r&&Nl(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Ul(t,5);break;case 4:Ul(t,10);break;case 3:Ul(t,6);break;default:Ul(t,2)}}function Fl(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Ul(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=hs(t.Ya,t);n||(n=new Cc("//www.google.com/images/cleardot.gif"),is.location&&"http"==is.location.protocol||Ac(n,"https"),Pc(n)),function(t,e){var n=new Hu;if(is.Image){var r=new Image;r.onload=ds(ul,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ds(ul,n,r,"TestLoadImage: error",!1,e),r.onabort=ds(ul,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ds(ul,n,r,"TestLoadImage: timeout",!1,e),is.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Yu(2);t.v=0,t.f&&t.f.ra(e),Vl(t),Il(t)}function Vl(t){t.v=0,t.I=-1,t.f&&(0==il(t.b).length&&0==t.g.length||(t.b.c.length=0,ws(t.g),t.g.length=0),t.f.qa())}function ql(t,e,n){var r=function(t){return t instanceof Cc?xc(t):new Cc(t,void 0)}(n);if(""!=r.c)e&&jc(r,e+"."+r.c),Rc(r,r.h);else{var i=is.location;r=function(t,e,n,r){var i=new Cc(null,void 0);return t&&Ac(i,t),e&&jc(i,e),n&&Rc(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Cs(t.V,function(t,e){Dc(r,e,t)}),n=t.na,(e=t.A)&&n&&Dc(r,e,n),Dc(r,"VER",t.ha),Al(t,r),r}function Bl(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ll(t.Na)).F=t.C,e}function Hl(){}function zl(){if(Ls&&!(10<=Number(Ws)))throw Error("Environmental error: no available transport.")}function Gl(t,e){wu.call(this),this.a=new El(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!_s(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_s(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Ql(this)}function Kl(t){ac.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Wl(){sc.call(this),this.status=1}function Ql(t){this.a=t}(es=ll.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:ic),this.a.onreadystatechange=hs(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void vl(this,o)}t=n||"";var i=new Oc(this.headers);r&&Ec(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=pl,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=is.FormData&&t instanceof is.FormData,!(0<=gs(dl,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{bl(this),0<this.o&&((this.D=function(t){return Ls&&Ks(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=hs(this.xa,this)):this.m=Lu(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){vl(this,o)}},es.xa=function(){void 0!==rs&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,_u(this,"timeout"),this.abort(8))},es.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,_u(this,"complete"),_u(this,"abort"),ml(this))},es.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ml(this,!0)),ll.X.G.call(this)},es.za=function(){this.j||(this.A||this.l||this.g?gl(this):this.Ua())},es.Ua=function(){gl(this)},es.W=function(){try{return 2<wl(this)?this.a.status:-1}catch(Ds){return-1}},es.$=function(){try{return this.a?this.a.responseText:""}catch(Ds){return""}},es.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),cl(e)}},es.ua=function(){return this.h},es.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(es=El.prototype).ha=8,es.v=1,es.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new cc(this,this.c,t,void 0),r=this.l;if(this.O&&(r?js(r=xs(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=jl(this,n,e),Dc(i=xc(this.B),"RID",t),Dc(i,"CVER",22),this.A&&Dc(i,"X-HTTP-Session-Id",this.A),Al(this,i),this.i&&r&&_l(i,this.i,r),nl(this.b,n),this.Ia&&Dc(i,"TYPE","init"),this.da?(Dc(i,"$req",e),Dc(i,"SID","null"),n.U=!0,dc(n,i,null)):dc(n,i,e),this.v=2}}else 3==this.v&&(t?xl(this,t):0==this.g.length||$c(this.b)||xl(this))},es.Aa=function(){if(this.j=null,Pl(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=$u(hs(this.Ta,this),t)}},es.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Yu(10),Sl(this),Pl(this))},es.Sa=function(){null!=this.m&&(this.m=null,Sl(this),Nl(this),Yu(19))},es.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Yu(2)):(this.c.info("Failed to ping google.com"),Yu(1))},(es=Hl.prototype).ta=function(){},es.sa=function(){},es.ra=function(){},es.qa=function(){},es.Ja=function(){},zl.prototype.a=function(t,e){return new Gl(t,e)},vs(Gl,wu),Gl.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Yu(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=ql(t,null,t.fa),Cl(t)},Gl.prototype.close=function(){Ol(this.a)},Gl.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Tl(this.a,e)}else this.l?((e={}).__data__=Eu(t),Tl(this.a,e)):Tl(this.a,t)},Gl.prototype.G=function(){this.a.f=null,delete this.f,Ol(this.a),delete this.a,Gl.X.G.call(this)},vs(Kl,ac),vs(Wl,sc),vs(Ql,Hl),Ql.prototype.ta=function(){_u(this.a,"a")},Ql.prototype.sa=function(t){_u(this.a,new Kl(t))},Ql.prototype.ra=function(t){_u(this.a,new Wl(t))},Ql.prototype.qa=function(){_u(this.a,"b")},zl.prototype.createWebChannel=zl.prototype.a,Gl.prototype.send=Gl.prototype.h,Gl.prototype.open=Gl.prototype.g,Gl.prototype.close=Gl.prototype.close,tc.NO_ERROR=0,tc.TIMEOUT=8,tc.HTTP_ERROR=6,ec.COMPLETE="complete",rc.EventType=oc,oc.OPEN="a",oc.CLOSE="b",oc.ERROR="c",oc.MESSAGE="d",wu.prototype.listen=wu.prototype.va,ll.prototype.listenOnce=ll.prototype.wa,ll.prototype.getLastError=ll.prototype.Qa,ll.prototype.getLastErrorCode=ll.prototype.ua,ll.prototype.getStatus=ll.prototype.W,ll.prototype.getResponseJson=ll.prototype.Pa,ll.prototype.getResponseText=ll.prototype.$,ll.prototype.send=ll.prototype.ba;var Zl=tc,Jl=ec,Yl=Gu,Xl=rc,$l=ll,tf=o("mrSG"),ef=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();ef.o=-1;var nf=new Ya.b("@firebase/firestore");function rf(){return nf.logLevel}function of(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(nf.logLevel<=Ya.a.DEBUG){var r=e.map(uf);nf.debug.apply(nf,Object(tf.f)(["Firestore (8.3.1): "+t],r))}}function af(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(nf.logLevel<=Ya.a.ERROR){var r=e.map(uf);nf.error.apply(nf,Object(tf.f)(["Firestore (8.3.1): "+t],r))}}function sf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(nf.logLevel<=Ya.a.WARN){var r=e.map(uf);nf.warn.apply(nf,Object(tf.f)(["Firestore (8.3.1): "+t],r))}}function uf(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(d_){return t}}function cf(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+t;throw af(e),new Error(e)}function lf(t,e){t||cf()}function ff(t,e){return t}function hf(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var df=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=hf(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function pf(t,e){return t<e?-1:t>e?1:0}function vf(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function yf(t){return t+"\0"}function gf(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mf(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bf(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wf(t){return null==t}function _f(t){return 0===t&&1/t==-1/0}function kf(t){return"number"==typeof t&&Number.isInteger(t)&&!_f(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Ef={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Of=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(tf.c)(e,t),e}(Error),Sf=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&cf(),void 0===n?n=t.length-e:n>t.length-e&&cf(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),If=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tf.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Of(Ef.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Sf),Tf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Cf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tf.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Tf.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Of(Ef.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Of(Ef.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Of(Ef.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Of(Ef.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Sf),xf=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(If.fromString(e))},t.fromName=function(e){return new t(If.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===If.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return If.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new If(e.slice()))},t}(),Af=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return pf(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Af.EMPTY_BYTE_STRING=new Af("");var jf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rf(t){if(lf(!!t),"string"==typeof t){var e=0,n=jf.exec(t);if(lf(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nf(t.seconds),nanos:Nf(t.nanos)}}function Nf(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Df(t){return"string"==typeof t?Af.fromBase64String(t):Af.fromUint8Array(t)}var Pf=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Of(Ef.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Of(Ef.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Of(Ef.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Of(Ef.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?pf(this.nanoseconds,t.nanoseconds):pf(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}();function Lf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Mf(t){var e=t.mapValue.fields.__previous_value__;return Lf(e)?Mf(e):e}function Ff(t){var e=Rf(t.mapValue.fields.__local_write_time__.timestampValue);return new Pf(e.seconds,e.nanos)}function Uf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lf(t)?4:10:cf()}function Vf(t,e){var n=Uf(t);if(n!==Uf(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ff(t).isEqual(Ff(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Rf(t.timestampValue),r=Rf(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Df(t.bytesValue).isEqual(Df(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Nf(t.geoPointValue.latitude)===Nf(e.geoPointValue.latitude)&&Nf(t.geoPointValue.longitude)===Nf(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Nf(t.integerValue)===Nf(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Nf(t.doubleValue),r=Nf(e.doubleValue);return n===r?_f(n)===_f(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return vf(t.arrayValue.values||[],e.arrayValue.values||[],Vf);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(gf(n)!==gf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vf(n[i],r[i])))return!1;return!0}(t,e);default:return cf()}}function qf(t,e){return void 0!==(t.values||[]).find(function(t){return Vf(t,e)})}function Bf(t,e){var n=Uf(t),r=Uf(e);if(n!==r)return pf(n,r);switch(n){case 0:return 0;case 1:return pf(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Nf(t.integerValue||t.doubleValue),r=Nf(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Hf(t.timestampValue,e.timestampValue);case 4:return Hf(Ff(t),Ff(e));case 5:return pf(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Df(t),r=Df(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=pf(n[i],r[i]);if(0!==o)return o}return pf(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=pf(Nf(t.latitude),Nf(e.latitude));return 0!==n?n:pf(Nf(t.longitude),Nf(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Bf(n[i],r[i]);if(o)return o}return pf(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=pf(r[a],o[a]);if(0!==s)return s;var u=Bf(n[r[a]],i[o[a]]);if(0!==u)return u}return pf(r.length,o.length)}(t.mapValue,e.mapValue);default:throw cf()}}function Hf(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return pf(t,e);var n=Rf(t),r=Rf(e),i=pf(n.seconds,r.seconds);return 0!==i?i:pf(n.nanos,r.nanos)}function zf(t){return Gf(t)}function Gf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Rf(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Df(t.bytesValue).toBase64():"referenceValue"in t?xf.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Gf(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Gf(t.fields[o])}return e+"}"}(t.mapValue):cf();var e}function Kf(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Wf(t){return!!t&&"integerValue"in t}function Qf(t){return!!t&&"arrayValue"in t}function Zf(t){return!!t&&"nullValue"in t}function Jf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yf(t){return!!t&&"mapValue"in t}var Xf=function(t,e){this.key=t,this.version=e},$f=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).objectValue=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(tf.c)(e,t),e.prototype.field=function(t){return this.objectValue.field(t)},e.prototype.data=function(){return this.objectValue},e.prototype.toProto=function(){return this.objectValue.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.objectValue.isEqual(t.objectValue)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Xf),th=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(tf.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Xf),eh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tf.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Xf),nh=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function rh(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new nh(t,e,n,r,i,o,a)}function ih(t){var e=ff(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+zf(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),wf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=gh(e.startAt)),e.endAt&&(n+="|ub:",n+=gh(e.endAt)),e.h=n}return e.h}function oh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!bh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Vf(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_h(t.startAt,e.startAt)&&_h(t.endAt,e.endAt)}function ah(t){return xf.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var sh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(tf.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new uh(t,n,r):"array-contains"===n?new hh(t,r):"in"===n?new dh(t,r):"not-in"===n?new ph(t,r):"array-contains-any"===n?new vh(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new ch(t,n):new lh(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.m(Bf(e,this.value)):null!==e&&Uf(this.value)===Uf(e)&&this.m(Bf(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return cf()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),uh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=xf.fromName(r.referenceValue),i}return Object(tf.c)(e,t),e.prototype.matches=function(t){var e=xf.comparator(t.key,this.key);return this.m(e)},e}(sh),ch=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=fh(0,n),r}return Object(tf.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(sh),lh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=fh(0,n),r}return Object(tf.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(sh);function fh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return xf.fromName(t.referenceValue)})}var hh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(tf.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Qf(e)&&qf(e.arrayValue,this.value)},e}(sh),dh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(tf.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&qf(this.value.arrayValue,e)},e}(sh),ph=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(tf.c)(e,t),e.prototype.matches=function(t){if(qf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!qf(this.value.arrayValue,e)},e}(sh),vh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(tf.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Qf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return qf(e.value.arrayValue,t)})},e}(sh),yh=function(t,e){this.position=t,this.before=e};function gh(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return zf(t)}).join(",")}var mh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function bh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function wh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?xf.comparator(xf.fromName(a.referenceValue),n.key):Bf(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function _h(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Vf(t.position[n],e.position[n]))return!1;return!0}var kh=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function Eh(t,e,n,r,i,o,a,s){return new kh(t,e,n,r,i,o,a,s)}function Oh(t){return new kh(t)}function Sh(t){return!wf(t.limit)&&"F"===t.limitType}function Ih(t){return!wf(t.limit)&&"L"===t.limitType}function Th(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Ch(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function xh(t){return null!==t.collectionGroup}function Ah(t){var e=ff(t);if(null===e.p){e.p=[];var n=Ch(e),r=Th(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new mh(n)),e.p.push(new mh(Cf.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new mh(Cf.keyField(),u))}}}return e.p}function jh(t){var e=ff(t);if(!e.T)if("F"===e.limitType)e.T=rh(e.path,e.collectionGroup,Ah(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ah(e);r<i.length;r++){var o=i[r];n.push(new mh(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new yh(e.endAt.position,!e.endAt.before):null,s=e.startAt?new yh(e.startAt.position,!e.startAt.before):null;e.T=rh(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.T}function Rh(t,e,n){return new kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nh(t,e){return oh(jh(t),jh(e))&&t.limitType===e.limitType}function Dh(t){return ih(jh(t))+"|lt:"+t.limitType}function Ph(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+zf(e.value);var e}).join(", ")+"]"),wf(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+gh(t.startAt)),t.endAt&&(e+=", endAt: "+gh(t.endAt)),"Target("+e+")"}(jh(t))+"; limitType="+t.limitType+")"}function Lh(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):xf.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!wh(t.startAt,Ah(t),e)||t.endAt&&wh(t.endAt,Ah(t),e))}(t,e)}function Mh(t){return function(e,n){for(var r=!1,i=0,o=Ah(t);i<o.length;i++){var a=o[i],s=Fh(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Fh(t,e,n){var r=t.field.isKeyField()?xf.comparator(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Bf(r,i):cf()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return cf()}}var Uh=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Pf(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}(),Vh=function(){function t(t){this.fields=t,t.sort(Cf.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return vf(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),qh=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Yf(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.isEqual=function(t){return Vf(this.proto,t.proto)},t}(),Bh=function(){function t(t){void 0===t&&(t=qh.empty()),this.I=t,this.A=new Map}return t.prototype.set=function(t,e){return this.R(t,e),this},t.prototype.delete=function(t){return this.R(t,null),this},t.prototype.R=function(t,e){for(var n=this.A,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Uf(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.v=function(){var t=this.P(Cf.emptyPath(),this.A);return null!=t?new qh(t):this.I},t.prototype.P=function(t,e){var n=this,r=!1,i=this.I.field(t),o=Yf(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var a=n.P(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Hh(t){var e=[];return mf(t.fields||{},function(t,n){var r=new Cf([t]);if(Yf(n)){var i=Hh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)}),new Vh(e)}function zh(t,e){if(t.V){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_f(e)?"-0":e}}function Gh(t){return{integerValue:""+t}}function Kh(t,e){return kf(e)?Gh(e):zh(t,e)}var Wh=function(){this._=void 0};function Qh(t,e,n){return t instanceof Yh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Xh?$h(t,e):t instanceof td?ed(t,e):function(t,e){var n=Jh(t,e),r=rd(n)+rd(t.S);return Wf(n)&&Wf(t.S)?Gh(r):zh(t.D,r)}(t,e)}function Zh(t,e,n){return t instanceof Xh?$h(t,e):t instanceof td?ed(t,e):n}function Jh(t,e){return t instanceof nd?Wf(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Yh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tf.c)(e,t),e}(Wh),Xh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(tf.c)(e,t),e}(Wh);function $h(t,e){for(var n=id(e),r=function(t){n.some(function(e){return Vf(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var td=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(tf.c)(e,t),e}(Wh);function ed(t,e){for(var n=id(e),r=function(t){n=n.filter(function(e){return!Vf(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var nd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).D=e,r.S=n,r}return Object(tf.c)(e,t),e}(Wh);function rd(t){return Nf(t.integerValue||t.doubleValue)}function id(t){return Qf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var od=function(t,e){this.field=t,this.transform=e},ad=function(t,e){this.version=t,this.transformResults=e},sd=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ud(t,e){return void 0!==t.updateTime?e instanceof $f&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof $f}var cd=function(){};function ld(t,e,n){return t instanceof vd?function(t,e,n){var r=t.value,i=md(t.fieldTransforms,e,n.transformResults);return r=wd(t.fieldTransforms,r,i),new $f(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof yd?function(t,e,n){if(!ud(t.precondition,e))return new eh(t.key,n.version);var r=gd(t,e,md(t.fieldTransforms,e,n.transformResults));return new $f(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new th(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function fd(t,e,n){return t instanceof vd?function(t,e,n){if(!ud(t.precondition,e))return e;var r=t.value,i=bd(t.fieldTransforms,n,e);r=wd(t.fieldTransforms,r,i);var o=pd(e);return new $f(t.key,o,r,{hasLocalMutations:!0})}(t,e,n):t instanceof yd?function(t,e,n){if(!ud(t.precondition,e))return e;var r=pd(e),i=gd(t,e,bd(t.fieldTransforms,n,e));return new $f(t.key,r,i,{hasLocalMutations:!0})}(t,e,n):function(t,e){return ud(t.precondition,e)?new th(t.key,Uh.min()):e}(t,e)}function hd(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],a=e instanceof $f?e.field(o.field):void 0,s=Jh(o.transform,a||null);null!=s&&(n=null==n?(new Bh).set(o.field,s):n.set(o.field,s))}return n?n.v():null}(t.fieldTransforms,e)}function dd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&vf(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Xh&&e instanceof Xh||t instanceof td&&e instanceof td?vf(t.elements,e.elements,Vf):t instanceof nd&&e instanceof nd?Vf(t.S,e.S):t instanceof Yh&&e instanceof Yh}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function pd(t){return t instanceof $f?t.version:Uh.min()}var vd=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(tf.c)(e,t),e}(cd),yd=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Object(tf.c)(e,t),e}(cd);function gd(t,e,n){var r;return r=function(t,e){var n=new Bh(e);return t.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.v()}(t,r=e instanceof $f?e.data():qh.empty()),wd(t.fieldTransforms,r,n)}function md(t,e,n){var r=[];lf(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof $f&&(s=e.field(o.field)),r.push(Zh(a,s,n[i]))}return r}function bd(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=null;n instanceof $f&&(u=n.field(a.field)),r.push(Qh(s,u,e))}return r}function wd(t,e,n){for(var r=new Bh(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.v()}var _d,kd,Ed=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(tf.c)(e,t),e}(cd),Od=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(tf.c)(e,t),e}(cd),Sd=function(t){this.count=t};function Id(t){switch(t){case Ef.OK:return cf();case Ef.CANCELLED:case Ef.UNKNOWN:case Ef.DEADLINE_EXCEEDED:case Ef.RESOURCE_EXHAUSTED:case Ef.INTERNAL:case Ef.UNAVAILABLE:case Ef.UNAUTHENTICATED:return!1;case Ef.INVALID_ARGUMENT:case Ef.NOT_FOUND:case Ef.ALREADY_EXISTS:case Ef.PERMISSION_DENIED:case Ef.FAILED_PRECONDITION:case Ef.ABORTED:case Ef.OUT_OF_RANGE:case Ef.UNIMPLEMENTED:case Ef.DATA_LOSS:return!0;default:return cf()}}function Td(t){if(void 0===t)return af("GRPC error has no .code"),Ef.UNKNOWN;switch(t){case _d.OK:return Ef.OK;case _d.CANCELLED:return Ef.CANCELLED;case _d.UNKNOWN:return Ef.UNKNOWN;case _d.DEADLINE_EXCEEDED:return Ef.DEADLINE_EXCEEDED;case _d.RESOURCE_EXHAUSTED:return Ef.RESOURCE_EXHAUSTED;case _d.INTERNAL:return Ef.INTERNAL;case _d.UNAVAILABLE:return Ef.UNAVAILABLE;case _d.UNAUTHENTICATED:return Ef.UNAUTHENTICATED;case _d.INVALID_ARGUMENT:return Ef.INVALID_ARGUMENT;case _d.NOT_FOUND:return Ef.NOT_FOUND;case _d.ALREADY_EXISTS:return Ef.ALREADY_EXISTS;case _d.PERMISSION_DENIED:return Ef.PERMISSION_DENIED;case _d.FAILED_PRECONDITION:return Ef.FAILED_PRECONDITION;case _d.ABORTED:return Ef.ABORTED;case _d.OUT_OF_RANGE:return Ef.OUT_OF_RANGE;case _d.UNIMPLEMENTED:return Ef.UNIMPLEMENTED;case _d.DATA_LOSS:return Ef.DATA_LOSS;default:return cf()}}(kd=_d||(_d={}))[kd.OK=0]="OK",kd[kd.CANCELLED=1]="CANCELLED",kd[kd.UNKNOWN=2]="UNKNOWN",kd[kd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kd[kd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kd[kd.NOT_FOUND=5]="NOT_FOUND",kd[kd.ALREADY_EXISTS=6]="ALREADY_EXISTS",kd[kd.PERMISSION_DENIED=7]="PERMISSION_DENIED",kd[kd.UNAUTHENTICATED=16]="UNAUTHENTICATED",kd[kd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kd[kd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kd[kd.ABORTED=10]="ABORTED",kd[kd.OUT_OF_RANGE=11]="OUT_OF_RANGE",kd[kd.UNIMPLEMENTED=12]="UNIMPLEMENTED",kd[kd.INTERNAL=13]="INTERNAL",kd[kd.UNAVAILABLE=14]="UNAVAILABLE",kd[kd.DATA_LOSS=15]="DATA_LOSS";var Cd=function(){function t(t,e){this.comparator=t,this.root=e||Ad.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ad.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ad.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new xd(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new xd(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new xd(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new xd(this.root,t,this.comparator,!0)},t}(),xd=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Ad=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw cf();if(this.right.isRed())throw cf();var t=this.left.check();if(t!==this.right.check())throw cf();return t+(this.isRed()?0:1)},t}();Ad.EMPTY=null,Ad.RED=!0,Ad.BLACK=!1,Ad.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw cf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw cf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw cf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw cf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw cf()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ad(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var jd=function(){function t(t){this.comparator=t,this.data=new Cd(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Rd(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Rd(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Rd=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Nd=new Cd(xf.comparator);function Dd(){return Nd}function Pd(){return Dd()}var Ld=new Cd(xf.comparator);function Md(){return Ld}var Fd=new Cd(xf.comparator);function Ud(){return Fd}var Vd=new jd(xf.comparator);function qd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Vd,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Bd=new jd(pf);function Hd(){return Bd}var zd=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Gd.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Uh.min(),r,Hd(),Dd(),qd())},t}(),Gd=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Af.EMPTY_BYTE_STRING,n,qd(),qd(),qd())},t}(),Kd=function(t,e,n,r){this.C=t,this.removedTargetIds=e,this.key=n,this.N=r},Wd=function(t,e){this.targetId=t,this.$=e},Qd=function(t,e,n,r){void 0===n&&(n=Af.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Zd=function(){function t(){this.F=0,this.O=Xd(),this.k=Af.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),t.prototype.U=function(t){t.approximateByteSize()>0&&(this.L=!0,this.k=t)},t.prototype.K=function(){var t=qd(),e=qd(),n=qd();return this.O.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:cf()}}),new Gd(this.k,this.M,t,e,n)},t.prototype.W=function(){this.L=!1,this.O=Xd()},t.prototype.j=function(t,e){this.L=!0,this.O=this.O.insert(t,e)},t.prototype.G=function(t){this.L=!0,this.O=this.O.remove(t)},t.prototype.H=function(){this.F+=1},t.prototype.J=function(){this.F-=1},t.prototype.Y=function(){this.L=!0,this.M=!0},t}(),Jd=function(){function t(t){this.X=t,this.Z=new Map,this.tt=Dd(),this.et=Yd(),this.nt=new jd(pf)}return t.prototype.st=function(t){for(var e=0,n=t.C;e<n.length;e++){var r=n[e];t.N instanceof $f?this.it(r,t.N):t.N instanceof th&&this.rt(r,t.key,t.N)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.rt(r=o[i],t.key,t.N)},t.prototype.ot=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ct(n);switch(t.state){case 0:e.at(n)&&r.U(t.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(t.resumeToken);break;case 2:r.J(),r.B||e.removeTarget(n);break;case 3:e.at(n)&&(r.Y(),r.U(t.resumeToken));break;case 4:e.at(n)&&(e.ut(n),r.U(t.resumeToken));break;default:cf()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Z.forEach(function(t,r){n.at(r)&&e(r)})},t.prototype.ht=function(t){var e=t.targetId,n=t.$.count,r=this.lt(e);if(r){var i=r.target;if(ah(i))if(0===n){var o=new xf(i.path);this.rt(e,o,new th(o,Uh.min()))}else lf(1===n);else this.ft(e)!==n&&(this.ut(e),this.nt=this.nt.add(e))}},t.prototype.dt=function(t){var e=this,n=new Map;this.Z.forEach(function(r,i){var o=e.lt(i);if(o){if(r.current&&ah(o.target)){var a=new xf(o.target.path);null!==e.tt.get(a)||e.wt(i,a)||e.rt(i,a,new th(a,t))}r.q&&(n.set(i,r.K()),r.W())}});var r=qd();this.et.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.lt(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new zd(t,n,this.nt,this.tt,r);return this.tt=Dd(),this.et=Yd(),this.nt=new jd(pf),i},t.prototype.it=function(t,e){if(this.at(t)){var n=this.wt(t,e.key)?2:0;this.ct(t).j(e.key,n),this.tt=this.tt.insert(e.key,e),this.et=this.et.insert(e.key,this._t(e.key).add(t))}},t.prototype.rt=function(t,e,n){if(this.at(t)){var r=this.ct(t);this.wt(t,e)?r.j(e,1):r.G(e),this.et=this.et.insert(e,this._t(e).delete(t)),n&&(this.tt=this.tt.insert(e,n))}},t.prototype.removeTarget=function(t){this.Z.delete(t)},t.prototype.ft=function(t){var e=this.ct(t).K();return this.X.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.H=function(t){this.ct(t).H()},t.prototype.ct=function(t){var e=this.Z.get(t);return e||(e=new Zd,this.Z.set(t,e)),e},t.prototype._t=function(t){var e=this.et.get(t);return e||(e=new jd(pf),this.et=this.et.insert(t,e)),e},t.prototype.at=function(t){var e=null!==this.lt(t);return e||of("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.lt=function(t){var e=this.Z.get(t);return e&&e.B?null:this.X.yt(t)},t.prototype.ut=function(t){var e=this;this.Z.set(t,new Zd),this.X.getRemoteKeysForTarget(t).forEach(function(n){e.rt(t,n,null)})},t.prototype.wt=function(t,e){return this.X.getRemoteKeysForTarget(t).has(e)},t}();function Yd(){return new Cd(xf.comparator)}function Xd(){return new Cd(xf.comparator)}var $d={asc:"ASCENDING",desc:"DESCENDING"},tp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ep=function(t,e){this.databaseId=t,this.V=e};function np(t,e){return t.V?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function rp(t,e){return t.V?e.toBase64():e.toUint8Array()}function ip(t,e){return np(t,e.toTimestamp())}function op(t){return lf(!!t),Uh.fromTimestamp(function(t){var e=Rf(t);return new Pf(e.seconds,e.nanos)}(t))}function ap(t,e){return function(t){return new If(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function sp(t){var e=If.fromString(t);return lf(jp(e)),e}function up(t,e){return ap(t.databaseId,e.path)}function cp(t,e){var n=sp(e);if(n.get(1)!==t.databaseId.projectId)throw new Of(Ef.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Of(Ef.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xf(dp(n))}function lp(t,e){return ap(t.databaseId,e)}function fp(t){var e=sp(t);return 4===e.length?If.emptyPath():dp(e)}function hp(t){return new If(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dp(t){return lf(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function pp(t,e,n){return{name:up(t,e),fields:n.proto.mapValue.fields}}function vp(t,e,n){var r=cp(t,e.name),i=op(e.updateTime),o=new qh({mapValue:{fields:e.fields}});return new $f(r,i,o,{hasCommittedMutations:!!n})}function yp(t,e){var n;if(e instanceof vd)n={update:pp(t,e.key,e.value)};else if(e instanceof Ed)n={delete:up(t,e.key)};else if(e instanceof yd)n={update:pp(t,e.key,e.data),updateMask:Ap(e.fieldMask)};else{if(!(e instanceof Od))return cf();n={verify:up(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Yh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Xh)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof td)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof nd)return{fieldPath:e.field.canonicalString(),increment:n.S};throw cf()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ip(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:cf()}(t,e.precondition)),n}function gp(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?sd.updateTime(op(t.updateTime)):void 0!==t.exists?sd.exists(t.exists):sd.none()}(e.currentDocument):sd.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(lf("REQUEST_TIME"===e.setToServerValue),n=new Yh):"appendMissingElements"in e?n=new Xh(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new td(e.removeAllFromArray.values||[]):"increment"in e?n=new nd(t,e.increment):cf();var r=Cf.fromServerFormat(e.fieldPath);return new od(r,n)}(t,e)}):[];if(e.update){var i=cp(t,e.update.name),o=new qh({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new Vh((t.fieldPaths||[]).map(function(t){return Cf.fromServerFormat(t)}))}(e.updateMask);return new yd(i,o,a,n,r)}return new vd(i,o,n,r)}if(e.delete){var s=cp(t,e.delete);return new Ed(s,n)}if(e.verify){var u=cp(t,e.verify);return new Od(u,n)}return cf()}function mp(t,e){return{documents:[lp(t,e.path)]}}function bp(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=lp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=lp(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Jf(t.value))return{unaryFilter:{field:Ip(t.field),op:"IS_NAN"}};if(Zf(t.value))return{unaryFilter:{field:Ip(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Jf(t.value))return{unaryFilter:{field:Ip(t.field),op:"IS_NOT_NAN"}};if(Zf(t.value))return{unaryFilter:{field:Ip(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ip(t.field),op:Sp(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Ip(t.field),direction:Op(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.V||wf(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=kp(e.startAt)),e.endAt&&(n.structuredQuery.endAt=kp(e.endAt)),n}function wp(t){var e=fp(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){lf(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=_p(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(t){return function(t){return new mh(Tp(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return wf(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Ep(n.startAt));var l=null;return n.endAt&&(l=Ep(n.endAt)),Eh(e,i,s,a,u,"F",c,l)}function _p(t){return t?void 0!==t.unaryFilter?[xp(t)]:void 0!==t.fieldFilter?[Cp(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return _p(t)}).reduce(function(t,e){return t.concat(e)}):cf():[]}function kp(t){return{before:t.before,values:t.position}}function Ep(t){return new yh(t.values||[],!!t.before)}function Op(t){return $d[t]}function Sp(t){return tp[t]}function Ip(t){return{fieldPath:t.canonicalString()}}function Tp(t){return Cf.fromServerFormat(t.fieldPath)}function Cp(t){return sh.create(Tp(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return cf()}}(t.fieldFilter.op),t.fieldFilter.value)}function xp(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Tp(t.unaryFilter.field);return sh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Tp(t.unaryFilter.field);return sh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Tp(t.unaryFilter.field);return sh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Tp(t.unaryFilter.field);return sh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return cf()}}function Ap(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function jp(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Rp(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Dp(e)),e=Np(t.get(n),e);return Dp(e)}function Np(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Dp(t){return t+"\x01\x01"}function Pp(t){var e=t.length;if(lf(e>=2),2===e)return lf("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),If.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&cf(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:cf()}o=a+2}return new If(r)}var Lp=function(t,e){this.seconds=t,this.nanoseconds=e},Mp=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Mp.store="owner",Mp.key="owner";var Fp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Fp.store="mutationQueues",Fp.keyPath="userId";var Up=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Up.store="mutations",Up.keyPath="batchId",Up.userMutationsIndex="userMutationsIndex",Up.userMutationsKeyPath=["userId","batchId"];var Vp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Rp(e)]},t.key=function(t,e,n){return[t,Rp(e),n]},t}();Vp.store="documentMutations",Vp.PLACEHOLDER=new Vp;var qp=function(t,e){this.path=t,this.readTime=e},Bp=function(t,e){this.path=t,this.version=e},Hp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Hp.store="remoteDocuments",Hp.readTimeIndex="readTimeIndex",Hp.readTimeIndexPath="readTime",Hp.collectionReadTimeIndex="collectionReadTimeIndex",Hp.collectionReadTimeIndexPath=["parentPath","readTime"];var zp=function(t){this.byteSize=t};zp.store="remoteDocumentGlobal",zp.key="remoteDocumentGlobalKey";var Gp=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Gp.store="targets",Gp.keyPath="targetId",Gp.queryTargetsIndexName="queryTargetsIndex",Gp.queryTargetsKeyPath=["canonicalId","targetId"];var Kp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Kp.store="targetDocuments",Kp.keyPath=["targetId","path"],Kp.documentTargetsIndex="documentTargetsIndex",Kp.documentTargetsKeyPath=["path","targetId"];var Wp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Wp.key="targetGlobalKey",Wp.store="targetGlobal";var Qp=function(t,e){this.collectionId=t,this.parent=e};Qp.store="collectionParents",Qp.keyPath=["collectionId","parent"];var Zp=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Zp.store="clientMetadata",Zp.keyPath="clientId";var Jp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Jp.store="bundles",Jp.keyPath="bundleId";var Yp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Yp.store="namedQueries",Yp.keyPath="name";var Xp=Object(tf.f)(Object(tf.f)([],Object(tf.f)(Object(tf.f)([],Object(tf.f)(Object(tf.f)([],Object(tf.f)(Object(tf.f)([],[Fp.store,Up.store,Vp.store,Hp.store,Gp.store,Mp.store,Wp.store,Kp.store]),[Zp.store])),[zp.store])),[Qp.store])),[Jp.store,Yp.store]),$p="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",tv=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),ev=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},nv=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&cf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),rv=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.gt=new ev,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){e.error?n.gt.reject(new av(t,e.error)):n.gt.resolve()},this.transaction.onerror=function(e){var r=fv(e.target.error);n.gt.reject(new av(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new av(n,e)}},Object.defineProperty(t.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.gt.reject(t),this.aborted||(of("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new uv(e)},t}(),iv=function(){function t(e,n,r){this.name=e,this.version=n,this.Tt=r,12.2===t.It(Object(Xa.g)())&&af("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return of("SimpleDb","Removing database:",t),cv(window.indexedDB.deleteDatabase(t)).toPromise()},t.At=function(){if("undefined"==typeof indexedDB)return!1;if(t.Rt())return!0;var e=Object(Xa.g)(),n=t.It(e),r=0<n&&n<10,i=t.bt(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Rt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.vt)},t.Pt=function(t,e){return t.store(e)},t.It=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.bt=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Vt=function(t){return Object(tf.b)(this,void 0,void 0,function(){var e,n=this;return Object(tf.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(of("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new av(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Of(Ef.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new av(t,n))},i.onupgradeneeded=function(t){of("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Tt.St(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){of("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(t){return n.Dt(t)}),this.db)]}})})},t.prototype.Ct=function(t){this.Dt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(tf.b)(this,void 0,void 0,function(){var i,o,a,s,u;return Object(tf.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return Object(tf.d)(this,function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.Vt(t)];case 2:return s.db=f.sent(),e=rv.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch(function(t){return e.abort(t),nv.reject(t)}).toPromise(),u={},a.catch(function(){}),[4,e.Et];case 3:return[2,(u.value=(f.sent(),a),u)];case 4:return of("SimpleDb","Transaction failed with error:",(c=f.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),ov=function(){function t(t){this.xt=t,this.Nt=!1,this.$t=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.xt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Nt=!0},t.prototype.Ot=function(t){this.$t=t},t.prototype.delete=function(){return cv(this.xt.delete())},t}(),av=function(t){function e(e,n){var r=this;return(r=t.call(this,Ef.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(tf.c)(e,t),e}(Of);function sv(t){return"IndexedDbTransactionError"===t.name}var uv=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(of("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(of("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),cv(n)},t.prototype.add=function(t){return of("SimpleDb","ADD",this.store.name,t,t),cv(this.store.add(t))},t.prototype.get=function(t){var e=this;return cv(this.store.get(t)).next(function(n){return void 0===n&&(n=null),of("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return of("SimpleDb","DELETE",this.store.name,t),cv(this.store.delete(t))},t.prototype.count=function(){return of("SimpleDb","COUNT",this.store.name),cv(this.store.count())},t.prototype.kt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Mt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Lt=function(t,e){of("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,function(t,e,n){return n.delete()})},t.prototype.qt=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Mt(r,e)},t.prototype.Ut=function(t){var e=this.cursor({});return new nv(function(n,r){e.onerror=function(t){var e=fv(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.Mt=function(t,e){var n=[];return new nv(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new ov(i),a=e(i.primaryKey,i.value,o);if(a instanceof nv){var s=a.catch(function(t){return o.done(),nv.reject(t)});n.push(s)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}else r()}}).next(function(){return nv.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Bt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function cv(t){return new nv(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=fv(t.target.error);n(e)}})}var lv=!1;function fv(t){var e=iv.It(Object(Xa.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Of("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return lv||(lv=!0,setTimeout(function(){throw r},0)),r}}return t}var hv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.currentSequenceNumber=n,r}return Object(tf.c)(e,t),e}(tv);function dv(t,e){var n=ff(t);return iv.Pt(n.Qt,e)}var pv=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=ld(o,e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=fd(a,e,this.localWriteTime));for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(t)&&(e=fd(a,e,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},qd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&vf(this.mutations,t.mutations,function(t,e){return dd(t,e)})&&vf(this.baseMutations,t.baseMutations,function(t,e){return dd(t,e)})},t}(),vv=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){lf(e.mutations.length===r.length);for(var i=Ud(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),yv=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Uh.min()),void 0===o&&(o=Uh.min()),void 0===a&&(a=Af.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),gv=function(t){this.Kt=t};function mv(t,e){if(e.document)return vp(t.Kt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=xf.fromSegments(e.noDocument.path),r=Ev(e.noDocument.readTime);return new th(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=xf.fromSegments(e.unknownDocument.path);return r=Ev(e.unknownDocument.version),new eh(i,r)}return cf()}function bv(t,e,n){var r=wv(n),i=e.key.path.popLast().toArray();if(e instanceof $f){var o=function(t,e){return{name:up(t,e.key),fields:e.toProto().mapValue.fields,updateTime:np(t,e.version.toTimestamp())}}(t.Kt,e),a=e.hasCommittedMutations;return new Hp(null,null,o,a,r,i)}if(e instanceof th){var s=e.key.path.toArray(),u=kv(e.version);return a=e.hasCommittedMutations,new Hp(null,new qp(s,u),null,a,r,i)}if(e instanceof eh){var c=e.key.path.toArray(),l=kv(e.version);return new Hp(new Bp(c,l),null,null,!0,r,i)}return cf()}function wv(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function _v(t){var e=new Pf(t[0],t[1]);return Uh.fromTimestamp(e)}function kv(t){var e=t.toTimestamp();return new Lp(e.seconds,e.nanoseconds)}function Ev(t){var e=new Pf(t.seconds,t.nanoseconds);return Uh.fromTimestamp(e)}function Ov(t,e){for(var n=(e.baseMutations||[]).map(function(e){return gp(t.Kt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return gp(t.Kt,e)}),o=Pf.fromMillis(e.localWriteTimeMs);return new pv(e.batchId,o,n,i)}function Sv(t){var e,n,r=Ev(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ev(t.lastLimboFreeSnapshotVersion):Uh.min();return void 0!==t.query.documents?(lf(1===(n=t.query).documents.length),e=jh(Oh(fp(n.documents[0])))):e=function(t){return jh(wp(t))}(t.query),new yv(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Af.fromBase64String(t.resumeToken))}function Iv(t,e){var n,r=kv(e.snapshotVersion),i=kv(e.lastLimboFreeSnapshotVersion);n=ah(e.target)?mp(t.Kt,e.target):bp(t.Kt,e.target);var o=e.resumeToken.toBase64();return new Gp(e.targetId,ih(e.target),r,o,e.sequenceNumber,i,n)}function Tv(t){var e=wp({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Rh(e,e.limit,"L"):e}var Cv=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return xv(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Ev(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return xv(t).put({bundleId:(n=e).id,createTime:kv(op(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Av(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Tv(e.bundledQuery),readTime:Ev(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Av(t).put(function(t){return{name:t.name,readTime:kv(op(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function xv(t){return dv(t,Jp.store)}function Av(t){return dv(t,Yp.store)}var jv=function(){function t(){this.Wt=new Rv}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Wt.add(e),nv.resolve()},t.prototype.getCollectionParents=function(t,e){return nv.resolve(this.Wt.getEntries(e))},t}(),Rv=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new jd(If.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new jd(If.comparator)).toArray()},t}(),Nv=function(){function t(){this.jt=new Rv}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.jt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.jt.add(e)});var o={collectionId:r,parent:Rp(i)};return Dv(t).put(o)}return nv.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[yf(e),""],!1,!0);return Dv(t).kt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Pp(o.parent))}return n})},t}();function Dv(t){return dv(t,Qp.store)}var Pv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lv=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Mv(t,e,n){var r=t.store(Up.store),i=t.store(Vp.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.qt({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){lf(1===s)}));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=Vp.key(e,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return nv.waitFor(o).next(function(){return c})}function Fv(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw cf();e=t.noDocument}return JSON.stringify(e).length}Lv.DEFAULT_COLLECTION_PERCENTILE=10,Lv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lv.DEFAULT=new Lv(41943040,Lv.DEFAULT_COLLECTION_PERCENTILE,Lv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lv.DISABLED=new Lv(-1,0,0);var Uv=function(){function t(t,e,n,r){this.userId=t,this.D=e,this.Gt=n,this.referenceDelegate=r,this.zt={}}return t.Ht=function(e,n,r,i){return lf(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qv(t).qt({index:Up.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Bv(t),a=qv(t);return a.add({}).next(function(s){lf("number"==typeof s);for(var u=new pv(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return yp(t.Kt,e)}),i=n.mutations.map(function(e){return yp(t.Kt,e)});return new Up(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,u),l=[],f=new jd(function(t,e){return pf(t.canonicalString(),e.canonicalString())}),h=0,d=r;h<d.length;h++){var p=d[h],v=Vp.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,Vp.PLACEHOLDER))}return f.forEach(function(e){l.push(i.Gt.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.zt[s]=u.keys()}),nv.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return qv(t).get(e).next(function(t){return t?(lf(t.userId===n.userId),Ov(n.D,t)):null})},t.prototype.Jt=function(t,e){var n=this;return this.zt[e]?nv.resolve(this.zt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.zt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return qv(t).qt({index:Up.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(lf(e.batchId>=r),o=Ov(n.D,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return qv(t).qt({index:Up.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qv(t).kt(Up.userMutationsIndex,n).next(function(t){return t.map(function(t){return Ov(e.D,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Vp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Bv(t).qt({range:i},function(r,i,a){var s=r[0],u=r[2],c=Pp(r[1]);if(s===n.userId&&e.path.isEqual(c))return qv(t).get(u).next(function(t){if(!t)throw cf();lf(t.userId===n.userId),o.push(Ov(n.D,t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new jd(pf),i=[];return e.forEach(function(e){var o=Vp.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Bv(t).qt({range:a},function(t,i,o){var a=t[0],s=t[2],u=Pp(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()});i.push(s)}),nv.waitFor(i).next(function(){return n.Yt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Vp.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new jd(pf);return Bv(t).qt({range:a},function(t,e,o){var a=t[0],u=t[2],c=Pp(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()}).next(function(){return n.Yt(t,s)})},t.prototype.Yt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(qv(t).get(e).next(function(t){if(null===t)throw cf();lf(t.userId===n.userId),r.push(Ov(n.D,t))}))}),nv.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Mv(t.Qt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Xt(e.batchId)}),nv.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Xt=function(t){delete this.zt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return nv.resolve();var r=IDBKeyRange.lowerBound(Vp.prefixForUser(e.userId)),i=[];return Bv(t).qt({range:r},function(t,n,r){if(t[0]===e.userId){var o=Pp(t[1]);i.push(o)}else r.done()}).next(function(){lf(0===i.length)})})},t.prototype.containsKey=function(t,e){return Vv(t,this.userId,e)},t.prototype.Zt=function(t){var e=this;return Hv(t).get(this.userId).next(function(t){return t||new Fp(e.userId,-1,"")})},t}();function Vv(t,e,n){var r=Vp.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Bv(t).qt({range:o,Bt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})}function qv(t){return dv(t,Up.store)}function Bv(t){return dv(t,Vp.store)}function Hv(t){return dv(t,Fp.store)}var zv=function(){function t(t){this.te=t}return t.prototype.next=function(){return this.te+=2,this.te},t.ee=function(){return new t(0)},t.ne=function(){return new t(-1)},t}(),Gv=function(){function t(t,e){this.referenceDelegate=t,this.D=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.se(t).next(function(n){var r=new zv(n.highestTargetId);return n.highestTargetId=r.next(),e.ie(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.se(t).next(function(t){return Uh.fromTimestamp(new Pf(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.se(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.se(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.ie(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.re(t,e).next(function(){return n.se(t).next(function(r){return r.targetCount+=1,n.oe(e,r),n.ie(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.re(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Kv(t).delete(e.targetId)}).next(function(){return n.se(t)}).next(function(e){return lf(e.targetCount>0),e.targetCount-=1,n.ie(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Kv(t).qt(function(a,s){var u=Sv(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return nv.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Kv(t).qt(function(t,n){var r=Sv(n);e(r)})},t.prototype.se=function(t){return Wv(t).get(Wp.key).next(function(t){return lf(null!==t),t})},t.prototype.ie=function(t,e){return Wv(t).put(Wp.key,e)},t.prototype.re=function(t,e){return Kv(t).put(Iv(this.D,e))},t.prototype.oe=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.se(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=ih(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Kv(t).qt({range:r,index:Gp.queryTargetsIndexName},function(t,n,r){var o=Sv(n);oh(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Qv(t);return e.forEach(function(e){var a=Rp(e.path);i.push(o.put(new Kp(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))}),nv.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Qv(t);return nv.forEach(e,function(e){var o=Rp(e.path);return nv.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Qv(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Qv(t),i=qd();return r.qt({range:n,Bt:!0},function(t,e,n){var r=Pp(t[1]),o=new xf(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Rp(e.path),r=IDBKeyRange.bound([n],[yf(n)],!1,!0),i=0;return Qv(t).qt({index:Kp.documentTargetsIndex,Bt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.yt=function(t,e){return Kv(t).get(e).next(function(t){return t?Sv(t):null})},t}();function Kv(t){return dv(t,Gp.store)}function Wv(t){return dv(t,Wp.store)}function Qv(t){return dv(t,Kp.store)}function Zv(t){return Object(tf.b)(this,void 0,void 0,function(){return Object(tf.d)(this,function(e){if(t.code!==Ef.FAILED_PRECONDITION||t.message!==$p)throw t;return of("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Jv(t,e){var n=t[1],r=e[1],i=pf(t[0],e[0]);return 0===i?pf(n,r):i}var Yv=function(){function t(t){this.ce=t,this.buffer=new jd(Jv),this.ae=0}return t.prototype.ue=function(){return++this.ae},t.prototype.he=function(t){var e=[t,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Jv(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Xv=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.le=!1,this.fe=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(t)},t.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),t.prototype.de=function(t){var e=this,n=this.le?3e5:6e4;of("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(tf.b)(e,void 0,void 0,function(){var e;return Object(tf.d)(this,function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return sv(e=n.sent())?(of("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Zv(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(t)];case 8:return n.sent(),[2]}})})})},t}(),$v=function(){function t(t,e){this.we=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.we._e(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return nv.resolve(ef.o);var r=new Yv(e);return this.we.forEachTarget(t,function(t){return r.he(t.sequenceNumber)}).next(function(){return n.we.me(t,function(t){return r.he(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.we.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.we.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(of("LruGarbageCollector","Garbage collection skipped; disabled"),nv.resolve(Pv)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(of("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Pv):n.ye(t,e)})},t.prototype.getCacheSize=function(t){return this.we.getCacheSize(t)},t.prototype.ye=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(of("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),rf()<=Ya.a.DEBUG&&of("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),nv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),ty=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new $v(t,e)}(this,e)}return t.prototype._e=function(t){var e=this.ge(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.ge=function(t){var e=0;return this.me(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.me=function(t,e){return this.pe(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return ey(t,n)},t.prototype.removeReference=function(t,e,n){return ey(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return ey(t,e)},t.prototype.Ee=function(t,e){return function(t,e){var n=!1;return Hv(t).Ut(function(r){return Vv(t,r,e).next(function(t){return t&&(n=!0),nv.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.pe(t,function(a,s){if(s<=e){var u=n.Ee(t,a).next(function(e){if(!e)return o++,r.getEntry(t,a).next(function(){return r.removeEntry(a),Qv(t).delete([0,Rp(a.path)])})});i.push(u)}}).next(function(){return nv.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return ey(t,e)},t.prototype.pe=function(t,e){var n,r=Qv(t),i=ef.o;return r.qt({index:Kp.documentTargetsIndex},function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==ef.o&&e(new xf(Pp(n)),i),i=a,n=o):i=ef.o}).next(function(){i!==ef.o&&e(new xf(Pp(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function ey(t,e){return Qv(t).put(function(t,e){return new Kp(0,Rp(t.path),e)}(e,t.currentSequenceNumber))}var ny=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){mf(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return bf(this.inner)},t}(),ry=function(){function t(){this.changes=new ny(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Uh.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{maybeDocument:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{maybeDocument:null,readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?nv.resolve(n.maybeDocument):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),iy=function(){function t(t,e){this.D=t,this.Gt=e}return t.prototype.addEntry=function(t,e,n){return sy(t).put(uy(e),n)},t.prototype.removeEntry=function(t,e){var n=sy(t),r=uy(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Te(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return sy(t).get(uy(e)).next(function(t){return n.Ie(t)})},t.prototype.Ae=function(t,e){var n=this;return sy(t).get(uy(e)).next(function(t){var e=n.Ie(t);return e?{maybeDocument:e,size:Fv(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Pd();return this.Re(t,e,function(t,e){var i=n.Ie(e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.be=function(t,e){var n=this,r=Pd(),i=new Cd(xf.comparator);return this.Re(t,e,function(t,e){var o=n.Ie(e);o?(r=r.insert(t,o),i=i.insert(t,Fv(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{ve:r,Pe:i}})},t.prototype.Re=function(t,e,n){if(e.isEmpty())return nv.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return sy(t).qt({range:r},function(t,e,r){for(var a=xf.fromSegments(t);o&&xf.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ot(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Md(),o=e.path.length+1,a={};if(n.isEqual(Uh.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=wv(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Hp.collectionReadTimeIndex}return sy(t).qt(a,function(t,n,a){if(t.length===o){var s=mv(r.D,n);e.path.isPrefixOf(s.key.path)?s instanceof $f&&Lh(e,s)&&(i=i.insert(s.key,s)):a.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new oy(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return ay(t).get(zp.key).next(function(t){return lf(!!t),t})},t.prototype.Te=function(t,e){return ay(t).put(zp.key,e)},t.prototype.Ie=function(t){if(t){var e=mv(this.D,t);return e instanceof th&&e.version.isEqual(Uh.min())?null:e}return null},t}(),oy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ve=e,r.trackRemovals=n,r.Se=new ny(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(tf.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new jd(function(t,e){return pf(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,a){var s=e.Se.get(o);if(a.maybeDocument){var u=bv(e.Ve.D,a.maybeDocument,e.getReadTime(o));i=i.add(o.path.popLast());var c=Fv(u);r+=c-s,n.push(e.Ve.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=bv(e.Ve.D,new th(o,Uh.min()),e.getReadTime(o));n.push(e.Ve.addEntry(t,o,l))}else n.push(e.Ve.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ve.Gt.addToCollectionParentIndex(t,r))}),n.push(this.Ve.updateMetadata(t,r)),nv.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ve.Ae(t,e).next(function(t){return null===t?(n.Se.set(e,0),null):(n.Se.set(e,t.size),t.maybeDocument)})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ve.be(t,e).next(function(t){var e=t.ve;return t.Pe.forEach(function(t,e){n.Se.set(t,e)}),e})},e}(ry);function ay(t){return dv(t,zp.store)}function sy(t){return dv(t,Hp.store)}function uy(t){return t.path.toArray()}var cy=function(){function t(t){this.D=t}return t.prototype.St=function(t,e,n,r){var i=this;lf(n<r&&n>=0&&r<=11);var o=new rv("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Mp.store)}(t),function(t){t.createObjectStore(Fp.store,{keyPath:Fp.keyPath}),t.createObjectStore(Up.store,{keyPath:Up.keyPath,autoIncrement:!0}).createIndex(Up.userMutationsIndex,Up.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Vp.store)}(t),ly(t),function(t){t.createObjectStore(Hp.store)}(t));var a=nv.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Kp.store),t.deleteObjectStore(Gp.store),t.deleteObjectStore(Wp.store)}(t),ly(t)),a=a.next(function(){return function(t){var e=t.store(Wp.store),n=new Wp(0,0,Uh.min().toTimestamp(),0);return e.put(Wp.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(Up.store).kt().next(function(n){t.deleteObjectStore(Up.store),t.createObjectStore(Up.store,{keyPath:Up.keyPath,autoIncrement:!0}).createIndex(Up.userMutationsIndex,Up.userMutationsKeyPath,{unique:!0});var r=e.store(Up.store),i=n.map(function(t){return r.put(t)});return nv.waitFor(i)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore(Zp.store,{keyPath:Zp.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return i.De(o)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(zp.store)}(t),i.Ce(o)})),n<7&&r>=7&&(a=a.next(function(){return i.xe(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Ne(t,o)})),n<9&&r>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Hp.store);e.createIndex(Hp.readTimeIndex,Hp.readTimeIndexPath,{unique:!1}),e.createIndex(Hp.collectionReadTimeIndex,Hp.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(a=a.next(function(){return i.$e(o)})),n<11&&r>=11&&(a=a.next(function(){!function(t){t.createObjectStore(Jp.store,{keyPath:Jp.keyPath})}(t),function(t){t.createObjectStore(Yp.store,{keyPath:Yp.keyPath})}(t)})),a},t.prototype.Ce=function(t){var e=0;return t.store(Hp.store).qt(function(t,n){e+=Fv(n)}).next(function(){var n=new zp(e);return t.store(zp.store).put(zp.key,n)})},t.prototype.De=function(t){var e=this,n=t.store(Fp.store),r=t.store(Up.store);return n.kt().next(function(n){return nv.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(Up.userMutationsIndex,i).next(function(r){return nv.forEach(r,function(r){lf(r.userId===n.userId);var i=Ov(e.D,r);return Mv(t,n.userId,i).next(function(){})})})})})},t.prototype.xe=function(t){var e=t.store(Kp.store),n=t.store(Hp.store);return t.store(Wp.store).get(Wp.key).next(function(t){var r=[];return n.qt(function(n,i){var o=new If(n),a=function(t){return[0,Rp(t)]}(o);r.push(e.get(a).next(function(n){return n?nv.resolve():function(n){return e.put(new Kp(0,Rp(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return nv.waitFor(r)})})},t.prototype.Ne=function(t,e){t.createObjectStore(Qp.store,{keyPath:Qp.keyPath});var n=e.store(Qp.store),r=new Rv,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Rp(i)})}};return e.store(Hp.store).qt({Bt:!0},function(t,e){var n=new If(t);return i(n.popLast())}).next(function(){return e.store(Vp.store).qt({Bt:!0},function(t,e){var n=Pp(t[1]);return i(n.popLast())})})},t.prototype.$e=function(t){var e=this,n=t.store(Gp.store);return n.qt(function(t,r){var i=Sv(r),o=Iv(e.D,i);return n.put(o)})},t}();function ly(t){t.createObjectStore(Kp.store,{keyPath:Kp.keyPath}).createIndex(Kp.documentTargetsIndex,Kp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Gp.store,{keyPath:Gp.keyPath}).createIndex(Gp.queryTargetsIndexName,Gp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Wp.store)}var fy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",hy=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fe=o,this.window=a,this.document=s,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(t){return Promise.resolve()},!t.At())throw new Of(Ef.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ty(this,i),this.We=n+"main",this.D=new gv(u),this.je=new iv(this.We,11,new cy(this.D)),this.Ge=new Gv(this.referenceDelegate,this.D),this.Gt=new Nv,this.ze=function(t,e){return new iy(t,e)}(this.D,this.Gt),this.He=new Cv,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&af("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Ye().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Of(Ef.FAILED_PRECONDITION,fy);return t.Xe(),t.Ze(),t.tn(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Ge.getHighestSequenceNumber(e)})}).then(function(e){t.Me=new ef(e,t.Oe)}).then(function(){t.Le=!0}).catch(function(e){return t.je&&t.je.close(),Promise.reject(e)})},t.prototype.en=function(t){var e=this;return this.Ke=function(n){return Object(tf.b)(e,void 0,void 0,function(){return Object(tf.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.je.Ct(function(n){return Object(tf.b)(e,void 0,void 0,function(){return Object(tf.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Fe.enqueueAndForget(function(){return Object(tf.b)(e,void 0,void 0,function(){return Object(tf.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Ye=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return py(e).put(new Zp(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.nn(e).next(function(e){e||(t.isPrimary=!1,t.Fe.enqueueRetryable(function(){return t.Ke(!1)}))})}).next(function(){return t.sn(e)}).next(function(n){return t.isPrimary&&!n?t.rn(e).next(function(){return!1}):!!n&&t.on(e).next(function(){return!0})})}).catch(function(e){if(sv(e))return of("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return of("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Fe.enqueueRetryable(function(){return t.Ke(e)}),t.isPrimary=e})},t.prototype.nn=function(t){var e=this;return dy(t).get(Mp.key).next(function(t){return nv.resolve(e.cn(t))})},t.prototype.an=function(t){return py(t).delete(this.clientId)},t.prototype.un=function(){return Object(tf.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(tf.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=dv(t,Zp.store);return e.kt().next(function(t){var n=r.ln(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return nv.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Je)for(e=0,n=t;e<n.length;e++)this.Je.removeItem(this.fn(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.tn=function(){var t=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.Ye().then(function(){return t.un()}).then(function(){return t.tn()})})},t.prototype.cn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sn=function(t){var e=this;return this.ke?nv.resolve(!0):dy(t).get(Mp.key).next(function(n){if(null!==n&&e.hn(n.leaseTimestampMs,5e3)&&!e.dn(n.ownerId)){if(e.cn(n)&&e.networkEnabled)return!0;if(!e.cn(n)){if(!n.allowTabSynchronization)throw new Of(Ef.FAILED_PRECONDITION,fy);return!1}}return!(!e.networkEnabled||!e.inForeground)||py(t).kt().next(function(t){return void 0===e.ln(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&of("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(tf.b)(this,void 0,void 0,function(){var t=this;return Object(tf.d)(this,function(e){switch(e.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[Mp.store,Zp.store],function(e){var n=new hv(e,ef.o);return t.rn(n).next(function(){return t.an(n)})})];case 1:return e.sent(),this.je.close(),this.yn(),[2]}})})},t.prototype.ln=function(t,e){var n=this;return t.filter(function(t){return n.hn(t.updateTimeMs,e)&&!n.dn(t.clientId)})},t.prototype.gn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return py(e).kt().next(function(e){return t.ln(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Uv.Ht(t,this.D,this.Gt,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r,i=this;return of("IndexedDbPersistence","Starting transaction:",t),this.je.runTransaction(t,"readonly"===e?"readonly":"readwrite",Xp,function(o){return r=new hv(o,i.Me?i.Me.next():ef.o),"readwrite-primary"===e?i.nn(r).next(function(t){return!!t||i.sn(r)}).next(function(e){if(!e)throw af("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Fe.enqueueRetryable(function(){return i.Ke(!1)}),new Of(Ef.FAILED_PRECONDITION,$p);return n(r)}).next(function(t){return i.on(r).next(function(){return t})}):i.pn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.pn=function(t){var e=this;return dy(t).get(Mp.key).next(function(t){if(null!==t&&e.hn(t.leaseTimestampMs,5e3)&&!e.dn(t.ownerId)&&!e.cn(t)&&!(e.ke||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Of(Ef.FAILED_PRECONDITION,fy)})},t.prototype.on=function(t){var e=new Mp(this.clientId,this.allowTabSynchronization,Date.now());return dy(t).put(Mp.key,e)},t.At=function(){return iv.At()},t.prototype.rn=function(t){var e=this,n=dy(t);return n.get(Mp.key).next(function(t){return e.cn(t)?(of("IndexedDbPersistence","Releasing primary lease."),n.delete(Mp.key)):nv.resolve()})},t.prototype.hn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(af("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xe=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){t.Fe.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.Ye()})},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},t.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},t.prototype.Ze=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Be=function(){e.wn(),e.Fe.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Be))},t.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},t.prototype.dn=function(t){var e;try{var n=null!==(null===(e=this.Je)||void 0===e?void 0:e.getItem(this.fn(t)));return of("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return af("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(t){af("Failed to set zombie client id.",t)}},t.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(t){}},t.prototype.fn=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function dy(t){return dv(t,Mp.store)}function py(t){return dv(t,Zp.store)}function vy(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var yy=function(t,e){this.progress=t,this.En=e},gy=function(){function t(t,e,n){this.ze=t,this.Tn=e,this.Gt=n}return t.prototype.In=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.An(t,e,r)})},t.prototype.An=function(t,e,n){return this.ze.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t})},t.prototype.Rn=function(t,e,n){var r=Pd();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.bn=function(t,e){var n=this;return this.ze.getEntries(t,e).next(function(e){return n.vn(t,e)})},t.prototype.vn=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.Rn(t,e,r),o=Dd();return i.forEach(function(t,e){e||(e=new th(t,Uh.min())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return xf.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Pn(t,e.path):xh(e)?this.Vn(t,e,n):this.Sn(t,e,n)},t.prototype.Pn=function(t,e){return this.In(t,new xf(e)).next(function(t){var e=Md();return t instanceof $f&&(e=e.insert(t.key,t)),e})},t.prototype.Vn=function(t,e,n){var r=this,i=e.collectionGroup,o=Md();return this.Gt.getCollectionParents(t,i).next(function(a){return nv.forEach(a,function(a){var s=function(t,e){return new kh(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.Sn(t,s,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.Sn=function(t,e,n){var r,i,o=this;return this.ze.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o.Tn.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Dn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=fd(u,r.get(c),o.localWriteTime);r=l instanceof $f?r.insert(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Lh(e,n)||(r=r.remove(t))}),r})},t.prototype.Dn=function(t,e,n){for(var r=qd(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof yd&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ze.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof $f&&(c=c.insert(t,e))}),c})},t}(),my=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Cn=n,this.xn=r}return t.Nn=function(e,n){for(var r=qd(),i=qd(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),by=function(){function t(){}return t.prototype.$n=function(t){this.Fn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Uh.min())?this.On(t,e):this.Fn.bn(t,r).next(function(o){var a=i.kn(e,o);return(Sh(e)||Ih(e))&&i.Mn(e.limitType,a,r,n)?i.On(t,e):(rf()<=Ya.a.DEBUG&&of("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ph(e)),i.Fn.getDocumentsMatchingQuery(t,e,n).next(function(t){return a.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.kn=function(t,e){var n=new jd(Mh(t));return e.forEach(function(e,r){r instanceof $f&&Lh(t,r)&&(n=n.add(r))}),n},t.prototype.Mn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.On=function(t,e){return rf()<=Ya.a.DEBUG&&of("QueryEngine","Using full collection scan to execute query:",Ph(e)),this.Fn.getDocumentsMatchingQuery(t,e,Uh.min())},t}(),wy=function(){function t(t,e,n,r){this.persistence=t,this.Ln=e,this.D=r,this.Bn=new Cd(pf),this.qn=new ny(function(t){return ih(t)},oh),this.Un=Uh.min(),this.Tn=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.Ge=t.getTargetCache(),this.Kn=new gy(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=t.getBundleCache(),this.Ln.$n(this.Kn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Bn)})},t}();function _y(t,e,n,r){return new wy(t,e,n,r)}function ky(t,e){return Object(tf.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(tf.d)(this,function(a){switch(a.label){case 0:return n=ff(t),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Tn.getAllMutationBatches(t).next(function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new gy(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],a=qd(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++)a=a.add(f[l].key)}for(var h=0,d=e;h<d.length;h++){var p=d[h];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return i.bn(t,a).next(function(t){return{Wn:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=a.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),o)]}})})}function Ey(t,e){var n=ff(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=nv.resolve();return o.forEach(function(t){a=a.next(function(){return r.getEntry(e,t)}).next(function(e){var o=e,a=n.docVersions.get(t);lf(null!==a),(!o||o.version.compareTo(a)<0)&&(o=i.applyToRemoteDocument(t,o,n))&&r.addEntry(o,n.commitVersion)})}),a.next(function(){return t.Tn.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}function Oy(t){var e=ff(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Ge.getLastRemoteSnapshotVersion(t)})}function Sy(t,e){var n=ff(t),r=e.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var a=[];e.targetChanges.forEach(function(e,o){var s=i.get(o);if(s){a.push(n.Ge.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.Ge.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return lf(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.Ge.updateTargetData(t,c))}}});var s=Dd();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),a.push(Iy(t,o,e.documentUpdates,r,void 0).next(function(t){s=t})),!r.isEqual(Uh.min())){var u=n.Ge.getLastRemoteSnapshotVersion(t).next(function(e){return n.Ge.setTargetsMetadata(t,t.currentSequenceNumber,r)});a.push(u)}return nv.waitFor(a).next(function(){return o.apply(t)}).next(function(){return n.Kn.vn(t,s)})}).then(function(t){return n.Bn=i,t})}function Iy(t,e,n,r,i){var o=qd();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Dd();return n.forEach(function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof th&&a.version.isEqual(Uh.min())?(e.removeEntry(n,u),o=o.insert(n,a)):null==s||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):of("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function Ty(t,e){var n=ff(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Tn.getNextMutationBatchAfterBatchId(t,e)})}function Cy(t,e){var n=ff(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Ge.getTargetData(t,e).next(function(i){return i?nv.resolve(r=i):n.Ge.allocateTargetId(t).next(function(i){return r=new yv(e,i,0,t.currentSequenceNumber),n.Ge.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Bn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(t.targetId,t),n.qn.set(e,t.targetId)),t})}function xy(t,e,n){return Object(tf.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(tf.d)(this,function(s){switch(s.label){case 0:r=ff(t),i=r.Bn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!sv(a=s.sent()))throw a;return of("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Bn=r.Bn.remove(e),r.qn.delete(i.target),[2]}})})}function Ay(t,e,n){var r=ff(t),i=Uh.min(),o=qd();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=ff(t),i=r.qn.get(n);return void 0!==i?nv.resolve(r.Bn.get(i)):r.Ge.getTargetData(e,n)}(r,t,jh(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.Ln.getDocumentsMatchingQuery(t,e,n?i:Uh.min(),n?o:qd())}).next(function(t){return{documents:t,jn:o}})})}function jy(t,e){var n=ff(t),r=ff(n.Ge),i=n.Bn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.yt(t,e).next(function(t){return t?t.target:null})})}function Ry(t){var e=ff(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=ff(t),i=Dd(),o=wv(n),a=sy(e),s=IDBKeyRange.lowerBound(o,!0);return a.qt({index:Hp.readTimeIndex,range:s},function(t,e){var n=mv(r.D,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{En:i,readTime:_v(o)}})}(e.Qn,t,e.Un)}).then(function(t){var n=t.En;return e.Un=t.readTime,n})}function Ny(t){return Object(tf.b)(this,void 0,void 0,function(){var e;return Object(tf.d)(this,function(n){return[2,(e=ff(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=sy(t),n=Uh.min();return e.qt({index:Hp.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=_v(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Un=t})]})})}function Dy(t,e,n,r){return Object(tf.b)(this,void 0,void 0,function(){var i,o,a,s,u,c,l,f,h,d;return Object(tf.d)(this,function(p){switch(p.label){case 0:for(i=ff(t),o=qd(),a=Dd(),s=Ud(),u=0,c=n;u<c.length;u++)f=e.Gn((l=c[u]).metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,e.zn(l)),s=s.insert(f,e.Hn(l.metadata.readTime));return h=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,Cy(i,function(t){return jh(Oh(If.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Iy(t,h,a,Uh.min(),s).next(function(e){return h.apply(t),e}).next(function(e){return i.Ge.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.Ge.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Kn.vn(t,e)})})})]}})})}function Py(t,e,n){return void 0===n&&(n=qd()),Object(tf.b)(this,void 0,void 0,function(){var r,i;return Object(tf.d)(this,function(o){switch(o.label){case 0:return[4,Cy(t,jh(Tv(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=ff(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=op(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.He.saveNamedQuery(t,e);var a=r.withResumeToken(Af.EMPTY_BYTE_STRING,o);return i.Bn=i.Bn.insert(a.targetId,a),i.Ge.updateTargetData(t,a).next(function(){return i.Ge.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.Ge.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.He.saveNamedQuery(t,e)})})]}})})}var Ly=function(){function t(t){this.D=t,this.Jn=new Map,this.Yn=new Map}return t.prototype.getBundleMetadata=function(t,e){return nv.resolve(this.Jn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:op(n.createTime)}),nv.resolve()},t.prototype.getNamedQuery=function(t,e){return nv.resolve(this.Yn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:Tv(t.bundledQuery),readTime:op(t.readTime)}}(e)),nv.resolve()},t}(),My=function(){function t(){this.Xn=new jd(Fy.Zn),this.ts=new jd(Fy.es)}return t.prototype.isEmpty=function(){return this.Xn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Fy(t,e);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},t.prototype.ns=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.ss(new Fy(t,e))},t.prototype.rs=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.os=function(t){var e=this,n=new xf(new If([])),r=new Fy(n,t),i=new Fy(n,t+1),o=[];return this.ts.forEachInRange([r,i],function(t){e.ss(t),o.push(t.key)}),o},t.prototype.cs=function(){var t=this;this.Xn.forEach(function(e){return t.ss(e)})},t.prototype.ss=function(t){this.Xn=this.Xn.delete(t),this.ts=this.ts.delete(t)},t.prototype.us=function(t){var e=new xf(new If([])),n=new Fy(e,t),r=new Fy(e,t+1),i=qd();return this.ts.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Fy(t,0),n=this.Xn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Fy=function(){function t(t,e){this.key=t,this.hs=e}return t.Zn=function(t,e){return xf.comparator(t.key,e.key)||pf(t.hs,e.hs)},t.es=function(t,e){return pf(t.hs,e.hs)||xf.comparator(t.key,e.key)},t}(),Uy=function(){function t(t,e){this.Gt=t,this.referenceDelegate=e,this.Tn=[],this.ls=1,this.fs=new jd(Fy.Zn)}return t.prototype.checkEmpty=function(t){return nv.resolve(0===this.Tn.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ls;this.ls++;var o=new pv(i,e,n,r);this.Tn.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.fs=this.fs.add(new Fy(u.key,i)),this.Gt.addToCollectionParentIndex(t,u.key.path.popLast())}return nv.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return nv.resolve(this.ds(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.ws(e+1),r=n<0?0:n;return nv.resolve(this.Tn.length>r?this.Tn[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return nv.resolve(0===this.Tn.length?-1:this.ls-1)},t.prototype.getAllMutationBatches=function(t){return nv.resolve(this.Tn.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Fy(e,0),i=new Fy(e,Number.POSITIVE_INFINITY),o=[];return this.fs.forEachInRange([r,i],function(t){var e=n.ds(t.hs);o.push(e)}),nv.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new jd(pf);return e.forEach(function(t){var e=new Fy(t,0),i=new Fy(t,Number.POSITIVE_INFINITY);n.fs.forEachInRange([e,i],function(t){r=r.add(t.hs)})}),nv.resolve(this._s(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;xf.isDocumentKey(i)||(i=i.child(""));var o=new Fy(new xf(i),0),a=new jd(pf);return this.fs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.hs)),!0)},o),nv.resolve(this._s(a))},t.prototype._s=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.ds(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;lf(0===this.ys(e.batchId,"removed")),this.Tn.shift();var r=this.fs;return nv.forEach(e.mutations,function(i){var o=new Fy(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.fs=r})},t.prototype.Xt=function(t){},t.prototype.containsKey=function(t,e){var n=new Fy(e,0),r=this.fs.firstAfterOrEqual(n);return nv.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return nv.resolve()},t.prototype.ys=function(t,e){return this.ws(t)},t.prototype.ws=function(t){return 0===this.Tn.length?0:t-this.Tn[0].batchId},t.prototype.ds=function(t){var e=this.ws(t);return e<0||e>=this.Tn.length?null:this.Tn[e]},t}(),Vy=function(){function t(t,e){this.Gt=t,this.gs=e,this.docs=new Cd(xf.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.gs(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:a,readTime:n}),this.size+=a-o,this.Gt.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return nv.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=Pd();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),nv.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Md(),i=new xf(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,u=s.maybeDocument,c=s.readTime;if(!e.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||u instanceof $f&&Lh(e,u)&&(r=r.insert(u.key,u))}return nv.resolve(r)},t.prototype.ps=function(t,e){return nv.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new qy(this)},t.prototype.getSize=function(t){return nv.resolve(this.size)},t}(),qy=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ve=e,n}return Object(tf.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i&&i.maybeDocument?n.push(e.Ve.addEntry(t,i.maybeDocument,e.getReadTime(r))):e.Ve.removeEntry(r)}),nv.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ve.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ve.getEntries(t,e)},e}(ry),By=function(){function t(t){this.persistence=t,this.Es=new ny(function(t){return ih(t)},oh),this.lastRemoteSnapshotVersion=Uh.min(),this.highestTargetId=0,this.Ts=0,this.Is=new My,this.targetCount=0,this.As=zv.ee()}return t.prototype.forEachTarget=function(t,e){return this.Es.forEach(function(t,n){return e(n)}),nv.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return nv.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return nv.resolve(this.Ts)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.As.next(),nv.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ts&&(this.Ts=e),nv.resolve()},t.prototype.re=function(t){this.Es.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.As=new zv(e),this.highestTargetId=e),t.sequenceNumber>this.Ts&&(this.Ts=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.re(e),this.targetCount+=1,nv.resolve()},t.prototype.updateTargetData=function(t,e){return this.re(e),nv.resolve()},t.prototype.removeTargetData=function(t,e){return this.Es.delete(e.target),this.Is.os(e.targetId),this.targetCount-=1,nv.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.Es.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.Es.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),nv.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return nv.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.Es.get(e)||null;return nv.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.Is.ns(e,n),nv.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this.Is.rs(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),nv.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.Is.os(e),nv.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.Is.us(e);return nv.resolve(n)},t.prototype.containsKey=function(t,e){return nv.resolve(this.Is.containsKey(e))},t}(),Hy=function(){function t(t,e){var n=this;this.Rs={},this.Me=new ef(0),this.Le=!1,this.Le=!0,this.referenceDelegate=t(this),this.Ge=new By(this),this.Gt=new jv,this.ze=function(t,e){return new Vy(t,function(t){return n.referenceDelegate.bs(t)})}(this.Gt),this.D=new gv(e),this.He=new Ly(this.D)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getMutationQueue=function(t){var e=this.Rs[t.toKey()];return e||(e=new Uy(this.Gt,this.referenceDelegate),this.Rs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r=this;of("MemoryPersistence","Starting transaction:",t);var i=new zy(this.Me.next());return this.referenceDelegate.vs(),n(i).next(function(t){return r.referenceDelegate.Ps(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Vs=function(t,e){return nv.or(Object.values(this.Rs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),zy=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(tf.c)(e,t),e}(tv),Gy=function(){function t(t){this.persistence=t,this.Ss=new My,this.Ds=null}return t.Cs=function(e){return new t(e)},Object.defineProperty(t.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw cf()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.Ss.addReference(n,e),this.xs.delete(n.toString()),nv.resolve()},t.prototype.removeReference=function(t,e,n){return this.Ss.removeReference(n,e),this.xs.add(n.toString()),nv.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.xs.add(e.toString()),nv.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Ss.os(e.targetId).forEach(function(t){return n.xs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.xs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.vs=function(){this.Ds=new Set},t.prototype.Ps=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nv.forEach(this.xs,function(r){var i=xf.fromPath(r);return e.Ns(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Ds=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ns(t,e).next(function(t){t?n.xs.delete(e.toString()):n.xs.add(e.toString())})},t.prototype.bs=function(t){return 0},t.prototype.Ns=function(t,e){var n=this;return nv.or([function(){return nv.resolve(n.Ss.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Vs(t,e)}])},t}(),Ky=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Wy(t,e){return"firestore_clients_"+t+"_"+e}function Qy(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Zy(t,e){return"firestore_targets_"+t+"_"+e}Ky.UNAUTHENTICATED=new Ky(null),Ky.GOOGLE_CREDENTIALS=new Ky("google-credentials-uid"),Ky.FIRST_PARTY=new Ky("first-party-uid");var Jy=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.$s=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Of(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(af("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Yy=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.$s=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Of(i.error.code,i.error.message)),o?new t(e,i.state,r):(af("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Xy=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.$s=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Hd(),a=0;i&&a<r.activeTargetIds.length;++a)i=kf(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(af("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),$y=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.$s=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(af("SharedClientState","Failed to parse online state: "+e),null)},t}(),tg=function(){function t(){this.activeTargetIds=Hd()}return t.prototype.Os=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ks=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fs=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),eg=function(){function t(t,e,n,r,i){this.window=t,this.Fe=e,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new Cd(pf),this.started=!1,this.Us=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=Wy(this.persistenceKey,this.Ms),this.Ks=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new tg),this.Ws=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.zs=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Hs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return t.At=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(tf.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s,u,c,l=this;return Object(tf.d)(this,function(f){switch(f.label){case 0:return[4,this.syncEngine.gn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ms&&(i=this.getItem(Wy(this.persistenceKey,r)))&&(o=Xy.$s(r,i))&&(this.qs=this.qs.insert(o.clientId,o));for(this.Js(),(a=this.storage.getItem(this.zs))&&(s=this.Ys(a))&&this.Xs(s),u=0,c=this.Us;u<c.length;u++)this.Bs(c[u]);return this.Us=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ks,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.qs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.ti(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.ti(t,e,n),this.ei(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Zy(this.persistenceKey,t));if(n){var r=Yy.$s(t,n);r&&(e=r.state)}}return this.ni.Os(t),this.Js(),e},t.prototype.removeLocalQueryTarget=function(t){this.ni.ks(t),this.Js()},t.prototype.isLocalQueryTarget=function(t){return this.ni.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Zy(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.si(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.ei(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.ii(t)},t.prototype.notifyBundleLoaded=function(){this.ri()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return of("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){of("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){of("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Bs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(of("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void af("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable(function(){return Object(tf.b)(e,void 0,void 0,function(){var t,e,r,i,o,a;return Object(tf.d)(this,function(s){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return t=this.oi(n.key),[2,this.ci(t,null)];if(e=this.ai(n.key,n.newValue))return[2,this.ci(e.clientId,e)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(o=this.Ys(n.newValue)))return[2,this.Xs(o)]}else if(n.key===this.Ks)(a=function(t){var e=ef.o;if(null!=t)try{var n=JSON.parse(t);lf("number"==typeof n),e=n}catch(t){af("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==ef.o&&this.sequenceNumberHandler(a);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),t.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},t.prototype.ti=function(t,e,n){var r=new Jy(this.currentUser,t,e,n),i=Qy(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Fs())},t.prototype.ei=function(t){var e=Qy(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ii=function(t){this.storage.setItem(this.zs,JSON.stringify({clientId:this.Ms,onlineState:t}))},t.prototype.si=function(t,e,n){var r=Zy(this.persistenceKey,t),i=new Yy(t,e,n);this.setItem(r,i.Fs())},t.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},t.prototype.oi=function(t){var e=this.Ws.exec(t);return e?e[1]:null},t.prototype.ai=function(t,e){var n=this.oi(t);return Xy.$s(n,e)},t.prototype.ui=function(t,e){var n=this.js.exec(t),r=Number(n[1]);return Jy.$s(new Ky(void 0!==n[2]?n[2]:null),r,e)},t.prototype.li=function(t,e){var n=this.Gs.exec(t),r=Number(n[1]);return Yy.$s(r,e)},t.prototype.Ys=function(t){return $y.$s(t)},t.prototype.hi=function(t){return Object(tf.b)(this,void 0,void 0,function(){return Object(tf.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(t.batchId,t.state,t.error)]:(of("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.fi=function(t){return this.syncEngine._i(t.targetId,t.state,t.error)},t.prototype.ci=function(t,e){var n=this,r=e?this.qs.insert(t,e):this.qs.remove(t),i=this.Zs(this.qs),o=this.Zs(r),a=[],s=[];return o.forEach(function(t){i.has(t)||a.push(t)}),i.forEach(function(t){o.has(t)||s.push(t)}),this.syncEngine.mi(a,s).then(function(){n.qs=r})},t.prototype.Xs=function(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Zs=function(t){var e=Hd();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),ng=function(){function t(){this.yi=new tg,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.yi.Os(t),this.gi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.gi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.yi.ks(t)},t.prototype.isLocalQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.gi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.start=function(){return this.yi=new tg,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),rg=function(){function t(){}return t.prototype.pi=function(t){},t.prototype.shutdown=function(){},t}(),ig=function(){function t(){var t=this;this.Ei=function(){return t.Ti()},this.Ii=function(){return t.Ai()},this.Ri=[],this.bi()}return t.prototype.pi=function(t){this.Ri.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},t.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},t.prototype.Ti=function(){of("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(0)},t.prototype.Ai=function(){of("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(1)},t.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),og={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ag=function(){function t(t){this.vi=t.vi,this.Pi=t.Pi}return t.prototype.Vi=function(t){this.Si=t},t.prototype.Di=function(t){this.Ci=t},t.prototype.onMessage=function(t){this.xi=t},t.prototype.close=function(){this.Pi()},t.prototype.send=function(t){this.vi(t)},t.prototype.Ni=function(){this.Si()},t.prototype.$i=function(t){this.Ci(t)},t.prototype.Fi=function(t){this.xi(t)},t}(),sg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(tf.c)(e,t),e.prototype.qi=function(t,e,n,r){return new Promise(function(i,o){var a=new $l;a.listenOnce(Jl.COMPLETE,function(){try{switch(a.getLastErrorCode()){case Zl.NO_ERROR:var e=a.getResponseJson();of("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Zl.TIMEOUT:of("Connection",'RPC "'+t+'" timed out'),o(new Of(Ef.DEADLINE_EXCEEDED,"Request time out"));break;case Zl.HTTP_ERROR:var n=a.getStatus();if(of("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ef).indexOf(e)>=0?e:Ef.UNKNOWN}(r.status);o(new Of(s,r.message))}else o(new Of(Ef.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Of(Ef.UNAVAILABLE,"Connection failed."));break;default:cf()}}finally{of("Connection",'RPC "'+t+'" completed.')}});var s=JSON.stringify(r);a.send(e,"POST",s,n,15)})},e.prototype.Qi=function(t,e){var n=[this.Oi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new zl,i=Wu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(o.initMessageHeaders,e),Object(Xa.l)()||Object(Xa.n)()||Object(Xa.j)()||Object(Xa.k)()||Object(Xa.o)()||Object(Xa.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");of("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new ag({vi:function(t){c?of("Connection","Not sending because WebChannel is closed:",t):(u||(of("Connection","Opening WebChannel transport."),s.open(),u=!0),of("Connection","WebChannel sending:",t),s.send(t))},Pi:function(){return s.close()}}),f=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return f(s,Xl.EventType.OPEN,function(){c||of("Connection","WebChannel transport opened.")}),f(s,Xl.EventType.CLOSE,function(){c||(c=!0,of("Connection","WebChannel transport closed"),l.$i())}),f(s,Xl.EventType.ERROR,function(t){c||(c=!0,sf("Connection","WebChannel transport errored:",t),l.$i(new Of(Ef.UNAVAILABLE,"The operation could not be completed")))}),f(s,Xl.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];lf(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){of("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=_d[t];if(void 0!==e)return Td(e)}(i),a=r.message;void 0===o&&(o=Ef.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.$i(new Of(o,a)),s.close()}else of("Connection","WebChannel received:",n),l.Fi(n)}}),f(i,Yl.STAT_EVENT,function(t){10===t.stat?of("Connection","Detected buffering proxy"):11===t.stat&&of("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ni()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Oi=(t.ssl?"https":"http")+"://"+t.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Mi=function(t,e,n,r){var i=this.Li(t,e);of("RestConnection","Sending: ",i,n);var o={};return this.Bi(o,r),this.qi(t,i,o,n).then(function(t){return of("RestConnection","Received: ",t),t},function(e){throw sf("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Ui=function(t,e,n,r){return this.Mi(t,e,n,r)},t.prototype.Bi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.Li=function(t,e){return this.Oi+"/v1/"+e+":"+og[t]},t}());function ug(){return"undefined"!=typeof window?window:null}function cg(){return"undefined"!=typeof document?document:null}function lg(t){return new ep(t,!0)}var fg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=t,this.timerId=e,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return t.prototype.reset=function(){this.Gi=0},t.prototype.Ji=function(){this.Gi=this.ji},t.prototype.Yi=function(t){var e=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&of("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,function(){return e.Hi=Date.now(),t()}),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},t.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},t.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},t.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},t}(),hg=function(){function t(t,e,n,r,i,o){this.Fe=t,this.tr=n,this.er=r,this.nr=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new fg(t,e)}return t.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ar=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ur()},t.prototype.stop=function(){return Object(tf.b)(this,void 0,void 0,function(){return Object(tf.d)(this,function(t){switch(t.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.hr=function(){this.state=0,this.rr.reset()},t.prototype.lr=function(){var t=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,function(){return t.dr()}))},t.prototype.wr=function(t){this._r(),this.stream.send(t)},t.prototype.dr=function(){return Object(tf.b)(this,void 0,void 0,function(){return Object(tf.d)(this,function(t){return this.ar()?[2,this.close(0)]:[2]})})},t.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},t.prototype.close=function(t,e){return Object(tf.b)(this,void 0,void 0,function(){return Object(tf.d)(this,function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():e&&e.code===Ef.RESOURCE_EXHAUSTED?(af(e.toString()),af("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):e&&e.code===Ef.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Di(e)];case 1:return n.sent(),[2]}})})},t.prototype.mr=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.yr(this.sr),n=this.sr;this.nr.getToken().then(function(e){t.sr===n&&t.gr(e)},function(n){e(function(){var e=new Of(Ef.UNKNOWN,"Fetching auth token failed: "+n.message);return t.pr(e)})})},t.prototype.gr=function(t){var e=this,n=this.yr(this.sr);this.stream=this.Er(t),this.stream.Vi(function(){n(function(){return e.state=2,e.listener.Vi()})}),this.stream.Di(function(t){n(function(){return e.pr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.ur=function(){var t=this;this.state=4,this.rr.Yi(function(){return Object(tf.b)(t,void 0,void 0,function(){return Object(tf.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.pr=function(t){return of("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.yr=function(t){var e=this;return function(n){e.Fe.enqueueAndForget(function(){return e.sr===t?n():(of("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),dg=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).D=i,a}return Object(tf.c)(e,t),e.prototype.Er=function(t){return this.er.Qi("Listen",t)},e.prototype.onMessage=function(t){this.rr.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:cf()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.V?(lf(void 0===e||"string"==typeof e),Af.fromBase64String(e||"")):(lf(void 0===e||e instanceof Uint8Array),Af.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ef.UNKNOWN:Td(t.code);return new Of(e,t.message||"")}(s);n=new Qd(r,i,o,a||null)}else if("documentChange"in e){i=cp(t,(r=e.documentChange).document.name),o=op(r.document.updateTime);var s=new qh({mapValue:{fields:r.document.fields}}),u=(a=new $f(i,o,s,{}),r.targetIds||[]);n=new Kd(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)i=cp(t,(r=e.documentDelete).document),o=r.readTime?op(r.readTime):Uh.min(),s=new th(i,o),n=new Kd([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=cp(t,(r=e.documentRemove).document),n=new Kd([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return cf();var c=e.filter;i=new Sd(r=c.count||0),n=new Wd(o=c.targetId,i)}return n}(this.D,t),n=function(t){if(!("targetChange"in t))return Uh.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Uh.min():e.readTime?op(e.readTime):Uh.min()}(t);return this.listener.Tr(e,n)},e.prototype.Ir=function(t){var e={};e.database=hp(this.D),e.addTarget=function(t,e){var n,r=e.target;return(n=ah(r)?{documents:mp(t,r)}:{query:bp(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=rp(t,e.resumeToken):e.snapshotVersion.compareTo(Uh.min())>0&&(n.readTime=np(t,e.snapshotVersion.toTimestamp())),n}(this.D,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return cf()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.wr(e)},e.prototype.Ar=function(t){var e={};e.database=hp(this.D),e.removeTarget=t,this.wr(e)},e}(hg),pg=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).D=i,a.Rr=!1,a}return Object(tf.c)(e,t),Object.defineProperty(e.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mr=function(){this.Rr&&this.vr([])},e.prototype.Er=function(t){return this.er.Qi("Write",t)},e.prototype.onMessage=function(t){if(lf(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();var e=function(t,e){return t&&t.length>0?(lf(void 0!==e),t.map(function(t){return function(t,e){var n=op(t.updateTime?t.updateTime:e);return n.isEqual(Uh.min())&&(n=op(e)),new ad(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=op(t.commitTime);return this.listener.Pr(n,e)}return lf(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()},e.prototype.Sr=function(){var t={};t.database=hp(this.D),this.wr(t)},e.prototype.vr=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return yp(e.D,t)})};this.wr(n)},e}(hg),vg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.er=n,i.D=r,i.Dr=!1,i}return Object(tf.c)(e,t),e.prototype.Cr=function(){if(this.Dr)throw new Of(Ef.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mi=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Mi(t,e,n,i)}).catch(function(t){throw t.code===Ef.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Ui=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Ui(t,e,n,i)}).catch(function(t){throw t.code===Ef.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Dr=!1},e}(function(){}),yg=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return t.prototype.Or=function(){var t=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.$r=null,t.Mr("Backend didn't respond within 10 seconds."),t.kr("Offline"),Promise.resolve()}))},t.prototype.Lr=function(t){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+t.toString()),this.kr("Offline")))},t.prototype.set=function(t){this.Br(),this.Nr=0,"Online"===t&&(this.Fr=!1),this.kr(t)},t.prototype.kr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Mr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(af(e),this.Fr=!1):of("OnlineStateTracker",e)},t.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},t}(),gg=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi(function(t){n.enqueueAndForget(function(){return Object(tf.b)(o,void 0,void 0,function(){return Object(tf.d)(this,function(t){switch(t.label){case 0:return Ig(this)?(of("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(tf.b)(this,void 0,void 0,function(){var e;return Object(tf.d)(this,function(n){switch(n.label){case 0:return(e=ff(t)).Qr.add(4),[4,bg(e)];case 1:return n.sent(),e.jr.set("Unknown"),e.Qr.delete(4),[4,mg(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.jr=new yg(n,r)};function mg(t){return Object(tf.b)(this,void 0,void 0,function(){var e,n;return Object(tf.d)(this,function(r){switch(r.label){case 0:if(!Ig(t))return[3,4];e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function bg(t){return Object(tf.b)(this,void 0,void 0,function(){var e,n;return Object(tf.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function wg(t,e){var n=ff(t);n.Ur.has(e.targetId)||(n.Ur.set(e.targetId,e),Sg(n)?Og(n):qg(n).ar()&&kg(n,e))}function _g(t,e){var n=ff(t),r=qg(n);n.Ur.delete(e),r.ar()&&Eg(n,e),0===n.Ur.size&&(r.ar()?r.lr():Ig(n)&&n.jr.set("Unknown"))}function kg(t,e){t.Gr.H(e.targetId),qg(t).Ir(e)}function Eg(t,e){t.Gr.H(e),qg(t).Ar(e)}function Og(t){t.Gr=new Jd({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},yt:function(e){return t.Ur.get(e)||null}}),qg(t).start(),t.jr.Or()}function Sg(t){return Ig(t)&&!qg(t).cr()&&t.Ur.size>0}function Ig(t){return 0===ff(t).Qr.size}function Tg(t){t.Gr=void 0}function Cg(t){return Object(tf.b)(this,void 0,void 0,function(){return Object(tf.d)(this,function(e){return t.Ur.forEach(function(e,n){kg(t,e)}),[2]})})}function xg(t,e){return Object(tf.b)(this,void 0,void 0,function(){return Object(tf.d)(this,function(n){return Tg(t),Sg(t)?(t.jr.Lr(e),Og(t)):t.jr.set("Unknown"),[2]})})}function Ag(t,e,n){return Object(tf.b)(this,void 0,void 0,function(){var r,i,o;return Object(tf.d)(this,function(a){switch(a.label){case 0:if(t.jr.set("Online"),!(e instanceof Qd&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(tf.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(tf.d)(this,function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.Ur.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.Ur.delete(o),t.Gr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),of("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,jg(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Kd?t.Gr.st(e):e instanceof Wd?t.Gr.ht(e):t.Gr.ot(e),n.isEqual(Uh.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Oy(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.Gr.dt(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Ur.get(r);i&&t.Ur.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Ur.get(e);if(n){t.Ur.set(e,n.withResumeToken(Af.EMPTY_BYTE_STRING,n.snapshotVersion)),Eg(t,e);var r=new yv(n.target,e,1,n.sequenceNumber);kg(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return of("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,jg(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function jg(t,e,n){return Object(tf.b)(this,void 0,void 0,function(){var r=this;return Object(tf.d)(this,function(i){switch(i.label){case 0:if(!sv(e))throw e;return t.Qr.add(1),[4,bg(t)];case 1:return i.sent(),t.jr.set("Offline"),n||(n=function(){return Oy(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(tf.b)(r,void 0,void 0,function(){return Object(tf.d)(this,function(e){switch(e.label){case 0:return of("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Qr.delete(1),[4,mg(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Rg(t,e){return e().catch(function(n){return jg(t,n,e)})}function Ng(t){return Object(tf.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(tf.d)(this,function(a){switch(a.label){case 0:e=ff(t),n=Bg(e),r=e.qr.length>0?e.qr[e.qr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Ig(t)&&t.qr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Ty(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(t,e){t.qr.push(e);var n=Bg(t);n.ar()&&n.br&&n.vr(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,jg(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Dg(e)&&Pg(e),[2]}})})}function Dg(t){return Ig(t)&&!Bg(t).cr()&&t.qr.length>0}function Pg(t){Bg(t).start()}function Lg(t){return Object(tf.b)(this,void 0,void 0,function(){return Object(tf.d)(this,function(e){return Bg(t).Sr(),[2]})})}function Mg(t){return Object(tf.b)(this,void 0,void 0,function(){var e,n,r;return Object(tf.d)(this,function(i){for(e=Bg(t),n=0,r=t.qr;n<r.length;n++)e.vr(r[n].mutations);return[2]})})}function Fg(t,e,n){return Object(tf.b)(this,void 0,void 0,function(){var r,i;return Object(tf.d)(this,function(o){switch(o.label){case 0:return r=t.qr.shift(),i=vv.from(r,e,n),[4,Rg(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Ng(t)];case 2:return o.sent(),[2]}})})}function Ug(t,e){return Object(tf.b)(this,void 0,void 0,function(){return Object(tf.d)(this,function(n){switch(n.label){case 0:return e&&Bg(t).br?[4,function(t,e){return Object(tf.b)(this,void 0,void 0,function(){var n,r;return Object(tf.d)(this,function(i){switch(i.label){case 0:return Id(r=e.code)&&r!==Ef.ABORTED?(n=t.qr.shift(),Bg(t).hr(),[4,Rg(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Ng(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Dg(t)&&Pg(t),[2]}})})}function Vg(t,e){return Object(tf.b)(this,void 0,void 0,function(){var n;return Object(tf.d)(this,function(r){switch(r.label){case 0:return n=ff(t),e?(n.Qr.delete(2),[4,mg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Qr.add(2),[4,bg(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function qg(t){var e=this;return t.zr||(t.zr=function(t,e,n){var r=ff(t);return r.Cr(),new dg(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:Cg.bind(null,t),Di:xg.bind(null,t),Tr:Ag.bind(null,t)}),t.Kr.push(function(n){return Object(tf.b)(e,void 0,void 0,function(){return Object(tf.d)(this,function(e){switch(e.label){case 0:return n?(t.zr.hr(),Sg(t)?Og(t):t.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.zr.stop()];case 2:e.sent(),Tg(t),e.label=3;case 3:return[2]}})})})),t.zr}function Bg(t){var e=this;return t.Hr||(t.Hr=function(t,e,n){var r=ff(t);return r.Cr(),new pg(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:Lg.bind(null,t),Di:Ug.bind(null,t),Vr:Mg.bind(null,t),Pr:Fg.bind(null,t)}),t.Kr.push(function(n){return Object(tf.b)(e,void 0,void 0,function(){return Object(tf.d)(this,function(e){switch(e.label){case 0:return n?(t.Hr.hr(),[4,Ng(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Hr.stop()];case 3:e.sent(),t.qr.length>0&&(of("RemoteStore","Stopping write stream with "+t.qr.length+" pending writes"),t.qr=[]),e.label=4;case 4:return[2]}})})})),t.Hr}var Hg=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ev,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Of(Ef.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function zg(t,e){if(af("AsyncQueue",e+": "+t),sv(t))return new Of(Ef.UNAVAILABLE,e+": "+t);throw t}var Gg=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||xf.comparator(e.key,n.key)}:function(t,e){return xf.comparator(t.key,e.key)},this.keyedMap=Md(),this.sortedSet=new Cd(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Kg=function(){function t(){this.Jr=new Cd(xf.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):cf():this.Jr=this.Jr.insert(e,t)},t.prototype.Yr=function(){var t=[];return this.Jr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Wg=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Gg.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Nh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Qg=function(){this.Xr=void 0,this.listeners=[]},Zg=function(){this.queries=new ny(function(t){return Dh(t)},Nh),this.onlineState="Unknown",this.Zr=new Set};function Jg(t,e){return Object(tf.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(tf.d)(this,function(c){switch(c.label){case 0:if(n=ff(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Qg),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Xr=c.sent(),[3,4];case 3:return s=c.sent(),u=zg(s,"Initialization of query '"+Ph(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.eo(n.onlineState),o.Xr&&e.no(o.Xr)&&tm(n),[2]}})})}function Yg(t,e){return Object(tf.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(tf.d)(this,function(s){return n=ff(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Xg(t,e){for(var n=ff(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].no(a)&&(r=!0);s.Xr=a}}r&&tm(n)}function $g(t,e,n){var r=ff(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function tm(t){t.Zr.forEach(function(t){t.next()})}var em=function(){function t(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.no=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Wg(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.io?this.oo(t)&&(this.so.next(t),o=!0):this.co(t,this.onlineState)&&(this.ao(t),o=!0),this.ro=t,o},t.prototype.onError=function(t){this.so.error(t)},t.prototype.eo=function(t){this.onlineState=t;var e=!1;return this.ro&&!this.io&&this.co(this.ro,t)&&(this.ao(this.ro),e=!0),e},t.prototype.co=function(t,e){return!t.fromCache||!(this.options.uo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.oo=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ao=function(t){t=Wg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)},t}(),nm=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.ho=function(){return"metadata"in this.payload},t}(),rm=function(){function t(t){this.D=t}return t.prototype.Gn=function(t){return cp(this.D,t)},t.prototype.zn=function(t){return t.metadata.exists?vp(this.D,t.document,!1):new th(this.Gn(t.metadata.name),this.Hn(t.metadata.readTime))},t.prototype.Hn=function(t){return op(t)},t}();!function(){function t(t,e,n){this.lo=t,this.localStore=e,this.D=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.fo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.wo=function(t){for(var e=new Map,n=new rm(this.D),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.Gn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||qd()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(tf.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(tf.d)(this,function(o){switch(o.label){case 0:return[4,Dy(this.localStore,new rm(this.D),this.documents,this.lo.id)];case 1:t=o.sent(),e=this.wo(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Py(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new yy(Object.assign({},this.progress),t))]}})})}}();var im=function(t){this.key=t},om=function(t){this.key=t},am=function(){function t(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=qd(),this.mutatedKeys=qd(),this.po=Mh(t),this.Eo=new Gg(this.po)}return Object.defineProperty(t.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),t.prototype.Io=function(t,e){var n=this,r=e?e.Ao:new Kg,i=e?e.Eo:this.Eo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Sh(this.query)&&i.size===this.query.limit?i.last():null,c=Ih(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),f=e instanceof $f?e:null;f&&(f=Lh(n.query,f)?f:null);var h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data().isEqual(f.data())?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ro(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.po(f,u)>0||c&&n.po(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),Sh(this.query)||Ih(this.query))for(;a.size>this.query.limit;){var l=Sh(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Eo:a,Ao:r,Mn:s,mutatedKeys:o}},t.prototype.Ro=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;var o=t.Ao.Yr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cf()}};return n(t)-n(e)}(t.type,e.type)||r.po(t.doc,e.doc)}),this.bo(n);var a=e?this.vo():[],s=0===this.yo.size&&this.current?1:0,u=s!==this.mo;return this.mo=s,0!==o.length||u?{snapshot:new Wg(this.query,t.Eo,i,o,t.mutatedKeys,0===s,u,!1),Po:a}:{Po:a}},t.prototype.eo=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Kg,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},t.prototype.Vo=function(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations},t.prototype.bo=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._o=e._o.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e._o=e._o.delete(t)}),this.current=t.current)},t.prototype.vo=function(){var t=this;if(!this.current)return[];var e=this.yo;this.yo=qd(),this.Eo.forEach(function(e){t.Vo(e.key)&&(t.yo=t.yo.add(e.key))});var n=[];return e.forEach(function(e){t.yo.has(e)||n.push(new om(e))}),this.yo.forEach(function(t){e.has(t)||n.push(new im(t))}),n},t.prototype.So=function(t){this._o=t.jn,this.yo=qd();var e=this.Io(t.documents);return this.applyChanges(e,!0)},t.prototype.Do=function(){return Wg.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},t}(),sm=function(t,e,n){this.query=t,this.targetId=e,this.view=n},um=function(t){this.key=t,this.Co=!1},cm=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.xo={},this.No=new ny(function(t){return Dh(t)},Nh),this.$o=new Map,this.Fo=new Set,this.Oo=new Cd(xf.comparator),this.ko=new Map,this.Mo=new My,this.Lo={},this.Bo=new Map,this.qo=zv.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),t}();function lm(t,e){return Object(tf.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(tf.d)(this,function(s){switch(s.label){case 0:return n=Um(t),(i=n.No.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Do(),[3,4]):[3,1];case 1:return[4,Cy(n.localStore,jh(e))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,fm(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&wg(n.remoteStore,o),s.label=4;case 4:return[2,r]}})})}function fm(t,e,n,r){return Object(tf.b)(this,void 0,void 0,function(){var i,o,a,s,u,c;return Object(tf.d)(this,function(l){switch(l.label){case 0:return t.Qo=function(e,n,r){return function(t,e,n,r){return Object(tf.b)(this,void 0,void 0,function(){var i,o,a;return Object(tf.d)(this,function(s){switch(s.label){case 0:return(i=e.view.Io(n)).Mn?[4,Ay(t.localStore,e.query,!1).then(function(t){return e.view.Io(t.documents,i)})]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Om(t,e.targetId,a.Po),a.snapshot)]}})})}(t,e,n,r)},[4,Ay(t.localStore,e,!0)];case 1:return i=l.sent(),o=new am(e,i.jn),a=o.Io(i.documents),s=Gd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),Om(t,n,u.Po),c=new sm(e,n,o),[2,(t.No.set(e,c),t.$o.has(n)?t.$o.get(n).push(e):t.$o.set(n,[e]),u.snapshot)]}})})}function hm(t,e){return Object(tf.b)(this,void 0,void 0,function(){var n,r,i;return Object(tf.d)(this,function(o){switch(o.label){case 0:return n=ff(t),r=n.No.get(e),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter(function(t){return!Nh(t,e)})),void n.No.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,xy(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),_g(n.remoteStore,r.targetId),km(n,r.targetId)}).catch(Zv)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return km(n,r.targetId),[4,xy(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function dm(t,e,n){return Object(tf.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(tf.d)(this,function(s){switch(s.label){case 0:r=Vm(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=ff(t),i=Pf.now(),o=e.reduce(function(t,e){return t.add(e.key)},qd());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Kn.bn(t,o).next(function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=hd(c,n.get(c.key));null!=l&&a.push(new yd(c.key,l,Hh(l.proto.mapValue),sd.exists(!0)))}return r.Tn.addMutationBatch(t,i,a,e)})}).then(function(t){var e=t.applyToLocalDocumentSet(n);return{batchId:t.batchId,changes:e}})}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.Lo[t.currentUser.toKey()];r||(r=new Cd(pf)),r=r.insert(e,n),t.Lo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Tm(r,i.changes)];case 3:return s.sent(),[4,Ng(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=zg(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function pm(t,e){return Object(tf.b)(this,void 0,void 0,function(){var n,r;return Object(tf.d)(this,function(i){switch(i.label){case 0:n=ff(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Sy(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.ko.get(e);r&&(lf(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Co=!0:t.modifiedDocuments.size>0?lf(r.Co):t.removedDocuments.size>0&&(lf(r.Co),r.Co=!1))}),[4,Tm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Zv(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function vm(t,e,n){var r=ff(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach(function(t,n){var r=n.view.eo(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=ff(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].eo(e)&&(r=!0)}),r&&tm(n)}(r.eventManager,e),i.length&&r.xo.Tr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ym(t,e,n){return Object(tf.b)(this,void 0,void 0,function(){var r,i,o,a,s,u;return Object(tf.d)(this,function(c){switch(c.label){case 0:return(r=ff(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.ko.get(e),(o=i&&i.key)?(a=(a=new Cd(xf.comparator)).insert(o,new th(o,Uh.min())),s=qd().add(o),u=new zd(Uh.min(),new Map,new jd(pf),a,s),[4,pm(r,u)]):[3,2];case 1:return c.sent(),r.Oo=r.Oo.remove(o),r.ko.delete(e),Im(r),[3,4];case 2:return[4,xy(r.localStore,e,!1).then(function(){return km(r,e,n)}).catch(Zv)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function gm(t,e){return Object(tf.b)(this,void 0,void 0,function(){var n,r,i;return Object(tf.d)(this,function(o){switch(o.label){case 0:n=ff(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Ey(n.localStore,e)];case 2:return i=o.sent(),_m(n,r,null),wm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Tm(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Zv(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function mm(t,e,n){return Object(tf.b)(this,void 0,void 0,function(){var r,i;return Object(tf.d)(this,function(o){switch(o.label){case 0:r=ff(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=ff(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Tn.lookupMutationBatch(t,e).next(function(e){return lf(null!==e),r=e.keys(),n.Tn.removeMutationBatch(t,e)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),_m(r,e,n),wm(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Tm(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Zv(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function bm(t,e){return Object(tf.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(tf.d)(this,function(s){switch(s.label){case 0:Ig((n=ff(t)).remoteStore)||of("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=ff(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Tn.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Bo.get(r)||[]).push(e),n.Bo.set(r,i),[3,4]);case 3:return o=s.sent(),a=zg(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function wm(t,e){(t.Bo.get(e)||[]).forEach(function(t){t.resolve()}),t.Bo.delete(e)}function _m(t,e,n){var r=ff(t),i=r.Lo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Lo[r.currentUser.toKey()]=i}}function km(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.$o.get(e);r<i.length;r++){var o=i[r];t.No.delete(o),n&&t.xo.Ko(o,n)}t.$o.delete(e),t.isPrimaryClient&&t.Mo.os(e).forEach(function(e){t.Mo.containsKey(e)||Em(t,e)})}function Em(t,e){t.Fo.delete(e.path.canonicalString());var n=t.Oo.get(e);null!==n&&(_g(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.ko.delete(n),Im(t))}function Om(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof im?(t.Mo.addReference(o.key,e),Sm(t,o)):o instanceof om?(of("SyncEngine","Document no longer in limbo: "+o.key),t.Mo.removeReference(o.key,e),t.Mo.containsKey(o.key)||Em(t,o.key)):cf()}}function Sm(t,e){var n=e.key,r=n.path.canonicalString();t.Oo.get(n)||t.Fo.has(r)||(of("SyncEngine","New document in limbo: "+n),t.Fo.add(r),Im(t))}function Im(t){for(;t.Fo.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){var e=t.Fo.values().next().value;t.Fo.delete(e);var n=new xf(If.fromString(e)),r=t.qo.next();t.ko.set(r,new um(n)),t.Oo=t.Oo.insert(n,r),wg(t.remoteStore,new yv(jh(Oh(n.path)),r,2,ef.o))}}function Tm(t,e,n){return Object(tf.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(tf.d)(this,function(s){switch(s.label){case 0:return r=ff(t),i=[],o=[],a=[],r.No.isEmpty()?[3,3]:(r.No.forEach(function(t,s){a.push(r.Qo(s,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=my.Nn(s.targetId,t);o.push(e)}}))}),[4,Promise.all(a)]);case 1:return s.sent(),r.xo.Tr(i),[4,function(t,e){return Object(tf.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return Object(tf.d)(this,function(l){switch(l.label){case 0:n=ff(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return nv.forEach(e,function(e){return nv.forEach(e.Cn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return nv.forEach(e.xn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!sv(r=l.sent()))throw r;return of("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.Bn.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Bn=n.Bn.insert(s,c));return[2]}})})}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function Cm(t,e){return Object(tf.b)(this,void 0,void 0,function(){var n,r;return Object(tf.d)(this,function(i){switch(i.label){case 0:return(n=ff(t)).currentUser.isEqual(e)?[3,3]:(of("SyncEngine","User change. New user:",e.toKey()),[4,ky(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Bo.forEach(function(t){t.forEach(function(t){t.reject(new Of(Ef.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Tm(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function xm(t,e){var n=ff(t),r=n.ko.get(e);if(r&&r.Co)return qd().add(r.key);var i=qd(),o=n.$o.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.No.get(s[a]);i=i.unionWith(u.view.To)}return i}function Am(t,e){return Object(tf.b)(this,void 0,void 0,function(){var n,r,i;return Object(tf.d)(this,function(o){switch(o.label){case 0:return[4,Ay((n=ff(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.So(r),[2,(n.isPrimaryClient&&Om(n,e.targetId,i.Po),i)]}})})}function jm(t){return Object(tf.b)(this,void 0,void 0,function(){var e;return Object(tf.d)(this,function(n){return[2,Ry((e=ff(t)).localStore).then(function(t){return Tm(e,t)})]})})}function Rm(t,e,n,r){return Object(tf.b)(this,void 0,void 0,function(){var i,o;return Object(tf.d)(this,function(a){switch(a.label){case 0:return[4,function(t,e){var n=ff(t),r=ff(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Jt(t,e).next(function(e){return e?n.Kn.bn(t,e):nv.resolve(null)})})}((i=ff(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ng(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(_m(i,e,r||null),wm(i,e),function(t,e){ff(ff(t).Tn).Xt(e)}(i.localStore,e)):cf(),a.label=4;case 4:return[4,Tm(i,o)];case 5:return a.sent(),[3,7];case 6:of("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function Nm(t,e){return Object(tf.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(tf.d)(this,function(c){switch(c.label){case 0:return Um(n=ff(t)),Vm(n),!0!==e||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Dm(n,r.toArray())]);case 1:return i=c.sent(),n.Uo=!0,[4,Vg(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)wg(n.remoteStore,a[o]);return[3,7];case 3:return!1!==e||!1===n.Uo?[3,7]:(s=[],u=Promise.resolve(),n.$o.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?s.push(e):u=u.then(function(){return km(n,e),xy(n.localStore,e,!0)}),_g(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Dm(n,s)];case 5:return c.sent(),function(t){var e=ff(t);e.ko.forEach(function(t,n){_g(e.remoteStore,n)}),e.Mo.cs(),e.ko=new Map,e.Oo=new Cd(xf.comparator)}(n),n.Uo=!1,[4,Vg(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Dm(t,e,n){return Object(tf.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l,f,h,d,p;return Object(tf.d)(this,function(v){switch(v.label){case 0:n=ff(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.$o.get(s=a[o]))&&0!==c.length?[4,Cy(n.localStore,jh(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,f=c,v.label=3;case 3:return l<f.length?(h=n.No.get(f[l]),[4,Am(n,h)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,jy(n.localStore,s)];case 8:return p=v.sent(),[4,Cy(n.localStore,p)];case 9:return u=v.sent(),[4,fm(n,Pm(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}})})}function Pm(t){return Eh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Lm(t){var e=ff(t);return ff(ff(e.localStore).persistence).gn()}function Mm(t,e,n,r){return Object(tf.b)(this,void 0,void 0,function(){var i,o,a;return Object(tf.d)(this,function(s){switch(s.label){case 0:return(i=ff(t)).Uo?(of("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ry(i.localStore)];case 3:return o=s.sent(),a=zd.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Tm(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,xy(i.localStore,e,!0)];case 6:return s.sent(),km(i,e,r),[3,8];case 7:cf(),s.label=8;case 8:return[2]}})})}function Fm(t,e,n){return Object(tf.b)(this,void 0,void 0,function(){var r,i,o,a,s,u,c,l,f;return Object(tf.d)(this,function(h){switch(h.label){case 0:if(!(r=Um(t)).Uo)return[3,10];i=0,o=e,h.label=1;case 1:return i<o.length?r.$o.has(a=o[i])?(of("SyncEngine","Adding an already active target "+a),[3,5]):[4,jy(r.localStore,a)]:[3,6];case 2:return s=h.sent(),[4,Cy(r.localStore,s)];case 3:return u=h.sent(),[4,fm(r,Pm(s),u.targetId,!1)];case 4:h.sent(),wg(r.remoteStore,u),h.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(tf.d)(this,function(e){switch(e.label){case 0:return r.$o.has(t)?[4,xy(r.localStore,t,!1).then(function(){_g(r.remoteStore,t),km(r,t)}).catch(Zv)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,f=n,h.label=7;case 7:return l<f.length?[5,c(f[l])]:[3,10];case 8:h.sent(),h.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Um(t){var e=ff(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ym.bind(null,e),e.xo.Tr=Xg.bind(null,e.eventManager),e.xo.Ko=$g.bind(null,e.eventManager),e}function Vm(t){var e=ff(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mm.bind(null,e),e}var qm=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(tf.b)(this,void 0,void 0,function(){return Object(tf.d)(this,function(e){switch(e.label){case 0:return this.D=lg(t.databaseInfo.databaseId),this.sharedClientState=this.jo(t),this.persistence=this.Go(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t),[2]}})})},t.prototype.zo=function(t){return null},t.prototype.Ho=function(t){return _y(this.persistence,new by,t.initialUser,this.D)},t.prototype.Go=function(t){return new Hy(Gy.Cs,this.D)},t.prototype.jo=function(t){return new ng},t.prototype.terminate=function(){return Object(tf.b)(this,void 0,void 0,function(){return Object(tf.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Bm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Jo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(tf.c)(e,t),e.prototype.initialize=function(e){return Object(tf.b)(this,void 0,void 0,function(){return Object(tf.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Ny(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,e)];case 3:return n.sent(),[4,Vm(this.Jo.syncEngine)];case 4:return n.sent(),[4,Ng(this.Jo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ho=function(t){return _y(this.persistence,new by,t.initialUser,this.D)},e.prototype.zo=function(t){return new Xv(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.Go=function(t){var e=vy(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Lv.withCacheSize(this.cacheSizeBytes):Lv.DEFAULT;return new hy(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,ug(),cg(),this.D,this.sharedClientState,!!this.forceOwnership)},e.prototype.jo=function(t){return new ng},e}(qm),Hm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Jo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(tf.c)(e,t),e.prototype.initialize=function(e){return Object(tf.b)(this,void 0,void 0,function(){var n,r=this;return Object(tf.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof eg?(this.sharedClientState.syncEngine={wi:Rm.bind(null,n),_i:Mm.bind(null,n),mi:Fm.bind(null,n),gn:Lm.bind(null,n),di:jm.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en(function(t){return Object(tf.b)(r,void 0,void 0,function(){return Object(tf.d)(this,function(e){switch(e.label){case 0:return[4,Nm(this.Jo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jo=function(t){var e=ug();if(!eg.At(e))throw new Of(Ef.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=vy(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new eg(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Bm),zm=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(tf.b)(this,void 0,void 0,function(){var n=this;return Object(tf.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return vm(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Cm.bind(null,this.syncEngine),[4,Vg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Zg},t.prototype.createDatastore=function(t){var e=lg(t.databaseInfo.databaseId),n=new sg(t.databaseInfo);return function(t,e,n){return new vg(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return vm(a.syncEngine,t,0)},o=ig.At()?new ig:new rg,new gg(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new cm(t,e,n,r,i,o);return a&&(s.Uo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(tf.b)(this,void 0,void 0,function(){var e;return Object(tf.d)(this,function(n){switch(n.label){case 0:return e=ff(t),of("RemoteStore","RemoteStore shutting down."),e.Qr.add(5),[4,bg(e)];case 1:return n.sent(),e.Wr.shutdown(),e.jr.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Gm=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xo=function(){this.muted=!0},t.prototype.Yo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Km=(function(){function t(t,e){var n=this;this.Zo=t,this.D=e,this.metadata=new ev,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then(function(t){t&&t.ho()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Zo.cancel()},t.prototype.getMetadata=function(){return Object(tf.b)(this,void 0,void 0,function(){return Object(tf.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Wo=function(){return Object(tf.b)(this,void 0,void 0,function(){return Object(tf.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.ec())]}})})},t.prototype.ec=function(){return Object(tf.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(tf.d)(this,function(i){switch(i.label){case 0:return[4,this.nc()];case 1:return null===(t=i.sent())?[2,null]:(e=this.tc.decode(t),n=Number(e),isNaN(n)&&this.sc("length string ("+e+") is not valid number"),[4,this.ic(n)]);case 2:return r=i.sent(),[2,new nm(JSON.parse(r),t.length+n)]}})})},t.prototype.rc=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.nc=function(){return Object(tf.b)(this,void 0,void 0,function(){var t,e;return Object(tf.d)(this,function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.ic=function(t){return Object(tf.b)(this,void 0,void 0,function(){var e;return Object(tf.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.tc.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.sc=function(t){throw this.Zo.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.oc=function(){return Object(tf.b)(this,void 0,void 0,function(){var t,e;return Object(tf.d)(this,function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(tf.b)(this,void 0,void 0,function(){var e,n=this;return Object(tf.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Of(Ef.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(tf.b)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(tf.d)(this,function(u){switch(u.label){case 0:return n=ff(t),r=hp(n.D)+"/documents",i={documents:e.map(function(t){return up(n.D,t)})},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){lf(!!e.found);var n=cp(t,e.found.name),r=op(e.found.updateTime),i=new qh({mapValue:{fields:e.found.fields}});return new $f(n,r,i,{})}(t,e):"missing"in e?function(t,e){lf(!!e.missing),lf(!!e.readTime);var n=cp(t,e.missing),r=op(e.readTime);return new th(n,r)}(t,e):cf()}(n.D,t);a.set(e.key.toString(),e)}),s=[],[2,(e.forEach(function(t){var e=a.get(t.toString());lf(!!e),s.push(e)}),s)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof th||t instanceof $f?n.recordVersion(t):cf()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Ed(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(tf.b)(this,void 0,void 0,function(){var t,e=this;return Object(tf.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=xf.fromPath(n);e.mutations.push(new Od(r,e.precondition(r)))}),[4,function(t,e){return Object(tf.b)(this,void 0,void 0,function(){var n,r,i;return Object(tf.d)(this,function(o){switch(o.label){case 0:return n=ff(t),r=hp(n.D)+"/documents",i={writes:e.map(function(t){return yp(n.D,t)})},[4,n.Mi("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t instanceof $f)e=t.version;else{if(!(t instanceof th))throw cf();e=Uh.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Of(Ef.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?sd.updateTime(e):sd.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Uh.min()))throw new Of(Ef.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sd.updateTime(e)}return sd.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Wm=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new fg(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ac()},t.prototype.ac=function(){var t=this;this.rr.Yi(function(){return Object(tf.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(tf.d)(this,function(r){return t=new Km(this.datastore),(e=this.uc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.hc(t)})})}).catch(function(t){n.hc(t)}),[2]})})})},t.prototype.uc=function(t){try{var e=this.updateFunction(t);return!wf(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.hc=function(t){var e=this;this.cc>0&&this.lc(t)?(this.cc-=1,this.asyncQueue.enqueueAndForget(function(){return e.ac(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.lc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Id(e)}return!1},t}(),Qm=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Ky.UNAUTHENTICATED,this.clientId=df.u(),this.credentialListener=function(){},this.receivedInitialUser=new ev,this.credentials.setChangeListener(function(t){of("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(tf.b)(this,void 0,void 0,function(){return Object(tf.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Of(Ef.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new ev;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(tf.b)(t,void 0,void 0,function(){var t,n;return Object(tf.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=zg(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Zm(t,e){return Object(tf.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(tf.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),of("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(tf.b)(i,void 0,void 0,function(){return Object(tf.d)(this,function(t){switch(t.label){case 0:return[4,ky(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Jm(t,e){return Object(tf.b)(this,void 0,void 0,function(){var n,r;return Object(tf.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Ym(t)];case 1:return n=i.sent(),of("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(tf.b)(this,void 0,void 0,function(){var n,r;return Object(tf.d)(this,function(i){switch(i.label){case 0:return(n=ff(t)).asyncQueue.verifyOperationInProgress(),of("RemoteStore","RemoteStore received new credentials"),r=Ig(n),n.Qr.add(3),[4,bg(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Qr.delete(3),[4,mg(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function Ym(t){return Object(tf.b)(this,void 0,void 0,function(){return Object(tf.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(of("FirestoreClient","Using default OfflineComponentProvider"),[4,Zm(t,new qm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Xm(t){return Object(tf.b)(this,void 0,void 0,function(){return Object(tf.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(of("FirestoreClient","Using default OnlineComponentProvider"),[4,Jm(t,new zm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function $m(t){return Ym(t).then(function(t){return t.persistence})}function tb(t){return Ym(t).then(function(t){return t.localStore})}function eb(t){return Xm(t).then(function(t){return t.remoteStore})}function nb(t){return Xm(t).then(function(t){return t.syncEngine})}function rb(t){return Object(tf.b)(this,void 0,void 0,function(){var e,n;return Object(tf.d)(this,function(r){switch(r.label){case 0:return[4,Xm(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=lm.bind(null,e.syncEngine),n.onUnlisten=hm.bind(null,e.syncEngine),n)]}})})}function ib(t,e,n){var r=this;void 0===n&&(n={});var i=new ev;return t.asyncQueue.enqueueAndForget(function(){return Object(tf.b)(r,void 0,void 0,function(){var r;return Object(tf.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Gm({next:function(o){e.enqueueAndForget(function(){return Yg(t,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Of(Ef.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Of(Ef.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new em(Oh(n.path),o,{includeMetadataChanges:!0,uo:!0});return Jg(t,a)},[4,rb(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function ob(t,e,n){var r=this;void 0===n&&(n={});var i=new ev;return t.asyncQueue.enqueueAndForget(function(){return Object(tf.b)(r,void 0,void 0,function(){var r;return Object(tf.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Gm({next:function(n){e.enqueueAndForget(function(){return Yg(t,a)}),n.fromCache&&"server"===r.source?i.reject(new Of(Ef.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new em(n,o,{includeMetadataChanges:!0,uo:!0});return Jg(t,a)},[4,rb(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var ab=function(t,e,n,r,i,o){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=o},sb=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),ub=new Map,cb=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},lb=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(Ky.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),fb=function(){function t(t){var e=this;this.fc=null,this.currentUser=Ky.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){e.dc++,e.currentUser=e.wc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.dc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),t.get().then(function(t){e.auth=t,e.fc&&e.auth.addAuthTokenListener(e.fc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.dc!==e?(of("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(lf("string"==typeof n.accessToken),new cb(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},t.prototype.wc=function(){var t=this.auth&&this.auth.getUid();return lf(null===t||"string"==typeof t),new Ky(t)},t}(),hb=function(){function t(t,e){this._c=t,this.mc=e,this.type="FirstParty",this.user=Ky.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.mc},e=this._c.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),db=function(){function t(t,e){this._c=t,this.mc=e}return t.prototype.getToken=function(){return Promise.resolve(new hb(this._c,this.mc))},t.prototype.setChangeListener=function(t){t(Ky.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function pb(t,e,n){if(!n)throw new Of(Ef.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function vb(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Of(Ef.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function yb(t,e,n,r){if(!0===e&&!0===r)throw new Of(Ef.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function gb(t){if(!xf.isDocumentKey(t))throw new Of(Ef.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function mb(t){if(xf.isDocumentKey(t))throw new Of(Ef.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function bb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":cf()}function wb(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Of(Ef.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=bb(t);throw new Of(Ef.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function _b(t,e){if(e<=0)throw new Of(Ef.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var kb=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Of(Ef.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Of(Ef.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,yb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Eb=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new kb({}),this._settingsFrozen=!1,t instanceof sb?(this._databaseId=t,this._credentials=new lb):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Of(Ef.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sb(t.options.projectId)}(t),this._credentials=new fb(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Of(Ef.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Of(Ef.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kb(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new lb;switch(t.type){case"gapi":var e=t.client;return lf(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new db(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Of(Ef.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=ub.get(this))&&(of("ComponentProvider","Removing Datastore"),ub.delete(this),t.terminate()),Promise.resolve();var t},t}(),Ob=function(t){this._delegate=t},Sb=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Tb(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Ib=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Tb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Oh(r))||this).firestore=e,i._path=r,i.type="collection",i}return Object(tf.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Sb(this.firestore,null,new xf(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Ib);function Cb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ob&&(t=t._delegate),pb("collection","path",e),t instanceof Eb)return mb(n=If.fromString.apply(If,Object(tf.f)([e],r))),new Tb(t,null,n);if(!(t instanceof Sb||t instanceof Tb))throw new Of(Ef.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return mb(n=If.fromString.apply(If,Object(tf.f)([t.path],r)).child(If.fromString(e))),new Tb(t.firestore,null,n)}function xb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ob&&(t=t._delegate),1===arguments.length&&(e=df.u()),pb("doc","path",e),t instanceof Eb)return gb(n=If.fromString.apply(If,Object(tf.f)([e],r))),new Sb(t,null,new xf(n));if(!(t instanceof Sb||t instanceof Tb))throw new Of(Ef.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return gb(n=t._path.child(If.fromString.apply(If,Object(tf.f)([e],r)))),new Sb(t.firestore,t instanceof Tb?t._converter:null,new xf(n))}function Ab(t,e){return t instanceof Ob&&(t=t._delegate),e instanceof Ob&&(e=e._delegate),(t instanceof Sb||t instanceof Tb)&&(e instanceof Sb||e instanceof Tb)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function jb(t,e){return t instanceof Ob&&(t=t._delegate),e instanceof Ob&&(e=e._delegate),t instanceof Ib&&e instanceof Ib&&t.firestore===e.firestore&&Nh(t._query,e._query)&&t._converter===e._converter}var Rb=function(){function t(){var t=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new fg(this,"async_queue_retry"),this.bc=function(){var e=cg();e&&of("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.Zi()};var e=cg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.vc(),this.Pc(t)},t.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var t=cg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}},t.prototype.enqueue=function(t){return this.vc(),this.Ec?new Promise(function(t){}):this.Pc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.gc.push(t),e.Vc()})},t.prototype.Vc=function(){return Object(tf.b)(this,void 0,void 0,function(){var t,e=this;return Object(tf.d)(this,function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!sv(t=n.sent()))throw t;return of("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gc.length>0&&this.rr.Yi(function(){return e.Vc()}),n.label=5;case 5:return[2]}})})},t.prototype.Pc=function(t){var e=this,n=this.yc.then(function(){return e.Ac=!0,t().catch(function(t){throw e.Ic=t,e.Ac=!1,af("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Ac=!1,t})});return this.yc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.vc(),this.Rc.indexOf(t)>-1&&(e=0);var i=Hg.createAndSchedule(this,t,e,n,function(t){return r.Sc(t)});return this.Tc.push(i),i},t.prototype.vc=function(){this.Ic&&cf()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Dc=function(){return Object(tf.b)(this,void 0,void 0,function(){var t;return Object(tf.d)(this,function(e){switch(e.label){case 0:return[4,t=this.yc];case 1:e.sent(),e.label=2;case 2:if(t!==this.yc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Cc=function(t){for(var e=0,n=this.Tc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.xc=function(t){var e=this;return this.Dc().then(function(){e.Tc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Dc()})},t.prototype.Nc=function(t){this.Rc.push(t)},t.prototype.Sc=function(t){var e=this.Tc.indexOf(t);this.Tc.splice(e,1)},t}();function Nb(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new ev,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Db=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new Rb,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(tf.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Lb(this),this._firestoreClient.terminate()},e}(Eb);function Pb(t){return t._firestoreClient||Lb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Lb(t){var e=t._freezeSettings(),n=function(t,e,n){return new ab(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t._databaseId,t._persistenceKey,e);t._firestoreClient=new Qm(t._credentials,t._queue,n)}function Mb(t,e,n){var r=this,i=new ev;return t.asyncQueue.enqueue(function(){return Object(tf.b)(r,void 0,void 0,function(){var r;return Object(tf.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Zm(t,n)];case 1:return o.sent(),[4,Jm(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Ef.FAILED_PRECONDITION||t.code===Ef.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Fb(t){if(t._initialized||t._terminated)throw new Of(Ef.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ub=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Of(Ef.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cf(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Vb=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Af.fromBase64String(e))}catch(e){throw new Of(Ef.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Af.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),qb=function(t){this._methodName=t},Bb=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Of(Ef.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Of(Ef.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return pf(this._lat,t._lat)||pf(this._long,t._long)},t}(),Hb=/^__.*__$/,zb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new yd(t,this.data,this.fieldMask,e,this.fieldTransforms):new vd(t,this.data,e,this.fieldTransforms)},t}(),Gb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new yd(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Kb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cf()}}var Wb=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),t.prototype.Oc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.Lc(t),r},t.prototype.Bc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.$c(),r},t.prototype.qc=function(t){return this.Oc({path:void 0,Mc:!0})},t.prototype.Uc=function(t){return dw(t,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.$c=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Lc(this.path.get(t))},t.prototype.Lc=function(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(Kb(this.Fc)&&Hb.test(t))throw this.Uc('Document fields cannot begin and end with "__"')},t}(),Qb=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.D=n||lg(t)}return t.prototype.Wc=function(t,e,n,r){return void 0===r&&(r=!1),new Wb({Fc:t,methodName:e,Kc:n,path:Cf.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},t}();function Zb(t){var e=t._freezeSettings(),n=lg(t._databaseId);return new Qb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Jb(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Wc(o.merge||o.mergeFields?2:0,e,n,i);cw("Data must be an object, but it was:",a,r);var s,u,c=sw(r,a);if(o.merge)s=new Vh(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=lw(e,h[f],n);if(!a.contains(d))throw new Of(Ef.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");pw(l,d)||l.push(d)}s=new Vh(l),u=a.fieldTransforms.filter(function(t){return s.covers(t.field)})}else s=null,u=a.fieldTransforms;return new zb(new qh(c),s,u)}var Yb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tf.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Fc)throw t.Uc(1===t.Fc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(qb);function Xb(t,e,n){return new Wb({Fc:3,Kc:e.settings.Kc,methodName:t._methodName,Mc:n},e.databaseId,e.D,e.ignoreUndefinedProperties)}var $b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tf.c)(e,t),e.prototype._toFieldTransform=function(t){return new od(t.path,new Yh)},e.prototype.isEqual=function(t){return t instanceof e},e}(qb),tw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(tf.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Xb(this,t,!0),n=this.jc.map(function(t){return aw(t,e)}),r=new Xh(n);return new od(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(qb),ew=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(tf.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Xb(this,t,!0),n=this.jc.map(function(t){return aw(t,e)}),r=new td(n);return new od(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(qb),nw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Gc=n,r}return Object(tf.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new nd(t.D,Kh(t.D,this.Gc));return new od(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(qb);function rw(t,e,n,r){var i=t.Wc(1,e,n);cw("Data must be an object, but it was:",i,r);var o=[],a=new Bh;mf(r,function(t,r){var s=hw(e,t,n);r instanceof Ob&&(r=r._delegate);var u=i.Bc(s);if(r instanceof Yb)o.push(s);else{var c=aw(r,u);null!=c&&(o.push(s),a.set(s,c))}});var s=new Vh(o);return new Gb(a.v(),s,i.fieldTransforms)}function iw(t,e,n,r,i,o){var a=t.Wc(1,e,n),s=[lw(e,r,n)],u=[i];if(o.length%2!=0)throw new Of(Ef.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(lw(e,o[c])),u.push(o[c+1]);for(var l=[],f=new Bh,h=s.length-1;h>=0;--h)if(!pw(l,s[h])){var d=s[h],p=u[h];p instanceof Ob&&(p=p._delegate);var v=a.Bc(d);if(p instanceof Yb)l.push(d);else{var y=aw(p,v);null!=y&&(l.push(d),f.set(d,y))}}var g=new Vh(l);return new Gb(f.v(),g,a.fieldTransforms)}function ow(t,e,n,r){return void 0===r&&(r=!1),aw(n,t.Wc(r?4:3,e))}function aw(t,e){if(t instanceof Ob&&(t=t._delegate),uw(t))return cw("Unsupported field value:",e,t),sw(t,e);if(t instanceof qb)return function(t,e){if(!Kb(e.Fc))throw e.Uc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Uc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Mc&&4!==e.Fc)throw e.Uc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=aw(o[i],e.qc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Ob&&(t=t._delegate),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Kh(e.D,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Pf.fromDate(t);return{timestampValue:np(e.D,n)}}if(t instanceof Pf)return n=new Pf(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:np(e.D,n)};if(t instanceof Bb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Vb)return{bytesValue:rp(e.D,t._byteString)};if(t instanceof Sb){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ap(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc("Unsupported field value: "+bb(t))}(t,e)}function sw(t,e){var n={};return bf(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mf(t,function(t,r){var i=aw(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function uw(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Pf||t instanceof Bb||t instanceof Vb||t instanceof Sb||t instanceof qb)}function cw(t,e,n){if(!uw(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=bb(n);throw e.Uc("an object"===r?t+" a custom object":t+" "+r)}}function lw(t,e,n){if(e instanceof Ob&&(e=e._delegate),e instanceof Ub)return e._internalPath;if("string"==typeof e)return hw(t,e);throw dw("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var fw=new RegExp("[~\\*/\\[\\]]");function hw(t,e,n){if(e.search(fw)>=0)throw dw("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Ub.bind.apply(Ub,Object(tf.f)([void 0],e.split(".")))))._internalPath}catch(r){throw dw("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function dw(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Of(Ef.INVALID_ARGUMENT,(s+=". ")+t+u)}function pw(t,e){return t.some(function(t){return t.isEqual(e)})}var vw=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Sb(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new yw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data().field(gw("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),yw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tf.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(vw);function gw(t,e){return"string"==typeof e?hw(t,e):e instanceof Ob?e._delegate._internalPath:e._internalPath}var mw=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),bw=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Object(tf.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new ww(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data().field(gw("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(vw),ww=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tf.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(bw),_w=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new mw(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new ww(n._firestore,n._userDataWriter,r.key,r,new mw(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Of(Ef.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new ww(t._firestore,t._userDataWriter,e.doc.key,e.doc,new mw(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new ww(t._firestore,t._userDataWriter,e.doc.key,e.doc,new mw(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:kw(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function kw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cf()}}function Ew(t,e){return t instanceof bw&&e instanceof bw?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof _w&&e instanceof _w&&t._firestore===e._firestore&&jb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Ow(t){if(Ih(t)&&0===t.explicitOrderBy.length)throw new Of(Ef.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Sw=function(){};function Iw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Tw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).zc=e,i.Hc=n,i.Jc=r,i.type="where",i}return Object(tf.c)(e,t),e.prototype._apply=function(t){var e=Zb(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Of(Ef.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Dw(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(Nw(r,t,l[c]));s={arrayValue:{values:u}}}else s=Nw(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Dw(a,o),s=ow(n,"where",a,"in"===o||"not-in"===o);var f=sh.create(i,o,s);return function(t,e){if(e.g()){var n=Ch(t);if(null!==n&&!n.isEqual(e.field))throw new Of(Ef.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Th(t);null!==r&&Pw(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Of(Ef.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Ib(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Sw),Cw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zc=e,r.Yc=n,r.type="orderBy",r}return Object(tf.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Of(Ef.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Of(Ef.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new mh(e,n);return function(t,e){if(null===Th(t)){var n=Ch(t);null!==n&&Pw(0,n,e.field)}}(t,r),r}(t._query,this.zc,this.Yc);return new Ib(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new kh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Sw),xw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(tf.c)(e,t),e.prototype._apply=function(t){return new Ib(t.firestore,t._converter,Rh(t._query,this.Xc,this.Zc))},e}(Sw),Aw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(tf.c)(e,t),e.prototype._apply=function(t){var e=Rw(t,this.type,this.ta,this.ea);return new Ib(t.firestore,t._converter,function(t,e){return new kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Sw),jw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(tf.c)(e,t),e.prototype._apply=function(t){var e=Rw(t,this.type,this.ta,this.ea);return new Ib(t.firestore,t._converter,function(t,e){return new kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Sw);function Rw(t,e,n,r){if(n[0]instanceof Ob&&(n[0]=n[0]._delegate),n[0]instanceof vw)return function(t,e,n,r,i){if(!r)throw new Of(Ef.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Ah(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Kf(e,r.key));else{var c=r.field(u.field);if(Lf(c))throw new Of(Ef.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Of(Ef.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new yh(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Zb(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new Of(Ef.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Of(Ef.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!xh(t)&&-1!==c.indexOf("/"))throw new Of(Ef.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(If.fromString(c));if(!xf.isDocumentKey(l))throw new Of(Ef.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new xf(l);s.push(Kf(e,f))}else{var h=ow(n,r,c);s.push(h)}}return new yh(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Nw(t,e,n){if(n instanceof Ob&&(n=n._delegate),"string"==typeof n){if(""===n)throw new Of(Ef.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!xh(e)&&-1!==n.indexOf("/"))throw new Of(Ef.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(If.fromString(n));if(!xf.isDocumentKey(r))throw new Of(Ef.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Kf(t,new xf(r))}if(n instanceof Sb)return Kf(t,n._key);throw new Of(Ef.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+bb(n)+".")}function Dw(t,e){if(!Array.isArray(t)||0===t.length)throw new Of(Ef.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Of(Ef.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Pw(t,e,n){if(!n.isEqual(e))throw new Of(Ef.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Lw=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Uf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Nf(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Df(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw cf()}},t.prototype.convertObject=function(t,e){var n=this,r={};return mf(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Bb(Nf(t.latitude),Nf(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Mf(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Ff(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Rf(t);return new Pf(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=If.fromString(t);lf(jp(n));var r=new sb(n.get(1),n.get(3)),i=new xf(n.popFirst(5));return r.isEqual(e)||af("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Mw(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Fw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(tf.c)(e,t),e.prototype.convertBytes=function(t){return new Vb(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Sb(this.firestore,null,e)},e}(Lw),Uw=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Zb(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Vw(t,this._firestore),i=Mw(r._converter,e,n),o=Jb(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,sd.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Vw(t,this._firestore);return e instanceof Ob&&(e=e._delegate),o="string"==typeof e||e instanceof Ub?iw(this._dataReader,"WriteBatch.update",a._key,e,n,r):rw(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,sd.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Vw(t,this._firestore);return this._mutations=this._mutations.concat(new Ed(e._key,sd.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Of(Ef.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Vw(t,e){if(t instanceof Ob&&(t=t._delegate),t.firestore!==e)throw new Of(Ef.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var qw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(tf.c)(e,t),e.prototype.convertBytes=function(t){return new Vb(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Sb(this.firestore,null,e)},e}(Lw);function Bw(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=wb(t,Sb);var o=wb(t.firestore,Db),a=Zb(o);return e instanceof Ob&&(e=e._delegate),zw(o,[("string"==typeof e||e instanceof Ub?iw(a,"updateDoc",t._key,e,n,r):rw(a,"updateDoc",t._key,e)).toMutation(t._key,sd.exists(!0))])}function Hw(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Ob&&(t=t._delegate);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Nb(i[s])||(a=i[s],s++);var u,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(Nb(i[s])){var h=i[s];i[s]=null===(e=h.next)||void 0===e?void 0:e.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(t instanceof Sb)c=wb(t.firestore,Db),l=Oh(t._key.path),u={next:function(e){i[s]&&i[s](Gw(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=wb(t,Ib);c=wb(d.firestore,Db),l=d._query;var p=new qw(c);u={next:function(t){i[s]&&i[s](new _w(c,p,d,t))},error:i[s+1],complete:i[s+2]},Ow(t._query)}return function(t,e,n,r){var i=this,o=new Gm(r),a=new em(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(tf.b)(i,void 0,void 0,function(){var e;return Object(tf.d)(this,function(n){switch(n.label){case 0:return e=Jg,[4,rb(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})}),function(){o.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(tf.b)(i,void 0,void 0,function(){var e;return Object(tf.d)(this,function(n){switch(n.label){case 0:return e=Yg,[4,rb(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})})}}(Pb(c),l,f,u)}function zw(t,e){return function(t,e){var n=this,r=new ev;return t.asyncQueue.enqueueAndForget(function(){return Object(tf.b)(n,void 0,void 0,function(){var n;return Object(tf.d)(this,function(i){switch(i.label){case 0:return n=dm,[4,nb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Pb(t),e)}function Gw(t,e,n){var r=n.docs.get(e._key),i=new qw(t);return new bw(t,i,e._key,r,new mw(n.hasPendingWrites,n.fromCache),e._converter)}var Kw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(tf.c)(e,t),e.prototype.get=function(e){var n=this,r=Vw(e,this._firestore),i=new qw(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new bw(n._firestore,i,r._key,t._document,new mw(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Zb(t)}return t.prototype.get=function(t){var e=this,n=Vw(t,this._firestore),r=new Fw(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return cf();var i=t[0];if(i instanceof th)return new vw(e._firestore,r,n._key,null,n._converter);if(i instanceof $f)return new vw(e._firestore,r,i.key,i,n._converter);throw cf()})},t.prototype.set=function(t,e,n){var r=Vw(t,this._firestore),i=Mw(r._converter,e,n),o=Jb(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Vw(t,this._firestore);return e instanceof Ob&&(e=e._delegate),o="string"==typeof e||e instanceof Ub?iw(this._dataReader,"Transaction.update",a._key,e,n,r):rw(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=Vw(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Ww(){if("undefined"==typeof Uint8Array)throw new Of(Ef.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Qw(){if("undefined"==typeof atob)throw new Of(Ef.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Zw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tf.c)(e,t),e.fromBase64String=function(t){return Qw(),new e(Vb.fromBase64String(t))},e.fromUint8Array=function(t){return Ww(),new e(Vb.fromUint8Array(t))},e.prototype.toBase64=function(){return Qw(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Ww(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Ob),Jw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Fb(t=wb(t,Db));var n=Pb(t),r=t._freezeSettings(),i=new zm;return Mb(n,i,new Bm(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Fb(t=wb(t,Db));var e=Pb(t),n=t._freezeSettings(),r=new zm;return Mb(e,r,new Hm(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Of(Ef.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ev;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(tf.b)(e,void 0,void 0,function(){var e;return Object(tf.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(tf.b)(this,void 0,void 0,function(){return Object(tf.d)(this,function(e){switch(e.label){case 0:return iv.At()?[4,iv.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(vy(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Yw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof sb||(i.sa=e),i}return Object(tf.c)(e,t),Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=wb(t,Eb))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&sf("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(tf.b)(e,void 0,void 0,function(){var e,n;return Object(tf.d)(this,function(r){switch(r.label){case 0:return[4,$m(t)];case 1:return e=r.sent(),[4,eb(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=ff(t);return e.Qr.delete(0),mg(e)}(n))]}})})})}(Pb(wb(this._delegate,Db)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(tf.b)(e,void 0,void 0,function(){var e,n;return Object(tf.d)(this,function(r){switch(r.label){case 0:return[4,$m(t)];case 1:return e=r.sent(),[4,eb(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(tf.b)(this,void 0,void 0,function(){var e;return Object(tf.d)(this,function(n){switch(n.label){case 0:return(e=ff(t)).Qr.add(0),[4,bg(e)];case 1:return n.sent(),e.jr.set("Offline"),[2]}})})}(n))]}})})})}(Pb(wb(this._delegate,Db)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&yb("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new ev;return t.asyncQueue.enqueueAndForget(function(){return Object(tf.b)(e,void 0,void 0,function(){var e;return Object(tf.d)(this,function(r){switch(r.label){case 0:return e=bm,[4,nb(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Pb(wb(this._delegate,Db)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Gm(e);return t.asyncQueue.enqueueAndForget(function(){return Object(tf.b)(n,void 0,void 0,function(){var e;return Object(tf.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){ff(t).Zr.add(e),e.next()},[4,rb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(tf.b)(n,void 0,void 0,function(){var e;return Object(tf.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){ff(t).Zr.delete(e)},[4,rb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Pb(t=wb(t,Db)),Nb(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.sa)throw new Of(Ef.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new f_(this,Cb(this._delegate,t))}catch(t){throw r_(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new n_(this,xb(this._delegate,t))}catch(t){throw r_(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new u_(this,function(t,e){if(t=wb(t,Eb),pb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Of(Ef.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ib(t,null,function(t){return new kh(If.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw r_(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new ev;return t.asyncQueue.enqueueAndForget(function(){return Object(tf.b)(n,void 0,void 0,function(){var n;return Object(tf.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Xm(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Wm(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Pb(t),function(n){return e(new Kw(t,n))})}(this._delegate,function(n){return t(new $w(e,n))})},e.prototype.batch=function(){var t=this;return Pb(this._delegate),new t_(new Uw(this._delegate,function(e){return zw(t._delegate,e)}))},e.prototype.loadBundle=function(t){throw new Of(Ef.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Of(Ef.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Ob),Xw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(tf.c)(e,t),e.prototype.convertBytes=function(t){return new Zw(new Vb(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return n_.ia(e,this.firestore,null)},e}(Lw),$w=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r._userDataWriter=new Xw(e),r}return Object(tf.c)(e,t),e.prototype.get=function(t){var e=this,n=h_(t);return this._delegate.get(n).then(function(t){return new a_(e._firestore,new bw(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},e.prototype.set=function(t,e,n){var r=h_(t);return n?(vb("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=h_(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Object(tf.f)([a,e,n],i)),this},e.prototype.delete=function(t){var e=h_(t);return this._delegate.delete(e),this},e}(Ob),t_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tf.c)(e,t),e.prototype.set=function(t,e,n){var r=h_(t);return n?(vb("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=h_(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Object(tf.f)([a,e,n],i)),this},e.prototype.delete=function(t){var e=h_(t);return this._delegate.delete(e),this},e.prototype.commit=function(){return this._delegate.commit()},e}(Ob),e_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this)._firestore=e,i._userDataWriter=n,i}return Object(tf.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new ww(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new s_(this._firestore,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},e.ra=function(t,n){var r=e.oa,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Xw(t),n),i.set(n,o)),o},e}(Ob);e_.oa=new WeakMap;var n_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new Xw(e),r}return Object(tf.c)(e,t),e.ca=function(t,n,r){if(t.length%2!=0)throw new Of(Ef.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Sb(n._delegate,r,new xf(t)))},e.ia=function(t,n,r){return new e(n,new Sb(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new f_(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new f_(this.firestore,Cb(this._delegate,t))}catch(t){throw r_(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Ob&&(t=t._delegate),t instanceof Sb&&Ab(this._delegate,t)},e.prototype.set=function(t,e){e=vb("DocumentReference.set",e);try{return function(t,e,n){t=wb(t,Sb);var r=wb(t.firestore,Db),i=Mw(t._converter,e,n);return zw(r,[Jb(Zb(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,sd.none())])}(this._delegate,t,e)}catch(t){throw r_(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Bw(this._delegate,t):Bw.apply(void 0,Object(tf.f)([this._delegate,t,e],n))}catch(t){throw r_(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return zw(wb((t=this._delegate).firestore,Db),[new Ed(t._key,sd.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=i_(e),i=o_(e,function(e){return new a_(t.firestore,new bw(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return Hw(this._delegate,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=wb(t,Sb);var e=wb(t.firestore,Db),n=Pb(e),r=new qw(e);return function(t,e){var n=this,r=new ev;return t.asyncQueue.enqueueAndForget(function(){return Object(tf.b)(n,void 0,void 0,function(){var n;return Object(tf.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(tf.b)(this,void 0,void 0,function(){var r,i;return Object(tf.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=ff(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Kn.In(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof $f?n.resolve(i):i instanceof th?n.resolve(null):n.reject(new Of(Ef.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=zg(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,tb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new bw(e,r,t._key,n,new mw(n instanceof $f&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=wb(t,Sb);var e=wb(t.firestore,Db);return ib(Pb(e),t._key,{source:"server"}).then(function(n){return Gw(e,t,n)})}(this._delegate):function(t){t=wb(t,Sb);var e=wb(t.firestore,Db);return ib(Pb(e),t._key).then(function(n){return Gw(e,t,n)})}(this._delegate)).then(function(t){return new a_(e.firestore,new bw(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?e_.ra(this.firestore,t):null))},e}(Ob);function r_(t,e,n){return t.message=t.message.replace(e,n),t}function i_(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Nb(r))return r}return{}}function o_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Nb(t[0])?t[0]:Nb(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var a_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(tf.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new n_(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,e){return this._delegate.get(t,e)},e.prototype.isEqual=function(t){return Ew(this._delegate,t._delegate)},e}(Ob),s_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tf.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(a_),u_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new Xw(e),r}return Object(tf.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Iw(this._delegate,function(t,e,n){var r=e,i=gw("where",t);return new Tw(i,r,n)}(t,n,r)))}catch(t){throw r_(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Iw(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=gw("orderBy",t);return new Cw(r,n)}(t,n)))}catch(t){throw r_(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Iw(this._delegate,function(t){return _b("limit",t),new xw("limit",t,"F")}(t)))}catch(t){throw r_(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Iw(this._delegate,function(t){return _b("limitToLast",t),new xw("limitToLast",t,"L")}(t)))}catch(t){throw r_(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Iw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Aw("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw r_(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Iw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Aw("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw r_(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Iw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jw("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw r_(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Iw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jw("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw r_(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return jb(this._delegate,t._delegate)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=wb(t,Ib);var e=wb(t.firestore,Db),n=Pb(e),r=new qw(e);return function(t,e){var n=this,r=new ev;return t.asyncQueue.enqueueAndForget(function(){return Object(tf.b)(n,void 0,void 0,function(){var n;return Object(tf.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(tf.b)(this,void 0,void 0,function(){var r,i,o,a,s;return Object(tf.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Ay(t,e,!0)];case 1:return s=u.sent(),r=new am(e,s.jn),i=r.Io(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=zg(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,tb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new _w(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=wb(t,Ib);var e=wb(t.firestore,Db),n=Pb(e),r=new qw(e);return ob(n,t._query,{source:"server"}).then(function(n){return new _w(e,r,t,n)})}(this._delegate):function(t){t=wb(t,Ib);var e=wb(t.firestore,Db),n=Pb(e),r=new qw(e);return Ow(t._query),ob(n,t._query).then(function(n){return new _w(e,r,t,n)})}(this._delegate)).then(function(t){return new l_(e.firestore,new _w(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=i_(e),i=o_(e,function(e){return new l_(t.firestore,new _w(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Hw(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?e_.ra(this.firestore,t):null))},e}(Ob),c_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(tf.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new s_(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(Ob),l_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(tf.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new u_(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new s_(t._firestore,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new c_(e._firestore,t)})},e.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new s_(n._firestore,r))})},e.prototype.isEqual=function(t){return Ew(this._delegate,t._delegate)},e}(Ob),f_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(tf.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new n_(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new n_(this.firestore,void 0===t?xb(this._delegate):xb(this._delegate,t))}catch(t){throw r_(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=wb(t.firestore,Db),r=xb(t),i=Mw(t._converter,e);return zw(n,[Jb(Zb(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,sd.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new n_(e.firestore,t)})},e.prototype.isEqual=function(t){return Ab(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?e_.ra(this.firestore,t):null))},e}(u_);function h_(t){return t instanceof Ob&&(t=t._delegate),wb(t,Sb)}var d_,p_=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Ub.bind.apply(Ub,Object(tf.f)([void 0],e))))||this}return Object(tf.c)(e,t),e.documentId=function(){return new e(Cf.keyField().canonicalString())},e.prototype.isEqual=function(t){return t instanceof Ob&&(t=t._delegate),t instanceof Ub&&this._delegate._internalPath.isEqual(t._internalPath)},e}(Ob),v_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tf.c)(e,t),e.serverTimestamp=function(){var t=new $b("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Yb("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tw("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ew("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new nw("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(Ob),y_=o("/6Yf"),g_={Firestore:Yw,GeoPoint:Bb,Timestamp:Pf,Blob:Zw,Transaction:$w,WriteBatch:t_,DocumentReference:n_,DocumentSnapshot:a_,Query:u_,QueryDocumentSnapshot:s_,QuerySnapshot:l_,CollectionReference:f_,FieldPath:p_,FieldValue:v_,setLogLevel:function(t){nf.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new y_.a("firestore",function(t){return function(t,e){return new Yw(t,new Db(t,e),new Jw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},g_)))})(d_=Ja.a),d_.registerVersion("@firebase/firestore","2.2.1");var m_=o("qgXg"),b_=o("Ylt2"),w_=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return h(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return p(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}f(_(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new __(this._getNow(),t)),this._trimBufferThenGetEvents()),f(_(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new Jt.a;if(this.isStopped||this.hasError?e=Ye.a.EMPTY:(this.observers.push(t),e=new b_.a(this,t)),i&&t.add(t=new Qa.a(t,i)),n)for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(var s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||m_.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(Zt.a),__=function t(e,n){h(this,t),this.time=e,this.value=n};function k_(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,u=t.scheduler,c=0,l=!1,f=!1;return function(t){var r;c++,!e||l?(l=!1,e=new w_(i,a,u),r=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){f=!0,n=void 0,e.complete()}}),f&&(n=void 0)):r=e.subscribe(this),this.add(function(){c--,r.unsubscribe(),r=void 0,n&&!f&&s&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)})}}(r))}}function E_(t,e){return e?me(function(){return t},e):me(function(){return t})}var O_,S_=o("tf+s"),I_=new s.r("angularfire2.auth.use-emulator"),T_=new s.r("angularfire2.auth.settings"),C_=new s.r("angularfire2.auth.tenant-id"),x_=new s.r("angularfire2.auth.langugage-code"),A_=new s.r("angularfire2.auth.use-device-language"),j_=new s.r("angularfire.auth.persistence"),R_=((O_=function t(e,n,r,i,a,s,u,c,l,f){h(this,t);var d=new za.d(i),p=Object(za.h)(d),v=new Zt.a,y=Object(Qt.a)(void 0).pipe(Object(Qa.b)(d.outsideAngular),me(function(){return i.runOutsideAngular(function(){return o.e(5).then(o.bind(null,"6nsN"))})}),Object(ye.a)(function(){return Object(za.g)(e,i,n)}),Object(ye.a)(function(t){return i.runOutsideAngular(function(){var e=a,n=s;return Object(za.f)("".concat(t.name,".auth"),"AngularFireAuth",t,function(){var r=i.runOutsideAngular(function(){return t.auth()});return e&&r.useEmulator("http://".concat(e.join(":"))),u&&(r.tenantId=u),r.languageCode=c,l&&r.useDeviceLanguage(),n&&(r.settings=n),f&&r.setPersistence(f),r},[e,u,c,l,n,f])})}),k_({bufferSize:1,refCount:!1}));if(at(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Qt.a)(null);else{y.pipe(Qe()).subscribe();var g=y.pipe(me(function(t){return t.getRedirectResult().then(function(t){return t},function(){return null})}),p,k_({bufferSize:1,refCount:!1})),m=function(t){return new ie.a(function(e){return{unsubscribe:i.runOutsideAngular(function(){return t(e)})}})},b=y.pipe(me(function(t){return m(t.onAuthStateChanged.bind(t))})),w=y.pipe(me(function(t){return m(t.onIdTokenChanged.bind(t))}));this.authState=g.pipe(E_(b),Object(S_.a)(d.outsideAngular),Object(Qa.b)(d.insideAngular)),this.user=g.pipe(E_(w),Object(S_.a)(d.outsideAngular),Object(Qa.b)(d.insideAngular)),this.idToken=this.user.pipe(me(function(t){return t?Object(Wt.a)(t.getIdToken()):Object(Qt.a)(null)})),this.idTokenResult=this.user.pipe(me(function(t){return t?Object(Wt.a)(t.getIdTokenResult()):Object(Qt.a)(null)})),this.credential=Object(po.a)(g,v,this.authState.pipe(xe(function(t){return!t}))).pipe(Object(ye.a)(function(t){return(null==t?void 0:t.user)?t:null}),Object(S_.a)(d.outsideAngular),Object(Qa.b)(d.insideAngular))}return Object(za.i)(this,y,i,{spy:{apply:function(t,e,n){(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(function(t){return v.next(t)})}}})}).\u0275fac=function(t){return new(t||O_)(s.Zb(za.c),s.Zb(za.b,8),s.Zb(s.C),s.Zb(s.A),s.Zb(I_,8),s.Zb(T_,8),s.Zb(C_,8),s.Zb(x_,8),s.Zb(A_,8),s.Zb(j_,8))},O_.\u0275prov=Object(s.Jb)({factory:function(){return new O_(Object(s.Zb)(za.c),Object(s.Zb)(za.b,8),Object(s.Zb)(s.C),Object(s.Zb)(s.A),Object(s.Zb)(I_,8),Object(s.Zb)(T_,8),Object(s.Zb)(C_,8),Object(s.Zb)(x_,8),Object(s.Zb)(A_,8),Object(s.Zb)(j_,8))},token:O_,providedIn:"any"}),O_);function N_(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eo.b;return new ie.a(function(n){var r;return null!=e?e.schedule(function(){r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}})}(t,e)}function D_(t,e){return N_(t,e).pipe(Object(ye.a)(function(t){return{payload:t,type:"query"}}))}function P_(t,n){return D_(t,n).pipe(Se(void 0),Ga(),Object(ye.a)(function(t){var n=e(t,2),r=n[0],i=n[1],o=i.payload.docChanges(),a=o.map(function(t){return{type:t.type,payload:t}});return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach(function(t,e){var n=o.find(function(e){return e.doc.ref.isEqual(t.ref)}),i=null==r?void 0:r.payload.docs.find(function(e){return e.ref.isEqual(t.ref)});n&&JSON.stringify(n.doc.metadata)===JSON.stringify(t.metadata)||!n&&i&&JSON.stringify(i.metadata)===JSON.stringify(t.metadata)||a.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})}),a}))}function L_(t,e,n){return P_(t,n).pipe(Ie(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return M_(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return M_(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return M_(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(function(t){return t.payload}),e)},[]),function(t){return t.lift(new mo(void 0,void 0))},Object(ye.a)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}function M_(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[e,n].concat(o)),r}function F_(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(za.e)(R_,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);var U_=function(){function n(t,e,r){h(this,n),this.ref=t,this.query=e,this.afs=r}return p(n,[{key:"stateChanges",value:function(t){var n=P_(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(n=n.pipe(Object(ye.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}))),n.pipe(Se(void 0),Ga(),xe(function(t){var n=e(t,2),r=n[0];return n[1].length>0||!r}),Object(ye.a)(function(t){var n=e(t,2);n[0];return n[1]}),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Ie(function(t,e){return[].concat(i(t),i(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=F_(t);return L_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return D_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ye.a)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(Object.assign({},n.data()),t({},e.idField,n.id)):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Wt.a)(this.query.get(t)).pipe(Object(Qa.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new V_(this.ref.doc(t),this.afs)}}]),n}(),V_=function(){function n(t,e){h(this,n),this.ref=t,this.afs=e}return p(n,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=K_(this.ref.collection(t),e),r=n.ref,i=n.query;return new U_(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return N_(this.ref,this.afs.schedulers.outsideAngular).pipe(Se(void 0),Ga(),Object(ye.a)(function(t){var n=e(t,2),r=n[0],i=n[1];return i.exists?(null==r?void 0:r.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}})).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(ye.a)(function(n){var r=n.payload;return e.idField?Object.assign(Object.assign({},r.data()),t({},e.idField,r.id)):r.data()}))}},{key:"get",value:function(t){return Object(Wt.a)(this.ref.get(t)).pipe(Object(Qa.b)(this.afs.schedulers.insideAngular))}}]),n}(),q_=function(){function e(t,n){h(this,e),this.query=t,this.afs=n}return p(e,[{key:"stateChanges",value:function(t){return t&&0!==t.length?P_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ye.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),xe(function(t){return t.length>0}),this.afs.keepUnstableUntilFirst):P_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Ie(function(t,e){return[].concat(i(t),i(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=F_(t);return L_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return D_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ye.a)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(t({},e.idField,n.id),n.data()):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Wt.a)(this.query.get(t)).pipe(Object(Qa.b)(this.afs.schedulers.insideAngular))}}]),e}(),B_=new s.r("angularfire2.enableFirestorePersistence"),H_=new s.r("angularfire2.firestore.persistenceSettings"),z_=new s.r("angularfire2.firestore.settings"),G_=new s.r("angularfire2.firestore.use-emulator");function K_(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var W_,Q_,Z_=((Q_=function(){function t(n,r,o,a,s,u,c,l,f){h(this,t),this.schedulers=new za.d(u),this.keepUnstableUntilFirst=Object(za.h)(this.schedulers);var d=Object(za.g)(n,u,r);!Za.a.auth&&f&&Object(za.j)();var p=l,v=e(Object(za.f)("".concat(d.name,".firestore"),"AngularFirestore",d,function(){var t=u.runOutsideAngular(function(){return d.firestore()});return a&&t.settings(a),p&&t.useEmulator.apply(t,i(p)),o&&!at(s)?[t,u.runOutsideAngular(function(){try{return Object(Wt.a)(t.enablePersistence(c||void 0).then(function(){return!0},function(){return!1}))}catch(d_){return"undefined"!=typeof console&&console.warn(d_),Object(Qt.a)(!1)}})]:[t,Object(Qt.a)(!1)]},[a,p,o]),2);this.firestore=v[0],this.persistenceEnabled$=v[1]}return p(t,[{key:"collection",value:function(t,e){var n=K_("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run(function(){return r});return new U_(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new q_(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run(function(){return e});return new V_(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||Q_)(s.Zb(za.c),s.Zb(za.b,8),s.Zb(B_,8),s.Zb(z_,8),s.Zb(s.C),s.Zb(s.A),s.Zb(H_,8),s.Zb(G_,8),s.Zb(I_,8))},Q_.\u0275prov=Object(s.Jb)({factory:function(){return new Q_(Object(s.Zb)(za.c),Object(s.Zb)(za.b,8),Object(s.Zb)(B_,8),Object(s.Zb)(z_,8),Object(s.Zb)(s.C),Object(s.Zb)(s.A),Object(s.Zb)(H_,8),Object(s.Zb)(G_,8),Object(s.Zb)(I_,8))},token:Q_,providedIn:"any"}),Q_),J_=((W_=function(){function t(){h(this,t)}return p(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:B_,useValue:!0},{provide:H_,useValue:e}]}}}]),t}()).\u0275fac=function(t){return new(t||W_)},W_.\u0275mod=s.Lb({type:W_}),W_.\u0275inj=s.Kb({providers:[Z_]}),W_),Y_=function t(){h(this,t)},X_=function t(){h(this,t)},$_=function(){function t(e){var n=this;h(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}})}:function(){n.headers=new Map,Object.keys(e).forEach(function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))})}:this.headers=new Map}return p(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,i(n)),this.headers.set(e,r);break;case"d":var o=t.value;if(o){var a=this.headers.get(e);if(!a)return;0===(a=a.filter(function(t){return-1===o.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})}}]),t}(),tk=function(){function t(){h(this,t)}return p(t,[{key:"encodeKey",value:function(t){return ek(t)}},{key:"encodeValue",value:function(t){return ek(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function ek(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var nk=function(){function t(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(h(this,t),this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new tk,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,n){var r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(t){var i=t.indexOf("="),o=e(-1==i?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,i)),n.decodeValue(t.slice(i+1))],2),a=o[0],s=o[1],u=r.get(a)||[];u.push(s),r.set(a,u)}),r}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(function(t){var e=r.fromObject[t];n.map.set(t,Array.isArray(e)?e:[e])})):this.map=null}return p(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"appendAll",value:function(t){var e=[];return Object.keys(t).forEach(function(n){var r=t[n];Array.isArray(r)?r.forEach(function(t){e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).filter(function(t){return""!==t}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)}}]),t}();function rk(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function ik(t){return"undefined"!=typeof Blob&&t instanceof Blob}function ok(t){return"undefined"!=typeof FormData&&t instanceof FormData}var ak=function(){function t(e,n,r,i){var o;if(h(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new $_),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new nk,this.urlWithParams=n}return p(t,[{key:"serializeBody",value:function(){return null===this.body?null:rk(this.body)||ik(this.body)||ok(this.body)||"string"==typeof this.body?this.body:this.body instanceof nk?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||ok(this.body)?null:ik(this.body)?this.body.type||null:rk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nk?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},u)),e.setParams&&(c=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},c)),new t(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),t}(),sk=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),uk=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";h(this,t),this.headers=e.headers||new $_,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},ck=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(t=e.call(this,r)).type=sk.ResponseHeader,t}return p(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(uk),lk=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(t=e.call(this,r)).type=sk.Response,t.body=void 0!==r.body?r.body:null,t}return p(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(uk),fk=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}(uk);function hk(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var dk,pk,vk,yk,gk,mk,bk,wk,_k,kk,Ek,Ok,Sk,Ik,Tk=((dk=function(){function t(e){h(this,t),this.handler=e}return p(t,[{key:"request",value:function(t,e){var n,r,i,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t instanceof ak?n=t:(r=a.headers instanceof $_?a.headers:new $_(a.headers),a.params&&(i=a.params instanceof nk?a.params:new nk({fromObject:a.params})),n=new ak(t,e,void 0!==a.body?a.body:null,{headers:r,params:i,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials}));var s=Object(Qt.a)(n).pipe(Le(function(t){return o.handler.handle(t)}));if(t instanceof ak||"events"===a.observe)return s;var u=s.pipe(xe(function(t){return t instanceof lk}));switch(a.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(Object(ye.a)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return u.pipe(Object(ye.a)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return u.pipe(Object(ye.a)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return u.pipe(Object(ye.a)(function(t){return t.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(a.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new nk).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,hk(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,hk(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,hk(n,e))}}]),t}()).\u0275fac=function(t){return new(t||dk)(s.Zb(Y_))},dk.\u0275prov=s.Jb({token:dk,factory:dk.\u0275fac}),dk),Ck=function(){function t(e,n){h(this,t),this.next=e,this.interceptor=n}return p(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),xk=new s.r("HTTP_INTERCEPTORS"),Ak=((pk=function(){function t(){h(this,t)}return p(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||pk)},pk.\u0275prov=s.Jb({token:pk,factory:pk.\u0275fac}),pk),jk=/^\)\]\}',?\n/,Rk=function t(){h(this,t)},Nk=((yk=function(){function t(){h(this,t)}return p(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}()).\u0275fac=function(t){return new(t||yk)},yk.\u0275prov=s.Jb({token:yk,factory:yk.\u0275fac}),yk),Dk=((vk=function(){function t(e){h(this,t),this.xhrFactory=e}return p(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ie.a(function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(t,e){return r.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new $_(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new ck({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var f=c;c=c.replace(jk,"");try{c=""!==c?JSON.parse(c):null}catch(h){c=f,l&&(l=!1,c={error:h,text:c})}}l?(n.next(new lk({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new fk({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(t){var e=u().url,i=new fk({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},f=!1,h=function(e){f||(n.next(u()),f=!0);var i={type:sk.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:sk.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),r.addEventListener("timeout",l),r.addEventListener("abort",l),t.reportProgress&&(r.addEventListener("progress",h),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:sk.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("abort",l),r.removeEventListener("load",c),r.removeEventListener("timeout",l),t.reportProgress&&(r.removeEventListener("progress",h),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.readyState!==r.DONE&&r.abort()}})}}]),t}()).\u0275fac=function(t){return new(t||vk)(s.Zb(Rk))},vk.\u0275prov=s.Jb({token:vk,factory:vk.\u0275fac}),vk),Pk=new s.r("XSRF_COOKIE_NAME"),Lk=new s.r("XSRF_HEADER_NAME"),Mk=function t(){h(this,t)},Fk=((_k=function(){function t(e,n,r){h(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return p(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=W(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}()).\u0275fac=function(t){return new(t||_k)(s.Zb(d),s.Zb(s.C),s.Zb(Pk))},_k.\u0275prov=s.Jb({token:_k,factory:_k.\u0275fac}),_k),Uk=((wk=function(){function t(e,n){h(this,t),this.tokenService=e,this.headerName=n}return p(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||wk)(s.Zb(Mk),s.Zb(Lk))},wk.\u0275prov=s.Jb({token:wk,factory:wk.\u0275fac}),wk),Vk=((bk=function(){function t(e,n){h(this,t),this.backend=e,this.injector=n,this.chain=null}return p(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(xk,[]);this.chain=e.reduceRight(function(t,e){return new Ck(t,e)},this.backend)}return this.chain.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||bk)(s.Zb(X_),s.Zb(s.s))},bk.\u0275prov=s.Jb({token:bk,factory:bk.\u0275fac}),bk),qk=((mk=function(){function t(){h(this,t)}return p(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:Uk,useClass:Ak}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:Pk,useValue:e.cookieName}:[],e.headerName?{provide:Lk,useValue:e.headerName}:[]]}}}]),t}()).\u0275fac=function(t){return new(t||mk)},mk.\u0275mod=s.Lb({type:mk}),mk.\u0275inj=s.Kb({providers:[Uk,{provide:xk,useExisting:Uk,multi:!0},{provide:Mk,useClass:Fk},{provide:Pk,useValue:"XSRF-TOKEN"},{provide:Lk,useValue:"X-XSRF-TOKEN"}]}),mk),Bk=((gk=function t(){h(this,t)}).\u0275fac=function(t){return new(t||gk)},gk.\u0275mod=s.Lb({type:gk}),gk.\u0275inj=s.Kb({providers:[Tk,{provide:Y_,useClass:Vk},Dk,{provide:X_,useExisting:Dk},Nk,{provide:Rk,useExisting:Nk}],imports:[[qk.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),gk),Hk=o("z6cu"),zk=((kk=function(){function t(e){h(this,t),this.httpClient=e,this.urlConnection="https://www.strava.com/oauth/authorize?client_id=36102&redirect_uri=https://plr2388.github.io/HuaweiToStrava/strava&response_type=code&scope=activity:write"}return p(t,[{key:"getToken",value:function(t){if(null!=t){var e={headers:new $_({"Content-Type":"application/json"})};return this.httpClient.post("https://www.strava.com/oauth/token?client_id=36102&client_secret=d4ca7b238820272379613358d5fbe5e9a4571e68&code="+t+"&grant_type=authorization_code",null,e).pipe(Re(this.handleError))}}},{key:"handleError",value:function(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error("Backend returned code ".concat(t.status,", body was: ").concat(t.error)),Object(Hk.a)("Something bad happened; please try again later.")}}]),t}()).\u0275fac=function(t){return new(t||kk)(s.Zb(Tk))},kk.\u0275prov=s.Jb({token:kk,factory:kk.\u0275fac}),kk),Gk={apiKey:"AIzaSyDvoK8xNki9xglDT_iNBonCGKbdCogMY6o",authDomain:"huaweiexporter.firebaseapp.com",databaseURL:"https://huaweiexporter-default-rtdb.firebaseio.com",projectId:"huaweiexporter",storageBucket:"huaweiexporter.appspot.com",messagingSenderId:"420687984337",appId:"1:420687984337:web:f6ec3e21f266d02bde77f0",measurementId:"G-18FH7EVG9J"},Kk=((Ok=function(){function t(e,n,r){h(this,t),this.route=e,this.stravaService=n,this.router=r,this.data={},this.code="",this.stravaSuccess=new s.n}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.code$=this.route.queryParamMap.pipe(Object(ye.a)(function(t){return t.get("code")})),this.code$.subscribe(function(e){var n=t.stravaService.getToken(e);void 0!==n&&n.subscribe(function(e){var n=e.refresh_token;console.log(n),console.log("Connect Strava receive "+n+" from successStrava"),t.router.navigate([""],{state:{data:{refreshToken:n}}})})})}}]),t}()).\u0275fac=function(t){return new(t||Ok)(s.Nb(or),s.Nb(zk),s.Nb(Ci))},Ok.\u0275cmp=s.Hb({type:Ok,selectors:[["app-receive-token-strava"]],outputs:{stravaSuccess:"stravaSuccess"},decls:0,vars:0,template:function(t,e){},styles:[""]}),Ok),Wk=((Ek=function(){function t(e,n){h(this,t),this.db=e,this.firebaseAuth=n,this.isLoggedIn=!1,this.dbPath="/User",this.usersRef=e.collection(this.dbPath)}return p(t,[{key:"signIn",value:function(t,e){return Object(tf.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.firebaseAuth.signInWithEmailAndPassword(t,e).then(function(t){var e;r.isLoggedIn=!0,r.userId=null===(e=t.user)||void 0===e?void 0:e.uid});case 2:case"end":return n.stop()}},n,this)}))}},{key:"signUp",value:function(t,e){return Object(tf.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.firebaseAuth.createUserWithEmailAndPassword(t,e).then(function(t){var e;r.isLoggedIn=!0,r.userId=null===(e=t.user)||void 0===e?void 0:e.uid});case 2:case"end":return n.stop()}},n,this)}))}},{key:"logout",value:function(){this.firebaseAuth.signOut(),localStorage.removeItem("user")}},{key:"getAll",value:function(){return this.usersRef}},{key:"create",value:function(t){return this.usersRef.add(Object.assign({},t))}},{key:"update",value:function(t,e){return this.usersRef.doc(t).update(e)}},{key:"delete",value:function(t){return this.usersRef.doc(t).delete()}}]),t}()).\u0275fac=function(t){return new(t||Ek)(s.Zb(Z_),s.Zb(R_))},Ek.\u0275prov=s.Jb({token:Ek,factory:Ek.\u0275fac,providedIn:"root"}),Ek),Qk=function t(){h(this,t),this.userId="",this.stravaRefreshToken="",this.huaweiRefreshToken=""},Zk=["*"],Jk=((Sk=function(){function t(){h(this,t),this.stepIndex=0,this.isActive=!1}return p(t,[{key:"activeState",set:function(t){this.isActive=t===this}},{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Sk)},Sk.\u0275cmp=s.Hb({type:Sk,selectors:[["app-progress-step"]],hostVars:2,hostBindings:function(t,e){2&t&&s.Fb("activeStep",e.isActive)},inputs:{activeState:"activeState"},ngContentSelectors:Zk,decls:1,vars:0,template:function(t,e){1&t&&(s.kc(),s.jc(0))},styles:[".activeStep[_nghost-%COMP%]{display:inline-block;padding:10px;visibility:visible;opacity:1;position:absolute;top:0;left:0;right:0;width:100%;height:100%;transform:translateY(0);transition:all .6s cubic-bezier(.45,0,.55,1)}[_nghost-%COMP%]:not(.activeStep){visibility:hidden;padding:10px;transform:translateY(-8px);opacity:0}"]}),Sk),Yk=function(t){return t.PENDING="pending",t.IN_PROGRESS="in progress",t.COMPLETED="completed",t}({}),Xk=((Ik=function t(){h(this,t),this.eventHelper=new Zt.a}).\u0275fac=function(t){return new(t||Ik)},Ik.\u0275prov=s.Jb({token:Ik,factory:Ik.\u0275fac,providedIn:"root"}),Ik),$k=function(t,e){return{complete:t,active:e}};function tE(t,e){if(1&t&&(s.fc(),s.ec(),s.Sb(0,"div",13),s.Ob(1,"div",14),s.Rb()),2&t){var n=s.gc().$implicit;s.lc("ngClass",s.pc(1,$k,"completed"===n.status,"in progress"===n.status))}}var eE=function(t,e){return{completed:t,"in-progress":e}};function nE(t,e){if(1&t&&(s.Qb(0),s.Sb(1,"div",5),s.fc(),s.Sb(2,"svg",6),s.Ob(3,"circle",7),s.Ob(4,"polyline",8),s.Rb(),s.xc(5,tE,2,4,"div",9),s.ec(),s.Sb(6,"div",10),s.Sb(7,"span",11),s.zc(8),s.Rb(),s.Sb(9,"span",12),s.zc(10),s.Rb(),s.Rb(),s.Rb(),s.Pb()),2&t){var n=e.$implicit,r=e.index,i=s.gc();s.Bb(1),s.lc("ngClass",s.pc(5,$k,"completed"===n.status,"in progress"===n.status)),s.Bb(4),s.lc("ngIf",r!==i.itemLength-1),s.Bb(3),s.Bc("step ",r+1,""),s.Bb(1),s.lc("ngClass",s.pc(8,eE,"completed"===n.status,"in progress"===n.status)),s.Bb(1),s.Ac(n.status)}}var rE,iE,oE=[[["app-progress-step"]]],aE=["app-progress-step"],sE=((iE=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).progressHelper=t,r.itemLength=0,r.stateChange=new s.n,r.steps=new s.E,r}return p(n,[{key:"selectedIndex",set:function(t){this.activeIndex=t||0}},{key:"ngOnInit",value:function(){var t=this;this.progressHelper.eventHelper.subscribe({next:function(e){var n=e.prev;e.next&&t.next(),n&&t.prev()}})}},{key:"ngAfterContentInit",value:function(){this.initProgress(this.progressSteps.length),this.setActiveActiveStep(this.activeIndex),this.initStepIndex()}},{key:"next",value:function(){this.increaseStep()}},{key:"prev",value:function(){this.decreaseStep()}},{key:"increaseStep",value:function(){this.activeIndex===this.itemLength-1&&this.itemProgressList[this.activeIndex].status!==Yk.COMPLETED&&this.completeLastStep(),this.activeIndex<this.itemLength-1&&(this.activeIndex++,this.switchStatusNext(this.activeIndex),this.setActiveActiveStep(this.activeIndex),this.emitStateChange())}},{key:"decreaseStep",value:function(){this.activeIndex===this.itemLength-1&&this.itemProgressList[this.activeIndex].status===Yk.COMPLETED?this.undoLastComplete():this.activeIndex>0&&(this.activeIndex--,this.switchStatusPrev(this.activeIndex),this.setActiveActiveStep(this.activeIndex),this.emitStateChange())}},{key:"emitStateChange",value:function(){this.stateChange.emit({activeIndex:this.activeIndex,activeStep:this.activeStep})}},{key:"setActiveActiveStep",value:function(t){this.stepsExists&&(this.removeActiveStep(),this.updateActiveStep(t))}},{key:"updateActiveStep",value:function(t){this.progressSteps[t].activeState=this.progressSteps[t]}},{key:"removeActiveStep",value:function(){this.progressSteps.map(function(t){t.isActive&&(t.isActive=!1)})}},{key:"initStepIndex",value:function(){this.progressSteps.forEach(function(t,e){return t.stepIndex=e})}},{key:"activeStep",get:function(){return this.progressSteps[this.activeIndex]}},{key:"stepsExists",get:function(){return this.progressSteps&&Array.isArray(this.progressSteps)}},{key:"progressSteps",get:function(){return this.steps.toArray()}},{key:"generateProgressArray",value:function(t){var e=this;return i(Array(t).keys()).map(function(t){return{stepIndex:t,status:t===e.activeIndex?Yk.IN_PROGRESS:Yk.PENDING}})}},{key:"initProgress",value:function(t){this.itemLength=t||0,this.itemProgressList=this.generateProgressArray(this.itemLength)}}]),n}(function(){function t(e){h(this,t),this.progressHelper=e,this.itemProgressList=[],this.activeIndex=0}return p(t,[{key:"completeLastStep",value:function(){for(var t=0;t<this.activeIndex;t++)this.itemProgressList[t].status=Yk.COMPLETED}},{key:"undoLastComplete",value:function(){this.itemProgressList[this.activeIndex].status=Yk.IN_PROGRESS}},{key:"switchStatusNext",value:function(t){this.itemProgressList[this.activeIndex-1].status=Yk.COMPLETED,this.itemProgressList[t].status=Yk.IN_PROGRESS}},{key:"switchStatusPrev",value:function(t){this.itemProgressList[this.activeIndex+1].status=Yk.PENDING,this.itemProgressList[t].status=Yk.IN_PROGRESS}}]),t}())).\u0275fac=function(t){return new(t||iE)(s.Nb(Xk))},iE.\u0275cmp=s.Hb({type:iE,selectors:[["app-progress"]],contentQueries:function(t,e,n){var r;1&t&&s.Gb(n,Jk,0),2&t&&s.rc(r=s.dc())&&(e.steps=r)},inputs:{selectedIndex:"selectedIndex"},outputs:{stateChange:"stateChange"},features:[s.yb],ngContentSelectors:aE,decls:6,vars:1,consts:[[1,"step-progress"],[1,"container"],["container",""],[4,"ngFor","ngForOf"],[1,"step-content"],[1,"check-box",3,"ngClass"],["id","checkbox","viewBox","0 0 100 100"],["cx","50.5","cy","49","r","45",1,"circle"],["points","28.5,51.9 41.9,65.3 72.5,32.8 ",1,"check"],["class","progress-line",3,"ngClass",4,"ngIf"],[1,"info"],[1,"step"],[1,"progress-info",3,"ngClass"],[1,"progress-line",3,"ngClass"],[1,"progress-percent"]],template:function(t,e){1&t&&(s.kc(oE),s.Sb(0,"div",0),s.Sb(1,"div",1,2),s.xc(3,nE,11,11,"ng-container",3),s.Rb(),s.Rb(),s.Sb(4,"div",4),s.jc(5),s.Rb()),2&t&&(s.Bb(3),s.lc("ngForOf",e.itemProgressList))},directives:[$,Y,et],styles:["[_nghost-%COMP%]{margin-top:20px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:grid;grid-template-rows:80px 1fr;grid-row-gap:100px;justify-content:center;grid-template-columns:-webkit-min-content;grid-template-columns:min-content}[_nghost-%COMP%]   .step-progress[_ngcontent-%COMP%]{margin-top:120px;padding:15px 15px 60px 0;box-shadow:0 15px 20px rgba(0,0,0,.1);border-radius:15px;grid-row:1/2;grid-column:1/-1;align-self:center}[_nghost-%COMP%]   .step-content[_ngcontent-%COMP%]{margin-top:40px;position:relative;align-self:start;grid-row:2/-1;grid-column:1/-1}.container[_ngcontent-%COMP%]{display:inline-flex;padding:30px;position:relative}.container[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]{width:48px;height:48px;stroke:#23c274;stroke-width:6}.container[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{stroke-dasharray:320;stroke-dashoffset:320;fill:#d2d2d2;transition:stroke-dashoffset .5s,fill .5s cubic-bezier(.45,0,.55,1) .3s}.container[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{stroke-dasharray:70;stroke-dashoffset:70;stroke:#fff;fill:none;transition:all .5s cubic-bezier(.45,0,.55,1) .5s}.check-box[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}.check-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{position:absolute;bottom:-60px;display:grid;grid-template-columns:-webkit-max-content;grid-template-columns:max-content}.check-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span.progress-info[_ngcontent-%COMP%]{text-transform:capitalize;font-size:11px;display:inline-block;margin-left:5px;padding:2px 10px;transform:translateY(6px);font-weight:500;color:currentColor;background:#eee;border-radius:20px;transition:background-color .1s ease-in-out}.check-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span.progress-info.in-progress[_ngcontent-%COMP%]{background-color:#234dc2;color:#fff}.check-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span.progress-info.completed[_ngcontent-%COMP%]{background-color:#23c274;color:#fff}.check-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span.step[_ngcontent-%COMP%]{margin-left:10px;text-transform:uppercase;font-weight:400;letter-spacing:.5px;font-size:11px;color:#777}.progress-line[_ngcontent-%COMP%]{width:140px;margin:0 10px;height:4px;overflow:hidden;display:inline-block;background:#d2d2d2;border-radius:10px}.progress-line[_ngcontent-%COMP%]   .progress-percent[_ngcontent-%COMP%]{height:inherit;width:0;transition:all .5s cubic-bezier(.45,0,.55,1) .5s}.progress-line.active[_ngcontent-%COMP%]   .progress-percent[_ngcontent-%COMP%]{background:#234dc2;width:50%}.progress-line.complete[_ngcontent-%COMP%]   .progress-percent[_ngcontent-%COMP%]{width:100%;background:#23c274}.check-box.active[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{fill:#234dc2}.check-box.complete[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{stroke-dashoffset:0;fill:#23c274}.check-box.complete[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{stroke-dashoffset:0}"]}),iE),uE=((rE=function(){function t(e,n){h(this,t),this.progressHelper=e,this.el=n,this.methods={next:!1,prev:!1}}return p(t,[{key:"listen",value:function(t){this.progressHelper.eventHelper.next(this.methods)}},{key:"ngOnInit",value:function(){this.initMethods()}},{key:"initMethods",value:function(){"next"in this&&(this.methods=Object.assign(Object.assign({},this.methods),{next:!0})),"prev"in this&&(this.methods=Object.assign(Object.assign({},this.methods),{prev:!0}))}}]),t}()).\u0275fac=function(t){return new(t||rE)(s.Nb(Xk),s.Nb(s.l))},rE.\u0275dir=s.Ib({type:rE,selectors:[["","progressStepNext",""],["","progressStepPrev",""]],hostBindings:function(t,e){1&t&&s.cc("click",function(t){return e.listen(t)})},inputs:{next:["progressStepNext","next"],prev:["progressStepPrev","prev"]}}),rE);function cE(t,e){if(1&t){var n=s.Tb();s.Sb(0,"div"),s.Sb(1,"h2"),s.zc(2,"Sign In"),s.Rb(),s.Sb(3,"label",3),s.zc(4,"Email: "),s.Rb(),s.Ob(5,"input",4,5),s.Ob(7,"br"),s.Sb(8,"label",6),s.zc(9,"Password:"),s.Rb(),s.Ob(10,"input",7,8),s.Ob(12,"br"),s.Sb(13,"button",9),s.cc("click",function(){s.tc(n);var t=s.sc(6),e=s.sc(11);return s.gc().onSignin(t.value,e.value)}),s.zc(14,"Sign in"),s.Rb(),s.Ob(15,"br"),s.Sb(16,"div"),s.zc(17,"You're not registered yet?"),s.Rb(),s.Sb(18,"button",9),s.cc("click",function(){return s.tc(n),s.gc().onShouldRegister()}),s.zc(19,"Click here"),s.Rb(),s.Rb()}}function lE(t,e){if(1&t){var n=s.Tb();s.Sb(0,"div"),s.Sb(1,"h2"),s.zc(2,"Sign up"),s.Rb(),s.Sb(3,"label",10),s.zc(4,"Email:"),s.Rb(),s.Ob(5,"input",11,12),s.Ob(7,"br"),s.Sb(8,"label",13),s.zc(9,"Password:"),s.Rb(),s.Ob(10,"input",14,15),s.Ob(12,"br"),s.Sb(13,"button",9),s.cc("click",function(){s.tc(n);var t=s.sc(6),e=s.sc(11);return s.gc().onSignup(t.value,e.value)}),s.zc(14,"Sign up"),s.Rb(),s.Ob(15,"br"),s.Sb(16,"div"),s.zc(17,"You already have an account?"),s.Rb(),s.Sb(18,"button",9),s.cc("click",function(){return s.tc(n),s.gc().onShouldLogin()}),s.zc(19,"Click here"),s.Rb(),s.Rb()}}function fE(t,e){1&t&&(s.Sb(0,"p"),s.zc(1,"You successully log in! Click on Next to continue"),s.Rb())}function hE(t,e){1&t&&(s.Sb(0,"button",16),s.zc(1,"Next"),s.Rb())}var dE,pE,vE,yE,gE=((pE=function(){function t(e){h(this,t),this.firebaseService=e,this.isSignedIn=!1,this.isRegistered=!0,this.signInSuccess=new s.n}return p(t,[{key:"ngOnInit",value:function(){this.isSignedIn=this.firebaseService.isLoggedIn}},{key:"onSignup",value:function(t,e){return Object(tf.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.firebaseService.signUp(t,e);case 2:this.firebaseService.isLoggedIn&&(this.isSignedIn=!0,this.signInSuccess.emit(this.firebaseService.userId));case 3:case"end":return n.stop()}},n,this)}))}},{key:"onSignin",value:function(t,e){return Object(tf.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.firebaseService.signIn(t,e);case 2:this.firebaseService.isLoggedIn&&(this.isSignedIn=!0,this.signInSuccess.emit(this.firebaseService.userId));case 3:case"end":return n.stop()}},n,this)}))}},{key:"onShouldRegister",value:function(){this.isRegistered=!1}},{key:"onShouldLogin",value:function(){this.isRegistered=!0}},{key:"handleLogout",value:function(){this.isSignedIn=!1}}]),t}()).\u0275fac=function(t){return new(t||pE)(s.Nb(Wk))},pE.\u0275cmp=s.Hb({type:pE,selectors:[["app-login"]],outputs:{signInSuccess:"signInSuccess"},decls:6,vars:4,consts:[["href","https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css","rel","stylesheet","integrity","sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x","crossorigin","anonymous"],[4,"ngIf"],["progressStepNext","","class","button",4,"ngIf"],["for","email1"],["type","text","id","email1"],["email",""],["for","password1"],["type","text","id","password1"],["password",""],[3,"click"],["for","email2"],["type","text","id","email2"],["emailSignup",""],["for","password2"],["type","text","id","password2"],["passwordSignup",""],["progressStepNext","",1,"button"]],template:function(t,e){1&t&&(s.Sb(0,"head"),s.Ob(1,"link",0),s.Rb(),s.xc(2,cE,20,0,"div",1),s.xc(3,lE,20,0,"div",1),s.xc(4,fE,2,0,"p",1),s.xc(5,hE,2,0,"button",2)),2&t&&(s.Bb(2),s.lc("ngIf",!e.isSignedIn&&e.isRegistered),s.Bb(1),s.lc("ngIf",!e.isSignedIn&&!e.isRegistered),s.Bb(1),s.lc("ngIf",e.isSignedIn),s.Bb(1),s.lc("ngIf",e.isSignedIn))},directives:[et,uE],styles:[""]}),pE),mE=((dE=function(){function t(e){h(this,t),this.stravaService=e,this.stravaURLConnection="",this.connectionToStrava=new s.n}return p(t,[{key:"ngOnInit",value:function(){this.stravaURLConnection=this.stravaService.urlConnection}}]),t}()).\u0275fac=function(t){return new(t||dE)(s.Nb(zk))},dE.\u0275cmp=s.Hb({type:dE,selectors:[["app-connect-strava"]],outputs:{connectionToStrava:"connectionToStrava"},decls:2,vars:1,consts:[[3,"href"]],template:function(t,e){1&t&&(s.Sb(0,"a",0),s.zc(1,"Click here to connect to Strava"),s.Rb()),2&t&&s.mc("href",e.stravaURLConnection,s.uc)},styles:[""]}),dE),bE=[{path:"strava",component:Kk},{path:"",component:(vE=function(){function t(e){h(this,t),this.currentUser=new Qk,this.currentIndex=0,this.route=e}return p(t,[{key:"ngOnInit",value:function(){var t=history.state.data;void 0!==t&&null!=t.refreshToken&&this.setStravaRefreshToken(t.refreshToken)}},{key:"setUserId",value:function(t){null!=t&&(this.currentUser.userId=t)}},{key:"setStravaRefreshToken",value:function(t){null!=t&&(this.currentUser.stravaRefreshToken=t,this.currentIndex=2),console.log("currentUser"),console.log(this.currentUser)}}]),t}(),vE.\u0275fac=function(t){return new(t||vE)(s.Nb(Ci))},vE.\u0275cmp=s.Hb({type:vE,selectors:[["app-home"]],decls:13,vars:1,consts:[[3,"selectedIndex"],[3,"signInSuccess"]],template:function(t,e){1&t&&(s.Sb(0,"app-progress",0),s.Sb(1,"app-progress-step"),s.Sb(2,"h1"),s.zc(3,"Connect to your Huawei To Strava Account"),s.Rb(),s.Sb(4,"app-login",1),s.cc("signInSuccess",function(t){return e.setUserId(t)}),s.Rb(),s.Rb(),s.Sb(5,"app-progress-step"),s.Sb(6,"h1"),s.zc(7,"Connect to Strava"),s.Rb(),s.Ob(8,"app-connect-strava"),s.Rb(),s.Sb(9,"app-progress-step"),s.Sb(10,"h1"),s.zc(11,"Connect to Huawei"),s.Rb(),s.Ob(12,"app-connect-strava"),s.Rb(),s.Rb()),2&t&&s.lc("selectedIndex",e.currentIndex)},directives:[sE,Jk,gE,mE],styles:[""]}),vE)}],wE=((yE=function t(){h(this,t)}).\u0275fac=function(t){return new(t||yE)},yE.\u0275mod=s.Lb({type:yE,bootstrap:[Yi]}),yE.\u0275inj=s.Kb({providers:[zk,Wk],imports:[[Kt,Ha,za.a.initializeApp(Gk),J_,Bk,Vi.forRoot(bE)],Vi]}),yE);Object(s.U)(),zt().bootstrapModule(wE).catch(function(t){return console.error(t)})},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD"),a=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this)).parent=t,r}return p(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(r.a),s=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(r.a);function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]])}();