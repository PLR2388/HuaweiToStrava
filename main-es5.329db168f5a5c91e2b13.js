!function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){return r(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(a){i=!0,o=a}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(t,e)||u(t,e)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t){if(Array.isArray(t))return t}function i(t){return function(t){if(Array.isArray(t))return a(t)}(t)||o(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function s(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function u(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return l(t,arguments,_(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,t)})(t)}function l(t,e,n){return(l=w()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&y(i,n.prototype),i}).apply(null,arguments)}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=w();return function(){var n,r=_(t);if(e){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService({instanceIdentifier:i});if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),u=s[1],a=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService({instanceIdentifier:a});u.resolve(c)}catch(l){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(void 0===e?"[DEFAULT]":e);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:i,options:r})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o)),o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){v(n,t);var e=g(n);function n(t,r){return h(this,n),e.call(this)}return p(n,[{key:"schedule",value:function(t){return this}}]),n}(n("quSY").a))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(o){return o.pipe(s(function(n,o){return Object(i.a)(t(n,o)).pipe(Object(r.a)(function(t,r){return e(n,t,o,r)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new u(t,n))})}var u=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;h(this,t),this.project=e,this.concurrent=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.concurrent))}}]),t}(),a=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return h(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return p(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new o.a(this),n=this.destination;n.add(e);var r=Object(o.c)(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(o.b)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),u=n("2fFW"),a=n("NJ4a"),c=function(t){v(n,t);var e=g(n);function n(t,r,o){var s;switch(h(this,n),(s=e.call(this)).syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=i.a;break;case 1:if(!t){s.destination=i.a;break}if("object"==typeof t){t instanceof n?(s.syncErrorThrowable=t.syncErrorThrowable,s.destination=t,t.add(b(s))):(s.syncErrorThrowable=!0,s.destination=new l(b(s),t));break}default:s.syncErrorThrowable=!0,s.destination=new l(b(s),t,r,o)}return s}return p(n,[{key:s.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,f(_(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(t){v(n,t);var e=g(n);function n(t,o,s,u){var a,c;h(this,n),(a=e.call(this))._parentSubscriber=t;var l=b(a);return Object(r.a)(o)?c=o:o&&(c=o.next,s=o.error,u=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&a.add(l.unsubscribe.bind(l)),l.unsubscribe=a.unsubscribe.bind(b(a)))),a._context=l,a._next=c,a._error=s,a._complete=u,a}return p(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(a.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(a.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(a.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(a.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(c)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),u=n("jZKg"),a=n("Lhse"),c=n("c2HN"),l=n("I55L");function f(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){var i=t[s.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}(t,e);if(Object(l.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(function(n){var r,i=new o.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[a.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a"),i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});var r,i=n("XNiG"),o=n("HDdC"),s=(n("7o/Q"),n("quSY")),u=n("x+ZX"),a=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return p(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new s.a).add(this.source.subscribe(new l(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}},{key:"refCount",value:function(){return Object(u.a)()(this)}}]),n}(o.a),c={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(r=a.prototype)._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}},l=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).connectable=r,i}return p(n,[{key:"_error",value:function(t){this._unsubscribe(),f(_(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),f(_(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(i.b)},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC"),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r,i=n("7o/Q"),o=n("2QA8"),s=n("gRHU"),u=n("kJWO"),a=n("SpAZ"),c=n("2fFW"),l=((r=function(){function t(e){h(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return p(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,u=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(s.a)}(t,e,n);if(u.add(r?r.call(u,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),c.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof i.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=f(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:u.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(r=e).length?a.a:1===r.length?r[0]:function(t){return r.reduce(function(t,e){return e(t)},t)})(this);var r}},{key:"toPromise",value:function(t){var e=this;return new(t=f(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}}]),t}()).create=function(t){return new r(t)},r);function f(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;h(this,t),this.SchedulerAction=e,this.now=n}return p(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){v(n,t);var e=g(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return h(this,n),(i=e.call(this,t,function(){return n.delegate&&n.delegate!==b(i)?n.delegate.now():o()})).actions=[],i.active=!1,i.scheduled=void 0,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):f(_(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.3.1","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=e[e.length-1];return Object(r.a)(s)?(e.pop(),Object(o.a)(e,s)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),u=n("I55L"),a=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[s.a])return l=t,function(t){var e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(u.a)(t))return Object(r.a)(t);if(Object(a.a)(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,l,f=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(f," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function u(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var u=Number.POSITIVE_INFINITY,a=null,c=e[e.length-1];return Object(i.a)(c)?(a=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(u=e.pop())):"number"==typeof c&&(u=e.pop()),null===a&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(u)(Object(s.a)(e,a))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("EY2u"),i=n("LRne"),o=n("z6cu"),s=function(){var t=function(){function t(e,n,r){h(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return p(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}();return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),u=n("Ylt2"),a=n("2QA8"),c=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),l=function(){var t=function(t){v(n,t);var e=g(n);function n(){var t;return h(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return p(n,[{key:a.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new d(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new s.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new s.a;return f(_(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new u.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new d(t,e)},t}(),d=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).destination=t,i.source=r,i}return p(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return p(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,n,r){"use strict";r.d(n,"a",function(){return yn}),r.d(n,"b",function(){return Xc}),r.d(n,"c",function(){return Gc}),r.d(n,"d",function(){return zc}),r.d(n,"e",function(){return Kc}),r.d(n,"f",function(){return Hl}),r.d(n,"g",function(){return Dl}),r.d(n,"h",function(){return za}),r.d(n,"i",function(){return al}),r.d(n,"j",function(){return pa}),r.d(n,"k",function(){return tl}),r.d(n,"l",function(){return ma}),r.d(n,"m",function(){return xr}),r.d(n,"n",function(){return Ec}),r.d(n,"o",function(){return jo}),r.d(n,"p",function(){return Ln}),r.d(n,"q",function(){return H}),r.d(n,"r",function(){return vn}),r.d(n,"s",function(){return Go}),r.d(n,"t",function(){return Ma}),r.d(n,"u",function(){return Va}),r.d(n,"v",function(){return $c}),r.d(n,"w",function(){return tc}),r.d(n,"x",function(){return Pl}),r.d(n,"y",function(){return $a}),r.d(n,"z",function(){return Cl}),r.d(n,"A",function(){return fl}),r.d(n,"B",function(){return Mn}),r.d(n,"C",function(){return Jc}),r.d(n,"D",function(){return Yc}),r.d(n,"E",function(){return _a}),r.d(n,"F",function(){return wa}),r.d(n,"G",function(){return Mr}),r.d(n,"H",function(){return Ea}),r.d(n,"I",function(){return Tr}),r.d(n,"J",function(){return Fn}),r.d(n,"K",function(){return Fl}),r.d(n,"L",function(){return Ja}),r.d(n,"M",function(){return ml}),r.d(n,"N",function(){return gn}),r.d(n,"O",function(){return Ta}),r.d(n,"P",function(){return Ia}),r.d(n,"Q",function(){return nc}),r.d(n,"R",function(){return Q}),r.d(n,"S",function(){return Al}),r.d(n,"T",function(){return Ol}),r.d(n,"U",function(){return T}),r.d(n,"V",function(){return Tl}),r.d(n,"W",function(){return Ul}),r.d(n,"X",function(){return wl}),r.d(n,"Y",function(){return Zc}),r.d(n,"Z",function(){return Do}),r.d(n,"ab",function(){return hu}),r.d(n,"bb",function(){return Er}),r.d(n,"cb",function(){return or}),r.d(n,"db",function(){return Wn}),r.d(n,"eb",function(){return Yn}),r.d(n,"fb",function(){return $n}),r.d(n,"gb",function(){return Xn}),r.d(n,"hb",function(){return Jn}),r.d(n,"ib",function(){return Zn}),r.d(n,"jb",function(){return au}),r.d(n,"kb",function(){return ql}),r.d(n,"lb",function(){return cu}),r.d(n,"mb",function(){return lu}),r.d(n,"nb",function(){return Qn}),r.d(n,"ob",function(){return $}),r.d(n,"pb",function(){return ns}),r.d(n,"qb",function(){return ks}),r.d(n,"rb",function(){return ws}),r.d(n,"sb",function(){return _s}),r.d(n,"tb",function(){return uu}),r.d(n,"ub",function(){return Lt}),r.d(n,"vb",function(){return k}),r.d(n,"wb",function(){return Gn}),r.d(n,"xb",function(){return Qo}),r.d(n,"yb",function(){return jt}),r.d(n,"zb",function(){return fa}),r.d(n,"Ab",function(){return ji}),r.d(n,"Bb",function(){return us}),r.d(n,"Cb",function(){return qs}),r.d(n,"Db",function(){return nu}),r.d(n,"Eb",function(){return Vs}),r.d(n,"Fb",function(){return Mc}),r.d(n,"Gb",function(){return ft}),r.d(n,"Hb",function(){return mt}),r.d(n,"Ib",function(){return D}),r.d(n,"Jb",function(){return R}),r.d(n,"Kb",function(){return vt}),r.d(n,"Lb",function(){return bt}),r.d(n,"Mb",function(){return fs}),r.d(n,"Nb",function(){return ys}),r.d(n,"Ob",function(){return ms}),r.d(n,"Pb",function(){return gs}),r.d(n,"Qb",function(){return vs}),r.d(n,"Rb",function(){return ps}),r.d(n,"Sb",function(){return bs}),r.d(n,"Tb",function(){return fn}),r.d(n,"Ub",function(){return ru}),r.d(n,"Vb",function(){return ea}),r.d(n,"Wb",function(){return ra}),r.d(n,"Xb",function(){return na}),r.d(n,"Yb",function(){return Nn}),r.d(n,"Zb",function(){return dn}),r.d(n,"ac",function(){return Hc}),r.d(n,"bc",function(){return Es}),r.d(n,"cc",function(){return Fc}),r.d(n,"dc",function(){return Os}),r.d(n,"ec",function(){return _c}),r.d(n,"fc",function(){return kc}),r.d(n,"gc",function(){return As}),r.d(n,"hc",function(){return Cs}),r.d(n,"ic",function(){return hs}),r.d(n,"jc",function(){return xs}),r.d(n,"kc",function(){return js}),r.d(n,"lc",function(){return yc}),r.d(n,"mc",function(){return gc}),r.d(n,"nc",function(){return mc}),r.d(n,"oc",function(){return Pc}),r.d(n,"pc",function(){return ls}),r.d(n,"qc",function(){return ne}),r.d(n,"rc",function(){return Or}),r.d(n,"sc",function(){return yt}),r.d(n,"tc",function(){return Fs}),r.d(n,"uc",function(){return cs}),r.d(n,"vc",function(){return Bc}),r.d(n,"wc",function(){return Zs}),r.d(n,"xc",function(){return $s}),r.d(n,"yc",function(){return tu}),r.d(n,"zc",function(){return eu}),r.d(n,"Ac",function(){return Lc});var o=r("XNiG"),u=r("quSY"),a=r("HDdC"),d=r("VRyK"),y=r("w1tV");function m(t){for(var e in t)if(t[e]===m)return e;throw Error("Could not find renamed property on target object.")}function w(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function k(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(k).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function E(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var I=m({__forward_ref__:m});function T(t){return t.__forward_ref__=T,t.toString=function(){return k(this())},t}function O(t){return S(t)?t():t}function S(t){return"function"==typeof t&&t.hasOwnProperty(I)&&t.__forward_ref__===T}var C=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,r))).code=t,i}return n}(c(Error));function A(t){return"string"==typeof t?t:null==t?"":String(t)}function x(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():A(t)}function j(t,e){var n=e?" in ".concat(e):"";throw new C("201","No provider for ".concat(x(t)," found").concat(n))}function N(t,e,n,r){throw new Error("ASSERTION ERROR: ".concat(t)+(null==r?"":" [Expected=> ".concat(n," ").concat(r," ").concat(e," <=Actual]")))}function D(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function R(t){return{providers:t.providers||[],imports:t.imports||[]}}function P(t){return L(t,V)||L(t,U)}function L(t,e){return t.hasOwnProperty(e)?t[e]:null}function M(t){return t&&(t.hasOwnProperty(q)||t.hasOwnProperty(B))?t[q]:null}var F,V=m({"\u0275prov":m}),q=m({"\u0275inj":m}),U=m({ngInjectableDef:m}),B=m({ngInjectorDef:m}),H=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function z(t){var e=F;return F=t,e}function K(t,e,n){var r=P(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&H.Optional?null:void 0!==e?e:void j(k(t),"Injector")}function G(t){return{toString:t}.toString()}var W=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Q=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),Y="undefined"!=typeof globalThis&&globalThis,J="undefined"!=typeof window&&window,X="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Z="undefined"!=typeof global&&global,$=Y||Z||J||X,tt={},et=[],nt=[],rt=m({"\u0275cmp":m}),it=m({"\u0275dir":m}),ot=m({"\u0275pipe":m}),st=m({"\u0275mod":m}),ut=m({"\u0275loc":m}),at=m({"\u0275fac":m}),ct=m({__NG_ELEMENT_ID__:m}),lt=0;function ft(t){return G(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===W.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||nt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Q.Emulated,id:"c",styles:t.styles||nt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=lt++,n.inputs=gt(t.inputs,e),n.outputs=gt(t.outputs),i&&i.forEach(function(t){return t(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(ht)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(dt)}:null,n})}function ht(t){return wt(t)||function(t){return t[it]||null}(t)}function dt(t){return function(t){return t[ot]||null}(t)}var pt={};function vt(t){var e={type:t.type,bootstrap:t.bootstrap||nt,declarations:t.declarations||nt,imports:t.imports||nt,exports:t.exports||nt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&G(function(){pt[t.id]=t.type}),e}function yt(t,e){return G(function(){var n=_t(t,!0);n.declarations=e.declarations||nt,n.imports=e.imports||nt,n.exports=e.exports||nt})}function gt(t,e){if(null==t)return tt;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var mt=ft;function bt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function wt(t){return t[rt]||null}function _t(t,e){var n=t[st]||null;if(!n&&!0===e)throw new Error("Type ".concat(k(t)," does not have '\u0275mod' property."));return n}function kt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Et(t){return Array.isArray(t)&&!0===t[1]}function It(t){return 0!=(8&t.flags)}function Tt(t){return 2==(2&t.flags)}function Ot(t){return 1==(1&t.flags)}function St(t){return null!==t.template}function Ct(t,e){return t.hasOwnProperty(at)?t[at]:null}var At,xt=function(){function t(e,n,r){h(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return p(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function jt(){return Nt}function Nt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Rt),Dt}function Dt(){var t=Pt(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===tt)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Rt(t,e,n,r){var i=Pt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:tt,current:null}),o=i.current||(i.current={}),s=i.previous,u=this.declaredInputs[n],a=s[u];o[u]=new xt(a&&a.currentValue,e,s===tt),t[r]=e}function Pt(t){return t.__ngSimpleChanges__||null}function Lt(t){At=t}function Mt(){return void 0!==At?At:"undefined"!=typeof document?document:void 0}function Ft(t){return!!t.listen}jt.ngInherit=!0;var Vt={createRenderer:function(t,e){return Mt()}};function qt(t){for(;Array.isArray(t);)t=t[0];return t}function Ut(t,e){return qt(e[t])}function Bt(t,e){return qt(e[t.index])}function Ht(t,e){return t.data[e]}function zt(t,e){return t[e]}function Kt(t,e){var n=e[t];return kt(n)?n:n[0]}function Gt(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Wt(t){return 4==(4&t[2])}function Qt(t){return 128==(128&t[2])}function Yt(t,e){return null==e?null:t[e]}function Jt(t){t[18]=0}function Xt(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var Zt={lFrame:Ee(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function $t(){return Zt.bindingsEnabled}function te(){return Zt.lFrame.lView}function ee(){return Zt.lFrame.tView}function ne(t){Zt.lFrame.contextLView=t}function re(){for(var t=ie();null!==t&&64===t.type;)t=t.parent;return t}function ie(){return Zt.lFrame.currentTNode}function oe(){var t=Zt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function se(t,e){var n=Zt.lFrame;n.currentTNode=t,n.isParent=e}function ue(){return Zt.lFrame.isParent}function ae(){Zt.lFrame.isParent=!1}function ce(){return Zt.isInCheckNoChangesMode}function le(t){Zt.isInCheckNoChangesMode=t}function fe(){var t=Zt.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function he(){return Zt.lFrame.bindingIndex}function de(){return Zt.lFrame.bindingIndex++}function pe(t){var e=Zt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ve(t){Zt.lFrame.inI18n=t}function ye(t){Zt.lFrame.currentDirectiveIndex=t}function ge(){return Zt.lFrame.currentQueryIndex}function me(t){Zt.lFrame.currentQueryIndex=t}function be(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function we(t,e,n){if(n&H.SkipSelf){for(var r=e,i=t;!(null!==(r=r.parent)||n&H.Host||(r=be(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}var o=Zt.lFrame=ke();return o.currentTNode=e,o.lView=t,!0}function _e(t){var e=ke(),n=t[1];Zt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ke(){var t=Zt.lFrame,e=null===t?null:t.child;return null===e?Ee(t):e}function Ee(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Ie(){var t=Zt.lFrame;return Zt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Te=Ie;function Oe(){var t=Ie();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Se(){return Zt.lFrame.selectedIndex}function Ce(t){Zt.lFrame.selectedIndex=t}function Ae(){var t=Zt.lFrame;return Ht(t.tView,t.selectedIndex)}function xe(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,s=i.ngAfterContentChecked,u=i.ngAfterViewInit,a=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),s&&((t.contentHooks||(t.contentHooks=[])).push(n,s),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,s)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),a&&((t.viewHooks||(t.viewHooks=[])).push(n,a),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,a)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function je(t,e,n){Re(t,e,3,n)}function Ne(t,e,n,r){(3&t[2])===n&&Re(t,e,n,r)}function De(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Re(t,e,n,r){for(var i=null!=r?r:-1,o=e.length-1,s=0,u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(s=e[u],null!=r&&s>=r)break}else e[u]<0&&(t[18]+=65536),(s<i||-1==i)&&(Pe(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function Pe(t,e,n,r){var i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}var Le=function t(e,n,r){h(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Me(t,e,n){for(var r=Ft(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var s=n[i++],u=n[i++],a=n[i++];r?t.setAttribute(e,u,a,s):e.setAttributeNS(s,u,a)}else{var c=o,l=n[++i];Ve(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Fe(t){return 3===t||4===t||6===t}function Ve(t){return 64===t.charCodeAt(0)}function qe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||Ue(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function Ue(t,e,n,r,i){var o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){var u=t[o++];if("number"==typeof u){if(u===e){s=-1;break}if(u>e){s=o-1;break}}}for(;o<t.length;){var a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Be(t){return-1!==t}function He(t){return 32767&t}function ze(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}var Ke=!0;function Ge(t){var e=Ke;return Ke=t,e}var We=0;function Qe(t,e){var n=Je(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ye(r.data,t),Ye(e,null),Ye(r.blueprint,null));var i=Xe(t,e),o=t.injectorIndex;if(Be(i))for(var s=He(i),u=ze(i,e),a=u[1].data,c=0;c<8;c++)e[o+c]=u[s+c]|a[s+c];return e[o+8]=i,o}function Ye(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Je(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Xe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],s=o.type;if(null===(r=2===s?o.declTNode:1===s?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ze(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ct)&&(r=n[ct]),null==r&&(r=n[ct]=We++);var i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function $e(t,e,n){if(n&H.Optional)return t;j(e,"NodeInjector")}function tn(t,e,n,r){if(n&H.Optional&&void 0===r&&(r=null),0==(n&(H.Self|H.Host))){var i=t[9],o=z(void 0);try{return i?i.get(e,r,n&H.Optional):K(e,r,n&H.Optional)}finally{z(o)}}return $e(r,e,n)}function en(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(ct)?t[ct]:void 0;return"number"==typeof e?e>=0?255&e:rn:e}(n);if("function"==typeof o){if(!we(e,t,r))return r&H.Host?$e(i,n,r):tn(e,n,r,i);try{var s=o();if(null!=s||r&H.Optional)return s;j(n)}finally{Te()}}else if("number"==typeof o){var u=null,a=Je(t,e),c=-1,l=r&H.Host?e[16][6]:null;for((-1===a||r&H.SkipSelf)&&(-1!==(c=-1===a?Xe(t,e):e[a+8])&&cn(r,!1)?(u=e[1],a=He(c),e=ze(c,e)):a=-1);-1!==a;){var f=e[1];if(an(o,a,f.data)){var h=on(a,e,n,u,r,l);if(h!==nn)return h}-1!==(c=e[a+8])&&cn(r,e[1].data[a+8]===l)&&an(o,a,e)?(u=f,a=He(c),e=ze(c,e)):a=-1}}}return tn(e,n,r,i)}var nn={};function rn(){return new ln(re(),te())}function on(t,e,n,r,i,o){var s=e[1],u=s.data[t+8],a=sn(u,s,n,null==r?Tt(u)&&Ke:r!=s&&0!=(3&u.type),i&H.Host&&o===u);return null!==a?un(e,s,a,u):nn}function sn(t,e,n,r,i){for(var o=t.providerIndexes,s=e.data,u=1048575&o,a=t.directiveStart,c=o>>20,l=i?u+c:t.directiveEnd,f=r?u:u+c;f<l;f++){var h=s[f];if(f<a&&n===h||f>=a&&h.type===n)return f}if(i){var d=s[a];if(d&&St(d)&&d.type===n)return a}return null}function un(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Le){var s=i;s.resolving&&function(t,e){throw new C("200","Circular dependency in DI detected for ".concat(t))}(x(o[n]));var u=Ge(s.canSeeViewProviders);s.resolving=!0;var a=s.injectImpl?z(s.injectImpl):null;we(t,r,H.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,s=r.ngDoCheck;if(i){var u=Nt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,u),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,u)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,o[n],e)}finally{null!==a&&z(a),Ge(u),s.resolving=!1,Te()}}return i}function an(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function cn(t,e){return!(t&H.Self||t&H.Host&&e)}var ln=function(){function t(e,n){h(this,t),this._tNode=e,this._lView=n}return p(t,[{key:"get",value:function(t,e){return en(this._tNode,this._lView,t,void 0,e)}}]),t}();function fn(t){return G(function(){for(var e=t.prototype.constructor,n=e[at]||hn(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[at]||hn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}})}function hn(t){return S(t)?function(){var e=hn(O(t));return e&&e()}:Ct(t)}function dn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Fe(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(re(),t)}function pn(t,e,n){return G(function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=l(i,e);return s.annotation=o,s;function s(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var vn=function(){function t(e,n){h(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return p(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),yn=new vn("AnalyzeForEntryComponents"),gn=Function;function mn(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),mn(r,e)):e!==t&&e.push(r)}return e}function bn(t,e){t.forEach(function(t){return Array.isArray(t)?bn(t,e):e(t)})}function wn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function _n(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function kn(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function En(t,e,n){var r=Tn(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function In(t,e){var n=Tn(t,e);if(n>=0)return t[1|n]}function Tn(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),s=t[o<<1];if(e===s)return o<<1;s>e?i=o:r=o+1}return~(i<<1)}(t,e)}var On,Sn={},Cn=/\n/gm,An=m({provide:String,useValue:m});function xn(t){var e=On;return On=t,e}function jn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.Default;if(void 0===On)throw new Error("inject() must be called from an injection context");return null===On?K(t,void 0,e):On.get(t,e&H.Optional?null:void 0,e)}function Nn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.Default;return(F||jn)(O(t),e)}function Dn(t){for(var e=[],n=0;n<t.length;n++){var r=O(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=H.Default,s=0;s<r.length;s++){var u=r[s],a=u.__NG_DI_FLAG__;"number"==typeof a?-1===a?i=u.token:o|=a:i=u}e.push(Nn(i,o))}else e.push(Nn(r))}return e}function Rn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}var Pn,Ln=Rn(pn("Inject",function(t){return{token:t}}),-1),Mn=Rn(pn("Optional"),8),Fn=Rn(pn("SkipSelf"),4);function Vn(t){var e;return(null===(e=function(){if(void 0===Pn&&(Pn=null,$.trustedTypes))try{Pn=$.trustedTypes.createPolicy("angular",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(e){}return Pn}())||void 0===e?void 0:e.createHTML(t))||t}var qn=function(){function t(e){h(this,t),this.changingThisBreaksApplicationSecurity=e}return p(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),t}(),Un=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(qn),Bn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(qn),Hn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(qn),zn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(qn),Kn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(qn);function Gn(t){return t instanceof qn?t.changingThisBreaksApplicationSecurity:t}function Wn(t,e){var n=Qn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}function Qn(t){return t instanceof qn&&t.getTypeName()||null}function Yn(t){return new Un(t)}function Jn(t){return new Bn(t)}function Xn(t){return new Hn(t)}function Zn(t){return new zn(t)}function $n(t){return new Kn(t)}function tr(t){var e=new nr(t);return function(){try{return!!(new window.DOMParser).parseFromString(Vn(""),"text/html")}catch(t){return!1}}()?new er(e):e}var er=function(){function t(e){h(this,t),this.inertDocumentHelper=e}return p(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(Vn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(n){return null}}}]),t}(),nr=function(){function t(e){if(h(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return p(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Vn(t),e;var n=this.inertDocument.createElement("body");return n.innerHTML=Vn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),rr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ir=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function or(t){return(t=String(t)).match(rr)||t.match(ir)?t:"unsafe:"+t}function sr(t){return(t=String(t)).split(",").map(function(t){return or(t.trim())}).join(", ")}function ur(t){var e,n={},r=s(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function ar(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];for(var u in s)s.hasOwnProperty(u)&&(t[u]=!0)}return t}var cr,lr=ur("area,br,col,hr,img,wbr"),fr=ur("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hr=ur("rp,rt"),dr=ar(hr,fr),pr=ar(lr,ar(fr,ur("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ar(hr,ur("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dr),vr=ur("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yr=ur("srcset"),gr=ar(vr,yr,ur("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ur("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mr=ur("script,style,template"),br=function(){function t(){h(this,t),this.sanitizedSomething=!1,this.buf=[]}return p(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!pr.hasOwnProperty(e))return this.sanitizedSomething=!0,!mr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n=t.attributes,r=0;r<n.length;r++){var i=n.item(r),o=i.name,s=o.toLowerCase();if(gr.hasOwnProperty(s)){var u=i.value;vr[s]&&(u=or(u)),yr[s]&&(u=sr(u)),this.buf.push(" ",o,'="',kr(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();pr.hasOwnProperty(e)&&!lr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(kr(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),wr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_r=/([^\#-~ |!])/g;function kr(t){return t.replace(/&/g,"&amp;").replace(wr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(_r,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Er(t,e){var n=null;try{cr=cr||tr(t);var r=e?String(e):"";n=cr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=cr.getInertBodyElement(r)}while(r!==o);return Vn((new br).sanitizeChildren(Ir(n)||n))}finally{if(n)for(var s=Ir(n)||n;s.firstChild;)s.removeChild(s.firstChild)}}function Ir(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Tr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Or(t){var e,n=(e=te())&&e[12];return n?n.sanitize(Tr.URL,t)||"":Wn(t,"URL")?Gn(t):or(A(t))}function Sr(t){return t.ngDebugContext}function Cr(t){return t.ngOriginalError}function Ar(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var xr=function(){function t(){h(this,t),this._console=console}return p(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Ar}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Sr(t)?Sr(t):this._findContext(Cr(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Cr(t);e&&Cr(e);)e=Cr(e);return e}}]),t}(),jr=/^>|^->|<!--|-->|--!>|<!-$/g,Nr=/(<|>)/;function Dr(t,e){t.__ngContext__=e}var Rr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($);function Pr(t){return t instanceof Function?t():t}var Lr,Mr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Fr(t,e){return Lr(t,e)}function Vr(t){var e=t[3];return Et(e)?e[3]:e}function qr(t){return Br(t[13])}function Ur(t){return Br(t[4])}function Br(t){for(;null!==t&&!Et(t);)t=t[4];return t}function Hr(t,e,n,r,i){if(null!=r){var o,s=!1;Et(r)?o=r:kt(r)&&(s=!0,r=r[0]);var u=qt(r);0===t&&null!==n?null==i?ei(e,n,u):ti(e,n,u,i||null,!0):1===t&&null!==n?ti(e,n,u,i||null,!0):2===t?di(e,u,s):3===t&&e.destroyNode(u),null!=o&&function(t,e,n,r,i){var o=n[7];o!==qt(n)&&Hr(e,t,r,o,i);for(var s=10;s<n.length;s++){var u=n[s];vi(u[1],u,t,e,r,o)}}(e,t,o,n,i)}}function zr(t,e){return Ft(t)?t.createText(e):t.createTextNode(e)}function Kr(t,e,n){Ft(t)?t.setValue(e,n):e.textContent=n}function Gr(t,e){return t.createComment(function(t){return t.replace(jr,function(t){return t.replace(Nr,"\u200b$1\u200b")})}(e))}function Wr(t,e,n){return Ft(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Qr(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Xt(i,-1)),n.splice(r,1)}function Yr(t,e){if(!(t.length<=10)){var n,r=10+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&Qr(o,i),e>0&&(t[r-1][4]=i[4]);var s=_n(t,10+e);vi(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var u=s[19];null!==u&&u.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Jr(t,e){if(!(256&e[2])){var n=e[11];Ft(n)&&n.destroyNode&&vi(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Xr(t[1],t);for(;e;){var n=null;if(kt(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)kt(e)&&Xr(e[1],e),e=e[3];null===e&&(e=t),kt(e)&&Xr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Xr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Le)){var o=n[r+1];if(Array.isArray(o))for(var s=0;s<o.length;s+=2)o[s+1].call(i[o[s]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup,r=e[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var s=n[o+1],u="function"==typeof s?s(e):qt(e[s]),a=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?u.removeEventListener(n[o],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var f=i+1;f<r.length;f++)(0,r[f])();e[7]=null}}(t,e),1===e[1].type&&Ft(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&Et(e[3])){n!==e[3]&&Qr(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function Zr(t,e,n){return $r(t,e.parent,n)}function $r(t,e,n){for(var r=e;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){var i=t.data[r.directiveStart].encapsulation;if(i===Q.None||i===Q.Emulated)return null}return Bt(r,n)}function ti(t,e,n,r,i){Ft(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function ei(t,e,n){Ft(t)?t.appendChild(e,n):e.appendChild(n)}function ni(t,e,n,r,i){null!==r?ti(t,e,n,r,i):ei(t,e,n)}function ri(t,e){return Ft(t)?t.parentNode(e):e.parentNode}function ii(t,e,n){return ui(t,e,n)}function oi(t,e,n){return 40&t.type?Bt(t,n):null}var si,ui=oi;function ai(t,e){ui=t,si=e}function ci(t,e,n,r){var i=Zr(t,r,e),o=e[11],s=ii(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(var u=0;u<n.length;u++)ni(o,i,n[u],s,!1);else ni(o,i,n,s,!1);void 0!==si&&si(o,r,e,n,i)}function li(t,e){if(null!==e){var n=e.type;if(3&n)return Bt(e,t);if(4&n)return hi(-1,t[e.index]);if(8&n){var r=e.child;if(null!==r)return li(t,r);var i=t[e.index];return Et(i)?hi(-1,i):qt(i)}if(32&n)return Fr(e,t)()||qt(t[e.index]);var o=fi(t,e);return null!==o?Array.isArray(o)?o[0]:li(Vr(t[16]),o):li(t,e.next)}return null}function fi(t,e){return null!==e?t[16][6].projection[e.projection]:null}function hi(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return li(r,i)}return e[7]}function di(t,e,n){var r=ri(t,e);r&&function(t,e,n,r){Ft(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function pi(t,e,n,r,i,o,s){for(;null!=n;){var u=r[n.index],a=n.type;if(s&&0===e&&(u&&Dr(qt(u),r),n.flags|=4),64!=(64&n.flags))if(8&a)pi(t,e,n.child,r,i,o,!1),Hr(e,t,i,u,o);else if(32&a){for(var c=Fr(n,r),l=void 0;l=c();)Hr(e,t,i,l,o);Hr(e,t,i,u,o)}else 16&a?yi(t,e,r,n,i,o):Hr(e,t,i,u,o);n=s?n.projectionNext:n.next}}function vi(t,e,n,r,i,o){pi(n,r,t.firstChild,e,i,o,!1)}function yi(t,e,n,r,i,o){var s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(var a=0;a<u.length;a++)Hr(e,t,i,u[a],o);else pi(t,e,u,s[3],i,o,!0)}function gi(t,e,n){Ft(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function mi(t,e,n){Ft(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function bi(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function wi(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==bi((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function _i(t){return 4===t.type&&"ng-template"!==t.value}function ki(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function Ei(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Fe(t[e]))return e;return t.length}(i),s=!1,u=0;u<e.length;u++){var a=e[u];if("number"!=typeof a){if(!s)if(4&r){if(r=2|1&r,""!==a&&!ki(t,a,n)||""===a&&1===e.length){if(Ii(r))return!1;s=!0}}else{var c=8&r?a:e[++u];if(8&r&&null!==t.attrs){if(!wi(t.attrs,c,n)){if(Ii(r))return!1;s=!0}continue}var l=Ti(8&r?"class":a,i,_i(t),n);if(-1===l){if(Ii(r))return!1;s=!0;continue}if(""!==c){var f;f=l>o?"":i[l+1].toLowerCase();var h=8&r?f:null;if(h&&-1!==bi(h,c,0)||2&r&&c!==f){if(Ii(r))return!1;s=!0}}}}else{if(!s&&!Ii(r)&&!Ii(a))return!1;if(s&&Ii(a))continue;s=!1,r=a|1&r}}return Ii(r)||s}function Ii(t){return 0==(1&t)}function Ti(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){for(var u=e[++i];"string"==typeof u;)u=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Oi(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(Ei(t,e[r],n))return!0;return!1}function Si(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}function Ci(t,e){return t?":not("+e.trim()+")":e}function Ai(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var s=t[n];if("string"==typeof s)if(2&r){var u=t[++n];i+="["+s+(u.length>0?'="'+u+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Ii(s)||(e+=Ci(o,i),i=""),r=s,o=o||!Ii(r);n++}return""!==i&&(e+=Ci(o,i)),e}var xi={};function ji(t){Ni(ee(),te(),Se()+t,ce())}function Ni(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&je(e,i,n)}else{var o=t.preOrderHooks;null!==o&&Ne(e,o,0,n)}Ce(n)}function Di(t,e){return t<<17|e<<2}function Ri(t){return t>>17&32767}function Pi(t){return 2|t}function Li(t){return(131068&t)>>2}function Mi(t,e){return-131069&t|e<<2}function Fi(t){return 1|t}function Vi(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var s=t.data[o];me(i),s.contentQueries(2,e[o],o)}}}function qi(t,e,n,r,i,o,s,u,a,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Jt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=u||t&&t[11],l[12]=a||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Ui(t,e,n,r,i){var o=t.data[e];if(null===o)o=Bi(t,e,n,r,i),Zt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;var s=oe();o.injectorIndex=null===s?-1:s.injectorIndex}return se(o,!0),o}function Bi(t,e,n,r,i){var o=ie(),s=ue(),u=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}function Hi(t,e,n,r){if(0===n)return-1;for(var i=e.length,o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function zi(t,e,n){_e(e);try{var r=t.viewQuery;null!==r&&ko(1,r,n);var i=t.template;null!==i&&Wi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Vi(t,e),t.staticViewQueries&&ko(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)go(t,e[n])}(e,o)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),s}finally{e[2]&=-5,Oe()}}function Ki(t,e,n,r){var i=e[2];if(256!=(256&i)){_e(e);var o=ce();try{Jt(e),Zt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Wi(t,e,n,2,r);var s=3==(3&i);if(!o)if(s){var u=t.preOrderCheckHooks;null!==u&&je(e,u,null)}else{var a=t.preOrderHooks;null!==a&&Ne(e,a,0,null),De(e,0)}if(function(t){for(var e=qr(t);null!==e;e=Ur(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Xt(o,1),i[2]|=1024}}(e),function(t){for(var e=qr(t);null!==e;e=Ur(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Qt(r)&&Ki(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Vi(t,e),!o)if(s){var c=t.contentCheckHooks;null!==c&&je(e,c)}else{var l=t.contentHooks;null!==l&&Ne(e,l,1),De(e,1)}!function(t,e){var n,r,i,o=t.hostBindingOpCodes;if(null!==o)try{for(var s=0;s<o.length;s++){var u=o[s];if(u<0)Ce(~u);else{var a=u,c=o[++s],l=o[++s];n=c,r=a,i=void 0,(i=Zt.lFrame).bindingIndex=i.bindingRootIndex=n,ye(r),l(2,e[a])}}}finally{Ce(-1)}}(t,e);var f=t.components;null!==f&&function(t,e){for(var n=0;n<e.length;n++)vo(t,e[n])}(e,f);var h=t.viewQuery;if(null!==h&&ko(2,h,r),!o)if(s){var d=t.viewCheckHooks;null!==d&&je(e,d)}else{var p=t.viewHooks;null!==p&&Ne(e,p,2),De(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Xt(e[3],-1))}finally{Oe()}}}function Gi(t,e,n,r){var i=e[10],o=!ce(),s=Wt(e);try{o&&!s&&i.begin&&i.begin(),s&&zi(t,e,r),Ki(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Wi(t,e,n,r,i){var o=Se();try{Ce(-1),2&r&&e.length>20&&Ni(t,e,20,ce()),n(r,i)}finally{Ce(o)}}function Qi(t,e,n){if(It(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Yi(t,e,n){$t()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Qe(n,e),Dr(r,e);for(var s=n.initialInputs,u=i;u<o;u++){var a=t.data[u],c=St(a);c&&co(e,n,a);var l=un(e,t,u,n);Dr(l,e),null!==s&&fo(0,u-i,l,a,0,s),c&&(Kt(n.index,e)[8]=l)}}(t,e,n,Bt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Zt.lFrame.currentDirectiveIndex;try{Ce(o);for(var u=r;u<i;u++){var a=t.data[u],c=e[u];ye(u),null===a.hostBindings&&0===a.hostVars&&null===a.hostAttrs||io(a,c)}}finally{Ce(-1),ye(s)}}(t,e,n))}function Ji(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var s=r[o+1],u=-1===s?n(e,t):t[s];t[i++]=u}}function Xi(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Zi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Zi(t,e,n,r,i,o,s,u,a,c){var l=20+r,f=l+i,h=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:xi);return n}(l,f),d="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:u,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a,consts:d,incompleteFirstPass:!1}}function $i(t,e,n,r){var i=Io(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&To(t).push(r,i.length-1))}function to(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function eo(t,e,n,r,i,o,s,u){var a,c,l=Bt(e,n),f=e.inputs;!u&&null!=f&&(a=f[r])?(So(t,n,a,r,i),Tt(e)&&function(t,e){var n=Kt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=s?s(i,e.value||"",r):i,Ft(o)?o.setProperty(l,r,i):Ve(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function no(t,e,n,r){var i=!1;if($t()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var s=r[o];Oi(n,s.selectors,!1)&&(i||(i=[]),Ze(Qe(n,e),t,s.type),St(s)?(oo(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,uo(n,t.data.length,o.length);for(var u=0;u<o.length;u++){var a=o[u];a.providersResolver&&a.providersResolver(a)}for(var c=!1,l=!1,f=Hi(t,e,o.length,null),h=0;h<o.length;h++){var d=o[h];n.mergedAttrs=qe(n.mergedAttrs,d.hostAttrs),ao(t,n,e,f,d),so(f,d,s),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),f++}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],s=null,u=null,a=e.directiveStart;a<n;a++){var c=r[a],l=c.inputs,f=null===i||_i(e)?null:ho(l,i);o.push(f),s=to(l,a,s),u=to(c.outputs,a,u)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=u}(t,n)}s&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new C("301","Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,s)}return n.mergedAttrs=qe(n.mergedAttrs,n.attrs),i}function ro(t,e,n,r,i,o){var s=o.hostBindings;if(s){var u=t.hostBindingOpCodes;null===u&&(u=t.hostBindingOpCodes=[]);var a=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(u)!=a&&u.push(a),u.push(r,i,s)}}function io(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function oo(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function so(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;St(e)&&(n[""]=t)}}function uo(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ao(t,e,n,r,i){t.data[r]=i;var o=i.factory||(i.factory=Ct(i.type)),s=new Le(o,St(i),null);t.blueprint[r]=s,n[r]=s,ro(t,e,0,r,Hi(t,n,i.hostVars,xi),i)}function co(t,e,n){var r=Bt(e,t),i=Xi(n),o=t[10],s=mo(t,qi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function lo(t,e,n,r,i,o,s){if(null==o)Ft(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{var u=null==s?A(o):s(o,r||"",i);Ft(t)?t.setAttribute(e,i,u,n):n?e.setAttributeNS(n,i,u):e.setAttribute(i,u)}}function fo(t,e,n,r,i,o){var s=o[e];if(null!==s)for(var u=r.setInput,a=0;a<s.length;){var c=s[a++],l=s[a++],f=s[a++];null!==u?r.setInput(n,f,c,l):n[l]=f}}function ho(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function po(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function vo(t,e){var n=Kt(e,t);if(Qt(n)){var r=n[1];80&n[2]?Ki(r,n,r.template,n[8]):n[5]>0&&yo(n)}}function yo(t){for(var e=qr(t);null!==e;e=Ur(e))for(var n=10;n<e.length;n++){var r=e[n];if(1024&r[2]){var i=r[1];Ki(i,r,i.template,r[8])}else r[5]>0&&yo(r)}var o=t[1].components;if(null!==o)for(var s=0;s<o.length;s++){var u=Kt(o[s],t);Qt(u)&&u[5]>0&&yo(u)}}function go(t,e){var n=Kt(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),zi(r,n,n[8])}function mo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function bo(t){for(;t;){t[2]|=64;var e=Vr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function wo(t,e,n){var r=e[10];r.begin&&r.begin();try{Ki(t,e,t.template,n)}catch(i){throw Oo(e,i),i}finally{r.end&&r.end()}}function _o(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Gt(n),i=r[1];Gi(i,r,i.template,n)}}(t[8])}function ko(t,e,n){me(0),e(t,n)}var Eo=Promise.resolve(null);function Io(t){return t[7]||(t[7]=[])}function To(t){return t.cleanup||(t.cleanup=[])}function Oo(t,e){var n=t[9],r=n?n.get(xr,null):null;r&&r.handleError(e)}function So(t,e,n,r,i){for(var o=0;o<n.length;){var s=n[o++],u=n[o++],a=e[s],c=t.data[s];null!==c.setInput?c.setInput(a,i,r,u):a[u]=i}}function Co(t,e,n){var r=Ut(e,t);Kr(t[11],r,n)}function Ao(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var s=0;s<e.length;s++){var u=e[s];"number"==typeof u?o=u:1==o?i=E(i,u):2==o&&(r=E(r,u+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var xo,jo=new vn("INJECTOR",-1),No=function(){function t(){h(this,t)}return p(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sn;if(e===Sn){var n=new Error("NullInjectorError: No provider for ".concat(k(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),Do=new vn("Set Injector scope."),Ro={},Po={},Lo=[];function Mo(){return void 0===xo&&(xo=new No),xo}function Fo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Vo(t,n,e||Mo(),r)}var Vo=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var s=[];n&&bn(n,function(t){return i.processProvider(t,e,n)}),bn([e],function(t){return i.processInjectorType(t,[],s)}),this.records.set(jo,Bo(void 0,this));var u=this.records.get(Do);this.scope=null!=u?u.value:null,this.source=o||("object"==typeof e?null:k(e))}return p(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H.Default;this.assertNotDestroyed();var r,i=xn(this);try{if(!(n&H.SkipSelf)){var o=this.records.get(t);if(void 0===o){var s=("function"==typeof(r=t)||"object"==typeof r&&r instanceof vn)&&P(t);o=s&&this.injectableDefInScope(s)?Bo(qo(t),Ro):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&H.Self?Mo():this.parent).get(t,e=n&H.Optional&&e===Sn?null:e)}catch(u){if("NullInjectorError"===u.name){if((u.ngTempTokenPath=u.ngTempTokenPath||[]).unshift(k(t)),i)throw u;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=k(e);if(Array.isArray(e))i=e.map(k).join(" -> ");else if("object"==typeof e){var o=[];for(var s in e)if(e.hasOwnProperty(s)){var u=e[s];o.push(s+":"+("string"==typeof u?JSON.stringify(u):k(u)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(Cn,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(u,t,0,this.source)}throw u}finally{xn(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(k(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=O(t)))return!1;var i=M(t),o=null==i&&t.ngModule||void 0,s=void 0===o?t:o,u=-1!==n.indexOf(s);if(void 0!==o&&(i=M(o)),null==i)return!1;if(null!=i.imports&&!u){var a;n.push(s);try{bn(i.imports,function(t){r.processInjectorType(t,e,n)&&(void 0===a&&(a=[]),a.push(t))})}finally{}if(void 0!==a)for(var c=function(t){var e=a[t],n=e.ngModule,i=e.providers;bn(i,function(t){return r.processProvider(t,n,i||Lo)})},l=0;l<a.length;l++)c(l)}this.injectorDefTypes.add(s);var f=Ct(s)||function(){return new s};this.records.set(s,Bo(f,Ro));var h=i.providers;if(null!=h&&!u){var d=t;bn(h,function(t){return r.processProvider(t,d,h)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=zo(t=O(t))?t:O(t&&t.provide),i=function(t,e,n){return Ho(t)?Bo(void 0,t.useValue):Bo(Uo(t),Ro)}(t);if(zo(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=Bo(void 0,Ro,!0)).factory=function(){return Dn(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===Ro&&(e.value=Po,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}]),t}();function qo(t){var e=P(t),n=null!==e?e.factory:Ct(t);if(null!==n)return n;if(t instanceof vn)throw new Error("Token ".concat(k(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=kn(e,"?");throw new Error("Can't resolve all parameters for ".concat(k(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[V]||t[U]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function Uo(t,e,n){var r,o;if(zo(t)){var s=O(t);return Ct(s)||qo(s)}if(Ho(t))r=function(){return O(t.useValue)};else if((o=t)&&o.useFactory)r=function(){return t.useFactory.apply(t,i(Dn(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))r=function(){return Nn(O(t.useExisting))};else{var u=O(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Ct(u)||qo(u);r=function(){return l(u,i(Dn(t.deps)))}}return r}function Bo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function Ho(t){return null!==t&&"object"==typeof t&&An in t}function zo(t){return"function"==typeof t}var Ko=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=Fo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},Go=function(){var t=function(){function t(){h(this,t)}return p(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Ko(t,e,""):Ko(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=Sn,t.NULL=new No,t.\u0275prov=D({token:t,providedIn:"any",factory:function(){return Nn(jo)}}),t.__NG_ELEMENT_ID__=-1,t}();function Wo(t,e){xe(Gt(t)[1],re())}function Qo(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(St(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=Yo(t.inputs),o.declaredInputs=Yo(t.declaredInputs),o.outputs=Yo(t.outputs);var s=i.hostBindings;s&&Zo(t,s);var u=i.viewQuery,a=i.contentQueries;if(u&&Jo(t,u),a&&Xo(t,a),w(t.inputs,i.inputs),w(t.declaredInputs,i.declaredInputs),w(t.outputs,i.outputs),St(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var f=0;f<l.length;f++){var h=l[f];h&&h.ngInherit&&h(t),h===Qo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=qe(i.hostAttrs,n=qe(n,i.hostAttrs))}}(r)}function Yo(t){return t===tt?{}:t===nt?[]:t}function Jo(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function Xo(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function Zo(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var $o=null;function ts(){if(!$o){var t=$.Symbol;if(t&&t.iterator)$o=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&($o=r)}}return $o}var es=function(){function t(e){h(this,t),this.wrapped=e}return p(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function ns(t){return!!rs(t)&&(Array.isArray(t)||!(t instanceof Map)&&ts()in t)}function rs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function is(t,e,n){return t[e]=n}function os(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ss(t,e,n,r){var i=os(t,e,n);return os(t,e+1,r)||i}function us(t,e,n,r){var i=te();return os(i,de(),e)&&(ee(),function(t,e,n,r,i,o){var s=Bt(t,e);lo(e[11],s,o,t.value,n,r,i)}(Ae(),i,t,e,n,r)),us}function as(t,e,n,r){return os(t,de(),n)?e+A(n)+r:xi}function cs(t,e,n,r,i,o,s,u){var a=te(),c=ee(),l=t+20,f=c.firstCreatePass?function(t,e,n,r,i,o,s,u,a){var c=e.consts,l=Ui(e,t,4,s||null,Yt(c,u));no(e,n,l,Yt(c,a)),xe(e,l);var f=l.tViews=Zi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),f.queries=e.queries.embeddedTView(l)),l}(l,c,a,e,n,r,i,o,s):c.data[l];se(f,!1);var h=a[11].createComment("");ci(c,a,h,f),Dr(h,a),mo(a,a[l]=po(h,a,h,f)),Ot(f)&&Yi(c,a,f),null!=s&&Ji(a,f,u)}function ls(t){return zt(Zt.lFrame.contextLView,20+t)}function fs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.Default,n=te();return null===n?Nn(t,e):en(re(),n,O(t),e)}function hs(t,e,n){var r=te();return os(r,de(),e)&&eo(ee(),Ae(),r,t,e,r[11],n,!1),hs}function ds(t,e,n,r,i){var o=i?"class":"style";So(t,n,e.inputs[o],o,r)}function ps(t,e,n,r){var i=te(),o=ee(),s=20+t,u=i[11],a=i[s]=Wr(u,e,Zt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){var u=e.consts,a=Ui(e,t,2,i,Yt(u,o));return no(e,n,a,Yt(u,s)),null!==a.attrs&&Ao(a,a.attrs,!1),null!==a.mergedAttrs&&Ao(a,a.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,a),a}(s,o,i,0,e,n,r):o.data[s];se(c,!0);var l=c.mergedAttrs;null!==l&&Me(u,a,l);var f=c.classes;null!==f&&mi(u,a,f);var h=c.styles;null!==h&&gi(u,a,h),64!=(64&c.flags)&&ci(o,i,a,c),0===Zt.lFrame.elementDepthCount&&Dr(a,i),Zt.lFrame.elementDepthCount++,Ot(c)&&(Yi(o,i,c),Qi(o,c,i)),null!==r&&Ji(i,c)}function vs(){var t=re();ue()?ae():se(t=t.parent,!1);var e=t;Zt.lFrame.elementDepthCount--;var n=ee();n.firstCreatePass&&(xe(n,t),It(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&ds(n,e,te(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&ds(n,e,te(),e.stylesWithoutHost,!1)}function ys(t,e,n,r){ps(t,e,n,r),vs()}function gs(t,e,n){var r=te(),i=ee(),o=t+20,s=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,s=Yt(o,r),u=Ui(e,t,8,"ng-container",s);return null!==s&&Ao(u,s,!0),no(e,n,u,Yt(o,i)),null!==e.queries&&e.queries.elementStart(e,u),u}(o,i,r,e,n):i.data[o];se(s,!0);var u=r[o]=r[11].createComment("");ci(i,r,u,s),Dr(u,r),Ot(s)&&(Yi(i,r,s),Qi(i,s,r)),null!=n&&Ji(r,s)}function ms(){var t=re(),e=ee();ue()?ae():se(t=t.parent,!1),e.firstCreatePass&&(xe(e,t),It(t)&&e.queries.elementEnd(t))}function bs(){return te()}function ws(t){return!!t&&"function"==typeof t.then}function _s(t){return!!t&&"function"==typeof t.subscribe}var ks=_s;function Es(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=te(),o=ee(),s=re();return function(t,e,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7?arguments[7]:void 0,a=Ot(r),c=t.firstCreatePass&&To(t),l=Io(e),f=!0;if(3&r.type){var h=Bt(r,e),d=u?u(h):tt,p=d.target||h,v=l.length,y=u?function(t){return u(qt(t[r.index])).target}:r.index;if(Ft(n)){var g=null;if(!u&&a&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var s=i[o];if(s===n&&i[o+1]===r){var u=e[7],a=i[o+2];return u.length>a?u[a]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,f=!1;else{o=Ts(r,e,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=Ts(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,y,v,s)}else o=Ts(r,e,o,!1);var b,w=r.outputs;if(f&&null!==w&&(b=w[i])){var _=b.length;if(_)for(var k=0;k<_;k+=2){var E=e[b[k]][b[k+1]].subscribe(o),I=l.length;l.push(o,E),c&&c.push(i,r.index,I,-(I+1))}}}(o,i,i[11],s,t,e,n,r),Es}function Is(t,e,n){try{return!1!==e(n)}catch(r){return Oo(t,r),!1}}function Ts(t,e,n,r){return function i(o){if(o===Function)return n;var s=2&t.flags?Kt(t.index,e):e;0==(32&e[2])&&bo(s);for(var u=Is(e,n,o),a=i.__ngNextListenerFn__;a;)u=Is(e,a,o)&&u,a=a.__ngNextListenerFn__;return r&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Os(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(Zt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Zt.lFrame.contextLView))[8]}(t)}function Ss(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?Oi(t,o,!0):Si(r,o))return i}else n=i}return n}function Cs(t){var e=te()[16][6];if(!e.projection)for(var n=e.projection=kn(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?Ss(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function As(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=te(),i=ee(),o=Ui(i,20+t,16,null,n||null);null===o.projection&&(o.projection=e),ae(),64!=(64&o.flags)&&function(t,e,n){yi(e[11],0,e,n,Zr(t,n,e),ii(n.parent||e[6],n,e))}(i,r,o)}function xs(t,e,n){return js(t,"",e,"",n),xs}function js(t,e,n,r,i){var o=te(),s=as(o,e,n,r);return s!==xi&&eo(ee(),Ae(),o,t,s,o[11],i,!1),js}function Ns(t,e,n,r,i){for(var o=t[n+1],s=null===e,u=r?Ri(o):Li(o),a=!1;0!==u&&(!1===a||s);){var c=t[u+1];Ds(t[u],e)&&(a=!0,t[u+1]=r?Fi(c):Pi(c)),u=r?Ri(c):Li(c)}a&&(t[n+1]=r?Pi(o):Fi(o))}function Ds(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Tn(t,e)>=0}var Rs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ps(t){return t.substring(Rs.key,Rs.keyEnd)}function Ls(t,e){var n=Rs.textEnd;return n===e?-1:(e=Rs.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Rs.key=e,n),Ms(t,e,n))}function Ms(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Fs(t,e,n){return Bs(t,e,n,!1),Fs}function Vs(t,e){return Bs(t,e,null,!0),Vs}function qs(t){Hs(En,Us,t,!0)}function Us(t,e){for(var n=function(t){return function(t){Rs.key=0,Rs.keyEnd=0,Rs.value=0,Rs.valueEnd=0,Rs.textEnd=t.length}(t),Ls(t,Ms(t,0,Rs.textEnd))}(e);n>=0;n=Ls(e,n))En(t,Ps(e),!0)}function Bs(t,e,n,r){var i=te(),o=ee(),s=pe(2);o.firstUpdatePass&&Ks(o,t,s,r),e!==xi&&os(i,s,e)&&Qs(o,o.data[Se()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=k(Gn(t)))),t}(e,n),r,s)}function Hs(t,e,n,r){var i=ee(),o=pe(2);i.firstUpdatePass&&Ks(i,null,o,r);var s=te();if(n!==xi&&os(s,o,n)){var u=i.data[Se()];if(Xs(u,r)&&!zs(i,o)){var a=r?u.classesWithoutHost:u.stylesWithoutHost;null!==a&&(n=E(a,n||"")),ds(i,u,s,n,r)}else!function(t,e,n,r,i,o,s,u){i===xi&&(i=et);for(var a=0,c=0,l=0<i.length?i[0]:null,f=0<o.length?o[0]:null;null!==l||null!==f;){var h=a<i.length?i[a+1]:void 0,d=c<o.length?o[c+1]:void 0,p=void 0,v=null;l===f?(a+=2,c+=2,h!==d&&(v=f,p=d)):null===f||null!==l&&l<f?(a+=2,v=l):(c+=2,v=f,p=d),null!==v&&Qs(t,e,n,r,v,p,s,u),l=a<i.length?i[a]:null,f=c<o.length?o[c]:null}}(i,u,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return et;var r=[],i=Gn(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function zs(t,e){return e>=t.expandoStartIndex}function Ks(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Se()],s=zs(t,n);Xs(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=Zt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ws(n=Gs(null,t,e,n,r),e.attrs,r),o=null);else{var s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Gs(i,t,e,n,r),null===o){var u=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==Li(r))return t[Ri(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&function(t,e,n,r){t[Ri(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u=Ws(u=Gs(null,t,e,u[1],r),e.attrs,r))}else o=function(t,e,n){for(var r,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=Ws(r,t[o].hostAttrs,n);return Ws(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var s=o?e.classBindings:e.styleBindings,u=Ri(s),a=Li(s);t[r]=n;var c,l=!1;if(Array.isArray(n)){var f=n;(null===(c=f[1])||Tn(f,c)>0)&&(l=!0)}else c=n;if(i)if(0!==a){var h=Ri(t[u+1]);t[r+1]=Di(h,u),0!==h&&(t[h+1]=Mi(t[h+1],r)),t[u+1]=131071&t[u+1]|r<<17}else t[r+1]=Di(u,0),0!==u&&(t[u+1]=Mi(t[u+1],r)),u=r;else t[r+1]=Di(a,0),0===u?u=r:t[a+1]=Mi(t[a+1],r),a=r;l&&(t[r+1]=Pi(t[r+1])),Ns(t,c,r,!0),Ns(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Tn(o,e)>=0&&(n[r+1]=Fi(n[r+1]))}(e,c,t,r,o),s=Di(u,a),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Gs(t,e,n,r,i){var o=null,s=n.directiveEnd,u=n.directiveStylingLast;for(-1===u?u=n.directiveStart:u++;u<s&&(r=Ws(r,(o=e[u]).hostAttrs,i),o!==t);)u++;return null!==t&&(n.directiveStylingLast=u),r}function Ws(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),En(t,s,!!n||e[++o]))}return void 0===t?null:t}function Qs(t,e,n,r,i,o,s,u){if(3&e.type){var a=t.data,c=a[u+1];Js(1==(1&c)?Ys(a,e,n,i,Li(c),s):void 0)||(Js(o)||2==(2&c)&&(o=Ys(a,null,n,i,u,s)),function(t,e,n,r,i){var o=Ft(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var s=-1===r.indexOf("-")?void 0:Mr.DashCase;if(null==i)o?t.removeStyle(n,r,s):n.style.removeProperty(r);else{var u="string"==typeof i&&i.endsWith("!important");u&&(i=i.slice(0,-10),s|=Mr.Important),o?t.setStyle(n,r,i,s):n.style.setProperty(r,i,u?"important":"")}}}(r,s,Ut(Se(),n),i,o))}}function Ys(t,e,n,r,i,o){for(var s,u=null===e;i>0;){var a=t[i],c=Array.isArray(a),l=c?a[1]:a,f=null===l,h=n[i+1];h===xi&&(h=f?et:void 0);var d=f?In(h,r):l===r?h:void 0;if(c&&!Js(d)&&(d=In(a,r)),Js(d)&&(s=d,u))return s;var p=t[i+1];i=u?Ri(p):Li(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(s=In(v,r))}return s}function Js(t){return void 0!==t}function Xs(t,e){return 0!=(t.flags&(e?16:32))}function Zs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=te(),r=ee(),i=t+20,o=r.firstCreatePass?Ui(r,i,1,e,null):r.data[i],s=n[i]=zr(n[11],e);ci(r,n,s,o),se(o,!1)}function $s(t){return tu("",t,""),$s}function tu(t,e,n){var r=te(),i=as(r,t,e,n);return i!==xi&&Co(r,Se(),i),tu}function eu(t,e,n,r,i){var o=te(),s=function(t,e,n,r,i,o){var s=ss(t,he(),n,i);return pe(2),s?e+A(n)+r+A(i)+o:xi}(o,t,e,n,r,i);return s!==xi&&Co(o,Se(),s),eu}function nu(t,e,n,r,i,o,s,u,a){Hs(En,Us,function(t,e,n,r,i,o,s,u,a,c){var l=function(t,e,n,r,i,o){var s=ss(t,e,n,r);return ss(t,e+2,i,o)||s}(t,he(),n,i,s,a);return pe(4),l?e+A(n)+r+A(i)+o+A(s)+u+A(a)+c:xi}(te(),t,e,n,r,i,o,s,u,a),!0)}function ru(t,e,n){var r=te();return os(r,de(),e)&&eo(ee(),Ae(),r,t,e,r[11],n,!0),ru}var iu=void 0,ou=["en",[["a","p"],["AM","PM"],iu],[["AM","PM"],iu,iu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],iu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],iu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",iu,"{1} 'at' {0}",iu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],su={};function uu(t,e,n){"string"!=typeof e&&(n=e,e=t[hu.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),su[e]=t,n&&(su[e][hu.ExtraData]=n)}function au(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=fu(e);if(n)return n;var r=e.split("-")[0];if(n=fu(r))return n;if("en"===r)return ou;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function cu(t){return au(t)[hu.CurrencyCode]||null}function lu(t){return au(t)[hu.PluralCase]}function fu(t){return t in su||(su[t]=$.ng&&$.ng.common&&$.ng.common.locales&&$.ng.common.locales[t]),su[t]}var hu=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({}),du=["zero","one","two","few","many"],pu={marker:"element"},vu={marker:"ICU"},yu=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({}),gu="en-US";function mu(t){var e;null==(e=t)&&N("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(gu=t.toLowerCase().replace(/_/g,"-"))}function bu(t,e,n){var r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?oi(t,0,n):qt(n[i])}function wu(t,e,n,r,i){var o=e.insertBeforeIndex;if(Array.isArray(o)){var s=r,u=null;if(3&e.type||(u=s,s=i),null!==s&&0==(2&e.flags))for(var a=1;a<o.length;a++)ti(t,s,n[o[a]],u,!1)}}function _u(t,e){if(t.push(e),t.length>1)for(var n=t.length-2;n>=0;n--){var r=t[n];ku(r)||Eu(r,e)&&null===(i=void 0,i=r.insertBeforeIndex,Array.isArray(i)?i[0]:i)&&Iu(r,e.index)}var i}function ku(t){return!(64&t.type)}function Eu(t,e){return ku(e)||t.index>e.index}function Iu(t,e){var n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(ai(bu,wu),t.insertBeforeIndex=e)}function Tu(t,e){var n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Ou(t,e,n){var r=Bi(t,n,64,null,null);return _u(e,r),r}function Su(t,e){var n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}var Cu=0,Au=0;function xu(t,e,n,r){for(var i,o=n[11],s=null,u=0;u<e.length;u++){var a=e[u];if("string"==typeof a){var c=e[++u];null===n[c]&&(n[c]=zr(o,a))}else if("number"==typeof a)switch(1&a){case 0:var l=a>>>17,f=void 0,h=void 0;if(null===s&&(s=l,i=ri(o,r)),l===s?(f=r,h=i):(f=null,h=qt(n[l])),null!==h){var d=(131070&a)>>>1;ti(o,h,n[d],f,!1);var p=Tu(t,d);if(null!==p&&"object"==typeof p){var v=Su(p,n);null!==v&&xu(t,p.create[v],n,n[p.anchorIdx])}}break;case 1:var y=e[++u],g=e[++u];lo(o,Ut(a>>>1,n),null,null,y,g,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(a,'"'))}else switch(a){case vu:var m=e[++u],b=e[++u];null===n[b]&&Dr(n[b]=Gr(o,m),n);break;case pu:var w=e[++u],_=e[++u];null===n[_]&&Dr(n[_]=Wr(o,w,null),n)}}}function ju(t,e,n,r,i){for(var o=0;o<n.length;o++){var s=n[o],u=n[++o];if(s&i)for(var a="",c=o+1;c<=o+u;c++){var l=n[c];if("string"==typeof l)a+=l;else if("number"==typeof l)if(l<0)a+=A(e[r-l]);else{var f=l>>>2;switch(3&l){case 1:var h=n[++c],d=n[++c],p=t.data[f];"string"==typeof p?lo(e[11],e[f],null,p,h,a,d):eo(t,p,e,h,a,e[11],d,!1);break;case 0:var v=e[f];null!==v&&Kr(e[11],v,a);break;case 2:Du(t,Tu(t,f),e,a);break;case 3:Nu(t,Tu(t,f),r,e)}}}else{var y=n[o+1];if(y>0&&3==(3&y)){var g=Tu(t,y>>>2);e[g.currentCaseLViewIndex]<0&&Nu(t,g,r,e)}}o+=u}}function Nu(t,e,n,r){var i=r[e.currentCaseLViewIndex];if(null!==i){var o=Cu;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),ju(t,r,e.update[i],n,o)}}function Du(t,e,n,r){var i=function(t,e){var n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:var r=function(t,e){var n=lu(e)(parseInt(t,10)),r=du[n];return void 0!==r?r:"other"}(e,gu);-1===(n=t.cases.indexOf(r))&&"other"!==r&&(n=t.cases.indexOf("other"));break;case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Su(e,n)!==i&&(Ru(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){var o=n[e.anchorIdx];o&&xu(t,e.create[i],n,o)}}function Ru(t,e,n){var r=Su(e,n);if(null!==r)for(var i=e.remove[r],o=0;o<i.length;o++){var s=i[o];if(s>0){var u=Ut(s,n);null!==u&&di(n[11],u)}else Ru(t,Tu(t,~s),n)}}var Pu=/\ufffd(\d+):?\d*\ufffd/gi,Lu=/\ufffd(\d+)\ufffd/,Mu=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Fu=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Vu=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,qu=/\uE500/g;function Uu(t,e,n,r,i,o,s){var u=Hi(t,r,1,null),a=u<<yu.SHIFT,c=oe();e===c&&(c=null),null===c&&(a|=yu.APPEND_EAGERLY),s&&(a|=yu.COMMENT,void 0===Lr&&(Lr=function(){var t,e,n=[],r=-1;function i(t,n){r=0;var i=Su(t,n);e=null!==i?t.remove[i]:nt}function o(){if(r<e.length){var s=e[r++];return s>0?t[s]:(n.push(r,e),i(t[1].data[~s],t),o())}return 0===n.length?null:(e=n.pop(),r=n.pop(),o())}return function(e,r){for(t=r;n.length;)n.pop();return i(e.value,r),o}}())),i.push(a,null===o?"":o);var l=Bi(t,u,s?32:1,null===o?"":o,null);_u(n,l);var f=l.index;return se(l,!1),null!==c&&e!==c&&function(t,e){var n,r=t.insertBeforeIndex;null===r?(ai(bu,wu),r=t.insertBeforeIndex=[null,e]):(1!=(n=Array.isArray(r))&&N("Expecting array here",n,!0,"=="),r.push(e))}(c,f),l}function Bu(t,e,n,r,i,o,s){var u=s.match(Pu),a=Uu(t,e,n,o,r,u?null:s,!1);u&&Hu(i,s,a.index)}function Hu(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=t.length,s=o+1;t.push(null,null);for(var u=o+2,a=e.split(Pu),c=0,l=0;l<a.length;l++){var f=a[l];if(1&l){var h=parseInt(f,10);t.push(-1-h),c|=zu(h)}else""!==f&&t.push(f)}return t.push(n<<2|(r?1:0)),r&&t.push(r,i),t[o]=c,t[s]=t.length-u,c}function zu(t){return 1<<Math.min(t,31)}function Ku(t){for(var e,n,r="",i=0,o=!1;null!==(e=Fu.exec(t));)o?e[0]==="\ufffd/*".concat(n,"\ufffd")&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i)}function Gu(t,e,n,r,i,o){var s=0,u={type:i.type,currentCaseLViewIndex:Hi(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(zu(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){var r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,u);for(var a=i.values,c=0;c<a.length;c++){for(var l=a[c],f=[],h=0;h<l.length;h++){var d=l[h];if("string"!=typeof d){var p=f.push(d)-1;l[h]="\x3c!--\ufffd".concat(p,"\ufffd--\x3e")}}s=Yu(t,u,e,n,r,i.cases[c],l.join(""),f)|s}s&&function(t,e,n){t.push(e,1,n<<2|3)}(n,s,o)}function Wu(t){for(var e=[],n=[],r=1,i=0,o=Qu(t=t.replace(Mu,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})),s=0;s<o.length;){var u=o[s++].trim();1===r&&(u=u.replace(/\s*(?:=)?(\w+)\s*/,"$1")),u.length&&e.push(u);var a=Qu(o[s++]);e.length>n.length&&n.push(a)}return{type:r,mainBinding:i,cases:e,values:n}}function Qu(t){if(!t)return[];var e,n=0,r=[],i=[],o=/[{}]/g;for(o.lastIndex=0;e=o.exec(t);){var s=e.index;if("}"==e[0]){if(r.pop(),0==r.length){var u=t.substring(n,s);Mu.test(u)?i.push(Wu(u)):i.push(u),n=s+1}}else{if(0==r.length){var a=t.substring(n,s);i.push(a),n=s+1}r.push("{")}}var c=t.substring(n);return i.push(c),i}function Yu(t,e,n,r,i,o,s,u){var a=[],c=[],l=[];e.cases.push(o),e.create.push(a),e.remove.push(c),e.update.push(l);var f=tr(Mt()).getInertBodyElement(s),h=Ir(f)||f;return h?Ju(t,e,n,r,a,c,l,h,i,u,0):0}function Ju(t,e,n,r,i,o,s,u,a,c,l){for(var f=0,h=u.firstChild;h;){var d=Hi(t,n,1,null);switch(h.nodeType){case Node.ELEMENT_NODE:var p=h,v=p.tagName.toLowerCase();if(pr.hasOwnProperty(v)){$u(i,pu,v,a,d),t.data[d]=v;for(var y=p.attributes,g=0;g<y.length;g++){var m=y.item(g),b=m.name.toLowerCase();m.value.match(Pu)?gr.hasOwnProperty(b)&&(vr[b]?Hu(s,m.value,d,m.name,or):yr[b]?Hu(s,m.value,d,m.name,sr):Hu(s,m.value,d,m.name)):ta(i,d,m)}f=Ju(t,e,n,r,i,o,s,h,d,c,l+1)|f,Xu(o,d,l)}break;case Node.TEXT_NODE:var w=h.textContent||"",_=w.match(Pu);$u(i,null,_?"":w,a,d),Xu(o,d,l),_&&(f=Hu(s,w,d)|f);break;case Node.COMMENT_NODE:var k=Lu.exec(h.textContent||"");if(k){var E=c[parseInt(k[1],10)];$u(i,vu,"",a,d),Gu(t,n,r,a,E,d),Zu(o,d,l)}}h=h.nextSibling}return f}function Xu(t,e,n){0===n&&t.push(e)}function Zu(t,e,n){0===n&&(t.push(~e),t.push(e))}function $u(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function ta(t,e,n){t.push(e<<1|1,n.name,n.value)}function ea(t,e,n){(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=ee(),i=te(),o=20+t,s=Yt(r.consts,e),u=oe();r.firstCreatePass&&function(t,e,n,r,i,o){for(var s,u=oe(),a=[],c=[],l=[[]],f=(s=i=function(t,e){if(function(t){return-1===t}(e))return Ku(t);var n=t.indexOf(":".concat(e,"\ufffd"))+2+e.toString().length,r=t.search(new RegExp("\ufffd\\/\\*\\d+:".concat(e,"\ufffd")));return Ku(t.substring(n,r))}(i,o),s.replace(qu," ")).split(Vu),h=0;h<f.length;h++){var d=f[h];if(0==(1&h))for(var p=Qu(d),v=0;v<p.length;v++){var y=p[v];if(0==(1&v)){var g=y;""!==g&&Bu(t,u,l[0],a,c,n,g)}else{var m=y;if("object"!=typeof m)throw new Error('Unable to parse ICU expression in "'.concat(i,'" message.'));Gu(t,n,c,e,m,Uu(t,u,l[0],n,a,"",!0).index)}}else{var b=47===d.charCodeAt(0),w=(d.charCodeAt(b?1:0),20+Number.parseInt(d.substring(b?2:1)));if(b)l.shift(),se(oe(),!1);else{var _=Ou(t,l[0],w);l.unshift([]),se(_,!0)}}}t.data[r]={create:a,update:c}}(r,null===u?0:u.index,i,o,s,n);var a=r.data[o],c=$r(r,u===i[6]?null:u,i);!function(t,e,n,r){for(var i=t[11],o=0;o<e.length;o++){var s=e[o++],u=e[o],a=(s&yu.COMMENT)===yu.COMMENT,c=(s&yu.APPEND_EAGERLY)===yu.APPEND_EAGERLY,l=s>>>yu.SHIFT,f=t[l];null===f&&(f=t[l]=a?i.createComment(u):zr(i,u)),c&&null!==n&&ti(i,n,f,r,!1)}}(i,a.create,c,u&&8&u.type?i[u.index]:null),ve(!0)})(t,e,n),ve(!1)}function na(t){return os(te(),de(),t)&&(Cu|=1<<Math.min(Au,31)),Au++,na}function ra(t){!function(t,e,n){if(Au>0){var r=t.data[n];ju(t,e,Array.isArray(r)?r:r.update,he()-Au-1,Cu)}Cu=0,Au=0}(ee(),te(),t+20)}function ia(t,e,n,r,i){if(t=O(t),Array.isArray(t))for(var o=0;o<t.length;o++)ia(t[o],e,n,r,i);else{var s=ee(),u=te(),a=zo(t)?t:O(t.provide),c=Uo(t),l=re(),f=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(zo(t)||!t.multi){var p=new Le(c,i,fs),v=ua(a,e,i?f:f+d,h);-1===v?(Ze(Qe(l,u),s,a),oa(s,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),u.push(p)):(n[v]=p,u[v]=p)}else{var y=ua(a,e,f+d,h),g=ua(a,e,f,f+d),m=y>=0&&n[y],b=g>=0&&n[g];if(i&&!b||!i&&!m){Ze(Qe(l,u),s,a);var w=function(t,e,n,r,i){var o=new Le(t,n,fs);return o.multi=[],o.index=e,o.componentProviders=0,sa(o,i,r&&!n),o}(i?ca:aa,n.length,i,r,c);!i&&b&&(n[g].providerFactory=w),oa(s,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(w),u.push(w)}else oa(s,t,y>-1?y:g,sa(n[i?g:y],c,!i&&r));!i&&r&&b&&n[g].componentProviders++}}}function oa(t,e,n,r){var i=zo(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var u=s.indexOf(n);-1===u?s.push(n,[r,o]):s[u+1].push(r,o)}else s.push(n,o)}}}function sa(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ua(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function aa(t,e,n,r){return la(this.multi,[])}function ca(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,u=un(n,n[1],this.providerFactory.index,r);la(o,i=u.slice(0,s));for(var a=s;a<u.length;a++)i.push(u[a])}else la(o,i=[]);return i}function la(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function fa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=ee();if(r.firstCreatePass){var i=St(t);ia(n,r.data,r.blueprint,i,!0),ia(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var ha=function t(){h(this,t)},da=function(){function t(){h(this,t)}return p(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(k(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),pa=function(){var t=function t(){h(this,t)};return t.NULL=new da,t}();function va(){}function ya(t,e){return new ma(Bt(t,e))}var ga=function(){return ya(re(),te())},ma=function(){var t=function t(e){h(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=ga,t}();function ba(t){return t instanceof ma?t.nativeElement:t}var wa=function t(){h(this,t)},_a=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=function(){return ka()},t}(),ka=function(){var t=te(),e=Kt(re().index,t);return function(t){return t[11]}(kt(e)?e:t)},Ea=function(){var t=function t(){h(this,t)};return t.\u0275prov=D({token:t,providedIn:"root",factory:function(){return null}}),t}(),Ia=function t(e){h(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Ta=new Ia("11.2.6"),Oa=function(){function t(){h(this,t)}return p(t,[{key:"supports",value:function(t){return ns(t)}},{key:"create",value:function(t){return new Ca(t)}}]),t}(),Sa=function(t,e){return e},Ca=function(){function t(e){h(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Sa}return p(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Na(n,r,i)?e:n,s=Na(o,r,i),u=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var a=s-r,c=u-r;if(a!=c){for(var l=0;l<a;l++){var f=l<i.length?i[l]:i[l]=0,h=f+l;c<=h&&h<a&&(i[l]=f+1)}i[o.previousIndex]=c-a}}s!==u&&t(o,s,u)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!ns(t))throw new Error("Error trying to diff '".concat(k(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(var u=0;u<this.length;u++)r=t[u],i=this._trackByFn(u,r),null!==o&&Object.is(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,u)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,u),s=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[ts()]();!(r=i.next()).done;)e(r.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(s&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),s=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Aa(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ja),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ja),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),Aa=function t(e,n){h(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},xa=function(){function t(){h(this,t),this._head=null,this._tail=null}return p(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),ja=function(){function t(){h(this,t),this.map=new Map}return p(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new xa,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function Na(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Da=function(){function t(){h(this,t)}return p(t,[{key:"supports",value:function(t){return t instanceof Map||rs(t)}},{key:"create",value:function(){return new Ra}}]),t}(),Ra=function(){function t(){h(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return p(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||rs(t)))throw new Error("Error trying to diff '".concat(k(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Pa(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),Pa=function t(e){h(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function La(){return new Ma([new Oa])}var Ma=function(){var t=function(){function t(e){h(this,t),this.factories=e}return p(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||La())},deps:[[t,new Fn,new Mn]]}}}]),t}();return t.\u0275prov=D({token:t,providedIn:"root",factory:La}),t}();function Fa(){return new Va([new Da])}var Va=function(){var t=function(){function t(e){h(this,t),this.factories=e}return p(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||Fa())},deps:[[t,new Fn,new Mn]]}}}]),t}();return t.\u0275prov=D({token:t,providedIn:"root",factory:Fa}),t}();function qa(t,e,n,r){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var s=e[n.index];if(null!==s&&r.push(qt(s)),Et(s))for(var u=10;u<s.length;u++){var a=s[u],c=a[1].firstChild;null!==c&&qa(a[1],a,c,r)}var l=n.type;if(8&l)qa(t,e,n.child,r);else if(32&l)for(var f=Fr(n,e),h=void 0;h=f();)r.push(h);else if(16&l){var d=fi(e,n);if(Array.isArray(d))r.push.apply(r,i(d));else{var p=Vr(e[16]);qa(p[1],p,d,r,!0)}}n=o?n.projectionNext:n.next}return r}var Ua=function(){function t(e,n){h(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return p(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return qa(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(Et(t)){var e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Yr(t,n),_n(e,n))}this._attachedToViewContainer=!1}Jr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){$i(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){bo(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){wo(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){le(!0);try{wo(t,e,n)}finally{le(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,vi(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),Ba=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t))._view=t,r}return p(n,[{key:"detectChanges",value:function(){_o(this._view)}},{key:"checkNoChanges",value:function(){!function(t){le(!0);try{_o(t)}finally{le(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Ua),Ha=Ka,za=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=Ha,t.__ChangeDetectorRef__=!0,t}();function Ka(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Tt(t)){var r=Kt(t.index,e);return new Ua(r,r)}return 47&t.type?new Ua(e[16],e):null}(re(),te(),t)}var Ga=[new Da],Wa=new Ma([new Oa]),Qa=new Va(Ga),Ya=function(){return Za(re(),te())},Ja=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=Ya,t}(),Xa=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=r,o.elementRef=i,o}return p(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=qi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),zi(e,n,t),new Ua(n)}}]),n}(Ja);function Za(t,e){return 4&t.type?new Xa(e,t,ya(t,e)):null}var $a=function t(){h(this,t)},tc=function t(){h(this,t)},ec=function(){return sc(re(),te())},nc=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=ec,t}(),rc=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=r,o._hostLView=i,o}return p(n,[{key:"element",get:function(){return ya(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new ln(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=Xe(this._hostTNode,this._hostLView);if(Be(t)){var e=ze(t,this._hostLView),n=He(t);return new ln(e[1].data[n+8],e)}return new ln(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=ic(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var s=o.get($a,null);s&&(i=s)}var u=t.create(o,r,void 0,i);return this.insert(u.hostView,e),u}},{key:"insert",value:function(t,e){var r=t._lView,i=r[1];if(Et(r[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var s=r[3],u=new n(s,s[6],s[3]);u.detach(u.indexOf(t))}}var a=this._adjustIndex(e),c=this._lContainer;!function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],wn(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var s=e[17];null!==s&&n!==s&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);var u=e[19];null!==u&&u.insertView(t),e[2]|=128}(i,r,c,a);var l=hi(a,c),f=r[11],h=ri(f,c[7]);return null!==h&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,vi(t,r,n,1,i,o)}(i,c[6],f,r,h,l),t.attachToViewContainerRef(),wn(oc(c),a,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=ic(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=Yr(this._lContainer,e);n&&(_n(oc(this._lContainer),e),Jr(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=Yr(this._lContainer,e);return n&&null!=_n(oc(this._lContainer),e)?new Ua(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(nc);function ic(t){return t[8]}function oc(t){return t[8]||(t[8]=[])}function sc(t,e){var n,r=e[t.index];if(Et(r))n=r;else{var i;if(8&t.type)i=qt(r);else{var o=e[11];i=o.createComment("");var s=Bt(t,e);ti(o,ri(o,s),i,function(t,e){return Ft(t)?t.nextSibling(e):e.nextSibling}(o,s),!1)}e[t.index]=n=po(r,e,i,t),mo(e,n)}return new rc(n,t,e)}var uc={},ac=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this)).ngModule=t,r}return p(n,[{key:"resolveComponentFactory",value:function(t){var e=wt(t);return new fc(e,this.ngModule)}}]),n}(pa);function cc(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var lc=new vn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Rr}}),fc=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(Ai).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return p(n,[{key:"inputs",get:function(){return cc(this.componentDef.inputs)}},{key:"outputs",get:function(){return cc(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,r){var i,o,s=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,uc,i);return o!==uc||r===uc?o:e.get(n,r,i)}}}(t,r.injector):t,u=s.get(wa,Vt),a=s.get(Ea,null),c=u.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",f=n?function(t,e,n){if(Ft(t))return t.selectRootElement(e,n===Q.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Wr(u.createRenderer(null,this.componentDef),l,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,d={components:[],scheduler:Rr,clean:Eo,playerHandler:null,flags:0},p=Zi(0,null,null,1,0,null,null,null,null,null),v=qi(null,p,d,h,null,null,u,c,a,s);_e(v);try{var y=function(t,e,n,r,i,o){var s=n[1];n[20]=t;var u=Ui(s,20,2,"#host",null),a=u.mergedAttrs=e.hostAttrs;null!==a&&(Ao(u,a,!0),null!==t&&(Me(i,t,a),null!==u.classes&&mi(i,t,u.classes),null!==u.styles&&gi(i,t,u.styles)));var c=r.createRenderer(t,e),l=qi(n,Xi(e),null,e.onPush?64:16,n[20],u,r,c,null,null);return s.firstCreatePass&&(Ze(Qe(u,n),s,e.type),oo(s,u),uo(u,n.length,1)),mo(n,l),n[20]=l}(f,this.componentDef,v,u,c);if(f)if(n)Me(c,f,["ng-version",Ta.full]);else{var g=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ii(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),m=g.attrs,b=g.classes;m&&Me(c,f,m),b&&b.length>0&&mi(c,f,b.join(" "))}if(o=Ht(p,20),void 0!==e)for(var w=o.projection=[],_=0;_<this.ngContentSelectors.length;_++){var k=e[_];w.push(null!=k?Array.from(k):null)}i=function(t,e,n,r,i){var o=n[1],s=function(t,e,n){var r=re();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ao(t,r,e,Hi(t,e,1,null),n));var i=un(e,t,r.directiveStart,r);Dr(i,e);var o=Bt(r,e);return o&&Dr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(function(t){return t(s,e)}),e.contentQueries){var u=re();e.contentQueries(1,s,u.directiveStart)}var a=re();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ce(a.index),ro(n[1],a,0,a.directiveStart,a.directiveEnd,e),io(e,s)),s}(y,this.componentDef,v,d,[Wo]),zi(p,v,null)}finally{Oe()}return new hc(this.componentType,i,ya(o,v),v,o)}}]),n}(ha),hc=function(t){v(n,t);var e=g(n);function n(t,r,i,o,s){var u;return h(this,n),(u=e.call(this)).location=i,u._rootLView=o,u._tNode=s,u.instance=r,u.hostView=u.changeDetectorRef=new Ba(o),u.componentType=t,u}return p(n,[{key:"injector",get:function(){return new ln(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(function(){return function t(){h(this,t)}}()),dc=new Map,pc=function(t){v(n,t);var e=g(n);function n(t,r){var i;h(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=b(i),i.destroyCbs=[],i.componentFactoryResolver=new ac(b(i));var o=_t(t),s=t[ut]||null;return s&&mu(s),i._bootstrapComponents=Pr(o.bootstrap),i._r3Injector=Fo(t,r,[{provide:$a,useValue:b(i)},{provide:pa,useValue:i.componentFactoryResolver}],k(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return p(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Go.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H.Default;return t===Go||t===$a||t===jo?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}($a),vc=function(t){v(n,t);var e=g(n);function n(t){var r,i,o;return h(this,n),(r=e.call(this)).moduleType=t,null!==_t(t)&&(i=t,o=new Set,function t(e){var n=_t(e,!0),r=n.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(k(e)," vs ").concat(k(e.name)))}(r,dc.get(r),e),dc.set(r,e));var i,u=s(Pr(n.imports));try{for(u.s();!(i=u.n()).done;){var a=i.value;o.has(a)||(o.add(a),t(a))}}catch(c){u.e(c)}finally{u.f()}}(i)),r}return p(n,[{key:"create",value:function(t){return new pc(this.moduleType,t)}}]),n}(tc);function yc(t,e,n,r){return wc(te(),fe(),t,e,n,r)}function gc(t,e,n,r,i){return function(t,e,n,r,i,o,s){var u=e+n;return ss(t,u,i,o)?is(t,u+2,s?r.call(s,i,o):r(i,o)):bc(t,u+2)}(te(),fe(),t,e,n,r,i)}function mc(t,e,n,r,i,o){return function(t,e,n,r,i,o,s,u){var a=e+n;return function(t,e,n,r,i){var o=ss(t,e,n,r);return os(t,e+2,i)||o}(t,a,i,o,s)?is(t,a+3,u?r.call(u,i,o,s):r(i,o,s)):bc(t,a+3)}(te(),fe(),t,e,n,r,i,o)}function bc(t,e){var n=t[e];return n===xi?void 0:n}function wc(t,e,n,r,i,o){var s=e+n;return os(t,s,i)?is(t,s+1,o?r.call(o,i):r(i)):bc(t,s+1)}function _c(t,e){var n,r=ee(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new C("302","The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Ct(n.type)),s=z(fs);try{var u=Ge(!1),a=o();return Ge(u),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(r,te(),i,a),a}finally{z(s)}}function kc(t,e,n){var r=t+20,i=te(),o=zt(i,r);return function(t,e){return es.isWrapped(e)&&(e=es.unwrap(e),t[he()]=xi),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?wc(i,fe(),e,o.transform,n,o):o.transform(n))}var Ec=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return h(this,n),(t=e.call(this)).__isAsync=r,t}return p(n,[{key:"emit",value:function(t){f(_(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o=function(t){return null},s=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var a=f(_(n.prototype),"subscribe",this).call(this,i,o,s);return t instanceof u.a&&t.add(a),a}}]),n}(o.a);function Ic(){return this._results[ts()]()}var Tc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];h(this,t),this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=ts(),r=t.prototype;r[n]||(r[n]=Ic)}return p(t,[{key:"changes",get:function(){return this._changes||(this._changes=new Ec)}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,e){this.dirty=!1;var n=mn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Oc=function(){function t(e){h(this,t),this.queryList=e,this.matches=null}return p(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),Sc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];h(this,t),this.queries=e}return p(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Uc(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Cc=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;h(this,t),this.predicate=e,this.flags=n,this.read=r},Ac=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];h(this,t),this.queries=e}return p(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),xc=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;h(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return p(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,jc(e,i)),this.matchTNodeWithReadOption(t,e,sn(e,t,i,!1,!1))}else n===Ja?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,sn(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===ma||r===nc||r===Ja&&4&e.type)this.addMatch(e.index,-2);else{var i=sn(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function jc(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Nc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?ya(t,e):4&t.type?Za(t,e):null}(e,t):-2===n?function(t,e,n){return n===ma?ya(e,t):n===Ja?Za(e,t):n===nc?sc(e,t):void 0}(t,e,r):un(t,t[1],n,e)}function Dc(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,s=n.matches,u=[],a=0;a<s.length;a+=2){var c=s[a];u.push(c<0?null:Nc(e,o[c],s[a+1],n.metadata.read))}i.matches=u}return i.matches}function Rc(t,e,n,r){var i=t.queries.getByIndex(n),o=i.matches;if(null!==o)for(var s=Dc(t,e,i,n),u=0;u<o.length;u+=2){var a=o[u];if(a>0)r.push(s[u/2]);else{for(var c=o[u+1],l=e[-a],f=10;f<l.length;f++){var h=l[f];h[17]===h[3]&&Rc(h[1],h,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];Rc(v[1],v,c,r)}}}return r}function Pc(t){var e=te(),n=ee(),r=ge();me(r+1);var i=Uc(n,r);if(t.dirty&&Wt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?Rc(n,e,r,[]):Dc(n,e,i,r);t.reset(o,ba),t.notifyOnChanges()}return!0}return!1}function Lc(t,e,n){var r=ee();r.firstCreatePass&&(qc(r,new Cc(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Vc(r,te(),e)}function Mc(t,e,n,r){var i=ee();if(i.firstCreatePass){var o=re();qc(i,new Cc(e,n,r),o.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Vc(i,te(),n)}function Fc(){return t=te(),e=ge(),t[19].queries[e].queryList;var t,e}function Vc(t,e,n){var r=new Tc(4==(4&n));$i(t,e,r,r.destroy),null===e[19]&&(e[19]=new Sc),e[19].queries.push(new Oc(r))}function qc(t,e,n){null===t.queries&&(t.queries=new Ac),t.queries.track(new xc(e,n))}function Uc(t,e){return t.queries.getByIndex(e)}function Bc(t,e){return Za(t,e)}function Hc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.Default,e=Ka(!0);if(null!=e||t&H.Optional)return e;j("ChangeDetectorRef")}var zc=new vn("Application Initializer"),Kc=function(){var t=function(){function t(e){var n=this;h(this,t),this.appInits=e,this.resolve=va,this.reject=va,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return p(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();ws(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(zc,8))},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}(),Gc=new vn("AppId"),Wc={provide:Gc,useFactory:function(){return"".concat(Qc()).concat(Qc()).concat(Qc())},deps:[]};function Qc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Yc=new vn("Platform Initializer"),Jc=new vn("Platform ID"),Xc=new vn("appBootstrapListener"),Zc=function(){var t=function(){function t(){h(this,t)}return p(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}(),$c=new vn("LocaleId"),tl=new vn("DefaultCurrencyCode"),el=function t(e,n){h(this,t),this.ngModuleFactory=e,this.componentFactories=n},nl=function(t){return new vc(t)},rl=nl,il=function(t){return Promise.resolve(nl(t))},ol=function(t){var e=nl(t),n=Pr(_t(t).declarations).reduce(function(t,e){var n=wt(e);return n&&t.push(new fc(n)),t},[]);return new el(e,n)},sl=ol,ul=function(t){return Promise.resolve(ol(t))},al=function(){var t=function(){function t(){h(this,t),this.compileModuleSync=rl,this.compileModuleAsync=il,this.compileModuleAndAllComponentsSync=sl,this.compileModuleAndAllComponentsAsync=ul}return p(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}(),cl=Promise.resolve(0);function ll(t){"undefined"==typeof Zone?cl.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var fl=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,s=e.shouldCoalesceEventChangeDetection,u=void 0!==s&&s,a=e.shouldCoalesceRunChangeDetection,c=void 0!==a&&a;if(h(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ec(!1),this.onMicrotaskEmpty=new Ec(!1),this.onStable=new Ec(!1),this.onError=new Ec(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!c&&u,this.shouldCoalesceRunChangeDetection=c,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=$.requestAnimationFrame,e=$.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,pl(t),dl(t)},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),pl(t))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,i,o,s,u){try{return vl(n),t.invokeTask(i,o,s,u)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&r(),yl(n)}},onInvoke:function(t,e,i,o,s,u,a){try{return vl(n),t.invoke(i,o,s,u,a)}finally{n.shouldCoalesceRunChangeDetection&&r(),yl(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,pl(n),dl(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular(function(){return n.onError.emit(i)}),!1}})}return p(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,hl,va,va);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),hl={};function dl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function pl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function vl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yl(t){t._nesting--,dl(t)}var gl=function(){function t(){h(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ec,this.onMicrotaskEmpty=new Ec,this.onStable=new Ec,this.onError=new Ec}return p(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),ml=function(){var t=function(){function t(e){var n=this;h(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return p(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){fl.assertNotInAngularZone(),ll(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())ll(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(fl))},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}(),bl=function(){var t=function(){function t(){h(this,t),this._applications=new Map,kl.addToWindow(this)}return p(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return kl.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}();function wl(t){kl=t}var _l,kl=new(function(){function t(){h(this,t)}return p(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),El=!0,Il=!1;function Tl(){return Il=!0,El}function Ol(){if(Il)throw new Error("Cannot enable prod mode after platform setup.");El=!1}var Sl=new vn("AllowMultipleToken"),Cl=function t(e,n){h(this,t),this.name=e,this.token=n};function Al(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new vn(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=xl();if(!o||o.injector.get(Sl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var s=n.concat(e).concat({provide:i,useValue:!0},{provide:Do,useValue:"platform"});!function(t){if(_l&&!_l.destroyed&&!_l.injector.get(Sl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");_l=t.get(jl);var e=t.get(Yc,null);e&&e.forEach(function(t){return t()})}(Go.create({providers:s,name:r}))}return function(t){var e=xl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function xl(){return _l&&!_l.destroyed?_l:null}var jl=function(){var t=function(){function t(e){h(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return p(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r={ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1},"noop"===n?new gl:("zone.js"===n?void 0:n)||new fl({enableLongStackTrace:Tl(),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),s=[{provide:fl,useValue:o}];return o.run(function(){var e=Go.create({providers:s,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(xr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){r.handleError(t)}});n.onDestroy(function(){Rl(i._modules,n),t.unsubscribe()})}),function(t,e,r){try{var o=((s=n.injector.get(Kc)).runInitializers(),s.donePromise.then(function(){return mu(n.injector.get($c,"en-US")||"en-US"),i._moduleDoBootstrap(n),n}));return ws(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(u){throw e.runOutsideAngular(function(){return t.handleError(u)}),u}var s}(r,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Nl({},n);return function(t,e,n){var r=new vc(n);return Promise.resolve(r)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,r)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Dl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(k(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(Go))},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}();function Nl(t,e){return Array.isArray(e)?e.reduce(Nl,t):Object.assign(Object.assign({},t),e)}var Dl=function(){var t=function(){function t(e,n,r,i,o){var s=this;h(this,t),this._zone=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run(function(){s.tick()})}});var u=new a.a(function(t){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular(function(){t.next(s._stable),t.complete()})}),c=new a.a(function(t){var e;s._zone.runOutsideAngular(function(){e=s._zone.onStable.subscribe(function(){fl.assertNotInAngularZone(),ll(function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,t.next(!0))})})});var n=s._zone.onUnstable.subscribe(function(){fl.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(d.a)(u,c.pipe(Object(y.a)()))}return p(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof ha?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get($a),o=n.create(Go.NULL,[],e||n.selector,i),s=o.location.nativeElement,u=o.injector.get(ml,null),a=u&&o.injector.get(bl);return u&&a&&a.registerApplication(s,u),o.onDestroy(function(){r.detachView(o.hostView),Rl(r.components,o),a&&a.unregisterApplication(s)}),this._loadComponent(o),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=s(this._views);try{for(n.s();!(e=n.n()).done;){e.value.detectChanges()}}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Rl(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Xc,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(fl),Nn(Go),Nn(xr),Nn(pa),Nn(Kc))},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}();function Rl(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Pl=function t(){h(this,t)},Ll=function t(){h(this,t)},Ml={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Fl=function(){var t=function(){function t(e,n){h(this,t),this._compiler=e,this._config=n||Ml}return p(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var n=this,i=e(t.split("#"),2),o=i[0],s=i[1];return void 0===s&&(s="default"),r("zn8P")(o).then(function(t){return t[s]}).then(function(t){return Vl(t,o,s)}).then(function(t){return n._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(t){var n=e(t.split("#"),2),i=n[0],o=n[1],s="NgFactory";return void 0===o&&(o="default",s=""),r("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+s]}).then(function(t){return Vl(t,i,o)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(al),Nn(Ll,8))},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}();function Vl(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var ql=function(t){return null},Ul=Al(null,"core",[{provide:Jc,useValue:"unknown"},{provide:jl,deps:[Go]},{provide:bl,deps:[]},{provide:Zc,deps:[]}]),Bl=[{provide:Dl,useClass:Dl,deps:[fl,Go,xr,pa,Kc]},{provide:lc,deps:[fl],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Kc,useClass:Kc,deps:[[new Mn,zc]]},{provide:al,useClass:al,deps:[]},Wc,{provide:Ma,useFactory:function(){return Wa},deps:[]},{provide:Va,useFactory:function(){return Qa},deps:[]},{provide:$c,useFactory:function(t){return mu(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new Ln($c),new Mn,new Fn]]},{provide:tl,useValue:"USD"}],Hl=function(){var t=function t(e){h(this,t)};return t.\u0275fac=function(e){return new(e||t)(Nn(Dl))},t.\u0275mod=vt({type:t}),t.\u0275inj=R({providers:Bl}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){h(this,t),this.project=e,this.thisArg=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}]),t}(),s=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||b(o),o}return p(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"g",function(){return a}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function u(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}a((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return u});var r=n("7o/Q"),i=n("WMd4");function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new s(t,e))}}var s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h(this,t),this.scheduler=e,this.delay=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))}}]),t}(),u=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return h(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return p(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new a(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(i.a.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(r.a),a=function t(e,n){h(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return f}),n.d(e,"c",function(){return h}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),u={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},a=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},f=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function h(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=u[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var u=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:u,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return g}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return f}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return a}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return h}),n.d(e,"o",function(){return v});var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function h(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return u().indexOf("Electron/")>=0}function p(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return u().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return Object(r.c)(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",u=this.serviceName+": "+s+" ("+i+").",a=new y(i,u,r);return a},t}();function m(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new k(t,e);return n.subscribe.bind(n)}var k=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?f(_(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?f(_(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?f(_(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=new(function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(r),o=i},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r,i,o=n("DH7j"),s=n("XoHu"),u=n("n6bG"),a=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=((i=function(){function t(e){h(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return p(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var f=0;f<n.length;++f)n[f].remove(this);if(Object(u.a)(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(v){e=v instanceof a?l(v.errors):[v]}}if(Object(o.a)(c))for(var h=-1,d=c.length;++h<d;){var p=c[h];if(Object(s.a)(p))try{p.unsubscribe()}catch(v){e=e||[],v instanceof a?e=e.concat(l(v.errors)):e.push(v)}}if(e)throw new a(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new i).closed=!0,r),i);function l(t){return t.reduce(function(t,e){return t.concat(e instanceof a?e.errors:e)},[])}},spgP:function(t,e,s){"use strict";(function(t){s.d(e,"a",function(){return D}),s.d(e,"b",function(){return O}),s.d(e,"c",function(){return T}),s.d(e,"d",function(){return w}),s.d(e,"e",function(){return I}),s.d(e,"f",function(){return j}),s.d(e,"g",function(){return C}),s.d(e,"h",function(){return _}),s.d(e,"i",function(){return E}),s.d(e,"j",function(){return A});var a=s("qgXg"),c=s("D0XW"),l=s("vkgz"),f=s("tf+s"),d=s("pxpQ"),v=s("fXoL"),y=s("Jgta");function g(){}var m=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.b;h(this,t),this.zone=e,this.delegate=n}return p(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule(function(e){var n=this;r.runGuarded(function(){t.apply(n,[e])})},e,n)}}]),t}(),b=function(){function t(e){h(this,t),this.zone=e,this.task=null}return p(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",g,{},g,g)}),e.pipe(Object(l.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout(function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)},10)}}]),t}(),w=function t(e){h(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular(function(){return new m(Zone.current)}),this.insideAngular=e.run(function(){return new m(Zone.current,c.b)})};function _(t){return function(e){return(e=e.lift(new b(t.ngZone))).pipe(Object(f.a)(t.outsideAngular),Object(d.b)(t.insideAngular))}}var k=["ngOnDestroy"],E=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(o,s){return n.runOutsideAngular(function(){var o;if(t[s])return(null===(o=null==r?void 0:r.spy)||void 0===o?void 0:o.get)&&r.spy.get(s,t[s]),t[s];if(k.indexOf(s)>-1)return function(){};var u=e.toPromise().then(function(t){var e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(function(t){return n.run(function(){return t})}):n.run(function(){return e})});return new Proxy(function(){},{get:function(t,e){return u[e]},apply:function(t,e,n){return u.then(function(t){var e,o=t&&t.apply(void 0,i(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,o),o})}})})}})},I=function(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype||e).forEach(function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},T=new v.r("angularfire2.app.options"),O=new v.r("angularfire2.app.nameOrConfig"),S=new v.P("6.1.4");function C(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=y.a.apps.filter(function(t){return t&&t.name===i.name})[0]||n.runOutsideAngular(function(){return y.a.initializeApp(e,i)});try{JSON.stringify(e)!==JSON.stringify(o.options)&&x("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(s){}return o}var A=function(){x("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},x=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(v.V)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function j(e,s,a,c,l){var f,h=globalThis.\u0275AngularfireInstanceCache.get(e)||[],d=r(f=h)||o(f)||u(f)||n(),p=d[0],v=d.slice(1);if(p){try{l.some(function(t,e){var n=v[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&x("error","".concat(s," was already initialized on the ").concat(a.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(g){}return p}var y=c();return globalThis.\u0275AngularfireInstanceCache.set(e,[y].concat(i(l))),y}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var N={provide:function t(){h(this,t)},useFactory:C,deps:[T,v.A,[new v.B,O]]},D=function(){var t=function(){function t(e){h(this,t),y.a.registerVersion("angularfire",S.full,e.toString()),y.a.registerVersion("angular",v.O.full)}return p(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:T,useValue:e},{provide:O,useValue:n}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(v.Yb(v.C))},t.\u0275mod=v.Kb({type:t}),t.\u0275inj=v.Jb({providers:[N]}),t}()}).call(this,s("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("HDdC"),i=1,o=Promise.resolve(),s={};function u(t){return t in s&&(delete s[t],!0)}var a=function(t){var e=i++;return s[e]=!0,o.then(function(){return u(e)&&t()}),e},c=function(t){u(t)},l=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return p(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?f(_(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=a(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return f(_(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(c(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),d=new(function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(l),y=n("Y7HM"),m=function(t){v(n,t);var e=g(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return h(this,n),(r=e.call(this)).source=t,r.delayTime=i,r.scheduler=o,(!Object(y.a)(i)||i<0)&&(r.delayTime=0),o&&"function"==typeof o.schedule||(r.scheduler=d),r}return p(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.a);function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new w(t,e))}}var w=function(){function t(e,n){h(this,t),this.scheduler=e,this.delay=n}return p(t,[{key:"call",value:function(t,e){return new m(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new u(t,e,n))}}var u=function(){function t(e,n,r){h(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),a=function(t){v(n,t);var e=g(n);function n(t,r,s,u){var a;return h(this,n),(a=e.call(this,t))._tapNext=i.a,a._tapError=i.a,a._tapComplete=i.a,a._tapError=s||i.a,a._tapComplete=u||i.a,Object(o.a)(r)?(a._context=b(a),a._tapNext=r):r&&(a._context=r,a._tapNext=r.next||i.a,a._tapError=r.error||i.a,a._tapComplete=r.complete||i.a),a}return p(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("EQ5u"),i=n("x+ZX"),o=n("XNiG");function s(){return new o.a}function u(){return function(t){return Object(i.a)()((e=s,function(t){var n;n="function"==typeof e?e:function(){return e};var i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}var o=function(){function t(e){h(this,t),this.connectable=e}return p(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),s=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).connectable=r,i}return p(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(r.a)},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?function(n){return e.schedule(o,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function o(t){var e=t.error;t.subscriber.error(e)}},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),u=n("/6Yf"),a=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),f="@firebase/app",h=((i={})[f]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new a.b("@firebase/app"),p=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new u.b(e.name),this._addComponent(new u.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var u=o.name;if("string"!=typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if(Object(s.c)(e,u))throw l.create("duplicate-app",{appName:u});var a=new t(n,o,r);return e[u]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&c.push("and"),a&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}o(new u.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:a.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(a.d)(t,e)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var u=o.name;if(n.has(u))return d.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[u])throw l.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&Object(s.f)(a,o.serviceProps),r[u]=a,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,u).apply(this,o.multipleInstances?t:[])}}for(var c=0,f=Object.keys(e);c<f.length;c++)e[f[c]]._addComponent(o);return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(p);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var b=v;!function(t,e){t.INTERNAL.registerComponent(new u.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(f,"0.6.17",void 0),t.registerVersion("fire-js","")}(b),e.a=b},zUnb:function(n,r,o){"use strict";o.r(r);var u=o("fXoL"),a=null;function c(){return a}var l,d=new u.r("DocumentToken"),y=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),m=u.mb,w=function t(){h(this,t)},k=((l=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this)).locale=t,r}return p(n,[{key:"getPluralCategory",value:function(t,e){switch(m(e||this.locale)(t)){case y.Zero:return"zero";case y.One:return"one";case y.Two:return"two";case y.Few:return"few";case y.Many:return"many";default:return"other"}}}]),n}(w)).\u0275fac=function(t){return new(t||l)(u.Yb(u.v))},l.\u0275prov=u.Ib({token:l,factory:l.\u0275fac}),l);function E(t,n){n=encodeURIComponent(n);var r,i=s(t.split(";"));try{for(i.s();!(r=i.n()).done;){var o=r.value,u=o.indexOf("="),a=e(-1==u?[o,""]:[o.slice(0,u),o.slice(u+1)],2),c=a[0],l=a[1];if(c.trim()===n)return decodeURIComponent(l)}}catch(f){i.e(f)}finally{i.f()}return null}var I,T=((I=function t(){h(this,t)}).\u0275fac=function(t){return new(t||I)},I.\u0275mod=u.Kb({type:I}),I.\u0275inj=u.Jb({providers:[{provide:w,useClass:k}]}),I);function O(t){return"server"===t}var S,C,A,x,j=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=N||(N=document.querySelector("base"))?N.getAttribute("href"):null;return null==n?null:(e=n,S||(S=document.createElement("a")),S.setAttribute("href",e),"/"===S.pathname.charAt(0)?S.pathname:"/"+S.pathname)}},{key:"resetBaseElement",value:function(){N=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return E(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,a||(a=t)}}]),n}(function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.call(this)}return p(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){h(this,t)}}())),N=null,D=new u.r("TRANSITION_ID"),R=[{provide:u.d,useFactory:function(t,e,n){return function(){n.get(u.e).donePromise.then(function(){var n=c();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[D,d,u.s],multi:!0}],P=function(){function t(){h(this,t)}return p(t,[{key:"addToWindow",value:function(t){u.ob.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},u.ob.getAllAngularTestabilities=function(){return t.getAllTestabilities()},u.ob.getAllAngularRootElements=function(){return t.getAllRootElements()},u.ob.frameworkStabilizers||(u.ob.frameworkStabilizers=[]),u.ob.frameworkStabilizers.push(function(t){var e=u.ob.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?c().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(u.X)(new t)}}]),t}(),L=new u.r("EventManagerPlugins"),M=((C=function(){function t(e,n){var r=this;h(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=r}),this._plugins=e.slice().reverse()}return p(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}()).\u0275fac=function(t){return new(t||C)(u.Yb(L),u.Yb(u.A))},C.\u0275prov=u.Ib({token:C,factory:C.\u0275fac}),C),F=function(){function t(e){h(this,t),this._doc=e}return p(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=c().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),V=((x=function(){function t(){h(this,t),this._stylesSet=new Set}return p(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||x)},x.\u0275prov=u.Ib({token:x,factory:x.\u0275fac}),x),q=((A=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return p(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(t){return c().remove(t)})}}]),n}(V)).\u0275fac=function(t){return new(t||A)(u.Yb(d))},A.\u0275prov=u.Ib({token:A,factory:A.\u0275fac}),A),U={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},B=/%COMP%/g;function H(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?H(t,i,n):(i=i.replace(B,t),n.push(i))}return n}function z(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var K,G,W,Q,Y=((K=function(){function t(e,n,r){h(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new J(e)}return p(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case u.R.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new X(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case u.R.ShadowDom:return new Z(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=H(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||K)(u.Yb(M),u.Yb(q),u.Yb(u.c))},K.\u0275prov=u.Ib({token:K,factory:K.\u0275fac}),K),J=function(){function t(e){h(this,t),this.eventManager=e,this.data=Object.create(null)}return p(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(U[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=U[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=U[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&(u.G.DashCase|u.G.Important)?t.style.setProperty(e,n,r&u.G.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&u.G.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,z(n)):this.eventManager.addEventListener(t,e,z(n))}}]),t}(),X=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var s;h(this,n),(s=e.call(this,t)).component=i;var u=H(o+"-"+i.id,i.styles,[]);return r.addStyles(u),s.contentAttr="_ngcontent-%COMP%".replace(B,o+"-"+i.id),s.hostAttr="_nghost-%COMP%".replace(B,o+"-"+i.id),s}return p(n,[{key:"applyToHost",value:function(t){f(_(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=f(_(n.prototype),"createElement",this).call(this,t,e);return f(_(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(J),Z=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var s;h(this,n),(s=e.call(this,t)).sharedStylesHost=r,s.hostEl=i,s.shadowRoot=i.attachShadow({mode:"open"}),s.sharedStylesHost.addHost(s.shadowRoot);for(var u=H(o.id,o.styles,[]),a=0;a<u.length;a++){var c=document.createElement("style");c.textContent=u[a],s.shadowRoot.appendChild(c)}return s}return p(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return f(_(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return f(_(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return f(_(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(f(_(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(J),$=((G=function(t){v(n,t);var e=g(n);function n(t){return h(this,n),e.call(this,t)}return p(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(F)).\u0275fac=function(t){return new(t||G)(u.Yb(d))},G.\u0275prov=u.Ib({token:G,factory:G.\u0275fac}),G),tt=["alt","control","meta","shift"],et={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},rt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},it=((W=function(t){v(n,t);var e=g(n);function n(t){return h(this,n),e.call(this,t)}return p(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return c().onAndCancel(t,i.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(tt.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&nt.hasOwnProperty(e)&&(e=nt[e]))}return et[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),tt.forEach(function(r){r!=n&&(0,rt[r])(t)&&(e+=r+".")}),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(F)).\u0275fac=function(t){return new(t||W)(u.Yb(d))},W.\u0275prov=u.Ib({token:W,factory:W.\u0275fac}),W),ot=[{provide:u.C,useValue:"browser"},{provide:u.D,useValue:function(){j.makeCurrent(),P.init()},multi:!0},{provide:d,useFactory:function(){return Object(u.ub)(document),document},deps:[]}],st=Object(u.S)(u.W,"browser",ot),ut=[[],{provide:u.Z,useValue:"root"},{provide:u.m,useFactory:function(){return new u.m},deps:[]},{provide:L,useClass:$,multi:!0,deps:[d,u.A,u.C]},{provide:L,useClass:it,multi:!0,deps:[d]},[],{provide:Y,useClass:Y,deps:[M,q,u.c]},{provide:u.F,useExisting:Y},{provide:V,useExisting:q},{provide:q,useClass:q,deps:[d]},{provide:u.M,useClass:u.M,deps:[u.A]},{provide:M,useClass:M,deps:[L,u.A]},[]],at=((Q=function(){function t(e){if(h(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return p(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:u.c,useValue:e.appId},{provide:D,useExisting:u.c},R]}}}]),t}()).\u0275fac=function(t){return new(t||Q)(u.Yb(Q,12))},Q.\u0275mod=u.Kb({type:Q}),Q.\u0275inj=u.Jb({providers:ut,imports:[T,u.f]}),Q);"undefined"!=typeof window&&window;var ct=o("z6cu"),lt=o("zx2A"),ft=function(){function t(e){h(this,t),this.selector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new ht(t,this.selector,this.caught))}}]),t}(),ht=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return p(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void f(_(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new lt.a(this);this.add(r);var i=Object(lt.c)(e,r);i!==r&&this.add(i)}}}]),n}(lt.b),dt=o("LRne"),pt=o("HDdC"),vt=o("5+tZ"),yt=o("7o/Q");function gt(t,e){return function(n){return n.lift(new mt(t,e))}}var mt=function(){function t(e,n){h(this,t),this.predicate=e,this.thisArg=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new bt(t,this.predicate,this.thisArg))}}]),t}(),bt=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return p(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(yt.a),wt=o("lJxs"),_t=function t(){h(this,t)},kt=function t(){h(this,t)},Et=function(){function t(e){var n=this;h(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}})}:function(){n.headers=new Map,Object.keys(e).forEach(function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))})}:this.headers=new Map}return p(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,i(n)),this.headers.set(e,r);break;case"d":var o=t.value;if(o){var s=this.headers.get(e);if(!s)return;0===(s=s.filter(function(t){return-1===o.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})}}]),t}(),It=function(){function t(){h(this,t)}return p(t,[{key:"encodeKey",value:function(t){return Tt(t)}},{key:"encodeValue",value:function(t){return Tt(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function Tt(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Ot=function(){function t(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(h(this,t),this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new It,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,n){var r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(t){var i=t.indexOf("="),o=e(-1==i?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,i)),n.decodeValue(t.slice(i+1))],2),s=o[0],u=o[1],a=r.get(s)||[];a.push(u),r.set(s,a)}),r}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(function(t){var e=r.fromObject[t];n.map.set(t,Array.isArray(e)?e:[e])})):this.map=null}return p(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"appendAll",value:function(t){var e=[];return Object.keys(t).forEach(function(n){var r=t[n];Array.isArray(r)?r.forEach(function(t){e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).filter(function(t){return""!==t}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)}}]),t}();function St(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Ct(t){return"undefined"!=typeof Blob&&t instanceof Blob}function At(t){return"undefined"!=typeof FormData&&t instanceof FormData}var xt=function(){function t(e,n,r,i){var o;if(h(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new Et),this.params){var s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{var u=n.indexOf("?");this.urlWithParams=n+(-1===u?"?":u<n.length-1?"&":"")+s}}else this.params=new Ot,this.urlWithParams=n}return p(t,[{key:"serializeBody",value:function(){return null===this.body?null:St(this.body)||Ct(this.body)||At(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ot?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||At(this.body)?null:Ct(this.body)?this.body.type||null:St(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ot?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,u=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,a=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},a)),e.setParams&&(c=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},c)),new t(n,r,o,{params:c,headers:a,reportProgress:u,responseType:i,withCredentials:s})}}]),t}(),jt=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),Nt=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";h(this,t),this.headers=e.headers||new Et,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},Dt=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(t=e.call(this,r)).type=jt.ResponseHeader,t}return p(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(Nt),Rt=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(t=e.call(this,r)).type=jt.Response,t.body=void 0!==r.body?r.body:null,t}return p(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(Nt),Pt=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}(Nt);function Lt(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var Mt,Ft,Vt,qt,Ut,Bt,Ht,zt,Kt,Gt,Wt,Qt,Yt=((Mt=function(){function t(e){h(this,t),this.handler=e}return p(t,[{key:"request",value:function(t,e){var n,r,i,o=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t instanceof xt?n=t:(r=s.headers instanceof Et?s.headers:new Et(s.headers),s.params&&(i=s.params instanceof Ot?s.params:new Ot({fromObject:s.params})),n=new xt(t,e,void 0!==s.body?s.body:null,{headers:r,params:i,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials}));var u,a=Object(dt.a)(n).pipe((u=function(t){return o.handler.handle(t)},Object(vt.a)(u,void 0,1)));if(t instanceof xt||"events"===s.observe)return a;var c=a.pipe(gt(function(t){return t instanceof Rt}));switch(s.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return c.pipe(Object(wt.a)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return c.pipe(Object(wt.a)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return c.pipe(Object(wt.a)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return c.pipe(Object(wt.a)(function(t){return t.body}))}case"response":return c;default:throw new Error("Unreachable: unhandled observe type ".concat(s.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new Ot).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,Lt(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,Lt(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,Lt(n,e))}}]),t}()).\u0275fac=function(t){return new(t||Mt)(u.Yb(_t))},Mt.\u0275prov=u.Ib({token:Mt,factory:Mt.\u0275fac}),Mt),Jt=function(){function t(e,n){h(this,t),this.next=e,this.interceptor=n}return p(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),Xt=new u.r("HTTP_INTERCEPTORS"),Zt=((Ft=function(){function t(){h(this,t)}return p(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Ft)},Ft.\u0275prov=u.Ib({token:Ft,factory:Ft.\u0275fac}),Ft),$t=/^\)\]\}',?\n/,te=function t(){h(this,t)},ee=((qt=function(){function t(){h(this,t)}return p(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}()).\u0275fac=function(t){return new(t||qt)},qt.\u0275prov=u.Ib({token:qt,factory:qt.\u0275fac}),qt),ne=((Vt=function(){function t(e){h(this,t),this.xhrFactory=e}return p(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new pt.a(function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(t,e){return r.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var s=t.serializeBody(),u=null,a=function(){if(null!==u)return u;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new Et(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return u=new Dt({headers:i,status:e,statusText:n,url:o})},c=function(){var e=a(),i=e.headers,o=e.status,s=e.statusText,u=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var f=c;c=c.replace($t,"");try{c=""!==c?JSON.parse(c):null}catch(h){c=f,l&&(l=!1,c={error:h,text:c})}}l?(n.next(new Rt({body:c,headers:i,status:o,statusText:s,url:u||void 0})),n.complete()):n.error(new Pt({error:c,headers:i,status:o,statusText:s,url:u||void 0}))},l=function(t){var e=a().url,i=new Pt({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},f=!1,h=function(e){f||(n.next(a()),f=!0);var i={type:jt.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:jt.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),r.addEventListener("timeout",l),r.addEventListener("abort",l),t.reportProgress&&(r.addEventListener("progress",h),null!==s&&r.upload&&r.upload.addEventListener("progress",d)),r.send(s),n.next({type:jt.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("abort",l),r.removeEventListener("load",c),r.removeEventListener("timeout",l),t.reportProgress&&(r.removeEventListener("progress",h),null!==s&&r.upload&&r.upload.removeEventListener("progress",d)),r.readyState!==r.DONE&&r.abort()}})}}]),t}()).\u0275fac=function(t){return new(t||Vt)(u.Yb(te))},Vt.\u0275prov=u.Ib({token:Vt,factory:Vt.\u0275fac}),Vt),re=new u.r("XSRF_COOKIE_NAME"),ie=new u.r("XSRF_HEADER_NAME"),oe=function t(){h(this,t)},se=((Qt=function(){function t(e,n,r){h(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return p(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=E(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}()).\u0275fac=function(t){return new(t||Qt)(u.Yb(d),u.Yb(u.C),u.Yb(re))},Qt.\u0275prov=u.Ib({token:Qt,factory:Qt.\u0275fac}),Qt),ue=((Wt=function(){function t(e,n){h(this,t),this.tokenService=e,this.headerName=n}return p(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Wt)(u.Yb(oe),u.Yb(ie))},Wt.\u0275prov=u.Ib({token:Wt,factory:Wt.\u0275fac}),Wt),ae=((Gt=function(){function t(e,n){h(this,t),this.backend=e,this.injector=n,this.chain=null}return p(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(Xt,[]);this.chain=e.reduceRight(function(t,e){return new Jt(t,e)},this.backend)}return this.chain.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Gt)(u.Yb(kt),u.Yb(u.s))},Gt.\u0275prov=u.Ib({token:Gt,factory:Gt.\u0275fac}),Gt),ce=((Kt=function(){function t(){h(this,t)}return p(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:ue,useClass:Zt}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:re,useValue:e.cookieName}:[],e.headerName?{provide:ie,useValue:e.headerName}:[]]}}}]),t}()).\u0275fac=function(t){return new(t||Kt)},Kt.\u0275mod=u.Kb({type:Kt}),Kt.\u0275inj=u.Jb({providers:[ue,{provide:Xt,useExisting:ue,multi:!0},{provide:oe,useClass:se},{provide:re,useValue:"XSRF-TOKEN"},{provide:ie,useValue:"X-XSRF-TOKEN"}]}),Kt),le=((zt=function t(){h(this,t)}).\u0275fac=function(t){return new(t||zt)},zt.\u0275mod=u.Kb({type:zt}),zt.\u0275inj=u.Jb({providers:[Yt,{provide:_t,useClass:ae},ne,{provide:kt,useExisting:ne},ee,{provide:te,useExisting:ee}],imports:[[ce.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),zt),fe=((Ht=function(){function t(e){h(this,t),this.httpClient=e,this.urlConnection="https://www.strava.com/oauth/authorize?client_id=36102&redirect_uri=https://plr2388.github.io/HuaweiToStrava/strava&response_type=code&scope=activity:write"}return p(t,[{key:"getToken",value:function(t){return this.httpClient.post("https://www.strava.com/oauth/token?client_id=36102&client_secret=d4ca7b238820272379613358d5fbe5e9a4571e68&code="+t+"&grant_type=authorization_code",null,{observe:"body"}).pipe((e=this.handleError,function(t){var n=new ft(e),r=t.lift(n);return n.caught=r}));var e}},{key:"handleError",value:function(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error("Backend returned code ".concat(t.status,", body was: ").concat(t.error)),Object(ct.a)("Something bad happened; please try again later.")}}]),t}()).\u0275fac=function(t){return new(t||Ht)(u.Yb(Yt))},Ht.\u0275prov=u.Ib({token:Ht,factory:Ht.\u0275fac}),Ht),he=((Bt=function(){function t(e){h(this,t),this.stravaService=e,this.stravaURLConnection=""}return p(t,[{key:"ngOnInit",value:function(){this.stravaURLConnection=this.stravaService.urlConnection}}]),t}()).\u0275fac=function(t){return new(t||Bt)(u.Mb(fe))},Bt.\u0275cmp=u.Gb({type:Bt,selectors:[["app-connect-strava"]],decls:2,vars:1,consts:[[3,"href"]],template:function(t,e){1&t&&(u.Rb(0,"a",0),u.wc(1,"Click here to connect to Strava"),u.Qb()),2&t&&u.jc("href",e.stravaURLConnection,u.rc)},styles:[""]}),Bt),de=((Ut=function t(){h(this,t),this.title="huaweiToStrava"}).\u0275fac=function(t){return new(t||Ut)},Ut.\u0275cmp=u.Gb({type:Ut,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-xs-12"]],template:function(t,e){1&t&&(u.Rb(0,"div",0),u.Rb(1,"div",1),u.Rb(2,"div",2),u.Rb(3,"h2"),u.wc(4,"Connect your Strava account"),u.Qb(),u.Nb(5,"app-connect-strava"),u.Qb(),u.Qb(),u.Qb())},directives:[he],styles:[""]}),Ut),pe=o("EY2u"),ve=o("XNiG"),ye=o("DH7j"),ge=o("n6bG");function me(t,e,n,r){return Object(ge.a)(n)&&(r=n,n=void 0),r?me(t,e,n).pipe(Object(wt.a)(function(t){return Object(ye.a)(t)?r.apply(void 0,i(t)):r(t)})):new pt.a(function(r){be(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function be(t,e,n,r,i){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var s=t;t.addEventListener(e,n,i),o=function(){return s.removeEventListener(e,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var u=t;t.on(e,n),o=function(){return u.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var a=t;t.addListener(e,n),o=function(){return a.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,l=t.length;c<l;c++)be(t[c],e,n,r,i)}r.add(o)}var we=o("D0XW"),_e=o("Y7HM"),ke=o("z+Ro");function Ee(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}var Ie=o("yCtX"),Te=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(yt.a),Oe=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return p(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(yt.a),Se=o("SeVD");function Ce(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Oe(t,n,r);if(!i.closed)return e instanceof pt.a?e.subscribe(i):Object(Se.a)(e)(i)}var Ae=function(){function t(){h(this,t)}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new xe(t))}}]),t}(),xe=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).hasFirst=!1,r.observables=[],r.subscriptions=[],r}return p(n,[{key:"_next",value:function(t){this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=Ce(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}},{key:"notifyNext",value:function(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(e)}}]),n}(Te),je=o("9ppp");o("KqfI");var Ne=o("Lhse");function De(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return"function"==typeof r&&e.pop(),Object(Ie.a)(e,void 0).lift(new Re(r))}var Re=function(){function t(e){h(this,t),this.resultSelector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Pe(t,this.resultSelector))}}]),t}(),Pe=function(t){v(n,t);var e=g(n);function n(t,r){var i;arguments.length>2&&void 0!==arguments[2]||Object.create(null);return h(this,n),(i=e.call(this,t)).resultSelector=r,i.iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:void 0,i}return p(n,[{key:"_next",value:function(t){var e=this.iterators;Object(ye.a)(t)?e.push(new Me(t)):e.push("function"==typeof t[Ne.a]?new Le(t[Ne.a]()):new Fe(this.destination,this,t))}},{key:"_complete",value:function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){var i=t[r];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,s=[],u=0;u<e;u++){var a=t[u],c=a.next();if(a.hasCompleted()&&(o=!0),c.done)return void n.complete();s.push(c.value)}this.resultSelector?this._tryresultSelector(s):n.next(s),o&&n.complete()}},{key:"_tryresultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(yt.a),Le=function(){function t(e){h(this,t),this.iterator=e,this.nextResult=e.next()}return p(t,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t}},{key:"hasCompleted",value:function(){var t=this.nextResult;return Boolean(t&&t.done)}}]),t}(),Me=function(){function t(e){h(this,t),this.array=e,this.index=0,this.length=0,this.length=e.length}return p(t,[{key:Ne.a,value:function(){return this}},{key:"next",value:function(t){var e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),t}(),Fe=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).parent=r,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return p(n,[{key:Ne.a,value:function(){return this}},{key:"next",value:function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(t){this.buffer.push(t),this.parent.checkIterators()}},{key:"subscribe",value:function(){return Object(lt.c)(this.observable,new lt.a(this))}}]),n}(lt.b),Ve=o("VRyK"),qe=o("bHdf");function Ue(){return Object(qe.a)(1)(Object(dt.a).apply(void 0,arguments))}function Be(t){return function(e){return e.lift(new He(t))}}var He=function(){function t(e){h(this,t),this.notifier=e}return p(t,[{key:"call",value:function(t,e){var n=new ze(t),r=Object(lt.c)(this.notifier,new lt.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}]),t}(),ze=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).seenValue=!1,r}return p(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(lt.b),Ke=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function Ge(t){return function(e){return 0===t?Object(pe.b)():e.lift(new We(t))}}var We=function(){function t(e){if(h(this,t),this.total=e,this.total<0)throw new Ke}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Qe(t,this.total))}}]),t}(),Qe=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return p(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(yt.a);function Ye(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(ke.a)(r)?(e.pop(),function(t){return Ue(e,t,r)}):function(t){return Ue(e,t)}}var Je=function(){function t(e,n){h(this,t),this.compare=e,this.keySelector=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Xe(t,this.compare,this.keySelector))}}]),t}(),Xe=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return p(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(yt.a),Ze=o("Cfvw");function $e(t,e){return"function"==typeof e?function(n){return n.pipe($e(function(n,r){return Object(Ze.a)(t(n,r)).pipe(Object(wt.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new tn(t))}}var tn=function(){function t(e){h(this,t),this.project=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new en(t,this.project))}}]),t}(),en=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return p(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new lt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(lt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||f(_(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&f(_(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(lt.b),nn=o("vkgz");function rn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new on(e,n))}}var on=function(){function t(e,n){h(this,t),this.observables=e,this.project=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new sn(t,this.observables,this.project))}}]),t}(),sn=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;h(this,n),(o=e.call(this,t)).observables=r,o.project=i,o.toRespond=[];var s=r.length;o.values=new Array(s);for(var u=0;u<s;u++)o.toRespond.push(u);for(var a=0;a<s;a++)o.add(Ce(b(o),r[a],void 0,a));return o}return p(n,[{key:"notifyNext",value:function(t,e,n){this.values[n]=e;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat(i(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Te);o("WMd4"),o("w1tV"),o("XoHu");var un,an,cn,ln=((cn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||cn)},cn.\u0275mod=u.Kb({type:cn}),cn.\u0275inj=u.Jb({}),cn),fn=((an=function t(){h(this,t)}).\u0275fac=function(t){return new(t||an)},an.\u0275mod=u.Kb({type:an}),an.\u0275inj=u.Jb({imports:[[ln]]}),an),hn=((un=function t(){h(this,t)}).\u0275fac=function(t){return new(t||un)},un.\u0275mod=u.Kb({type:un}),un.\u0275inj=u.Jb({imports:[fn]}),un),dn=["*"],pn=["dialog"];function vn(t){return null!=t}function yn(t){return(t||document.body).offsetHeight}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var gn,mn,bn,wn,_n,kn,En=!0,In=5,Tn=((gn=function t(){h(this,t),this.animation=En}).\u0275fac=function(t){return new(t||gn)},gn.\u0275prov=Object(u.Ib)({factory:function(){return new gn},token:gn,providedIn:"root"}),gn),On=function(){},Sn=In,Cn=new Map,An=function(t,e,n,r){var i=r.context||{},o=Cn.get(e);if(o)switch(r.runningTransition){case"continue":return pe.a;case"stop":t.run(function(){return o.transition$.complete()}),i=Object.assign(o.context,i),Cn.delete(e)}var s=n(e,r.animation,i)||On;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(function(){return s()}),Object(dt.a)(void 0).pipe(function(t){return function(e){return new pt.a(function(n){return e.subscribe(function(e){return t.run(function(){return n.next(e)})},function(e){return t.run(function(){return n.error(e)})},function(){return t.run(function(){return n.complete()})})})}}(t));var u=new ve.a,a=new ve.a,c=u.pipe(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return Ue(t,Object(dt.a).apply(void 0,e))}}(!0));Cn.set(e,{transition$:u,complete:function(){a.next(),a.complete()},context:i});var l=function(t){var e=window.getComputedStyle(t),n=e.transitionDelay,r=e.transitionDuration;return 1e3*(parseFloat(n)+parseFloat(r))}(e);return t.runOutsideAngular(function(){var n=me(e,"transitionend").pipe(Be(c),gt(function(t){return t.target===e}));(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){if(!Object(ye.a)(e[0]))return e[0];e=e[0]}return Object(Ie.a)(e,void 0).lift(new Ae)})(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return Object(_e.a)(e)?r=Number(e)<1?1:Number(e):Object(ke.a)(e)&&(n=e),Object(ke.a)(n)||(n=we.a),new pt.a(function(e){var i=Object(_e.a)(t)?t:+t-n.now();return n.schedule(Ee,i,{index:0,period:r,subscriber:e})})}(l+Sn).pipe(Be(c)),n,a).pipe(Be(c)).subscribe(function(){Cn.delete(e),t.run(function(){s(),u.next(),u.complete()})})}),u.asObservable()},xn=((kn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||kn)},kn.\u0275mod=u.Kb({type:kn}),kn.\u0275inj=u.Jb({imports:[[T]]}),kn),jn=((_n=function t(){h(this,t)}).\u0275fac=function(t){return new(t||_n)},_n.\u0275mod=u.Kb({type:_n}),_n.\u0275inj=u.Jb({imports:[[T]]}),_n),Nn=((wn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||wn)},wn.\u0275mod=u.Kb({type:wn}),wn.\u0275inj=u.Jb({}),wn),Dn=((bn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||bn)},bn.\u0275mod=u.Kb({type:bn}),bn.\u0275inj=u.Jb({imports:[[T]]}),bn),Rn=((mn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||mn)},mn.\u0275mod=u.Kb({type:mn}),mn.\u0275inj=u.Jb({}),mn),Pn=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));var Ln=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Mn(t){var e=Array.from(t.querySelectorAll(Ln)).filter(function(t){return-1!==t.tabIndex});return[e[0],e[e.length-1]]}new(function(){function t(){h(this,t)}return p(t,[{key:"getAllStyles",value:function(t){return window.getComputedStyle(t)}},{key:"getStyle",value:function(t,e){return this.getAllStyles(t)[e]}},{key:"isStaticPositioned",value:function(t){return"static"===(this.getStyle(t,"position")||"static")}},{key:"offsetParent",value:function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}},{key:"position",value:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))e={top:(e=t.getBoundingClientRect()).top,bottom:e.bottom,left:e.left,right:e.right,height:e.height,width:e.width};else{var i=this.offsetParent(t);e=this.offset(t,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return e.top-=r.top,e.bottom-=r.top,e.left-=r.left,e.right-=r.left,n&&(e.top=Math.round(e.top),e.bottom=Math.round(e.bottom),e.left=Math.round(e.left),e.right=Math.round(e.right)),e}},{key:"offset",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}},{key:"positionElements",value:function(t,n,r,i){var o=e(r.split("-"),2),s=o[0],u=void 0===s?"top":s,a=o[1],c=void 0===a?"center":a,l=i?this.offset(t,!1):this.position(t,!1),f=this.getAllStyles(n),h=parseFloat(f.marginTop),d=parseFloat(f.marginBottom),p=parseFloat(f.marginLeft),v=parseFloat(f.marginRight),y=0,g=0;switch(u){case"top":y=l.top-(n.offsetHeight+h+d);break;case"bottom":y=l.top+l.height;break;case"left":g=l.left-(n.offsetWidth+p+v);break;case"right":g=l.left+l.width}switch(c){case"top":y=l.top;break;case"bottom":y=l.top+l.height-n.offsetHeight;break;case"left":g=l.left;break;case"right":g=l.left+l.width-n.offsetWidth;break;case"center":"top"===u||"bottom"===u?g=l.left+l.width/2-n.offsetWidth/2:y=l.top+l.height/2-n.offsetHeight/2}n.style.transform="translate(".concat(Math.round(g),"px, ").concat(Math.round(y),"px)");var m=n.getBoundingClientRect(),b=document.documentElement,w=window.innerHeight||b.clientHeight,_=window.innerWidth||b.clientWidth;return m.left>=0&&m.top>=0&&m.right<=_&&m.bottom<=w}}]),t}()),new Date(1882,10,12),new Date(2174,10,25);var Fn,Vn,qn,Un,Bn,Hn,zn,Kn,Gn,Wn,Qn,Yn,Jn,Xn,Zn,$n,tr,er=((qn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||qn)},qn.\u0275mod=u.Kb({type:qn}),qn.\u0275inj=u.Jb({imports:[[T,hn]]}),qn),nr=((Vn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Vn)},Vn.\u0275mod=u.Kb({type:Vn}),Vn.\u0275inj=u.Jb({}),Vn),rr=((Fn=function(){function t(e){h(this,t),this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}return p(t,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(t){this._animation=t}}]),t}()).\u0275fac=function(t){return new(t||Fn)(u.Yb(Tn))},Fn.\u0275prov=Object(u.Ib)({factory:function(){return new Fn(Object(u.Yb)(Tn))},token:Fn,providedIn:"root"}),Fn),ir=function t(e,n,r){h(this,t),this.nodes=e,this.viewRef=n,this.componentRef=r},or=function(){},sr=((Bn=function(){function t(e){h(this,t),this._document=e}return p(t,[{key:"compensate",value:function(){var t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):or}},{key:"_adjustBody",value:function(t){var e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]="".concat(r+t,"px"),function(){return e.style["padding-right"]=n}}},{key:"_isPresent",value:function(t){var e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}},{key:"_getWidth",value:function(){var t=this._document.createElement("div");t.className="modal-scrollbar-measure";var e=this._document.body;e.appendChild(t);var n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}]),t}()).\u0275fac=function(t){return new(t||Bn)(u.Yb(d))},Bn.\u0275prov=Object(u.Ib)({factory:function(){return new Bn(Object(u.Yb)(d))},token:Bn,providedIn:"root"}),Bn),ur=((Un=function(){function t(e,n){h(this,t),this._el=e,this._zone=n}return p(t,[{key:"ngOnInit",value:function(){var t=this;this._zone.onStable.asObservable().pipe(Ge(1)).subscribe(function(){An(t._zone,t._el.nativeElement,function(t,e){e&&yn(t),t.classList.add("show")},{animation:t.animation,runningTransition:"continue"})})}},{key:"hide",value:function(){return An(this._zone,this._el.nativeElement,function(t){return t.classList.remove("show")},{animation:this.animation,runningTransition:"stop"})}}]),t}()).\u0275fac=function(t){return new(t||Un)(u.Mb(u.l),u.Mb(u.A))},Un.\u0275cmp=u.Gb({type:Un,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(u.Cb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),u.Eb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),Un),ar=function(){function t(){h(this,t)}return p(t,[{key:"close",value:function(t){}},{key:"dismiss",value:function(t){}}]),t}(),cr=function(){function t(e,n,r,i){var o=this;h(this,t),this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new ve.a,this._dismissed=new ve.a,this._hidden=new ve.a,e.instance.dismissEvent.subscribe(function(t){o.dismiss(t)}),this.result=new Promise(function(t,e){o._resolve=t,o._reject=e}),this.result.then(null,function(){})}return p(t,[{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}},{key:"closed",get:function(){return this._closed.asObservable().pipe(Be(this._hidden))}},{key:"dismissed",get:function(){return this._dismissed.asObservable().pipe(Be(this._hidden))}},{key:"hidden",get:function(){return this._hidden.asObservable()}},{key:"shown",get:function(){return this._windowCmptRef.instance.shown.asObservable()}},{key:"close",value:function(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}},{key:"_dismiss",value:function(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}},{key:"dismiss",value:function(t){var e=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then(function(n){!1!==n&&e._dismiss(t)},function(){}):!1!==n&&this._dismiss(t)}else this._dismiss(t)}},{key:"_removeModalElements",value:function(){var t=this,e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(dt.a)(void 0);e.subscribe(function(){var e=t._windowCmptRef.location.nativeElement;e.parentNode.removeChild(e),t._windowCmptRef.destroy(),t._contentRef&&t._contentRef.viewRef&&t._contentRef.viewRef.destroy(),t._windowCmptRef=null,t._contentRef=null}),n.subscribe(function(){if(t._backdropCmptRef){var e=t._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),t._backdropCmptRef.destroy(),t._backdropCmptRef=null}}),De(e,n).subscribe(function(){t._hidden.next(),t._hidden.complete()})}}]),t}(),lr=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({}),fr=((tr=function(){function t(e,n,r){h(this,t),this._document=e,this._elRef=n,this._zone=r,this._closed$=new ve.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.n,this.shown=new ve.a,this.hidden=new ve.a}return p(t,[{key:"dismiss",value:function(t){this.dismissEvent.emit(t)}},{key:"ngOnInit",value:function(){this._elWithFocus=this._document.activeElement}},{key:"ngAfterViewInit",value:function(){this._show()}},{key:"ngOnDestroy",value:function(){this._disableEventHandling()}},{key:"hide",value:function(){var t=this,e=this._elRef.nativeElement,n={animation:this.animation,runningTransition:"stop"},r=De(An(this._zone,e,function(){return e.classList.remove("show")},n),An(this._zone,this._dialogEl.nativeElement,function(){},n));return r.subscribe(function(){t.hidden.next(),t.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}},{key:"_show",value:function(){var t=this,e={animation:this.animation,runningTransition:"continue"};De(An(this._zone,this._elRef.nativeElement,function(t,e){e&&yn(t),t.classList.add("show")},e),An(this._zone,this._dialogEl.nativeElement,function(){},e)).subscribe(function(){t.shown.next(),t.shown.complete()}),this._enableEventHandling(),this._setFocus()}},{key:"_enableEventHandling",value:function(){var t=this,e=this._elRef.nativeElement;this._zone.runOutsideAngular(function(){me(e,"keydown").pipe(Be(t._closed$),gt(function(t){return t.which===Pn.Escape})).subscribe(function(e){t.keyboard?requestAnimationFrame(function(){e.defaultPrevented||t._zone.run(function(){return t.dismiss(lr.ESC)})}):"static"===t.backdrop&&t._bumpBackdrop()});var n=!1;me(t._dialogEl.nativeElement,"mousedown").pipe(Be(t._closed$),Object(nn.a)(function(){return n=!1}),$e(function(){return me(e,"mouseup").pipe(Be(t._closed$),Ge(1))}),gt(function(t){var n=t.target;return e===n})).subscribe(function(){n=!0}),me(e,"click").pipe(Be(t._closed$)).subscribe(function(r){var i=r.target;e===i&&("static"===t.backdrop?t._bumpBackdrop():!0!==t.backdrop||n||t._zone.run(function(){return t.dismiss(lr.BACKDROP_CLICK)})),n=!1})})}},{key:"_disableEventHandling",value:function(){this._closed$.next()}},{key:"_setFocus",value:function(){var t=this._elRef.nativeElement;if(!t.contains(document.activeElement)){var e=t.querySelector("[ngbAutofocus]"),n=Mn(t)[0];(e||n||t).focus()}}},{key:"_restoreFocus",value:function(){var t,e=this,n=this._document.body,r=this._elWithFocus;t=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular(function(){setTimeout(function(){return t.focus()}),e._elWithFocus=null})}},{key:"_bumpBackdrop",value:function(){"static"===this.backdrop&&An(this._zone,this._elRef.nativeElement,function(t){var e=t.classList;return e.add("modal-static"),function(){return e.remove("modal-static")}},{animation:this.animation,runningTransition:"continue"})}}]),t}()).\u0275fac=function(t){return new(t||tr)(u.Mb(d),u.Mb(u.l),u.Mb(u.A))},tr.\u0275cmp=u.Gb({type:tr,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;1&t&&u.Ac(pn,3),2&t&&u.oc(n=u.cc())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(u.Bb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),u.Cb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),u.Eb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:dn,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(u.hc(),u.Rb(0,"div",0,1),u.Rb(2,"div",2),u.gc(3),u.Qb(),u.Qb()),2&t&&u.Cb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),tr),hr=(($n=function(){function t(n,r,i,o,s,a){var c=this;h(this,t),this._applicationRef=n,this._injector=r,this._document=i,this._scrollBar=o,this._rendererFactory=s,this._ngZone=a,this._activeWindowCmptHasChanged=new ve.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new u.n,this._activeWindowCmptHasChanged.subscribe(function(){if(c._windowCmpts.length){var t=c._windowCmpts[c._windowCmpts.length-1];(function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];c._ngZone.runOutsideAngular(function(){var t=me(n,"focusin").pipe(Be(r),Object(wt.a)(function(t){return t.target}));me(n,"keydown").pipe(Be(r),gt(function(t){return t.which===Pn.Tab}),rn(t)).subscribe(function(t){var r=e(t,2),i=r[0],o=r[1],s=e(Mn(n),2),u=s[0],a=s[1];o!==u&&o!==n||!i.shiftKey||(a.focus(),i.preventDefault()),o!==a||i.shiftKey||(u.focus(),i.preventDefault())}),i&&me(n,"click").pipe(Be(r),rn(t),Object(wt.a)(function(t){return t[1]})).subscribe(function(t){return t.focus()})})})(0,t.location.nativeElement,c._activeWindowCmptHasChanged),c._revertAriaHidden(),c._setAriaHidden(t.location.nativeElement)}})}return p(t,[{key:"open",value:function(t,e,n,r){var i=this,o=r.container instanceof HTMLElement?r.container:vn(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),u=this._scrollBar.compensate(),a=function(){i._modalRefs.length||(s.removeClass(i._document.body,"modal-open"),i._revertAriaHidden())};if(!o)throw new Error('The specified modal container "'.concat(r.container||"body",'" was not found in the DOM.'));var c=new ar,l=this._getContentRef(t,r.injector||e,n,c,r),f=!1!==r.backdrop?this._attachBackdrop(t,o):void 0,h=this._attachWindowComponent(t,o,l),d=new cr(h,l,f,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(u,u),d.result.then(a,a),c.close=function(t){d.close(t)},c.dismiss=function(t){d.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),f&&f.instance&&this._applyBackdropOptions(f.instance,r),d}},{key:"activeInstances",get:function(){return this._activeInstances}},{key:"dismissAll",value:function(t){this._modalRefs.forEach(function(e){return e.dismiss(t)})}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(t,e){var n=t.resolveComponentFactory(ur).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(t,e,n){var r=t.resolveComponentFactory(fr).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}},{key:"_applyWindowOptions",value:function(t,e){this._windowAttributes.forEach(function(n){vn(e[n])&&(t[n]=e[n])})}},{key:"_applyBackdropOptions",value:function(t,e){this._backdropAttributes.forEach(function(n){vn(e[n])&&(t[n]=e[n])})}},{key:"_getContentRef",value:function(t,e,n,r,i){return n?n instanceof u.L?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,r,i):new ir([])}},{key:"_createFromTemplateRef",value:function(t,e){var n=t.createEmbeddedView({$implicit:e,close:function(t){e.close(t)},dismiss:function(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new ir([n.rootNodes],n)}},{key:"_createFromString",value:function(t){var e=this._document.createTextNode("".concat(t));return new ir([[e]])}},{key:"_createFromComponent",value:function(t,e,n,r,i){var o=t.resolveComponentFactory(n),s=u.s.create({providers:[{provide:ar,useValue:r}],parent:e}),a=o.create(s),c=a.location.nativeElement;return i.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new ir([[c]],a.hostView,a)}},{key:"_setAriaHidden",value:function(t){var e=this,n=t.parentElement;n&&t!==this._document.body&&(Array.from(n.children).forEach(function(n){n!==t&&"SCRIPT"!==n.nodeName&&(e._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach(function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(t){var e=this,n=function(){var n=e._modalRefs.indexOf(t);n>-1&&(e._modalRefs.splice(n,1),e._activeInstances.emit(e._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(t){var e=this;this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(function(){var n=e._windowCmpts.indexOf(t);n>-1&&(e._windowCmpts.splice(n,1),e._activeWindowCmptHasChanged.next())})}}]),t}()).\u0275fac=function(t){return new(t||$n)(u.Yb(u.g),u.Yb(u.s),u.Yb(d),u.Yb(sr),u.Yb(u.F),u.Yb(u.A))},$n.\u0275prov=Object(u.Ib)({factory:function(){return new $n(Object(u.Yb)(u.g),Object(u.Yb)(u.o),Object(u.Yb)(d),Object(u.Yb)(sr),Object(u.Yb)(u.F),Object(u.Yb)(u.A))},token:$n,providedIn:"root"}),$n),dr=((Zn=function(){function t(e,n,r,i){h(this,t),this._moduleCFR=e,this._injector=n,this._modalStack=r,this._config=i}return p(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}},{key:"activeInstances",get:function(){return this._modalStack.activeInstances}},{key:"dismissAll",value:function(t){this._modalStack.dismissAll(t)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),t}()).\u0275fac=function(t){return new(t||Zn)(u.Yb(u.j),u.Yb(u.s),u.Yb(hr),u.Yb(rr))},Zn.\u0275prov=Object(u.Ib)({factory:function(){return new Zn(Object(u.Yb)(u.j),Object(u.Yb)(u.o),Object(u.Yb)(hr),Object(u.Yb)(rr))},token:Zn,providedIn:"root"}),Zn),pr=((Xn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Xn)},Xn.\u0275mod=u.Kb({type:Xn}),Xn.\u0275inj=u.Jb({providers:[dr]}),Xn),vr=((Jn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Jn)},Jn.\u0275mod=u.Kb({type:Jn}),Jn.\u0275inj=u.Jb({imports:[[T]]}),Jn),yr=((Yn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Yn)},Yn.\u0275mod=u.Kb({type:Yn}),Yn.\u0275inj=u.Jb({imports:[[T]]}),Yn),gr=((Qn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Qn)},Qn.\u0275mod=u.Kb({type:Qn}),Qn.\u0275inj=u.Jb({imports:[[T]]}),Qn),mr=((Wn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Wn)},Wn.\u0275mod=u.Kb({type:Wn}),Wn.\u0275inj=u.Jb({imports:[[T]]}),Wn),br=((Gn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Gn)},Gn.\u0275mod=u.Kb({type:Gn}),Gn.\u0275inj=u.Jb({imports:[[T]]}),Gn),wr=((Kn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Kn)},Kn.\u0275mod=u.Kb({type:Kn}),Kn.\u0275inj=u.Jb({imports:[[T]]}),Kn),_r=((zn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||zn)},zn.\u0275mod=u.Kb({type:zn}),zn.\u0275inj=u.Jb({imports:[[T]]}),zn),kr=((Hn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Hn)},Hn.\u0275mod=u.Kb({type:Hn}),Hn.\u0275inj=u.Jb({}),Hn);new u.r("live announcer delay",{providedIn:"root",factory:function(){return 100}});var Er,Ir,Tr=((Er=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Er)},Er.\u0275mod=u.Kb({type:Er}),Er.\u0275inj=u.Jb({imports:[[T]]}),Er),Or=[xn,jn,Nn,Dn,Rn,er,nr,pr,vr,yr,gr,mr,br,wr,_r,kr,Tr],Sr=((Ir=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Ir)},Ir.\u0275mod=u.Kb({type:Ir}),Ir.\u0275inj=u.Jb({imports:[Or,xn,jn,Nn,Dn,Rn,er,nr,pr,vr,yr,gr,mr,br,wr,_r,kr,Tr]}),Ir),Cr=o("spgP");function Ar(){return function(t){return t.lift(new xr)}}var xr=function(){function t(){h(this,t)}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new jr(t))}}]),t}(),jr=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).hasPrev=!1,r}return p(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(yt.a);function Nr(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Dr(t,e,n))}}var Dr=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];h(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Rr(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),Rr=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var s;return h(this,n),(s=e.call(this,t)).accumulator=r,s._seed=i,s.hasSeed=o,s.index=0,s}return p(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}}]),n}(yt.a),Pr=o("pxpQ"),Lr=o("Jgta"),Mr=o("zIRd"),Fr=o("q/0M"),Vr=o("qOnz"),qr=function(t,e){return(qr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ur(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Br,Hr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},zr=zr||{},Kr=Hr||self;function Gr(){}function Wr(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Qr(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Yr="closure_uid_"+(1e9*Math.random()>>>0),Jr=0;function Xr(t,e,n){return t.call.apply(t.bind,arguments)}function Zr(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function $r(t,e,n){return($r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xr:Zr).apply(null,arguments)}function ti(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ei(){return Date.now()}function ni(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ri(){this.j=this.j,this.i=this.i}ri.prototype.j=!1,ri.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Yr)&&t[Yr]||(t[Yr]=++Jr)}(this)},ri.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ii=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},oi=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function si(t){return Array.prototype.concat.apply([],arguments)}function ui(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ai(t){return/^[\s\xa0]*$/.test(t)}var ci,li=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function fi(t,e){return-1!=t.indexOf(e)}function hi(t,e){return t<e?-1:t>e?1:0}t:{var di=Kr.navigator;if(di){var pi=di.userAgent;if(pi){ci=pi;break t}}ci=""}function vi(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function yi(t){var e={};for(var n in t)e[n]=t[n];return e}var gi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mi(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gi.length;o++)n=gi[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bi(t){return bi[" "](t),t}bi[" "]=Gr;var wi,_i,ki=fi(ci,"Opera"),Ei=fi(ci,"Trident")||fi(ci,"MSIE"),Ii=fi(ci,"Edge"),Ti=Ii||Ei,Oi=fi(ci,"Gecko")&&!(fi(ci.toLowerCase(),"webkit")&&!fi(ci,"Edge"))&&!(fi(ci,"Trident")||fi(ci,"MSIE"))&&!fi(ci,"Edge"),Si=fi(ci.toLowerCase(),"webkit")&&!fi(ci,"Edge");function Ci(){var t=Kr.document;return t?t.documentMode:void 0}t:{var Ai="",xi=(_i=ci,Oi?/rv:([^\);]+)(\)|;)/.exec(_i):Ii?/Edge\/([\d\.]+)/.exec(_i):Ei?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(_i):Si?/WebKit\/(\S+)/.exec(_i):ki?/(?:Version)[ \/]?(\S+)/.exec(_i):void 0);if(xi&&(Ai=xi?xi[1]:""),Ei){var ji=Ci();if(null!=ji&&ji>parseFloat(Ai)){wi=String(ji);break t}}wi=Ai}var Ni={};function Di(t){return function(t,e){var n=Ni;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=li(String(wi)).split("."),r=li(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",u=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;e=hi(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||hi(0==s[2].length,0==u[2].length)||hi(s[2],u[2]),s=s[3],u=u[3]}while(0==e)}return 0<=e})}var Ri=Kr.document&&Ei&&(Ci()||parseInt(wi,10))||void 0,Pi=!Ei||9<=Number(Ri),Li=Ei&&!Di("9"),Mi=function(){if(!Kr.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Kr.addEventListener("test",Gr,e),Kr.removeEventListener("test",Gr,e)}catch(n){}return t}();function Fi(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Vi(t,e){if(Fi.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Oi){t:{try{bi(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:qi[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Fi.prototype.b=function(){this.defaultPrevented=!0},ni(Vi,Fi);var qi={2:"touch",3:"pen",4:"mouse"};Vi.prototype.b=function(){Vi.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Li)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ui="closure_listenable_"+(1e6*Math.random()|0),Bi=0;function Hi(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Bi,this.Y=this.Z=!1}function zi(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Ki(t){this.src=t,this.a={},this.b=0}function Gi(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=ii(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(zi(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Wi(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Ki.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Wi(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Hi(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Qi="closure_lm_"+(1e6*Math.random()|0),Yi={};function Ji(t,e,n,r,i){if(r&&r.once)return Zi(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ji(t,e[o],n,r,i);return null}return n=so(n),t&&t[Ui]?t.va(e,n,Qr(r)?!!r.capture:!!r,i):Xi(t,e,n,!1,r,i)}function Xi(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Qr(i)?!!i.capture:!!i;if(s&&!Pi)return null;var u=io(t);if(u||(t[Qi]=u=new Ki(t)),(n=u.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=ro,e=Pi?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Mi||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(eo(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Zi(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Zi(t,e[o],n,r,i);return null}return n=so(n),t&&t[Ui]?t.wa(e,n,Qr(r)?!!r.capture:!!r,i):Xi(t,e,n,!0,r,i)}function $i(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)$i(t,e[o],n,r,i);else r=Qr(r)?!!r.capture:!!r,n=so(n),t&&t[Ui]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Wi(o=t.a[e],n,r,i))&&(zi(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=io(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Wi(e,n,r,i)),(n=-1<t?e[t]:null)&&to(n))}function to(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ui])Gi(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(eo(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=io(e))?(Gi(n,t),0==n.b&&(n.src=null,e[Qi]=null)):zi(t)}}}function eo(t){return t in Yi?Yi[t]:Yi[t]="on"+t}function no(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&to(t),n.call(r,e)}function ro(t,e){if(t.Y)return!0;if(!Pi){if(!e)t:{e=["window","event"];for(var n=Kr,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return no(t,e=new Vi(e,this))}return no(t,new Vi(e,this))}function io(t){return(t=t[Qi])instanceof Ki?t:null}var oo="__closure_events_fn_"+(1e9*Math.random()>>>0);function so(t){return"function"==typeof t?t:(t[oo]||(t[oo]=function(e){return t.handleEvent(e)}),t[oo])}function uo(){ri.call(this),this.c=new Ki(this),this.J=this,this.C=null}function ao(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Fi(e,t);else if(e instanceof Fi)e.target=e.target||t;else{var i=e;mi(e=new Fi(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=co(s,r,!0,e)&&i}if(i=co(s=e.a=t,r,!0,e)&&i,i=co(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=co(s=e.a=n[o],r,!1,e)&&i}function co(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var u=s.listener,a=s.ca||s.src;s.Z&&Gi(t.c,s),i=!1!==u.call(a,r)&&i}}return i&&!r.defaultPrevented}ni(uo,ri),uo.prototype[Ui]=!0,(Br=uo.prototype).addEventListener=function(t,e,n,r){Ji(this,t,e,n,r)},Br.removeEventListener=function(t,e,n,r){$i(this,t,e,n,r)},Br.G=function(){if(uo.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)zi(n[r]);delete e.a[t],e.b--}}this.C=null},Br.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Br.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var lo=Kr.JSON.stringify;function fo(){this.b=this.a=null}var ho,po=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new yo},function(t){t.reset()});function vo(){var t=wo,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function yo(){this.next=this.b=this.a=null}function go(t){Kr.setTimeout(function(){throw t},0)}function mo(t,e){ho||function(){var t=Kr.Promise.resolve(void 0);ho=function(){t.then(_o)}}(),bo||(ho(),bo=!0),wo.add(t,e)}fo.prototype.add=function(t,e){var n=po.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},yo.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},yo.prototype.reset=function(){this.next=this.b=this.a=null};var bo=!1,wo=new fo;function _o(){for(var t;t=vo();){try{t.a.call(t.b)}catch(n){go(n)}var e=po;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}bo=!1}function ko(t,e){uo.call(this),this.b=t||1,this.a=e||Kr,this.f=$r(this.Za,this),this.g=ei()}function Eo(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Io(t,e,n){if("function"==typeof t)n&&(t=$r(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=$r(t.handleEvent,t)}return 2147483647<Number(e)?-1:Kr.setTimeout(t,e||0)}function To(t){t.a=Io(function(){t.a=null,t.c&&(t.c=!1,To(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}ni(ko,uo),(Br=ko.prototype).aa=!1,Br.M=null,Br.Za=function(){if(this.aa){var t=ei()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),ao(this,"tick"),this.aa&&(Eo(this),this.start()))}},Br.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ei())},Br.G=function(){ko.X.G.call(this),Eo(this),delete this.a};var Oo=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}qr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:To(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Kr.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(ri);function So(t){ri.call(this),this.b=t,this.a={}}ni(So,ri);var Co=[];function Ao(t,e,n,r){Array.isArray(n)||(n&&(Co[0]=n.toString()),n=Co);for(var i=0;i<n.length;i++){var o=Ji(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function xo(t){vi(t.a,function(t,e){this.a.hasOwnProperty(e)&&to(t)},t),t.a={}}function jo(){this.a=!0}function No(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return lo(n)}catch(u){return e}}(t,n)+(r?" "+r:"")})}So.prototype.G=function(){So.X.G.call(this),xo(this)},So.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jo.prototype.info=function(){};var Do={},Ro=null;function Po(){return Ro=Ro||new uo}function Lo(t){Fi.call(this,Do.Fa,t)}function Mo(t){var e=Po();ao(e,new Lo(e,t))}function Fo(t,e){Fi.call(this,Do.STAT_EVENT,t),this.stat=e}function Vo(t){var e=Po();ao(e,new Fo(e,t))}function qo(t){Fi.call(this,Do.Ga,t)}function Uo(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Kr.setTimeout(function(){t()},e)}Do.Fa="serverreachability",ni(Lo,Fi),Do.STAT_EVENT="statevent",ni(Fo,Fi),Do.Ga="timingevent",ni(qo,Fi);var Bo={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ho={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function zo(){}function Ko(){}zo.prototype.a=null;var Go,Wo={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Qo(){Fi.call(this,"d")}function Yo(){Fi.call(this,"c")}function Jo(){}function Xo(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new So(this),this.P=Zo,this.R=new ko(t=Ti?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ni(Qo,Fi),ni(Yo,Fi),ni(Jo,zo),Go=new Jo;var Zo=45e3,$o={},ts={};function es(t,e,n){t.H=1,t.i=Es(gs(e)),t.j=n,t.I=!0,ns(t,null)}function ns(t,e){t.u=ei(),os(t),t.l=gs(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ls(n.b,"t",r),t.D=0,t.a=xu(t.g,t.g.C?e:null),0<t.O&&(t.F=new Oo($r(t.Ca,t,t.a),t.O)),Ao(t.J,t.a,"readystatechange",t.Xa),e=t.B?yi(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Mo(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var c=u[a].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");s=2<=f.length&&"type"==f[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function rs(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=is(t,n);if(i==ts){4==e&&(t.h=4,Vo(14),r=!1),No(t.c,t.f,null,"[Incomplete Response]");break}if(i==$o){t.h=4,Vo(15),No(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}No(t.c,t.f,i,null),ls(t,i)}4==e&&0==n.length&&(t.h=1,Vo(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ku(e),e.F=!0,Vo(11))):(No(t.c,t.f,n,"[Invalid Chunked Response]"),cs(t),as(t))}function is(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ts:(n=Number(e.substring(n,r)),isNaN(n)?$o:(r+=1)+n>e.length?ts:(e=e.substr(r,n),t.D=r+n,e))}function os(t){t.T=ei()+t.P,ss(t,t.P)}function ss(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Uo($r(t.Va,t),e)}function us(t){t.o&&(Kr.clearTimeout(t.o),t.o=null)}function as(t){0==t.g.v||t.A||Tu(t.g,t)}function cs(t){us(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Eo(t.R),xo(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ls(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Hs(n.b,t)))if(n.I=t.N,!t.C&&Hs(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(pg){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Iu(n),du(n)}_u(n),Vo(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Uo($r(n.Sa,n),6e3));if(1>=Bs(n.b)&&n.ea){try{n.ea()}catch(pg){}n.ea=void 0}}else Su(n,11)}else if((t.C||n.a==t)&&Iu(n),!ai(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"==typeof u&&0<u){var a=1.5*u;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=a.b;!f.a&&(fi(l,"spdy")||fi(l,"quic")||fi(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(zs(f,f.b),f.b=null))}if(a.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(a.na=h,ks(a.B,a.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ei()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((a=n).la=Au(a,a.C?a.ga:null,a.fa),d.C){Ks(a.b,d);var p=d,v=a.D;v&&p.setTimeout(v),p.o&&(us(p),os(p)),a.a=d}else wu(a);0<n.g.length&&yu(n)}else"stop"!=i[0]&&"close"!=i[0]||Su(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Su(n,7):hu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Mo(4)}catch(pg){}}function fs(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Wr(t)||"string"==typeof t)oi(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Wr(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Wr(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function hs(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof hs)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ds(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ps(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ps(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ps(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Br=Xo.prototype).setTimeout=function(t){this.P=t},Br.Xa=function(t){t=t.target;var e=this.F;e&&3==au(t)?e.f():this.Ca(t)},Br.Ca=function(t){try{if(t==this.a)t:{var e=au(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Ti&&!this.a.$())){this.A||4!=e||7==n||Mo(8==n||0>=r?3:2),us(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ai(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,Vo(12),cs(this),as(this);break t}No(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ls(this,a)}this.I?(rs(this,e,o),Ti&&this.b&&3==e&&(Ao(this.J,this.R,"tick",this.Wa),this.R.start())):(No(this.c,this.f,o,null),ls(this,o)),4==e&&cs(this),this.b&&!this.A&&(4==e?Tu(this.g,this):(this.b=!1,os(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Vo(12)):(this.h=0,Vo(13)),cs(this),as(this)}}}catch(c){}},Br.Wa=function(){if(this.a){var t=au(this.a),e=this.a.$();this.D<e.length&&(us(this),rs(this,t,e),this.b&&4!=t&&os(this))}},Br.cancel=function(){this.A=!0,cs(this)},Br.Va=function(){this.o=null;var t=ei();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Mo(3),Vo(17)),cs(this),this.h=2,as(this)):ss(this,this.T-t)},(Br=hs.prototype).K=function(){ds(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Br.L=function(){return ds(this),this.a.concat()},Br.get=function(t,e){return ps(this.b,t)?this.b[t]:e},Br.set=function(t,e){ps(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Br.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var vs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ys(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ys){this.a=void 0!==e?e:t.a,ms(this,t.f),this.j=t.j,bs(this,t.c),ws(this,t.h),this.g=t.g,e=t.b;var n=new Ns;n.c=e.c,e.a&&(n.a=new hs(e.a),n.b=e.b),_s(this,n),this.i=t.i}else t&&(n=String(t).match(vs))?(this.a=!!e,ms(this,n[1]||"",!0),this.j=Is(n[2]||""),bs(this,n[3]||"",!0),ws(this,n[4]),this.g=Is(n[5]||"",!0),_s(this,n[6]||"",!0),this.i=Is(n[7]||"")):(this.a=!!e,this.b=new Ns(null,this.a))}function gs(t){return new ys(t)}function ms(t,e,n){t.f=n?Is(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function bs(t,e,n){t.c=n?Is(e,!0):e}function ws(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function _s(t,e,n){e instanceof Ns?(t.b=e,function(t,e){e&&!t.f&&(Ds(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Rs(this,e),Ls(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Ts(e,xs)),t.b=new Ns(e,t.a))}function ks(t,e,n){t.b.set(e,n)}function Es(t){return ks(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ei()).toString(36)),t}function Is(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ts(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Os),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Os(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ys.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ts(e,Ss,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ts(e,Ss,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ts(n,"/"==n.charAt(0)?As:Cs,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ts(n,js)),t.join("")};var Ss=/[#\/\?@]/g,Cs=/[#\?:]/g,As=/[#\?]/g,xs=/[#\?@]/g,js=/#/g;function Ns(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ds(t){t.a||(t.a=new hs,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Rs(t,e){Ds(t),e=Ms(t,e),ps(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ps((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ds(t)))}function Ps(t,e){return Ds(t),e=Ms(t,e),ps(t.a.b,e)}function Ls(t,e,n){Rs(t,e),0<n.length&&(t.c=null,t.a.set(Ms(t,e),ui(n)),t.b+=n.length)}function Ms(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Br=Ns.prototype).add=function(t,e){Ds(this),this.c=null,t=Ms(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Br.forEach=function(t,e){Ds(this),this.a.forEach(function(n,r){oi(n,function(n){t.call(e,n,r,this)},this)},this)},Br.L=function(){Ds(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Br.K=function(t){Ds(this);var e=[];if("string"==typeof t)Ps(this,t)&&(e=si(e,this.a.get(Ms(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=si(e,t[n])}return e},Br.set=function(t,e){return Ds(this),this.c=null,Ps(this,t=Ms(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Br.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Br.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Fs=function(t,e){this.b=t,this.a=e};function Vs(t){this.g=t||qs,t=Kr.PerformanceNavigationTiming?0<(t=Kr.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Kr.ia&&Kr.ia.ya&&Kr.ia.ya()&&Kr.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var qs=10;function Us(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Bs(t){return t.b?1:t.a?t.a.size:0}function Hs(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function zs(t,e){t.a?t.a.add(e):t.b=e}function Ks(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Gs(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ur(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ui(t.c)}function Ws(){}function Qs(){this.a=new Ws}function Ys(t,e,n){var r=n||"";try{fs(t,function(t,n){var i=t;Qr(t)&&(i=lo(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(em){throw e.push(r+"type="+encodeURIComponent("_badmap")),em}}function Js(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Vs.prototype.cancel=function(){var t,e;if(this.c=Gs(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ur(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ws.prototype.stringify=function(t){return Kr.JSON.stringify(t,void 0)},Ws.prototype.parse=function(t){return Kr.JSON.parse(t,void 0)};var Xs=Kr.JSON.parse;function Zs(t){uo.call(this),this.headers=new hs,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=$s,this.D=this.F=!1}ni(Zs,uo);var $s="",tu=/^https?$/i,eu=["POST","PUT"];function nu(t){return"content-type"==t.toLowerCase()}function ru(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,iu(t),su(t)}function iu(t){t.u||(t.u=!0,ao(t,"complete"),ao(t,"error"))}function ou(t){if(t.b&&void 0!==zr&&(!t.s[1]||4!=au(t)||2!=t.W()))if(t.l&&4==au(t))Io(t.za,0,t);else if(ao(t,"readystatechange"),4==au(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(vs)[1]||null;if(!o&&Kr.self&&Kr.self.location){var s=Kr.self.location.protocol;o=s.substr(0,s.length-1)}i=!tu.test(o?o.toLowerCase():"")}e=i}if(e)ao(t,"complete"),ao(t,"success");else{t.h=6;try{var u=2<au(t)?t.a.statusText:""}catch(n){u=""}t.f=u+" ["+t.W()+"]",iu(t)}}finally{su(t)}}}function su(t,e){if(t.a){uu(t);var n=t.a,r=t.s[0]?Gr:null;t.a=null,t.s=null,e||ao(t,"ready");try{n.onreadystatechange=r}catch(em){}}}function uu(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Kr.clearTimeout(t.m),t.m=null)}function au(t){return t.a?t.a.readyState:0}function cu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return vi(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ks(t,e,n))}function lu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function fu(t){this.pa=0,this.g=[],this.c=new jo,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=lu("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=lu("baseRetryDelayMs",5e3,t),this.Ra=lu("retryDelaySeedMs",1e4,t),this.Ma=lu("forwardChannelMaxRetries",2,t),this.ma=lu("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Vs(t&&t.concurrentRequestLimit),this.ka=new Qs,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function hu(t){if(pu(t),3==t.v){var e=t.R++,n=gs(t.B);ks(n,"SID",t.J),ks(n,"RID",e),ks(n,"TYPE","terminate"),mu(t,n),(e=new Xo(t,t.c,e,void 0)).H=2,e.i=Es(gs(n)),n=!1,Kr.navigator&&Kr.navigator.sendBeacon&&(n=Kr.navigator.sendBeacon(e.i.toString(),"")),!n&&Kr.Image&&((new Image).src=e.i,n=!0),n||(e.a=xu(e.g,null),e.a.ba(e.i)),e.u=ei(),os(e)}Cu(t)}function du(t){t.a&&(ku(t),t.a.cancel(),t.a=null)}function pu(t){du(t),t.j&&(Kr.clearTimeout(t.j),t.j=null),Iu(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Kr.clearTimeout(t.h),t.h=null)}function vu(t,e){t.g.push(new Fs(t.Oa++,e)),3==t.v&&yu(t)}function yu(t){Us(t.b)||t.h||(t.h=!0,mo(t.Ba,t),t.u=0)}function gu(t,e){var n;n=e?e.f:t.R++;var r=gs(t.B);ks(r,"SID",t.J),ks(r,"RID",n),ks(r,"AID",t.P),mu(t,r),t.i&&t.l&&cu(r,t.i,t.l),n=new Xo(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=bu(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),zs(t.b,n),es(n,r,e)}function mu(t,e){t.f&&fs({},function(t,n){ks(e,n,t)})}function bu(t,e,n){n=Math.min(t.g.length,n);var r=t.f?$r(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var c=i[a].b,l=i[a].a;if(0>(c-=o))o=Math.max(0,i[a].b-100),u=!1;else try{Ys(l,s,"req"+c+"_")}catch(ca){r&&r(l)}}if(u){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function wu(t){t.a||t.j||(t.T=1,mo(t.Aa,t),t.o=0)}function _u(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Uo($r(t.Aa,t),Ou(t,t.o)),t.o++,0))}function ku(t){null!=t.s&&(Kr.clearTimeout(t.s),t.s=null)}function Eu(t){t.a=new Xo(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=gs(t.la);ks(e,"RID","rpc"),ks(e,"SID",t.J),ks(e,"CI",t.H?"0":"1"),ks(e,"AID",t.P),mu(t,e),ks(e,"TYPE","xmlhttp"),t.i&&t.l&&cu(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Es(gs(e)),n.j=null,n.I=!0,ns(n,t)}function Iu(t){null!=t.m&&(Kr.clearTimeout(t.m),t.m=null)}function Tu(t,e){var n=null;if(t.a==e){Iu(t),ku(t),t.a=null;var r=2}else{if(!Hs(t.b,e))return;n=e.s,Ks(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ei()-e.u;var i=t.u;ao(r=Po(),new qo(r,n,e,i)),yu(t)}else wu(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Bs(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Uo($r(t.Ba,t,e),Ou(t,t.u)),t.u++,0)))}(t,e)||2==r&&_u(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Su(t,5);break;case 4:Su(t,10);break;case 3:Su(t,6);break;default:Su(t,2)}}function Ou(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Su(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=$r(t.Ya,t);n||(n=new ys("//www.google.com/images/cleardot.gif"),Kr.location&&"http"==Kr.location.protocol||ms(n,"https"),Es(n)),function(t,e){var n=new jo;if(Kr.Image){var r=new Image;r.onload=ti(Js,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ti(Js,n,r,"TestLoadImage: error",!1,e),r.onabort=ti(Js,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ti(Js,n,r,"TestLoadImage: timeout",!1,e),Kr.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Vo(2);t.v=0,t.f&&t.f.ra(e),Cu(t),pu(t)}function Cu(t){t.v=0,t.I=-1,t.f&&(0==Gs(t.b).length&&0==t.g.length||(t.b.c.length=0,ui(t.g),t.g.length=0),t.f.qa())}function Au(t,e,n){var r=function(t){return t instanceof ys?gs(t):new ys(t,void 0)}(n);if(""!=r.c)e&&bs(r,e+"."+r.c),ws(r,r.h);else{var i=Kr.location;r=function(t,e,n,r){var i=new ys(null,void 0);return t&&ms(i,t),e&&bs(i,e),n&&ws(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&vi(t.V,function(t,e){ks(r,e,t)}),n=t.na,(e=t.A)&&n&&ks(r,e,n),ks(r,"VER",t.ha),mu(t,r),r}function xu(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zs(t.Na)).F=t.C,e}function ju(){}function Nu(){if(Ei&&!(10<=Number(Ri)))throw Error("Environmental error: no available transport.")}function Du(t,e){uo.call(this),this.a=new fu(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ai(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ai(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Lu(this)}function Ru(t){Qo.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Pu(){Yo.call(this),this.status=1}function Lu(t){this.a=t}(Br=Zs.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Go),this.a.onreadystatechange=$r(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void ru(this,o)}t=n||"";var i=new hs(this.headers);r&&fs(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=nu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Kr.FormData&&t instanceof Kr.FormData,!(0<=ii(eu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{uu(this),0<this.o&&((this.D=function(t){return Ei&&Di(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=$r(this.xa,this)):this.m=Io(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){ru(this,o)}},Br.xa=function(){void 0!==zr&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,ao(this,"timeout"),this.abort(8))},Br.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,ao(this,"complete"),ao(this,"abort"),su(this))},Br.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),su(this,!0)),Zs.X.G.call(this)},Br.za=function(){this.j||(this.A||this.l||this.g?ou(this):this.Ua())},Br.Ua=function(){ou(this)},Br.W=function(){try{return 2<au(this)?this.a.status:-1}catch(_i){return-1}},Br.$=function(){try{return this.a?this.a.responseText:""}catch(_i){return""}},Br.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Xs(e)}},Br.ua=function(){return this.h},Br.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Br=fu.prototype).ha=8,Br.v=1,Br.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Xo(this,this.c,t,void 0),r=this.l;if(this.O&&(r?mi(r=yi(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=bu(this,n,e),ks(i=gs(this.B),"RID",t),ks(i,"CVER",22),this.A&&ks(i,"X-HTTP-Session-Id",this.A),mu(this,i),this.i&&r&&cu(i,this.i,r),zs(this.b,n),this.Ia&&ks(i,"TYPE","init"),this.da?(ks(i,"$req",e),ks(i,"SID","null"),n.U=!0,es(n,i,null)):es(n,i,e),this.v=2}}else 3==this.v&&(t?gu(this,t):0==this.g.length||Us(this.b)||gu(this))},Br.Aa=function(){if(this.j=null,Eu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Uo($r(this.Ta,this),t)}},Br.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Vo(10),du(this),Eu(this))},Br.Sa=function(){null!=this.m&&(this.m=null,du(this),_u(this),Vo(19))},Br.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Vo(2)):(this.c.info("Failed to ping google.com"),Vo(1))},(Br=ju.prototype).ta=function(){},Br.sa=function(){},Br.ra=function(){},Br.qa=function(){},Br.Ja=function(){},Nu.prototype.a=function(t,e){return new Du(t,e)},ni(Du,uo),Du.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Vo(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Au(t,null,t.fa),yu(t)},Du.prototype.close=function(){hu(this.a)},Du.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,vu(this.a,e)}else this.l?((e={}).__data__=lo(t),vu(this.a,e)):vu(this.a,t)},Du.prototype.G=function(){this.a.f=null,delete this.f,hu(this.a),delete this.a,Du.X.G.call(this)},ni(Ru,Qo),ni(Pu,Yo),ni(Lu,ju),Lu.prototype.ta=function(){ao(this.a,"a")},Lu.prototype.sa=function(t){ao(this.a,new Ru(t))},Lu.prototype.ra=function(t){ao(this.a,new Pu(t))},Lu.prototype.qa=function(){ao(this.a,"b")},Nu.prototype.createWebChannel=Nu.prototype.a,Du.prototype.send=Du.prototype.h,Du.prototype.open=Du.prototype.g,Du.prototype.close=Du.prototype.close,Bo.NO_ERROR=0,Bo.TIMEOUT=8,Bo.HTTP_ERROR=6,Ho.COMPLETE="complete",Ko.EventType=Wo,Wo.OPEN="a",Wo.CLOSE="b",Wo.ERROR="c",Wo.MESSAGE="d",uo.prototype.listen=uo.prototype.va,Zs.prototype.listenOnce=Zs.prototype.wa,Zs.prototype.getLastError=Zs.prototype.Qa,Zs.prototype.getLastErrorCode=Zs.prototype.ua,Zs.prototype.getStatus=Zs.prototype.W,Zs.prototype.getResponseJson=Zs.prototype.Pa,Zs.prototype.getResponseText=Zs.prototype.$,Zs.prototype.send=Zs.prototype.ba;var Mu=Bo,Fu=Ho,Vu=Do,qu=Ko,Uu=Zs,Bu=o("mrSG"),Hu=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Hu.o=-1;var zu=new Fr.b("@firebase/firestore");function Ku(){return zu.logLevel}function Gu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(zu.logLevel<=Fr.a.DEBUG){var r=e.map(Yu);zu.debug.apply(zu,Object(Bu.f)(["Firestore (8.3.1): "+t],r))}}function Wu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(zu.logLevel<=Fr.a.ERROR){var r=e.map(Yu);zu.error.apply(zu,Object(Bu.f)(["Firestore (8.3.1): "+t],r))}}function Qu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(zu.logLevel<=Fr.a.WARN){var r=e.map(Yu);zu.warn.apply(zu,Object(Bu.f)(["Firestore (8.3.1): "+t],r))}}function Yu(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(em){return t}}function Ju(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+t;throw Wu(e),new Error(e)}function Xu(t,e){t||Ju()}function Zu(t,e){return t}function $u(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ta=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=$u(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ea(t,e){return t<e?-1:t>e?1:0}function na(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function ra(t){return t+"\0"}function ia(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oa(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sa(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ua(t){return null==t}function aa(t){return 0===t&&1/t==-1/0}function ca(t){return"number"==typeof t&&Number.isInteger(t)&&!aa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var la={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},fa=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Bu.c)(e,t),e}(Error),ha=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ju(),void 0===n?n=t.length-e:n>t.length-e&&Ju(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),da=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new fa(la.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(ha),pa=/^[_a-zA-Z][_a-zA-Z0-9]*$/,va=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return pa.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new fa(la.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new fa(la.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new fa(la.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new fa(la.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(ha),ya=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(da.fromString(e))},t.fromName=function(e){return new t(da.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===da.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return da.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new da(e.slice()))},t}(),ga=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return ea(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();ga.EMPTY_BYTE_STRING=new ga("");var ma=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ba(t){if(Xu(!!t),"string"==typeof t){var e=0,n=ma.exec(t);if(Xu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wa(t.seconds),nanos:wa(t.nanos)}}function wa(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function _a(t){return"string"==typeof t?ga.fromBase64String(t):ga.fromUint8Array(t)}var ka=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new fa(la.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new fa(la.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new fa(la.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new fa(la.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?ea(this.nanoseconds,t.nanoseconds):ea(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}();function Ea(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ia(t){var e=t.mapValue.fields.__previous_value__;return Ea(e)?Ia(e):e}function Ta(t){var e=ba(t.mapValue.fields.__local_write_time__.timestampValue);return new ka(e.seconds,e.nanos)}function Oa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ea(t)?4:10:Ju()}function Sa(t,e){var n=Oa(t);if(n!==Oa(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ta(t).isEqual(Ta(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ba(t.timestampValue),r=ba(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return _a(t.bytesValue).isEqual(_a(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return wa(t.geoPointValue.latitude)===wa(e.geoPointValue.latitude)&&wa(t.geoPointValue.longitude)===wa(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return wa(t.integerValue)===wa(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=wa(t.doubleValue),r=wa(e.doubleValue);return n===r?aa(n)===aa(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return na(t.arrayValue.values||[],e.arrayValue.values||[],Sa);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(ia(n)!==ia(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Sa(n[i],r[i])))return!1;return!0}(t,e);default:return Ju()}}function Ca(t,e){return void 0!==(t.values||[]).find(function(t){return Sa(t,e)})}function Aa(t,e){var n=Oa(t),r=Oa(e);if(n!==r)return ea(n,r);switch(n){case 0:return 0;case 1:return ea(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=wa(t.integerValue||t.doubleValue),r=wa(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return xa(t.timestampValue,e.timestampValue);case 4:return xa(Ta(t),Ta(e));case 5:return ea(t.stringValue,e.stringValue);case 6:return function(t,e){var n=_a(t),r=_a(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ea(n[i],r[i]);if(0!==o)return o}return ea(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ea(wa(t.latitude),wa(e.latitude));return 0!==n?n:ea(wa(t.longitude),wa(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Aa(n[i],r[i]);if(o)return o}return ea(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=ea(r[s],o[s]);if(0!==u)return u;var a=Aa(n[r[s]],i[o[s]]);if(0!==a)return a}return ea(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ju()}}function xa(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ea(t,e);var n=ba(t),r=ba(e),i=ea(n.seconds,r.seconds);return 0!==i?i:ea(n.nanos,r.nanos)}function ja(t){return Na(t)}function Na(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=ba(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?_a(t.bytesValue).toBase64():"referenceValue"in t?ya.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Na(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Na(t.fields[o])}return e+"}"}(t.mapValue):Ju();var e}function Da(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Ra(t){return!!t&&"integerValue"in t}function Pa(t){return!!t&&"arrayValue"in t}function La(t){return!!t&&"nullValue"in t}function Ma(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fa(t){return!!t&&"mapValue"in t}var Va=function(t,e){this.key=t,this.version=e},qa=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).objectValue=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Bu.c)(e,t),e.prototype.field=function(t){return this.objectValue.field(t)},e.prototype.data=function(){return this.objectValue},e.prototype.toProto=function(){return this.objectValue.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.objectValue.isEqual(t.objectValue)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Va),Ua=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Bu.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Va),Ba=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Va),Ha=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function za(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Ha(t,e,n,r,i,o,s)}function Ka(t){var e=Zu(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+ja(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),ua(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ic(e.startAt)),e.endAt&&(n+="|ub:",n+=ic(e.endAt)),e.h=n}return e.h}function Ga(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!sc(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Sa(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ac(t.startAt,e.startAt)&&ac(t.endAt,e.endAt)}function Wa(t){return ya.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Qa=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Bu.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ya(t,n,r):"array-contains"===n?new $a(t,r):"in"===n?new tc(t,r):"not-in"===n?new ec(t,r):"array-contains-any"===n?new nc(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Ja(t,n):new Xa(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.m(Aa(e,this.value)):null!==e&&Oa(this.value)===Oa(e)&&this.m(Aa(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ju()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Ya=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ya.fromName(r.referenceValue),i}return Object(Bu.c)(e,t),e.prototype.matches=function(t){var e=ya.comparator(t.key,this.key);return this.m(e)},e}(Qa),Ja=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Za(0,n),r}return Object(Bu.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Qa),Xa=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Za(0,n),r}return Object(Bu.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Qa);function Za(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return ya.fromName(t.referenceValue)})}var $a=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Bu.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Pa(e)&&Ca(e.arrayValue,this.value)},e}(Qa),tc=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Bu.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Ca(this.value.arrayValue,e)},e}(Qa),ec=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Bu.c)(e,t),e.prototype.matches=function(t){if(Ca(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Ca(this.value.arrayValue,e)},e}(Qa),nc=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Bu.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Pa(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Ca(e.value.arrayValue,t)})},e}(Qa),rc=function(t,e){this.position=t,this.before=e};function ic(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return ja(t)}).join(",")}var oc=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function sc(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function uc(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?ya.comparator(ya.fromName(s.referenceValue),n.key):Aa(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ac(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Sa(t.position[n],e.position[n]))return!1;return!0}var cc=function(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.p=null,this.T=null};function lc(t,e,n,r,i,o,s,u){return new cc(t,e,n,r,i,o,s,u)}function fc(t){return new cc(t)}function hc(t){return!ua(t.limit)&&"F"===t.limitType}function dc(t){return!ua(t.limit)&&"L"===t.limitType}function pc(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function vc(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function yc(t){return null!==t.collectionGroup}function gc(t){var e=Zu(t);if(null===e.p){e.p=[];var n=vc(e),r=pc(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new oc(n)),e.p.push(new oc(va.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var u=s[o];e.p.push(u),u.field.isKeyField()&&(i=!0)}if(!i){var a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new oc(va.keyField(),a))}}}return e.p}function mc(t){var e=Zu(t);if(!e.T)if("F"===e.limitType)e.T=za(e.path,e.collectionGroup,gc(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=gc(e);r<i.length;r++){var o=i[r];n.push(new oc(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new rc(e.endAt.position,!e.endAt.before):null,u=e.startAt?new rc(e.startAt.position,!e.startAt.before):null;e.T=za(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.T}function bc(t,e,n){return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wc(t,e){return Ga(mc(t),mc(e))&&t.limitType===e.limitType}function _c(t){return Ka(mc(t))+"|lt:"+t.limitType}function kc(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+ja(e.value);var e}).join(", ")+"]"),ua(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ic(t.startAt)),t.endAt&&(e+=", endAt: "+ic(t.endAt)),"Target("+e+")"}(mc(t))+"; limitType="+t.limitType+")"}function Ec(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ya.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!uc(t.startAt,gc(t),e)||t.endAt&&uc(t.endAt,gc(t),e))}(t,e)}function Ic(t){return function(e,n){for(var r=!1,i=0,o=gc(t);i<o.length;i++){var s=o[i],u=Tc(s,e,n);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function Tc(t,e,n){var r=t.field.isKeyField()?ya.comparator(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Aa(r,i):Ju()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ju()}}var Oc=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new ka(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}(),Sc=function(){function t(t){this.fields=t,t.sort(va.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return na(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Cc=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Fa(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.isEqual=function(t){return Sa(this.proto,t.proto)},t}(),Ac=function(){function t(t){void 0===t&&(t=Cc.empty()),this.I=t,this.A=new Map}return t.prototype.set=function(t,e){return this.R(t,e),this},t.prototype.delete=function(t){return this.R(t,null),this},t.prototype.R=function(t,e){for(var n=this.A,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Oa(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.v=function(){var t=this.P(va.emptyPath(),this.A);return null!=t?new Cc(t):this.I},t.prototype.P=function(t,e){var n=this,r=!1,i=this.I.field(t),o=Fa(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.P(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function xc(t){var e=[];return oa(t.fields||{},function(t,n){var r=new va([t]);if(Fa(n)){var i=xc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Sc(e)}function jc(t,e){if(t.V){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:aa(e)?"-0":e}}function Nc(t){return{integerValue:""+t}}function Dc(t,e){return ca(e)?Nc(e):jc(t,e)}var Rc=function(){this._=void 0};function Pc(t,e,n){return t instanceof Fc?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Vc?qc(t,e):t instanceof Uc?Bc(t,e):function(t,e){var n=Mc(t,e),r=zc(n)+zc(t.S);return Ra(n)&&Ra(t.S)?Nc(r):jc(t.D,r)}(t,e)}function Lc(t,e,n){return t instanceof Vc?qc(t,e):t instanceof Uc?Bc(t,e):n}function Mc(t,e){return t instanceof Hc?Ra(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Fc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e}(Rc),Vc=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Bu.c)(e,t),e}(Rc);function qc(t,e){for(var n=Kc(e),r=function(t){n.some(function(e){return Sa(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Uc=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Bu.c)(e,t),e}(Rc);function Bc(t,e){for(var n=Kc(e),r=function(t){n=n.filter(function(e){return!Sa(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Hc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).D=e,r.S=n,r}return Object(Bu.c)(e,t),e}(Rc);function zc(t){return wa(t.integerValue||t.doubleValue)}function Kc(t){return Pa(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Gc=function(t,e){this.field=t,this.transform=e},Wc=function(t,e){this.version=t,this.transformResults=e},Qc=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Yc(t,e){return void 0!==t.updateTime?e instanceof qa&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof qa}var Jc=function(){};function Xc(t,e,n){return t instanceof nl?function(t,e,n){var r=t.value,i=ol(t.fieldTransforms,e,n.transformResults);return r=ul(t.fieldTransforms,r,i),new qa(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof rl?function(t,e,n){if(!Yc(t.precondition,e))return new Ba(t.key,n.version);var r=il(t,e,ol(t.fieldTransforms,e,n.transformResults));return new qa(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Ua(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Zc(t,e,n){return t instanceof nl?function(t,e,n){if(!Yc(t.precondition,e))return e;var r=t.value,i=sl(t.fieldTransforms,n,e);r=ul(t.fieldTransforms,r,i);var o=el(e);return new qa(t.key,o,r,{hasLocalMutations:!0})}(t,e,n):t instanceof rl?function(t,e,n){if(!Yc(t.precondition,e))return e;var r=el(e),i=il(t,e,sl(t.fieldTransforms,n,e));return new qa(t.key,r,i,{hasLocalMutations:!0})}(t,e,n):function(t,e){return Yc(t.precondition,e)?new Ua(t.key,Oc.min()):e}(t,e)}function $c(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof qa?e.field(o.field):void 0,u=Mc(o.transform,s||null);null!=u&&(n=null==n?(new Ac).set(o.field,u):n.set(o.field,u))}return n?n.v():null}(t.fieldTransforms,e)}function tl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&na(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Vc&&e instanceof Vc||t instanceof Uc&&e instanceof Uc?na(t.elements,e.elements,Sa):t instanceof Hc&&e instanceof Hc?Sa(t.S,e.S):t instanceof Fc&&e instanceof Fc}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function el(t){return t instanceof qa?t.version:Oc.min()}var nl=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(Bu.c)(e,t),e}(Jc),rl=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(Bu.c)(e,t),e}(Jc);function il(t,e,n){var r;return r=function(t,e){var n=new Ac(e);return t.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.v()}(t,r=e instanceof qa?e.data():Cc.empty()),ul(t.fieldTransforms,r,n)}function ol(t,e,n){var r=[];Xu(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof qa&&(u=e.field(o.field)),r.push(Lc(s,u,n[i]))}return r}function sl(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],u=s.transform,a=null;n instanceof qa&&(a=n.field(s.field)),r.push(Pc(u,a,e))}return r}function ul(t,e,n){for(var r=new Ac(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.v()}var al,cl,ll=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Bu.c)(e,t),e}(Jc),fl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Bu.c)(e,t),e}(Jc),hl=function(t){this.count=t};function dl(t){switch(t){case la.OK:return Ju();case la.CANCELLED:case la.UNKNOWN:case la.DEADLINE_EXCEEDED:case la.RESOURCE_EXHAUSTED:case la.INTERNAL:case la.UNAVAILABLE:case la.UNAUTHENTICATED:return!1;case la.INVALID_ARGUMENT:case la.NOT_FOUND:case la.ALREADY_EXISTS:case la.PERMISSION_DENIED:case la.FAILED_PRECONDITION:case la.ABORTED:case la.OUT_OF_RANGE:case la.UNIMPLEMENTED:case la.DATA_LOSS:return!0;default:return Ju()}}function pl(t){if(void 0===t)return Wu("GRPC error has no .code"),la.UNKNOWN;switch(t){case al.OK:return la.OK;case al.CANCELLED:return la.CANCELLED;case al.UNKNOWN:return la.UNKNOWN;case al.DEADLINE_EXCEEDED:return la.DEADLINE_EXCEEDED;case al.RESOURCE_EXHAUSTED:return la.RESOURCE_EXHAUSTED;case al.INTERNAL:return la.INTERNAL;case al.UNAVAILABLE:return la.UNAVAILABLE;case al.UNAUTHENTICATED:return la.UNAUTHENTICATED;case al.INVALID_ARGUMENT:return la.INVALID_ARGUMENT;case al.NOT_FOUND:return la.NOT_FOUND;case al.ALREADY_EXISTS:return la.ALREADY_EXISTS;case al.PERMISSION_DENIED:return la.PERMISSION_DENIED;case al.FAILED_PRECONDITION:return la.FAILED_PRECONDITION;case al.ABORTED:return la.ABORTED;case al.OUT_OF_RANGE:return la.OUT_OF_RANGE;case al.UNIMPLEMENTED:return la.UNIMPLEMENTED;case al.DATA_LOSS:return la.DATA_LOSS;default:return Ju()}}(cl=al||(al={}))[cl.OK=0]="OK",cl[cl.CANCELLED=1]="CANCELLED",cl[cl.UNKNOWN=2]="UNKNOWN",cl[cl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cl[cl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cl[cl.NOT_FOUND=5]="NOT_FOUND",cl[cl.ALREADY_EXISTS=6]="ALREADY_EXISTS",cl[cl.PERMISSION_DENIED=7]="PERMISSION_DENIED",cl[cl.UNAUTHENTICATED=16]="UNAUTHENTICATED",cl[cl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cl[cl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cl[cl.ABORTED=10]="ABORTED",cl[cl.OUT_OF_RANGE=11]="OUT_OF_RANGE",cl[cl.UNIMPLEMENTED=12]="UNIMPLEMENTED",cl[cl.INTERNAL=13]="INTERNAL",cl[cl.UNAVAILABLE=14]="UNAVAILABLE",cl[cl.DATA_LOSS=15]="DATA_LOSS";var vl=function(){function t(t,e){this.comparator=t,this.root=e||gl.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gl.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gl.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new yl(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new yl(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new yl(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new yl(this.root,t,this.comparator,!0)},t}(),yl=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),gl=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Ju();if(this.right.isRed())throw Ju();var t=this.left.check();if(t!==this.right.check())throw Ju();return t+(this.isRed()?0:1)},t}();gl.EMPTY=null,gl.RED=!0,gl.BLACK=!1,gl.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ju()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ju()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ju()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ju()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ju()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new gl(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var ml=function(){function t(t){this.comparator=t,this.data=new vl(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new bl(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new bl(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),bl=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),wl=new vl(ya.comparator);function _l(){return wl}function kl(){return _l()}var El=new vl(ya.comparator);function Il(){return El}var Tl=new vl(ya.comparator);function Ol(){return Tl}var Sl=new ml(ya.comparator);function Cl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Sl,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Al=new ml(ea);function xl(){return Al}var jl=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Nl.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Oc.min(),r,xl(),_l(),Cl())},t}(),Nl=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(ga.EMPTY_BYTE_STRING,n,Cl(),Cl(),Cl())},t}(),Dl=function(t,e,n,r){this.C=t,this.removedTargetIds=e,this.key=n,this.N=r},Rl=function(t,e){this.targetId=t,this.$=e},Pl=function(t,e,n,r){void 0===n&&(n=ga.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ll=function(){function t(){this.F=0,this.O=Vl(),this.k=ga.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),t.prototype.U=function(t){t.approximateByteSize()>0&&(this.L=!0,this.k=t)},t.prototype.K=function(){var t=Cl(),e=Cl(),n=Cl();return this.O.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ju()}}),new Nl(this.k,this.M,t,e,n)},t.prototype.W=function(){this.L=!1,this.O=Vl()},t.prototype.j=function(t,e){this.L=!0,this.O=this.O.insert(t,e)},t.prototype.G=function(t){this.L=!0,this.O=this.O.remove(t)},t.prototype.H=function(){this.F+=1},t.prototype.J=function(){this.F-=1},t.prototype.Y=function(){this.L=!0,this.M=!0},t}(),Ml=function(){function t(t){this.X=t,this.Z=new Map,this.tt=_l(),this.et=Fl(),this.nt=new ml(ea)}return t.prototype.st=function(t){for(var e=0,n=t.C;e<n.length;e++){var r=n[e];t.N instanceof qa?this.it(r,t.N):t.N instanceof Ua&&this.rt(r,t.key,t.N)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.rt(r=o[i],t.key,t.N)},t.prototype.ot=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ct(n);switch(t.state){case 0:e.at(n)&&r.U(t.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(t.resumeToken);break;case 2:r.J(),r.B||e.removeTarget(n);break;case 3:e.at(n)&&(r.Y(),r.U(t.resumeToken));break;case 4:e.at(n)&&(e.ut(n),r.U(t.resumeToken));break;default:Ju()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Z.forEach(function(t,r){n.at(r)&&e(r)})},t.prototype.ht=function(t){var e=t.targetId,n=t.$.count,r=this.lt(e);if(r){var i=r.target;if(Wa(i))if(0===n){var o=new ya(i.path);this.rt(e,o,new Ua(o,Oc.min()))}else Xu(1===n);else this.ft(e)!==n&&(this.ut(e),this.nt=this.nt.add(e))}},t.prototype.dt=function(t){var e=this,n=new Map;this.Z.forEach(function(r,i){var o=e.lt(i);if(o){if(r.current&&Wa(o.target)){var s=new ya(o.target.path);null!==e.tt.get(s)||e.wt(i,s)||e.rt(i,s,new Ua(s,t))}r.q&&(n.set(i,r.K()),r.W())}});var r=Cl();this.et.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.lt(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new jl(t,n,this.nt,this.tt,r);return this.tt=_l(),this.et=Fl(),this.nt=new ml(ea),i},t.prototype.it=function(t,e){if(this.at(t)){var n=this.wt(t,e.key)?2:0;this.ct(t).j(e.key,n),this.tt=this.tt.insert(e.key,e),this.et=this.et.insert(e.key,this._t(e.key).add(t))}},t.prototype.rt=function(t,e,n){if(this.at(t)){var r=this.ct(t);this.wt(t,e)?r.j(e,1):r.G(e),this.et=this.et.insert(e,this._t(e).delete(t)),n&&(this.tt=this.tt.insert(e,n))}},t.prototype.removeTarget=function(t){this.Z.delete(t)},t.prototype.ft=function(t){var e=this.ct(t).K();return this.X.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.H=function(t){this.ct(t).H()},t.prototype.ct=function(t){var e=this.Z.get(t);return e||(e=new Ll,this.Z.set(t,e)),e},t.prototype._t=function(t){var e=this.et.get(t);return e||(e=new ml(ea),this.et=this.et.insert(t,e)),e},t.prototype.at=function(t){var e=null!==this.lt(t);return e||Gu("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.lt=function(t){var e=this.Z.get(t);return e&&e.B?null:this.X.yt(t)},t.prototype.ut=function(t){var e=this;this.Z.set(t,new Ll),this.X.getRemoteKeysForTarget(t).forEach(function(n){e.rt(t,n,null)})},t.prototype.wt=function(t,e){return this.X.getRemoteKeysForTarget(t).has(e)},t}();function Fl(){return new vl(ya.comparator)}function Vl(){return new vl(ya.comparator)}var ql={asc:"ASCENDING",desc:"DESCENDING"},Ul={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bl=function(t,e){this.databaseId=t,this.V=e};function Hl(t,e){return t.V?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function zl(t,e){return t.V?e.toBase64():e.toUint8Array()}function Kl(t,e){return Hl(t,e.toTimestamp())}function Gl(t){return Xu(!!t),Oc.fromTimestamp(function(t){var e=ba(t);return new ka(e.seconds,e.nanos)}(t))}function Wl(t,e){return function(t){return new da(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Ql(t){var e=da.fromString(t);return Xu(bf(e)),e}function Yl(t,e){return Wl(t.databaseId,e.path)}function Jl(t,e){var n=Ql(e);if(n.get(1)!==t.databaseId.projectId)throw new fa(la.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fa(la.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ya(tf(n))}function Xl(t,e){return Wl(t.databaseId,e)}function Zl(t){var e=Ql(t);return 4===e.length?da.emptyPath():tf(e)}function $l(t){return new da(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tf(t){return Xu(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ef(t,e,n){return{name:Yl(t,e),fields:n.proto.mapValue.fields}}function nf(t,e,n){var r=Jl(t,e.name),i=Gl(e.updateTime),o=new Cc({mapValue:{fields:e.fields}});return new qa(r,i,o,{hasCommittedMutations:!!n})}function rf(t,e){var n;if(e instanceof nl)n={update:ef(t,e.key,e.value)};else if(e instanceof ll)n={delete:Yl(t,e.key)};else if(e instanceof rl)n={update:ef(t,e.key,e.data),updateMask:mf(e.fieldMask)};else{if(!(e instanceof fl))return Ju();n={verify:Yl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Fc)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Vc)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Uc)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Hc)return{fieldPath:e.field.canonicalString(),increment:n.S};throw Ju()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Kl(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ju()}(t,e.precondition)),n}function of(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Qc.updateTime(Gl(t.updateTime)):void 0!==t.exists?Qc.exists(t.exists):Qc.none()}(e.currentDocument):Qc.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Xu("REQUEST_TIME"===e.setToServerValue),n=new Fc):"appendMissingElements"in e?n=new Vc(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Uc(e.removeAllFromArray.values||[]):"increment"in e?n=new Hc(t,e.increment):Ju();var r=va.fromServerFormat(e.fieldPath);return new Gc(r,n)}(t,e)}):[];if(e.update){var i=Jl(t,e.update.name),o=new Cc({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Sc((t.fieldPaths||[]).map(function(t){return va.fromServerFormat(t)}))}(e.updateMask);return new rl(i,o,s,n,r)}return new nl(i,o,n,r)}if(e.delete){var u=Jl(t,e.delete);return new ll(u,n)}if(e.verify){var a=Jl(t,e.verify);return new fl(a,n)}return Ju()}function sf(t,e){return{documents:[Xl(t,e.path)]}}function uf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Xl(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Xl(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Ma(t.value))return{unaryFilter:{field:pf(t.field),op:"IS_NAN"}};if(La(t.value))return{unaryFilter:{field:pf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ma(t.value))return{unaryFilter:{field:pf(t.field),op:"IS_NOT_NAN"}};if(La(t.value))return{unaryFilter:{field:pf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pf(t.field),op:df(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:pf(t.field),direction:hf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.V||ua(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=lf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=lf(e.endAt)),n}function af(t){var e=Zl(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Xu(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=cf(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(t){return function(t){return new oc(vf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var a=null;n.limit&&(a=function(t){var e;return ua(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=ff(n.startAt));var l=null;return n.endAt&&(l=ff(n.endAt)),lc(e,i,u,s,a,"F",c,l)}function cf(t){return t?void 0!==t.unaryFilter?[gf(t)]:void 0!==t.fieldFilter?[yf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return cf(t)}).reduce(function(t,e){return t.concat(e)}):Ju():[]}function lf(t){return{before:t.before,values:t.position}}function ff(t){return new rc(t.values||[],!!t.before)}function hf(t){return ql[t]}function df(t){return Ul[t]}function pf(t){return{fieldPath:t.canonicalString()}}function vf(t){return va.fromServerFormat(t.fieldPath)}function yf(t){return Qa.create(vf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ju()}}(t.fieldFilter.op),t.fieldFilter.value)}function gf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=vf(t.unaryFilter.field);return Qa.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=vf(t.unaryFilter.field);return Qa.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=vf(t.unaryFilter.field);return Qa.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=vf(t.unaryFilter.field);return Qa.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ju()}}function mf(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function bf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function wf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=kf(e)),e=_f(t.get(n),e);return kf(e)}function _f(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function kf(t){return t+"\x01\x01"}function Ef(t){var e=t.length;if(Xu(e>=2),2===e)return Xu("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),da.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Ju(),t.charAt(s+1)){case"\x01":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Ju()}o=s+2}return new da(r)}var If=function(t,e){this.seconds=t,this.nanoseconds=e},Tf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Tf.store="owner",Tf.key="owner";var Of=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Of.store="mutationQueues",Of.keyPath="userId";var Sf=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Sf.store="mutations",Sf.keyPath="batchId",Sf.userMutationsIndex="userMutationsIndex",Sf.userMutationsKeyPath=["userId","batchId"];var Cf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,wf(e)]},t.key=function(t,e,n){return[t,wf(e),n]},t}();Cf.store="documentMutations",Cf.PLACEHOLDER=new Cf;var Af=function(t,e){this.path=t,this.readTime=e},xf=function(t,e){this.path=t,this.version=e},jf=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};jf.store="remoteDocuments",jf.readTimeIndex="readTimeIndex",jf.readTimeIndexPath="readTime",jf.collectionReadTimeIndex="collectionReadTimeIndex",jf.collectionReadTimeIndexPath=["parentPath","readTime"];var Nf=function(t){this.byteSize=t};Nf.store="remoteDocumentGlobal",Nf.key="remoteDocumentGlobalKey";var Df=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Df.store="targets",Df.keyPath="targetId",Df.queryTargetsIndexName="queryTargetsIndex",Df.queryTargetsKeyPath=["canonicalId","targetId"];var Rf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Rf.store="targetDocuments",Rf.keyPath=["targetId","path"],Rf.documentTargetsIndex="documentTargetsIndex",Rf.documentTargetsKeyPath=["path","targetId"];var Pf=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Pf.key="targetGlobalKey",Pf.store="targetGlobal";var Lf=function(t,e){this.collectionId=t,this.parent=e};Lf.store="collectionParents",Lf.keyPath=["collectionId","parent"];var Mf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Mf.store="clientMetadata",Mf.keyPath="clientId";var Ff=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Ff.store="bundles",Ff.keyPath="bundleId";var Vf=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Vf.store="namedQueries",Vf.keyPath="name";var qf=Object(Bu.f)(Object(Bu.f)([],Object(Bu.f)(Object(Bu.f)([],Object(Bu.f)(Object(Bu.f)([],Object(Bu.f)(Object(Bu.f)([],[Of.store,Sf.store,Cf.store,jf.store,Df.store,Tf.store,Pf.store,Rf.store]),[Mf.store])),[Nf.store])),[Lf.store])),[Ff.store,Vf.store]),Uf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Bf=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Hf=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},zf=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Ju(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Kf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.gt=new Hf,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){e.error?n.gt.reject(new Qf(t,e.error)):n.gt.resolve()},this.transaction.onerror=function(e){var r=$f(e.target.error);n.gt.reject(new Qf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Qf(n,e)}},Object.defineProperty(t.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.gt.reject(t),this.aborted||(Gu("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Jf(e)},t}(),Gf=function(){function t(e,n,r){this.name=e,this.version=n,this.Tt=r,12.2===t.It(Object(Vr.g)())&&Wu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Gu("SimpleDb","Removing database:",t),Xf(window.indexedDB.deleteDatabase(t)).toPromise()},t.At=function(){if("undefined"==typeof indexedDB)return!1;if(t.Rt())return!0;var e=Object(Vr.g)(),n=t.It(e),r=0<n&&n<10,i=t.bt(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Rt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.vt)},t.Pt=function(t,e){return t.store(e)},t.It=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.bt=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Vt=function(t){return Object(Bu.b)(this,void 0,void 0,function(){var e,n=this;return Object(Bu.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Gu("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Qf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new fa(la.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Qf(t,n))},i.onupgradeneeded=function(t){Gu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Tt.St(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Gu("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(t){return n.Dt(t)}),this.db)]}})})},t.prototype.Ct=function(t){this.Dt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Bu.b)(this,void 0,void 0,function(){var i,o,s,u,a;return Object(Bu.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,a,c,l;return Object(Bu.d)(this,function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,u.Vt(t)];case 2:return u.db=f.sent(),e=Kf.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),zf.reject(t)}).toPromise(),a={},s.catch(function(){}),[4,e.Et];case 3:return[2,(a.value=(f.sent(),s),a)];case 4:return Gu("SimpleDb","Transaction failed with error:",(c=f.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Wf=function(){function t(t){this.xt=t,this.Nt=!1,this.$t=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.xt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Nt=!0},t.prototype.Ot=function(t){this.$t=t},t.prototype.delete=function(){return Xf(this.xt.delete())},t}(),Qf=function(t){function e(e,n){var r=this;return(r=t.call(this,la.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Bu.c)(e,t),e}(fa);function Yf(t){return"IndexedDbTransactionError"===t.name}var Jf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Gu("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Gu("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Xf(n)},t.prototype.add=function(t){return Gu("SimpleDb","ADD",this.store.name,t,t),Xf(this.store.add(t))},t.prototype.get=function(t){var e=this;return Xf(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Gu("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Gu("SimpleDb","DELETE",this.store.name,t),Xf(this.store.delete(t))},t.prototype.count=function(){return Gu("SimpleDb","COUNT",this.store.name),Xf(this.store.count())},t.prototype.kt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Mt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Lt=function(t,e){Gu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,function(t,e,n){return n.delete()})},t.prototype.qt=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Mt(r,e)},t.prototype.Ut=function(t){var e=this.cursor({});return new zf(function(n,r){e.onerror=function(t){var e=$f(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.Mt=function(t,e){var n=[];return new zf(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Wf(i),s=e(i.primaryKey,i.value,o);if(s instanceof zf){var u=s.catch(function(t){return o.done(),zf.reject(t)});n.push(u)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}else r()}}).next(function(){return zf.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Bt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Xf(t){return new zf(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=$f(t.target.error);n(e)}})}var Zf=!1;function $f(t){var e=Gf.It(Object(Vr.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new fa("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Zf||(Zf=!0,setTimeout(function(){throw r},0)),r}}return t}var th=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.currentSequenceNumber=n,r}return Object(Bu.c)(e,t),e}(Bf);function eh(t,e){var n=Zu(t);return Gf.Pt(n.Qt,e)}var nh=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Xc(o,e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=Zc(s,e,this.localWriteTime));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=Zc(s,e,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Cl())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&na(this.mutations,t.mutations,function(t,e){return tl(t,e)})&&na(this.baseMutations,t.baseMutations,function(t,e){return tl(t,e)})},t}(),rh=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Xu(e.mutations.length===r.length);for(var i=Ol(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),ih=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Oc.min()),void 0===o&&(o=Oc.min()),void 0===s&&(s=ga.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),oh=function(t){this.Kt=t};function sh(t,e){if(e.document)return nf(t.Kt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ya.fromSegments(e.noDocument.path),r=fh(e.noDocument.readTime);return new Ua(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=ya.fromSegments(e.unknownDocument.path);return r=fh(e.unknownDocument.version),new Ba(i,r)}return Ju()}function uh(t,e,n){var r=ah(n),i=e.key.path.popLast().toArray();if(e instanceof qa){var o=function(t,e){return{name:Yl(t,e.key),fields:e.toProto().mapValue.fields,updateTime:Hl(t,e.version.toTimestamp())}}(t.Kt,e),s=e.hasCommittedMutations;return new jf(null,null,o,s,r,i)}if(e instanceof Ua){var u=e.key.path.toArray(),a=lh(e.version);return s=e.hasCommittedMutations,new jf(null,new Af(u,a),null,s,r,i)}if(e instanceof Ba){var c=e.key.path.toArray(),l=lh(e.version);return new jf(new xf(c,l),null,null,!0,r,i)}return Ju()}function ah(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ch(t){var e=new ka(t[0],t[1]);return Oc.fromTimestamp(e)}function lh(t){var e=t.toTimestamp();return new If(e.seconds,e.nanoseconds)}function fh(t){var e=new ka(t.seconds,t.nanoseconds);return Oc.fromTimestamp(e)}function hh(t,e){for(var n=(e.baseMutations||[]).map(function(e){return of(t.Kt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return of(t.Kt,e)}),o=ka.fromMillis(e.localWriteTimeMs);return new nh(e.batchId,o,n,i)}function dh(t){var e,n,r=fh(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?fh(t.lastLimboFreeSnapshotVersion):Oc.min();return void 0!==t.query.documents?(Xu(1===(n=t.query).documents.length),e=mc(fc(Zl(n.documents[0])))):e=function(t){return mc(af(t))}(t.query),new ih(e,t.targetId,0,t.lastListenSequenceNumber,r,i,ga.fromBase64String(t.resumeToken))}function ph(t,e){var n,r=lh(e.snapshotVersion),i=lh(e.lastLimboFreeSnapshotVersion);n=Wa(e.target)?sf(t.Kt,e.target):uf(t.Kt,e.target);var o=e.resumeToken.toBase64();return new Df(e.targetId,Ka(e.target),r,o,e.sequenceNumber,i,n)}function vh(t){var e=af({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?bc(e,e.limit,"L"):e}var yh=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return gh(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:fh(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return gh(t).put({bundleId:(n=e).id,createTime:lh(Gl(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return mh(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:vh(e.bundledQuery),readTime:fh(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return mh(t).put(function(t){return{name:t.name,readTime:lh(Gl(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function gh(t){return eh(t,Ff.store)}function mh(t){return eh(t,Vf.store)}var bh=function(){function t(){this.Wt=new wh}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Wt.add(e),zf.resolve()},t.prototype.getCollectionParents=function(t,e){return zf.resolve(this.Wt.getEntries(e))},t}(),wh=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ml(da.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ml(da.comparator)).toArray()},t}(),_h=function(){function t(){this.jt=new wh}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.jt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.jt.add(e)});var o={collectionId:r,parent:wf(i)};return kh(t).put(o)}return zf.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ra(e),""],!1,!0);return kh(t).kt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Ef(o.parent))}return n})},t}();function kh(t){return eh(t,Lf.store)}var Eh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ih=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Th(t,e,n){var r=t.store(Sf.store),i=t.store(Cf.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.qt({range:s},function(t,e,n){return u++,n.delete()});o.push(a.next(function(){Xu(1===u)}));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=Cf.key(e,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return zf.waitFor(o).next(function(){return c})}function Oh(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ju();e=t.noDocument}return JSON.stringify(e).length}Ih.DEFAULT_COLLECTION_PERCENTILE=10,Ih.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ih.DEFAULT=new Ih(41943040,Ih.DEFAULT_COLLECTION_PERCENTILE,Ih.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ih.DISABLED=new Ih(-1,0,0);var Sh=function(){function t(t,e,n,r){this.userId=t,this.D=e,this.Gt=n,this.referenceDelegate=r,this.zt={}}return t.Ht=function(e,n,r,i){return Xu(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ah(t).qt({index:Sf.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=xh(t),s=Ah(t);return s.add({}).next(function(u){Xu("number"==typeof u);for(var a=new nh(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return rf(t.Kt,e)}),i=n.mutations.map(function(e){return rf(t.Kt,e)});return new Sf(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,a),l=[],f=new ml(function(t,e){return ea(t.canonicalString(),e.canonicalString())}),h=0,d=r;h<d.length;h++){var p=d[h],v=Cf.key(i.userId,p.key.path,u);f=f.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(v,Cf.PLACEHOLDER))}return f.forEach(function(e){l.push(i.Gt.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.zt[u]=a.keys()}),zf.waitFor(l).next(function(){return a})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Ah(t).get(e).next(function(t){return t?(Xu(t.userId===n.userId),hh(n.D,t)):null})},t.prototype.Jt=function(t,e){var n=this;return this.zt[e]?zf.resolve(this.zt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.zt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ah(t).qt({index:Sf.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Xu(e.batchId>=r),o=hh(n.D,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ah(t).qt({index:Sf.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ah(t).kt(Sf.userMutationsIndex,n).next(function(t){return t.map(function(t){return hh(e.D,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Cf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return xh(t).qt({range:i},function(r,i,s){var u=r[0],a=r[2],c=Ef(r[1]);if(u===n.userId&&e.path.isEqual(c))return Ah(t).get(a).next(function(t){if(!t)throw Ju();Xu(t.userId===n.userId),o.push(hh(n.D,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ml(ea),i=[];return e.forEach(function(e){var o=Cf.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=xh(t).qt({range:s},function(t,i,o){var s=t[0],u=t[2],a=Ef(t[1]);s===n.userId&&e.path.isEqual(a)?r=r.add(u):o.done()});i.push(u)}),zf.waitFor(i).next(function(){return n.Yt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Cf.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new ml(ea);return xh(t).qt({range:s},function(t,e,o){var s=t[0],a=t[2],c=Ef(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(u=u.add(a)):o.done()}).next(function(){return n.Yt(t,u)})},t.prototype.Yt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Ah(t).get(e).next(function(t){if(null===t)throw Ju();Xu(t.userId===n.userId),r.push(hh(n.D,t))}))}),zf.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Th(t.Qt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Xt(e.batchId)}),zf.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Xt=function(t){delete this.zt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return zf.resolve();var r=IDBKeyRange.lowerBound(Cf.prefixForUser(e.userId)),i=[];return xh(t).qt({range:r},function(t,n,r){if(t[0]===e.userId){var o=Ef(t[1]);i.push(o)}else r.done()}).next(function(){Xu(0===i.length)})})},t.prototype.containsKey=function(t,e){return Ch(t,this.userId,e)},t.prototype.Zt=function(t){var e=this;return jh(t).get(this.userId).next(function(t){return t||new Of(e.userId,-1,"")})},t}();function Ch(t,e,n){var r=Cf.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return xh(t).qt({range:o,Bt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Ah(t){return eh(t,Sf.store)}function xh(t){return eh(t,Cf.store)}function jh(t){return eh(t,Of.store)}var Nh=function(){function t(t){this.te=t}return t.prototype.next=function(){return this.te+=2,this.te},t.ee=function(){return new t(0)},t.ne=function(){return new t(-1)},t}(),Dh=function(){function t(t,e){this.referenceDelegate=t,this.D=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.se(t).next(function(n){var r=new Nh(n.highestTargetId);return n.highestTargetId=r.next(),e.ie(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.se(t).next(function(t){return Oc.fromTimestamp(new ka(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.se(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.se(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.ie(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.re(t,e).next(function(){return n.se(t).next(function(r){return r.targetCount+=1,n.oe(e,r),n.ie(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.re(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Rh(t).delete(e.targetId)}).next(function(){return n.se(t)}).next(function(e){return Xu(e.targetCount>0),e.targetCount-=1,n.ie(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Rh(t).qt(function(s,u){var a=dh(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.removeTargetData(t,a)))}).next(function(){return zf.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Rh(t).qt(function(t,n){var r=dh(n);e(r)})},t.prototype.se=function(t){return Ph(t).get(Pf.key).next(function(t){return Xu(null!==t),t})},t.prototype.ie=function(t,e){return Ph(t).put(Pf.key,e)},t.prototype.re=function(t,e){return Rh(t).put(ph(this.D,e))},t.prototype.oe=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.se(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Ka(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Rh(t).qt({range:r,index:Df.queryTargetsIndexName},function(t,n,r){var o=dh(n);Ga(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Lh(t);return e.forEach(function(e){var s=wf(e.path);i.push(o.put(new Rf(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),zf.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Lh(t);return zf.forEach(e,function(e){var o=wf(e.path);return zf.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Lh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Lh(t),i=Cl();return r.qt({range:n,Bt:!0},function(t,e,n){var r=Ef(t[1]),o=new ya(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=wf(e.path),r=IDBKeyRange.bound([n],[ra(n)],!1,!0),i=0;return Lh(t).qt({index:Rf.documentTargetsIndex,Bt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.yt=function(t,e){return Rh(t).get(e).next(function(t){return t?dh(t):null})},t}();function Rh(t){return eh(t,Df.store)}function Ph(t){return eh(t,Pf.store)}function Lh(t){return eh(t,Rf.store)}function Mh(t){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(e){if(t.code!==la.FAILED_PRECONDITION||t.message!==Uf)throw t;return Gu("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Fh(t,e){var n=t[1],r=e[1],i=ea(t[0],e[0]);return 0===i?ea(n,r):i}var Vh=function(){function t(t){this.ce=t,this.buffer=new ml(Fh),this.ae=0}return t.prototype.ue=function(){return++this.ae},t.prototype.he=function(t){var e=[t,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Fh(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),qh=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.le=!1,this.fe=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(t)},t.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),t.prototype.de=function(t){var e=this,n=this.le?3e5:6e4;Gu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Bu.b)(e,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Yf(e=n.sent())?(Gu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Mh(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(t)];case 8:return n.sent(),[2]}})})})},t}(),Uh=function(){function t(t,e){this.we=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.we._e(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return zf.resolve(Hu.o);var r=new Vh(e);return this.we.forEachTarget(t,function(t){return r.he(t.sequenceNumber)}).next(function(){return n.we.me(t,function(t){return r.he(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.we.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.we.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Gu("LruGarbageCollector","Garbage collection skipped; disabled"),zf.resolve(Eh)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Gu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Eh):n.ye(t,e)})},t.prototype.getCacheSize=function(t){return this.we.getCacheSize(t)},t.prototype.ye=function(t,e){var n,r,i,o,s,u,a,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Gu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,u=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return a=Date.now(),Ku()<=Fr.a.DEBUG&&Gu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(a-u)+"ms\nTotal Duration: "+(a-l)+"ms"),zf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Bh=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Uh(t,e)}(this,e)}return t.prototype._e=function(t){var e=this.ge(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.ge=function(t){var e=0;return this.me(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.me=function(t,e){return this.pe(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Hh(t,n)},t.prototype.removeReference=function(t,e,n){return Hh(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Hh(t,e)},t.prototype.Ee=function(t,e){return function(t,e){var n=!1;return jh(t).Ut(function(r){return Ch(t,r,e).next(function(t){return t&&(n=!0),zf.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.pe(t,function(s,u){if(u<=e){var a=n.Ee(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),Lh(t).delete([0,wf(s.path)])})});i.push(a)}}).next(function(){return zf.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Hh(t,e)},t.prototype.pe=function(t,e){var n,r=Lh(t),i=Hu.o;return r.qt({index:Rf.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Hu.o&&e(new ya(Ef(n)),i),i=s,n=o):i=Hu.o}).next(function(){i!==Hu.o&&e(new ya(Ef(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Hh(t,e){return Lh(t).put(function(t,e){return new Rf(0,wf(t.path),e)}(e,t.currentSequenceNumber))}var zh=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){oa(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return sa(this.inner)},t}(),Kh=function(){function t(){this.changes=new zh(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Oc.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{maybeDocument:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{maybeDocument:null,readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?zf.resolve(n.maybeDocument):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Gh=function(){function t(t,e){this.D=t,this.Gt=e}return t.prototype.addEntry=function(t,e,n){return Yh(t).put(Jh(e),n)},t.prototype.removeEntry=function(t,e){var n=Yh(t),r=Jh(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Te(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Yh(t).get(Jh(e)).next(function(t){return n.Ie(t)})},t.prototype.Ae=function(t,e){var n=this;return Yh(t).get(Jh(e)).next(function(t){var e=n.Ie(t);return e?{maybeDocument:e,size:Oh(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=kl();return this.Re(t,e,function(t,e){var i=n.Ie(e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.be=function(t,e){var n=this,r=kl(),i=new vl(ya.comparator);return this.Re(t,e,function(t,e){var o=n.Ie(e);o?(r=r.insert(t,o),i=i.insert(t,Oh(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{ve:r,Pe:i}})},t.prototype.Re=function(t,e,n){if(e.isEmpty())return zf.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Yh(t).qt({range:r},function(t,e,r){for(var s=ya.fromSegments(t);o&&ya.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ot(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Il(),o=e.path.length+1,s={};if(n.isEqual(Oc.min())){var u=e.path.toArray();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.toArray(),c=ah(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=jf.collectionReadTimeIndex}return Yh(t).qt(s,function(t,n,s){if(t.length===o){var u=sh(r.D,n);e.path.isPrefixOf(u.key.path)?u instanceof qa&&Ec(e,u)&&(i=i.insert(u.key,u)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Wh(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Qh(t).get(Nf.key).next(function(t){return Xu(!!t),t})},t.prototype.Te=function(t,e){return Qh(t).put(Nf.key,e)},t.prototype.Ie=function(t){if(t){var e=sh(this.D,t);return e instanceof Ua&&e.version.isEqual(Oc.min())?null:e}return null},t}(),Wh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ve=e,r.trackRemovals=n,r.Se=new zh(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Bu.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new ml(function(t,e){return ea(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var u=e.Se.get(o);if(s.maybeDocument){var a=uh(e.Ve.D,s.maybeDocument,e.getReadTime(o));i=i.add(o.path.popLast());var c=Oh(a);r+=c-u,n.push(e.Ve.addEntry(t,o,a))}else if(r-=u,e.trackRemovals){var l=uh(e.Ve.D,new Ua(o,Oc.min()),e.getReadTime(o));n.push(e.Ve.addEntry(t,o,l))}else n.push(e.Ve.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ve.Gt.addToCollectionParentIndex(t,r))}),n.push(this.Ve.updateMetadata(t,r)),zf.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ve.Ae(t,e).next(function(t){return null===t?(n.Se.set(e,0),null):(n.Se.set(e,t.size),t.maybeDocument)})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ve.be(t,e).next(function(t){var e=t.ve;return t.Pe.forEach(function(t,e){n.Se.set(t,e)}),e})},e}(Kh);function Qh(t){return eh(t,Nf.store)}function Yh(t){return eh(t,jf.store)}function Jh(t){return t.path.toArray()}var Xh=function(){function t(t){this.D=t}return t.prototype.St=function(t,e,n,r){var i=this;Xu(n<r&&n>=0&&r<=11);var o=new Kf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Tf.store)}(t),function(t){t.createObjectStore(Of.store,{keyPath:Of.keyPath}),t.createObjectStore(Sf.store,{keyPath:Sf.keyPath,autoIncrement:!0}).createIndex(Sf.userMutationsIndex,Sf.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Cf.store)}(t),Zh(t),function(t){t.createObjectStore(jf.store)}(t));var s=zf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Rf.store),t.deleteObjectStore(Df.store),t.deleteObjectStore(Pf.store)}(t),Zh(t)),s=s.next(function(){return function(t){var e=t.store(Pf.store),n=new Pf(0,0,Oc.min().toTimestamp(),0);return e.put(Pf.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Sf.store).kt().next(function(n){t.deleteObjectStore(Sf.store),t.createObjectStore(Sf.store,{keyPath:Sf.keyPath,autoIncrement:!0}).createIndex(Sf.userMutationsIndex,Sf.userMutationsKeyPath,{unique:!0});var r=e.store(Sf.store),i=n.map(function(t){return r.put(t)});return zf.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Mf.store,{keyPath:Mf.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.De(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Nf.store)}(t),i.Ce(o)})),n<7&&r>=7&&(s=s.next(function(){return i.xe(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Ne(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(jf.store);e.createIndex(jf.readTimeIndex,jf.readTimeIndexPath,{unique:!1}),e.createIndex(jf.collectionReadTimeIndex,jf.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.$e(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Ff.store,{keyPath:Ff.keyPath})}(t),function(t){t.createObjectStore(Vf.store,{keyPath:Vf.keyPath})}(t)})),s},t.prototype.Ce=function(t){var e=0;return t.store(jf.store).qt(function(t,n){e+=Oh(n)}).next(function(){var n=new Nf(e);return t.store(Nf.store).put(Nf.key,n)})},t.prototype.De=function(t){var e=this,n=t.store(Of.store),r=t.store(Sf.store);return n.kt().next(function(n){return zf.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(Sf.userMutationsIndex,i).next(function(r){return zf.forEach(r,function(r){Xu(r.userId===n.userId);var i=hh(e.D,r);return Th(t,n.userId,i).next(function(){})})})})})},t.prototype.xe=function(t){var e=t.store(Rf.store),n=t.store(jf.store);return t.store(Pf.store).get(Pf.key).next(function(t){var r=[];return n.qt(function(n,i){var o=new da(n),s=function(t){return[0,wf(t)]}(o);r.push(e.get(s).next(function(n){return n?zf.resolve():function(n){return e.put(new Rf(0,wf(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return zf.waitFor(r)})})},t.prototype.Ne=function(t,e){t.createObjectStore(Lf.store,{keyPath:Lf.keyPath});var n=e.store(Lf.store),r=new wh,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:wf(i)})}};return e.store(jf.store).qt({Bt:!0},function(t,e){var n=new da(t);return i(n.popLast())}).next(function(){return e.store(Cf.store).qt({Bt:!0},function(t,e){var n=Ef(t[1]);return i(n.popLast())})})},t.prototype.$e=function(t){var e=this,n=t.store(Df.store);return n.qt(function(t,r){var i=dh(r),o=ph(e.D,i);return n.put(o)})},t}();function Zh(t){t.createObjectStore(Rf.store,{keyPath:Rf.keyPath}).createIndex(Rf.documentTargetsIndex,Rf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Df.store,{keyPath:Df.keyPath}).createIndex(Df.queryTargetsIndexName,Df.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Pf.store)}var $h="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",td=function(){function t(e,n,r,i,o,s,u,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fe=o,this.window=s,this.document=u,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(t){return Promise.resolve()},!t.At())throw new fa(la.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Bh(this,i),this.We=n+"main",this.D=new oh(a),this.je=new Gf(this.We,11,new Xh(this.D)),this.Ge=new Dh(this.referenceDelegate,this.D),this.Gt=new _h,this.ze=function(t,e){return new Gh(t,e)}(this.D,this.Gt),this.He=new yh,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&Wu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Ye().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new fa(la.FAILED_PRECONDITION,$h);return t.Xe(),t.Ze(),t.tn(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Ge.getHighestSequenceNumber(e)})}).then(function(e){t.Me=new Hu(e,t.Oe)}).then(function(){t.Le=!0}).catch(function(e){return t.je&&t.je.close(),Promise.reject(e)})},t.prototype.en=function(t){var e=this;return this.Ke=function(n){return Object(Bu.b)(e,void 0,void 0,function(){return Object(Bu.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.je.Ct(function(n){return Object(Bu.b)(e,void 0,void 0,function(){return Object(Bu.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Fe.enqueueAndForget(function(){return Object(Bu.b)(e,void 0,void 0,function(){return Object(Bu.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Ye=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return nd(e).put(new Mf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.nn(e).next(function(e){e||(t.isPrimary=!1,t.Fe.enqueueRetryable(function(){return t.Ke(!1)}))})}).next(function(){return t.sn(e)}).next(function(n){return t.isPrimary&&!n?t.rn(e).next(function(){return!1}):!!n&&t.on(e).next(function(){return!0})})}).catch(function(e){if(Yf(e))return Gu("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Gu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Fe.enqueueRetryable(function(){return t.Ke(e)}),t.isPrimary=e})},t.prototype.nn=function(t){var e=this;return ed(t).get(Tf.key).next(function(t){return zf.resolve(e.cn(t))})},t.prototype.an=function(t){return nd(t).delete(this.clientId)},t.prototype.un=function(){return Object(Bu.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Bu.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=eh(t,Mf.store);return e.kt().next(function(t){var n=r.ln(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return zf.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Je)for(e=0,n=t;e<n.length;e++)this.Je.removeItem(this.fn(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.tn=function(){var t=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.Ye().then(function(){return t.un()}).then(function(){return t.tn()})})},t.prototype.cn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sn=function(t){var e=this;return this.ke?zf.resolve(!0):ed(t).get(Tf.key).next(function(n){if(null!==n&&e.hn(n.leaseTimestampMs,5e3)&&!e.dn(n.ownerId)){if(e.cn(n)&&e.networkEnabled)return!0;if(!e.cn(n)){if(!n.allowTabSynchronization)throw new fa(la.FAILED_PRECONDITION,$h);return!1}}return!(!e.networkEnabled||!e.inForeground)||nd(t).kt().next(function(t){return void 0===e.ln(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Gu("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Bu.b)(this,void 0,void 0,function(){var t=this;return Object(Bu.d)(this,function(e){switch(e.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[Tf.store,Mf.store],function(e){var n=new th(e,Hu.o);return t.rn(n).next(function(){return t.an(n)})})];case 1:return e.sent(),this.je.close(),this.yn(),[2]}})})},t.prototype.ln=function(t,e){var n=this;return t.filter(function(t){return n.hn(t.updateTimeMs,e)&&!n.dn(t.clientId)})},t.prototype.gn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return nd(e).kt().next(function(e){return t.ln(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Sh.Ht(t,this.D,this.Gt,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Gu("IndexedDbPersistence","Starting transaction:",t),this.je.runTransaction(t,"readonly"===e?"readonly":"readwrite",qf,function(o){return r=new th(o,i.Me?i.Me.next():Hu.o),"readwrite-primary"===e?i.nn(r).next(function(t){return!!t||i.sn(r)}).next(function(e){if(!e)throw Wu("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Fe.enqueueRetryable(function(){return i.Ke(!1)}),new fa(la.FAILED_PRECONDITION,Uf);return n(r)}).next(function(t){return i.on(r).next(function(){return t})}):i.pn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.pn=function(t){var e=this;return ed(t).get(Tf.key).next(function(t){if(null!==t&&e.hn(t.leaseTimestampMs,5e3)&&!e.dn(t.ownerId)&&!e.cn(t)&&!(e.ke||e.allowTabSynchronization&&t.allowTabSynchronization))throw new fa(la.FAILED_PRECONDITION,$h)})},t.prototype.on=function(t){var e=new Tf(this.clientId,this.allowTabSynchronization,Date.now());return ed(t).put(Tf.key,e)},t.At=function(){return Gf.At()},t.prototype.rn=function(t){var e=this,n=ed(t);return n.get(Tf.key).next(function(t){return e.cn(t)?(Gu("IndexedDbPersistence","Releasing primary lease."),n.delete(Tf.key)):zf.resolve()})},t.prototype.hn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Wu("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xe=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){t.Fe.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.Ye()})},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},t.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},t.prototype.Ze=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Be=function(){e.wn(),e.Fe.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Be))},t.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},t.prototype.dn=function(t){var e;try{var n=null!==(null===(e=this.Je)||void 0===e?void 0:e.getItem(this.fn(t)));return Gu("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Wu("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(t){Wu("Failed to set zombie client id.",t)}},t.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(t){}},t.prototype.fn=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ed(t){return eh(t,Tf.store)}function nd(t){return eh(t,Mf.store)}function rd(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var id=function(t,e){this.progress=t,this.En=e},od=function(){function t(t,e,n){this.ze=t,this.Tn=e,this.Gt=n}return t.prototype.In=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.An(t,e,r)})},t.prototype.An=function(t,e,n){return this.ze.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t})},t.prototype.Rn=function(t,e,n){var r=kl();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.bn=function(t,e){var n=this;return this.ze.getEntries(t,e).next(function(e){return n.vn(t,e)})},t.prototype.vn=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.Rn(t,e,r),o=_l();return i.forEach(function(t,e){e||(e=new Ua(t,Oc.min())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return ya.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Pn(t,e.path):yc(e)?this.Vn(t,e,n):this.Sn(t,e,n)},t.prototype.Pn=function(t,e){return this.In(t,new ya(e)).next(function(t){var e=Il();return t instanceof qa&&(e=e.insert(t.key,t)),e})},t.prototype.Vn=function(t,e,n){var r=this,i=e.collectionGroup,o=Il();return this.Gt.getCollectionParents(t,i).next(function(s){return zf.forEach(s,function(s){var u=function(t,e){return new cc(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.Sn(t,u,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.Sn=function(t,e,n){var r,i,o=this;return this.ze.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o.Tn.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Dn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,l=Zc(a,r.get(c),o.localWriteTime);r=l instanceof qa?r.insert(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Ec(e,n)||(r=r.remove(t))}),r})},t.prototype.Dn=function(t,e,n){for(var r=Cl(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof rl&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.ze.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof qa&&(c=c.insert(t,e))}),c})},t}(),sd=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Cn=n,this.xn=r}return t.Nn=function(e,n){for(var r=Cl(),i=Cl(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ud=function(){function t(){}return t.prototype.$n=function(t){this.Fn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Oc.min())?this.On(t,e):this.Fn.bn(t,r).next(function(o){var s=i.kn(e,o);return(hc(e)||dc(e))&&i.Mn(e.limitType,s,r,n)?i.On(t,e):(Ku()<=Fr.a.DEBUG&&Gu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),kc(e)),i.Fn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.kn=function(t,e){var n=new ml(Ic(t));return e.forEach(function(e,r){r instanceof qa&&Ec(t,r)&&(n=n.add(r))}),n},t.prototype.Mn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.On=function(t,e){return Ku()<=Fr.a.DEBUG&&Gu("QueryEngine","Using full collection scan to execute query:",kc(e)),this.Fn.getDocumentsMatchingQuery(t,e,Oc.min())},t}(),ad=function(){function t(t,e,n,r){this.persistence=t,this.Ln=e,this.D=r,this.Bn=new vl(ea),this.qn=new zh(function(t){return Ka(t)},Ga),this.Un=Oc.min(),this.Tn=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.Ge=t.getTargetCache(),this.Kn=new od(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=t.getBundleCache(),this.Ln.$n(this.Kn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Bn)})},t}();function cd(t,e,n,r){return new ad(t,e,n,r)}function ld(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Bu.d)(this,function(s){switch(s.label){case 0:return n=Zu(t),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Tn.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new od(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=Cl(),u=0,a=o;u<a.length;u++){var c=a[u];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++)s=s.add(f[l].key)}for(var h=0,d=e;h<d.length;h++){var p=d[h];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)s=s.add(y[v].key)}return i.bn(t,s).next(function(t){return{Wn:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),o)]}})})}function fd(t,e){var n=Zu(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=zf.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=e,s=n.docVersions.get(t);Xu(null!==s),(!o||o.version.compareTo(s)<0)&&(o=i.applyToRemoteDocument(t,o,n))&&r.addEntry(o,n.commitVersion)})}),s.next(function(){return t.Tn.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}function hd(t){var e=Zu(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Ge.getLastRemoteSnapshotVersion(t)})}function dd(t,e){var n=Zu(t),r=e.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var s=[];e.targetChanges.forEach(function(e,o){var u=i.get(o);if(u){s.push(n.Ge.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.Ge.addMatchingKeys(t,e.addedDocuments,o)}));var a=e.resumeToken;if(a.approximateByteSize()>0){var c=u.withResumeToken(a,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Xu(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,c,e)&&s.push(n.Ge.updateTargetData(t,c))}}});var u=_l();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(pd(t,o,e.documentUpdates,r,void 0).next(function(t){u=t})),!r.isEqual(Oc.min())){var a=n.Ge.getLastRemoteSnapshotVersion(t).next(function(e){return n.Ge.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(a)}return zf.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Kn.vn(t,u)})}).then(function(t){return n.Bn=i,t})}function pd(t,e,n,r,i){var o=Cl();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=_l();return n.forEach(function(n,s){var u=t.get(n),a=(null==i?void 0:i.get(n))||r;s instanceof Ua&&s.version.isEqual(Oc.min())?(e.removeEntry(n,a),o=o.insert(n,s)):null==u||s.version.compareTo(u.version)>0||0===s.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(s,a),o=o.insert(n,s)):Gu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",s.version)}),o})}function vd(t,e){var n=Zu(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Tn.getNextMutationBatchAfterBatchId(t,e)})}function yd(t,e){var n=Zu(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Ge.getTargetData(t,e).next(function(i){return i?zf.resolve(r=i):n.Ge.allocateTargetId(t).next(function(i){return r=new ih(e,i,0,t.currentSequenceNumber),n.Ge.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Bn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(t.targetId,t),n.qn.set(e,t.targetId)),t})}function gd(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Bu.d)(this,function(u){switch(u.label){case 0:r=Zu(t),i=r.Bn.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Yf(s=u.sent()))throw s;return Gu("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Bn=r.Bn.remove(e),r.qn.delete(i.target),[2]}})})}function md(t,e,n){var r=Zu(t),i=Oc.min(),o=Cl();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Zu(t),i=r.qn.get(n);return void 0!==i?zf.resolve(r.Bn.get(i)):r.Ge.getTargetData(e,n)}(r,t,mc(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.Ln.getDocumentsMatchingQuery(t,e,n?i:Oc.min(),n?o:Cl())}).next(function(t){return{documents:t,jn:o}})})}function bd(t,e){var n=Zu(t),r=Zu(n.Ge),i=n.Bn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.yt(t,e).next(function(t){return t?t.target:null})})}function wd(t){var e=Zu(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Zu(t),i=_l(),o=ah(n),s=Yh(e),u=IDBKeyRange.lowerBound(o,!0);return s.qt({index:jf.readTimeIndex,range:u},function(t,e){var n=sh(r.D,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{En:i,readTime:ch(o)}})}(e.Qn,t,e.Un)}).then(function(t){var n=t.En;return e.Un=t.readTime,n})}function _d(t){return Object(Bu.b)(this,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(n){return[2,(e=Zu(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Yh(t),n=Oc.min();return e.qt({index:jf.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=ch(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Un=t})]})})}function kd(t,e,n,r){return Object(Bu.b)(this,void 0,void 0,function(){var i,o,s,u,a,c,l,f,h,d;return Object(Bu.d)(this,function(p){switch(p.label){case 0:for(i=Zu(t),o=Cl(),s=_l(),u=Ol(),a=0,c=n;a<c.length;a++)f=e.Gn((l=c[a]).metadata.name),l.document&&(o=o.add(f)),s=s.insert(f,e.zn(l)),u=u.insert(f,e.Hn(l.metadata.readTime));return h=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,yd(i,function(t){return mc(fc(da.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return pd(t,h,s,Oc.min(),u).next(function(e){return h.apply(t),e}).next(function(e){return i.Ge.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.Ge.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Kn.vn(t,e)})})})]}})})}function Ed(t,e,n){return void 0===n&&(n=Cl()),Object(Bu.b)(this,void 0,void 0,function(){var r,i;return Object(Bu.d)(this,function(o){switch(o.label){case 0:return[4,yd(t,mc(vh(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Zu(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Gl(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.He.saveNamedQuery(t,e);var s=r.withResumeToken(ga.EMPTY_BYTE_STRING,o);return i.Bn=i.Bn.insert(s.targetId,s),i.Ge.updateTargetData(t,s).next(function(){return i.Ge.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.Ge.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.He.saveNamedQuery(t,e)})})]}})})}var Id=function(){function t(t){this.D=t,this.Jn=new Map,this.Yn=new Map}return t.prototype.getBundleMetadata=function(t,e){return zf.resolve(this.Jn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:Gl(n.createTime)}),zf.resolve()},t.prototype.getNamedQuery=function(t,e){return zf.resolve(this.Yn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:vh(t.bundledQuery),readTime:Gl(t.readTime)}}(e)),zf.resolve()},t}(),Td=function(){function t(){this.Xn=new ml(Od.Zn),this.ts=new ml(Od.es)}return t.prototype.isEmpty=function(){return this.Xn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Od(t,e);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},t.prototype.ns=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.ss(new Od(t,e))},t.prototype.rs=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.os=function(t){var e=this,n=new ya(new da([])),r=new Od(n,t),i=new Od(n,t+1),o=[];return this.ts.forEachInRange([r,i],function(t){e.ss(t),o.push(t.key)}),o},t.prototype.cs=function(){var t=this;this.Xn.forEach(function(e){return t.ss(e)})},t.prototype.ss=function(t){this.Xn=this.Xn.delete(t),this.ts=this.ts.delete(t)},t.prototype.us=function(t){var e=new ya(new da([])),n=new Od(e,t),r=new Od(e,t+1),i=Cl();return this.ts.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Od(t,0),n=this.Xn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Od=function(){function t(t,e){this.key=t,this.hs=e}return t.Zn=function(t,e){return ya.comparator(t.key,e.key)||ea(t.hs,e.hs)},t.es=function(t,e){return ea(t.hs,e.hs)||ya.comparator(t.key,e.key)},t}(),Sd=function(){function t(t,e){this.Gt=t,this.referenceDelegate=e,this.Tn=[],this.ls=1,this.fs=new ml(Od.Zn)}return t.prototype.checkEmpty=function(t){return zf.resolve(0===this.Tn.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ls;this.ls++;var o=new nh(i,e,n,r);this.Tn.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.fs=this.fs.add(new Od(a.key,i)),this.Gt.addToCollectionParentIndex(t,a.key.path.popLast())}return zf.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return zf.resolve(this.ds(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.ws(e+1),r=n<0?0:n;return zf.resolve(this.Tn.length>r?this.Tn[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return zf.resolve(0===this.Tn.length?-1:this.ls-1)},t.prototype.getAllMutationBatches=function(t){return zf.resolve(this.Tn.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Od(e,0),i=new Od(e,Number.POSITIVE_INFINITY),o=[];return this.fs.forEachInRange([r,i],function(t){var e=n.ds(t.hs);o.push(e)}),zf.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ml(ea);return e.forEach(function(t){var e=new Od(t,0),i=new Od(t,Number.POSITIVE_INFINITY);n.fs.forEachInRange([e,i],function(t){r=r.add(t.hs)})}),zf.resolve(this._s(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ya.isDocumentKey(i)||(i=i.child(""));var o=new Od(new ya(i),0),s=new ml(ea);return this.fs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.hs)),!0)},o),zf.resolve(this._s(s))},t.prototype._s=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.ds(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Xu(0===this.ys(e.batchId,"removed")),this.Tn.shift();var r=this.fs;return zf.forEach(e.mutations,function(i){var o=new Od(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.fs=r})},t.prototype.Xt=function(t){},t.prototype.containsKey=function(t,e){var n=new Od(e,0),r=this.fs.firstAfterOrEqual(n);return zf.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return zf.resolve()},t.prototype.ys=function(t,e){return this.ws(t)},t.prototype.ws=function(t){return 0===this.Tn.length?0:t-this.Tn[0].batchId},t.prototype.ds=function(t){var e=this.ws(t);return e<0||e>=this.Tn.length?null:this.Tn[e]},t}(),Cd=function(){function t(t,e){this.Gt=t,this.gs=e,this.docs=new vl(ya.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.gs(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:s,readTime:n}),this.size+=s-o,this.Gt.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return zf.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=kl();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),zf.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Il(),i=new ya(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),u=s.value,a=u.maybeDocument,c=u.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||a instanceof qa&&Ec(e,a)&&(r=r.insert(a.key,a))}return zf.resolve(r)},t.prototype.ps=function(t,e){return zf.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Ad(this)},t.prototype.getSize=function(t){return zf.resolve(this.size)},t}(),Ad=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ve=e,n}return Object(Bu.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i&&i.maybeDocument?n.push(e.Ve.addEntry(t,i.maybeDocument,e.getReadTime(r))):e.Ve.removeEntry(r)}),zf.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ve.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ve.getEntries(t,e)},e}(Kh),xd=function(){function t(t){this.persistence=t,this.Es=new zh(function(t){return Ka(t)},Ga),this.lastRemoteSnapshotVersion=Oc.min(),this.highestTargetId=0,this.Ts=0,this.Is=new Td,this.targetCount=0,this.As=Nh.ee()}return t.prototype.forEachTarget=function(t,e){return this.Es.forEach(function(t,n){return e(n)}),zf.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return zf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return zf.resolve(this.Ts)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.As.next(),zf.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ts&&(this.Ts=e),zf.resolve()},t.prototype.re=function(t){this.Es.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.As=new Nh(e),this.highestTargetId=e),t.sequenceNumber>this.Ts&&(this.Ts=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.re(e),this.targetCount+=1,zf.resolve()},t.prototype.updateTargetData=function(t,e){return this.re(e),zf.resolve()},t.prototype.removeTargetData=function(t,e){return this.Es.delete(e.target),this.Is.os(e.targetId),this.targetCount-=1,zf.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.Es.forEach(function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.Es.delete(s),o.push(r.removeMatchingKeysForTargetId(t,u.targetId)),i++)}),zf.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return zf.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.Es.get(e)||null;return zf.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.Is.ns(e,n),zf.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this.Is.rs(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),zf.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.Is.os(e),zf.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.Is.us(e);return zf.resolve(n)},t.prototype.containsKey=function(t,e){return zf.resolve(this.Is.containsKey(e))},t}(),jd=function(){function t(t,e){var n=this;this.Rs={},this.Me=new Hu(0),this.Le=!1,this.Le=!0,this.referenceDelegate=t(this),this.Ge=new xd(this),this.Gt=new bh,this.ze=function(t,e){return new Cd(t,function(t){return n.referenceDelegate.bs(t)})}(this.Gt),this.D=new oh(e),this.He=new Id(this.D)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getMutationQueue=function(t){var e=this.Rs[t.toKey()];return e||(e=new Sd(this.Gt,this.referenceDelegate),this.Rs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r=this;Gu("MemoryPersistence","Starting transaction:",t);var i=new Nd(this.Me.next());return this.referenceDelegate.vs(),n(i).next(function(t){return r.referenceDelegate.Ps(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Vs=function(t,e){return zf.or(Object.values(this.Rs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Nd=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Bu.c)(e,t),e}(Bf),Dd=function(){function t(t){this.persistence=t,this.Ss=new Td,this.Ds=null}return t.Cs=function(e){return new t(e)},Object.defineProperty(t.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw Ju()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.Ss.addReference(n,e),this.xs.delete(n.toString()),zf.resolve()},t.prototype.removeReference=function(t,e,n){return this.Ss.removeReference(n,e),this.xs.add(n.toString()),zf.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.xs.add(e.toString()),zf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Ss.os(e.targetId).forEach(function(t){return n.xs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.xs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.vs=function(){this.Ds=new Set},t.prototype.Ps=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zf.forEach(this.xs,function(r){var i=ya.fromPath(r);return e.Ns(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Ds=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ns(t,e).next(function(t){t?n.xs.delete(e.toString()):n.xs.add(e.toString())})},t.prototype.bs=function(t){return 0},t.prototype.Ns=function(t,e){var n=this;return zf.or([function(){return zf.resolve(n.Ss.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Vs(t,e)}])},t}(),Rd=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Pd(t,e){return"firestore_clients_"+t+"_"+e}function Ld(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Md(t,e){return"firestore_targets_"+t+"_"+e}Rd.UNAUTHENTICATED=new Rd(null),Rd.GOOGLE_CREDENTIALS=new Rd("google-credentials-uid"),Rd.FIRST_PARTY=new Rd("first-party-uid");var Fd=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.$s=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new fa(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Wu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Vd=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.$s=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new fa(i.error.code,i.error.message)),o?new t(e,i.state,r):(Wu("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),qd=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.$s=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=xl(),s=0;i&&s<r.activeTargetIds.length;++s)i=ca(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Wu("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Ud=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.$s=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Wu("SharedClientState","Failed to parse online state: "+e),null)},t}(),Bd=function(){function t(){this.activeTargetIds=xl()}return t.prototype.Os=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ks=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fs=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Hd=function(){function t(t,e,n,r,i){this.window=t,this.Fe=e,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new vl(ea),this.started=!1,this.Us=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=Pd(this.persistenceKey,this.Ms),this.Ks=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new Bd),this.Ws=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.zs=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Hs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return t.At=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Bu.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u,a,c,l=this;return Object(Bu.d)(this,function(f){switch(f.label){case 0:return[4,this.syncEngine.gn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ms&&(i=this.getItem(Pd(this.persistenceKey,r)))&&(o=qd.$s(r,i))&&(this.qs=this.qs.insert(o.clientId,o));for(this.Js(),(s=this.storage.getItem(this.zs))&&(u=this.Ys(s))&&this.Xs(u),a=0,c=this.Us;a<c.length;a++)this.Bs(c[a]);return this.Us=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ks,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.qs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.ti(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.ti(t,e,n),this.ei(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Md(this.persistenceKey,t));if(n){var r=Vd.$s(t,n);r&&(e=r.state)}}return this.ni.Os(t),this.Js(),e},t.prototype.removeLocalQueryTarget=function(t){this.ni.ks(t),this.Js()},t.prototype.isLocalQueryTarget=function(t){return this.ni.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Md(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.si(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.ei(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.ii(t)},t.prototype.notifyBundleLoaded=function(){this.ri()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Gu("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Gu("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Gu("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Bs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Gu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Wu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable(function(){return Object(Bu.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Bu.d)(this,function(u){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return t=this.oi(n.key),[2,this.ci(t,null)];if(e=this.ai(n.key,n.newValue))return[2,this.ci(e.clientId,e)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(o=this.Ys(n.newValue)))return[2,this.Xs(o)]}else if(n.key===this.Ks)(s=function(t){var e=Hu.o;if(null!=t)try{var n=JSON.parse(t);Xu("number"==typeof n),e=n}catch(t){Wu("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Hu.o&&this.sequenceNumberHandler(s);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),t.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},t.prototype.ti=function(t,e,n){var r=new Fd(this.currentUser,t,e,n),i=Ld(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Fs())},t.prototype.ei=function(t){var e=Ld(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ii=function(t){this.storage.setItem(this.zs,JSON.stringify({clientId:this.Ms,onlineState:t}))},t.prototype.si=function(t,e,n){var r=Md(this.persistenceKey,t),i=new Vd(t,e,n);this.setItem(r,i.Fs())},t.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},t.prototype.oi=function(t){var e=this.Ws.exec(t);return e?e[1]:null},t.prototype.ai=function(t,e){var n=this.oi(t);return qd.$s(n,e)},t.prototype.ui=function(t,e){var n=this.js.exec(t),r=Number(n[1]);return Fd.$s(new Rd(void 0!==n[2]?n[2]:null),r,e)},t.prototype.li=function(t,e){var n=this.Gs.exec(t),r=Number(n[1]);return Vd.$s(r,e)},t.prototype.Ys=function(t){return Ud.$s(t)},t.prototype.hi=function(t){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(t.batchId,t.state,t.error)]:(Gu("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.fi=function(t){return this.syncEngine._i(t.targetId,t.state,t.error)},t.prototype.ci=function(t,e){var n=this,r=e?this.qs.insert(t,e):this.qs.remove(t),i=this.Zs(this.qs),o=this.Zs(r),s=[],u=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||u.push(t)}),this.syncEngine.mi(s,u).then(function(){n.qs=r})},t.prototype.Xs=function(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Zs=function(t){var e=xl();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),zd=function(){function t(){this.yi=new Bd,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.yi.Os(t),this.gi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.gi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.yi.ks(t)},t.prototype.isLocalQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.gi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.start=function(){return this.yi=new Bd,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Kd=function(){function t(){}return t.prototype.pi=function(t){},t.prototype.shutdown=function(){},t}(),Gd=function(){function t(){var t=this;this.Ei=function(){return t.Ti()},this.Ii=function(){return t.Ai()},this.Ri=[],this.bi()}return t.prototype.pi=function(t){this.Ri.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},t.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},t.prototype.Ti=function(){Gu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(0)},t.prototype.Ai=function(){Gu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(1)},t.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Wd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Qd=function(){function t(t){this.vi=t.vi,this.Pi=t.Pi}return t.prototype.Vi=function(t){this.Si=t},t.prototype.Di=function(t){this.Ci=t},t.prototype.onMessage=function(t){this.xi=t},t.prototype.close=function(){this.Pi()},t.prototype.send=function(t){this.vi(t)},t.prototype.Ni=function(){this.Si()},t.prototype.$i=function(t){this.Ci(t)},t.prototype.Fi=function(t){this.xi(t)},t}(),Yd=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(Bu.c)(e,t),e.prototype.qi=function(t,e,n,r){return new Promise(function(i,o){var s=new Uu;s.listenOnce(Fu.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Mu.NO_ERROR:var e=s.getResponseJson();Gu("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Mu.TIMEOUT:Gu("Connection",'RPC "'+t+'" timed out'),o(new fa(la.DEADLINE_EXCEEDED,"Request time out"));break;case Mu.HTTP_ERROR:var n=s.getStatus();if(Gu("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(la).indexOf(e)>=0?e:la.UNKNOWN}(r.status);o(new fa(u,r.message))}else o(new fa(la.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new fa(la.UNAVAILABLE,"Connection failed."));break;default:Ju()}}finally{Gu("Connection",'RPC "'+t+'" completed.')}});var u=JSON.stringify(r);s.send(e,"POST",u,n,15)})},e.prototype.Qi=function(t,e){var n=[this.Oi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Nu,i=Po(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(o.initMessageHeaders,e),Object(Vr.l)()||Object(Vr.n)()||Object(Vr.j)()||Object(Vr.k)()||Object(Vr.o)()||Object(Vr.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Gu("Connection","Creating WebChannel: "+s,o);var u=r.createWebChannel(s,o),a=!1,c=!1,l=new Qd({vi:function(t){c?Gu("Connection","Not sending because WebChannel is closed:",t):(a||(Gu("Connection","Opening WebChannel transport."),u.open(),a=!0),Gu("Connection","WebChannel sending:",t),u.send(t))},Pi:function(){return u.close()}}),f=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return f(u,qu.EventType.OPEN,function(){c||Gu("Connection","WebChannel transport opened.")}),f(u,qu.EventType.CLOSE,function(){c||(c=!0,Gu("Connection","WebChannel transport closed"),l.$i())}),f(u,qu.EventType.ERROR,function(t){c||(c=!0,Qu("Connection","WebChannel transport errored:",t),l.$i(new fa(la.UNAVAILABLE,"The operation could not be completed")))}),f(u,qu.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Xu(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Gu("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=al[t];if(void 0!==e)return pl(e)}(i),s=r.message;void 0===o&&(o=la.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.$i(new fa(o,s)),u.close()}else Gu("Connection","WebChannel received:",n),l.Fi(n)}}),f(i,Vu.STAT_EVENT,function(t){10===t.stat?Gu("Connection","Detected buffering proxy"):11===t.stat&&Gu("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ni()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Oi=(t.ssl?"https":"http")+"://"+t.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Mi=function(t,e,n,r){var i=this.Li(t,e);Gu("RestConnection","Sending: ",i,n);var o={};return this.Bi(o,r),this.qi(t,i,o,n).then(function(t){return Gu("RestConnection","Received: ",t),t},function(e){throw Qu("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Ui=function(t,e,n,r){return this.Mi(t,e,n,r)},t.prototype.Bi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.Li=function(t,e){return this.Oi+"/v1/"+e+":"+Wd[t]},t}());function Jd(){return"undefined"!=typeof window?window:null}function Xd(){return"undefined"!=typeof document?document:null}function Zd(t){return new Bl(t,!0)}var $d=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=t,this.timerId=e,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return t.prototype.reset=function(){this.Gi=0},t.prototype.Ji=function(){this.Gi=this.ji},t.prototype.Yi=function(t){var e=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&Gu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,function(){return e.Hi=Date.now(),t()}),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},t.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},t.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},t.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},t}(),tp=function(){function t(t,e,n,r,i,o){this.Fe=t,this.tr=n,this.er=r,this.nr=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new $d(t,e)}return t.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ar=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ur()},t.prototype.stop=function(){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(t){switch(t.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.hr=function(){this.state=0,this.rr.reset()},t.prototype.lr=function(){var t=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,function(){return t.dr()}))},t.prototype.wr=function(t){this._r(),this.stream.send(t)},t.prototype.dr=function(){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(t){return this.ar()?[2,this.close(0)]:[2]})})},t.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},t.prototype.close=function(t,e){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():e&&e.code===la.RESOURCE_EXHAUSTED?(Wu(e.toString()),Wu("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):e&&e.code===la.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Di(e)];case 1:return n.sent(),[2]}})})},t.prototype.mr=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.yr(this.sr),n=this.sr;this.nr.getToken().then(function(e){t.sr===n&&t.gr(e)},function(n){e(function(){var e=new fa(la.UNKNOWN,"Fetching auth token failed: "+n.message);return t.pr(e)})})},t.prototype.gr=function(t){var e=this,n=this.yr(this.sr);this.stream=this.Er(t),this.stream.Vi(function(){n(function(){return e.state=2,e.listener.Vi()})}),this.stream.Di(function(t){n(function(){return e.pr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.ur=function(){var t=this;this.state=4,this.rr.Yi(function(){return Object(Bu.b)(t,void 0,void 0,function(){return Object(Bu.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.pr=function(t){return Gu("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.yr=function(t){var e=this;return function(n){e.Fe.enqueueAndForget(function(){return e.sr===t?n():(Gu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),ep=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).D=i,s}return Object(Bu.c)(e,t),e.prototype.Er=function(t){return this.er.Qi("Listen",t)},e.prototype.onMessage=function(t){this.rr.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ju()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.V?(Xu(void 0===e||"string"==typeof e),ga.fromBase64String(e||"")):(Xu(void 0===e||e instanceof Uint8Array),ga.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?la.UNKNOWN:pl(t.code);return new fa(e,t.message||"")}(u);n=new Pl(r,i,o,s||null)}else if("documentChange"in e){i=Jl(t,(r=e.documentChange).document.name),o=Gl(r.document.updateTime);var u=new Cc({mapValue:{fields:r.document.fields}}),a=(s=new qa(i,o,u,{}),r.targetIds||[]);n=new Dl(a,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Jl(t,(r=e.documentDelete).document),o=r.readTime?Gl(r.readTime):Oc.min(),u=new Ua(i,o),n=new Dl([],s=r.removedTargetIds||[],u.key,u);else if("documentRemove"in e)i=Jl(t,(r=e.documentRemove).document),n=new Dl([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Ju();var c=e.filter;i=new hl(r=c.count||0),n=new Rl(o=c.targetId,i)}return n}(this.D,t),n=function(t){if(!("targetChange"in t))return Oc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Oc.min():e.readTime?Gl(e.readTime):Oc.min()}(t);return this.listener.Tr(e,n)},e.prototype.Ir=function(t){var e={};e.database=$l(this.D),e.addTarget=function(t,e){var n,r=e.target;return(n=Wa(r)?{documents:sf(t,r)}:{query:uf(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=zl(t,e.resumeToken):e.snapshotVersion.compareTo(Oc.min())>0&&(n.readTime=Hl(t,e.snapshotVersion.toTimestamp())),n}(this.D,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ju()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.wr(e)},e.prototype.Ar=function(t){var e={};e.database=$l(this.D),e.removeTarget=t,this.wr(e)},e}(tp),np=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).D=i,s.Rr=!1,s}return Object(Bu.c)(e,t),Object.defineProperty(e.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mr=function(){this.Rr&&this.vr([])},e.prototype.Er=function(t){return this.er.Qi("Write",t)},e.prototype.onMessage=function(t){if(Xu(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();var e=function(t,e){return t&&t.length>0?(Xu(void 0!==e),t.map(function(t){return function(t,e){var n=Gl(t.updateTime?t.updateTime:e);return n.isEqual(Oc.min())&&(n=Gl(e)),new Wc(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Gl(t.commitTime);return this.listener.Pr(n,e)}return Xu(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()},e.prototype.Sr=function(){var t={};t.database=$l(this.D),this.wr(t)},e.prototype.vr=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return rf(e.D,t)})};this.wr(n)},e}(tp),rp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.er=n,i.D=r,i.Dr=!1,i}return Object(Bu.c)(e,t),e.prototype.Cr=function(){if(this.Dr)throw new fa(la.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mi=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Mi(t,e,n,i)}).catch(function(t){throw t.code===la.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Ui=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Ui(t,e,n,i)}).catch(function(t){throw t.code===la.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Dr=!1},e}(function(){}),ip=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return t.prototype.Or=function(){var t=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.$r=null,t.Mr("Backend didn't respond within 10 seconds."),t.kr("Offline"),Promise.resolve()}))},t.prototype.Lr=function(t){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+t.toString()),this.kr("Offline")))},t.prototype.set=function(t){this.Br(),this.Nr=0,"Online"===t&&(this.Fr=!1),this.kr(t)},t.prototype.kr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Mr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(Wu(e),this.Fr=!1):Gu("OnlineStateTracker",e)},t.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},t}(),op=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi(function(t){n.enqueueAndForget(function(){return Object(Bu.b)(o,void 0,void 0,function(){return Object(Bu.d)(this,function(t){switch(t.label){case 0:return pp(this)?(Gu("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Bu.b)(this,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(n){switch(n.label){case 0:return(e=Zu(t)).Qr.add(4),[4,up(e)];case 1:return n.sent(),e.jr.set("Unknown"),e.Qr.delete(4),[4,sp(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.jr=new ip(n,r)};function sp(t){return Object(Bu.b)(this,void 0,void 0,function(){var e,n;return Object(Bu.d)(this,function(r){switch(r.label){case 0:if(!pp(t))return[3,4];e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function up(t){return Object(Bu.b)(this,void 0,void 0,function(){var e,n;return Object(Bu.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ap(t,e){var n=Zu(t);n.Ur.has(e.targetId)||(n.Ur.set(e.targetId,e),dp(n)?hp(n):Ap(n).ar()&&lp(n,e))}function cp(t,e){var n=Zu(t),r=Ap(n);n.Ur.delete(e),r.ar()&&fp(n,e),0===n.Ur.size&&(r.ar()?r.lr():pp(n)&&n.jr.set("Unknown"))}function lp(t,e){t.Gr.H(e.targetId),Ap(t).Ir(e)}function fp(t,e){t.Gr.H(e),Ap(t).Ar(e)}function hp(t){t.Gr=new Ml({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},yt:function(e){return t.Ur.get(e)||null}}),Ap(t).start(),t.jr.Or()}function dp(t){return pp(t)&&!Ap(t).cr()&&t.Ur.size>0}function pp(t){return 0===Zu(t).Qr.size}function vp(t){t.Gr=void 0}function yp(t){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(e){return t.Ur.forEach(function(e,n){lp(t,e)}),[2]})})}function gp(t,e){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(n){return vp(t),dp(t)?(t.jr.Lr(e),hp(t)):t.jr.set("Unknown"),[2]})})}function mp(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var r,i,o;return Object(Bu.d)(this,function(s){switch(s.label){case 0:if(t.jr.set("Online"),!(e instanceof Pl&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Bu.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Ur.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Ur.delete(o),t.Gr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Gu("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,bp(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Dl?t.Gr.st(e):e instanceof Rl?t.Gr.ht(e):t.Gr.ot(e),n.isEqual(Oc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,hd(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.Gr.dt(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Ur.get(r);i&&t.Ur.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Ur.get(e);if(n){t.Ur.set(e,n.withResumeToken(ga.EMPTY_BYTE_STRING,n.snapshotVersion)),fp(t,e);var r=new ih(n.target,e,1,n.sequenceNumber);lp(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Gu("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,bp(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function bp(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var r=this;return Object(Bu.d)(this,function(i){switch(i.label){case 0:if(!Yf(e))throw e;return t.Qr.add(1),[4,up(t)];case 1:return i.sent(),t.jr.set("Offline"),n||(n=function(){return hd(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Bu.b)(r,void 0,void 0,function(){return Object(Bu.d)(this,function(e){switch(e.label){case 0:return Gu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Qr.delete(1),[4,sp(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function wp(t,e){return e().catch(function(n){return bp(t,n,e)})}function _p(t){return Object(Bu.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Bu.d)(this,function(s){switch(s.label){case 0:e=Zu(t),n=xp(e),r=e.qr.length>0?e.qr[e.qr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return pp(t)&&t.qr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,vd(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(t,e){t.qr.push(e);var n=xp(t);n.ar()&&n.br&&n.vr(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,bp(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return kp(e)&&Ep(e),[2]}})})}function kp(t){return pp(t)&&!xp(t).cr()&&t.qr.length>0}function Ep(t){xp(t).start()}function Ip(t){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(e){return xp(t).Sr(),[2]})})}function Tp(t){return Object(Bu.b)(this,void 0,void 0,function(){var e,n,r;return Object(Bu.d)(this,function(i){for(e=xp(t),n=0,r=t.qr;n<r.length;n++)e.vr(r[n].mutations);return[2]})})}function Op(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var r,i;return Object(Bu.d)(this,function(o){switch(o.label){case 0:return r=t.qr.shift(),i=rh.from(r,e,n),[4,wp(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,_p(t)];case 2:return o.sent(),[2]}})})}function Sp(t,e){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(n){switch(n.label){case 0:return e&&xp(t).br?[4,function(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r;return Object(Bu.d)(this,function(i){switch(i.label){case 0:return dl(r=e.code)&&r!==la.ABORTED?(n=t.qr.shift(),xp(t).hr(),[4,wp(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,_p(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return kp(t)&&Ep(t),[2]}})})}function Cp(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n;return Object(Bu.d)(this,function(r){switch(r.label){case 0:return n=Zu(t),e?(n.Qr.delete(2),[4,sp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Qr.add(2),[4,up(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Ap(t){var e=this;return t.zr||(t.zr=function(t,e,n){var r=Zu(t);return r.Cr(),new ep(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:yp.bind(null,t),Di:gp.bind(null,t),Tr:mp.bind(null,t)}),t.Kr.push(function(n){return Object(Bu.b)(e,void 0,void 0,function(){return Object(Bu.d)(this,function(e){switch(e.label){case 0:return n?(t.zr.hr(),dp(t)?hp(t):t.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.zr.stop()];case 2:e.sent(),vp(t),e.label=3;case 3:return[2]}})})})),t.zr}function xp(t){var e=this;return t.Hr||(t.Hr=function(t,e,n){var r=Zu(t);return r.Cr(),new np(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:Ip.bind(null,t),Di:Sp.bind(null,t),Vr:Tp.bind(null,t),Pr:Op.bind(null,t)}),t.Kr.push(function(n){return Object(Bu.b)(e,void 0,void 0,function(){return Object(Bu.d)(this,function(e){switch(e.label){case 0:return n?(t.Hr.hr(),[4,_p(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Hr.stop()];case 3:e.sent(),t.qr.length>0&&(Gu("RemoteStore","Stopping write stream with "+t.qr.length+" pending writes"),t.qr=[]),e.label=4;case 4:return[2]}})})})),t.Hr}var jp=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Hf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fa(la.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Np(t,e){if(Wu("AsyncQueue",e+": "+t),Yf(t))return new fa(la.UNAVAILABLE,e+": "+t);throw t}var Dp=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ya.comparator(e.key,n.key)}:function(t,e){return ya.comparator(t.key,e.key)},this.keyedMap=Il(),this.sortedSet=new vl(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Rp=function(){function t(){this.Jr=new vl(ya.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):Ju():this.Jr=this.Jr.insert(e,t)},t.prototype.Yr=function(){var t=[];return this.Jr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Pp=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Dp.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Lp=function(){this.Xr=void 0,this.listeners=[]},Mp=function(){this.queries=new zh(function(t){return _c(t)},wc),this.onlineState="Unknown",this.Zr=new Set};function Fp(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(Bu.d)(this,function(c){switch(c.label){case 0:if(n=Zu(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Lp),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Xr=c.sent(),[3,4];case 3:return u=c.sent(),a=Np(u,"Initialization of query '"+kc(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.eo(n.onlineState),o.Xr&&e.no(o.Xr)&&Bp(n),[2]}})})}function Vp(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Bu.d)(this,function(u){return n=Zu(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function qp(t,e){for(var n=Zu(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],u=n.queries.get(s.query);if(u){for(var a=0,c=u.listeners;a<c.length;a++)c[a].no(s)&&(r=!0);u.Xr=s}}r&&Bp(n)}function Up(t,e,n){var r=Zu(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Bp(t){t.Zr.forEach(function(t){t.next()})}var Hp=function(){function t(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.no=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Pp(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.io?this.oo(t)&&(this.so.next(t),o=!0):this.co(t,this.onlineState)&&(this.ao(t),o=!0),this.ro=t,o},t.prototype.onError=function(t){this.so.error(t)},t.prototype.eo=function(t){this.onlineState=t;var e=!1;return this.ro&&!this.io&&this.co(this.ro,t)&&(this.ao(this.ro),e=!0),e},t.prototype.co=function(t,e){return!t.fromCache||!(this.options.uo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.oo=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ao=function(t){t=Pp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)},t}(),zp=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.ho=function(){return"metadata"in this.payload},t}(),Kp=function(){function t(t){this.D=t}return t.prototype.Gn=function(t){return Jl(this.D,t)},t.prototype.zn=function(t){return t.metadata.exists?nf(this.D,t.document,!1):new Ua(this.Gn(t.metadata.name),this.Hn(t.metadata.readTime))},t.prototype.Hn=function(t){return Gl(t)},t}();!function(){function t(t,e,n){this.lo=t,this.localStore=e,this.D=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.fo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.wo=function(t){for(var e=new Map,n=new Kp(this.D),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Gn(o.metadata.name),u=0,a=o.metadata.queries;u<a.length;u++){var c=a[u],l=(e.get(c)||Cl()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Bu.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Bu.d)(this,function(o){switch(o.label){case 0:return[4,kd(this.localStore,new Kp(this.D),this.documents,this.lo.id)];case 1:t=o.sent(),e=this.wo(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Ed(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new id(Object.assign({},this.progress),t))]}})})}}();var Gp=function(t){this.key=t},Wp=function(t){this.key=t},Qp=function(){function t(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=Cl(),this.mutatedKeys=Cl(),this.po=Ic(t),this.Eo=new Dp(this.po)}return Object.defineProperty(t.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),t.prototype.Io=function(t,e){var n=this,r=e?e.Ao:new Rp,i=e?e.Eo:this.Eo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,u=!1,a=hc(this.query)&&i.size===this.query.limit?i.last():null,c=dc(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),f=e instanceof qa?e:null;f&&(f=Ec(n.query,f)?f:null);var h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data().isEqual(f.data())?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ro(l,f)||(r.track({type:2,doc:f}),p=!0,(a&&n.po(f,a)>0||c&&n.po(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(a||c)&&(u=!0)),p&&(f?(s=s.add(f),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),hc(this.query)||dc(this.query))for(;s.size>this.query.limit;){var l=hc(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Eo:s,Ao:r,Mn:u,mutatedKeys:o}},t.prototype.Ro=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;var o=t.Ao.Yr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ju()}};return n(t)-n(e)}(t.type,e.type)||r.po(t.doc,e.doc)}),this.bo(n);var s=e?this.vo():[],u=0===this.yo.size&&this.current?1:0,a=u!==this.mo;return this.mo=u,0!==o.length||a?{snapshot:new Pp(this.query,t.Eo,i,o,t.mutatedKeys,0===u,a,!1),Po:s}:{Po:s}},t.prototype.eo=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Rp,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},t.prototype.Vo=function(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations},t.prototype.bo=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._o=e._o.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e._o=e._o.delete(t)}),this.current=t.current)},t.prototype.vo=function(){var t=this;if(!this.current)return[];var e=this.yo;this.yo=Cl(),this.Eo.forEach(function(e){t.Vo(e.key)&&(t.yo=t.yo.add(e.key))});var n=[];return e.forEach(function(e){t.yo.has(e)||n.push(new Wp(e))}),this.yo.forEach(function(t){e.has(t)||n.push(new Gp(t))}),n},t.prototype.So=function(t){this._o=t.jn,this.yo=Cl();var e=this.Io(t.documents);return this.applyChanges(e,!0)},t.prototype.Do=function(){return Pp.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},t}(),Yp=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Jp=function(t){this.key=t,this.Co=!1},Xp=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.xo={},this.No=new zh(function(t){return _c(t)},wc),this.$o=new Map,this.Fo=new Set,this.Oo=new vl(ya.comparator),this.ko=new Map,this.Mo=new Td,this.Lo={},this.Bo=new Map,this.qo=Nh.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),t}();function Zp(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Bu.d)(this,function(u){switch(u.label){case 0:return n=Sv(t),(i=n.No.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Do(),[3,4]):[3,1];case 1:return[4,yd(n.localStore,mc(e))];case 2:return o=u.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,$p(n,e,o.targetId,"current"===s)];case 3:r=u.sent(),n.isPrimaryClient&&ap(n.remoteStore,o),u.label=4;case 4:return[2,r]}})})}function $p(t,e,n,r){return Object(Bu.b)(this,void 0,void 0,function(){var i,o,s,u,a,c;return Object(Bu.d)(this,function(l){switch(l.label){case 0:return t.Qo=function(e,n,r){return function(t,e,n,r){return Object(Bu.b)(this,void 0,void 0,function(){var i,o,s;return Object(Bu.d)(this,function(u){switch(u.label){case 0:return(i=e.view.Io(n)).Mn?[4,md(t.localStore,e.query,!1).then(function(t){return e.view.Io(t.documents,i)})]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(hv(t,e.targetId,s.Po),s.snapshot)]}})})}(t,e,n,r)},[4,md(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Qp(e,i.jn),s=o.Io(i.documents),u=Nl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),a=o.applyChanges(s,t.isPrimaryClient,u),hv(t,n,a.Po),c=new Yp(e,n,o),[2,(t.No.set(e,c),t.$o.has(n)?t.$o.get(n).push(e):t.$o.set(n,[e]),a.snapshot)]}})})}function tv(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Bu.d)(this,function(o){switch(o.label){case 0:return n=Zu(t),r=n.No.get(e),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter(function(t){return!wc(t,e)})),void n.No.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,gd(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),cp(n.remoteStore,r.targetId),lv(n,r.targetId)}).catch(Mh)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return lv(n,r.targetId),[4,gd(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function ev(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Bu.d)(this,function(u){switch(u.label){case 0:r=Cv(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(t,e){var n,r=Zu(t),i=ka.now(),o=e.reduce(function(t,e){return t.add(e.key)},Cl());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Kn.bn(t,o).next(function(o){n=o;for(var s=[],u=0,a=e;u<a.length;u++){var c=a[u],l=$c(c,n.get(c.key));null!=l&&s.push(new rl(c.key,l,xc(l.proto.mapValue),Qc.exists(!0)))}return r.Tn.addMutationBatch(t,i,s,e)})}).then(function(t){var e=t.applyToLocalDocumentSet(n);return{batchId:t.batchId,changes:e}})}(r.localStore,e)];case 2:return i=u.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.Lo[t.currentUser.toKey()];r||(r=new vl(ea)),r=r.insert(e,n),t.Lo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,vv(r,i.changes)];case 3:return u.sent(),[4,_p(r.remoteStore)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=Np(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function nv(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r;return Object(Bu.d)(this,function(i){switch(i.label){case 0:n=Zu(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,dd(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.ko.get(e);r&&(Xu(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Co=!0:t.modifiedDocuments.size>0?Xu(r.Co):t.removedDocuments.size>0&&(Xu(r.Co),r.Co=!1))}),[4,vv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Mh(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function rv(t,e,n){var r=Zu(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach(function(t,n){var r=n.view.eo(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Zu(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].eo(e)&&(r=!0)}),r&&Bp(n)}(r.eventManager,e),i.length&&r.xo.Tr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function iv(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var r,i,o,s,u,a;return Object(Bu.d)(this,function(c){switch(c.label){case 0:return(r=Zu(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.ko.get(e),(o=i&&i.key)?(s=(s=new vl(ya.comparator)).insert(o,new Ua(o,Oc.min())),u=Cl().add(o),a=new jl(Oc.min(),new Map,new ml(ea),s,u),[4,nv(r,a)]):[3,2];case 1:return c.sent(),r.Oo=r.Oo.remove(o),r.ko.delete(e),pv(r),[3,4];case 2:return[4,gd(r.localStore,e,!1).then(function(){return lv(r,e,n)}).catch(Mh)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function ov(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Bu.d)(this,function(o){switch(o.label){case 0:n=Zu(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,fd(n.localStore,e)];case 2:return i=o.sent(),cv(n,r,null),av(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,vv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Mh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function sv(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var r,i;return Object(Bu.d)(this,function(o){switch(o.label){case 0:r=Zu(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Zu(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Tn.lookupMutationBatch(t,e).next(function(e){return Xu(null!==e),r=e.keys(),n.Tn.removeMutationBatch(t,e)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),cv(r,e,n),av(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,vv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Mh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function uv(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Bu.d)(this,function(u){switch(u.label){case 0:pp((n=Zu(t)).remoteStore)||Gu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(t){var e=Zu(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Tn.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=u.sent())?[2,void e.resolve()]:((i=n.Bo.get(r)||[]).push(e),n.Bo.set(r,i),[3,4]);case 3:return o=u.sent(),s=Np(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function av(t,e){(t.Bo.get(e)||[]).forEach(function(t){t.resolve()}),t.Bo.delete(e)}function cv(t,e,n){var r=Zu(t),i=r.Lo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Lo[r.currentUser.toKey()]=i}}function lv(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.$o.get(e);r<i.length;r++){var o=i[r];t.No.delete(o),n&&t.xo.Ko(o,n)}t.$o.delete(e),t.isPrimaryClient&&t.Mo.os(e).forEach(function(e){t.Mo.containsKey(e)||fv(t,e)})}function fv(t,e){t.Fo.delete(e.path.canonicalString());var n=t.Oo.get(e);null!==n&&(cp(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.ko.delete(n),pv(t))}function hv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Gp?(t.Mo.addReference(o.key,e),dv(t,o)):o instanceof Wp?(Gu("SyncEngine","Document no longer in limbo: "+o.key),t.Mo.removeReference(o.key,e),t.Mo.containsKey(o.key)||fv(t,o.key)):Ju()}}function dv(t,e){var n=e.key,r=n.path.canonicalString();t.Oo.get(n)||t.Fo.has(r)||(Gu("SyncEngine","New document in limbo: "+n),t.Fo.add(r),pv(t))}function pv(t){for(;t.Fo.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){var e=t.Fo.values().next().value;t.Fo.delete(e);var n=new ya(da.fromString(e)),r=t.qo.next();t.ko.set(r,new Jp(n)),t.Oo=t.Oo.insert(n,r),ap(t.remoteStore,new ih(mc(fc(n.path)),r,2,Hu.o))}}function vv(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Bu.d)(this,function(u){switch(u.label){case 0:return r=Zu(t),i=[],o=[],s=[],r.No.isEmpty()?[3,3]:(r.No.forEach(function(t,u){s.push(r.Qo(u,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=sd.Nn(u.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),r.xo.Tr(i),[4,function(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c;return Object(Bu.d)(this,function(l){switch(l.label){case 0:n=Zu(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return zf.forEach(e,function(e){return zf.forEach(e.Cn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return zf.forEach(e.xn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Yf(r=l.sent()))throw r;return Gu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=(s=o[i]).targetId,s.fromCache||(a=n.Bn.get(u),c=a.withLastLimboFreeSnapshotVersion(a.snapshotVersion),n.Bn=n.Bn.insert(u,c));return[2]}})})}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function yv(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r;return Object(Bu.d)(this,function(i){switch(i.label){case 0:return(n=Zu(t)).currentUser.isEqual(e)?[3,3]:(Gu("SyncEngine","User change. New user:",e.toKey()),[4,ld(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Bo.forEach(function(t){t.forEach(function(t){t.reject(new fa(la.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,vv(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function gv(t,e){var n=Zu(t),r=n.ko.get(e);if(r&&r.Co)return Cl().add(r.key);var i=Cl(),o=n.$o.get(e);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=n.No.get(u[s]);i=i.unionWith(a.view.To)}return i}function mv(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Bu.d)(this,function(o){switch(o.label){case 0:return[4,md((n=Zu(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.So(r),[2,(n.isPrimaryClient&&hv(n,e.targetId,i.Po),i)]}})})}function bv(t){return Object(Bu.b)(this,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(n){return[2,wd((e=Zu(t)).localStore).then(function(t){return vv(e,t)})]})})}function wv(t,e,n,r){return Object(Bu.b)(this,void 0,void 0,function(){var i,o;return Object(Bu.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Zu(t),r=Zu(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Jt(t,e).next(function(e){return e?n.Kn.bn(t,e):zf.resolve(null)})})}((i=Zu(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,_p(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(cv(i,e,r||null),av(i,e),function(t,e){Zu(Zu(t).Tn).Xt(e)}(i.localStore,e)):Ju(),s.label=4;case 4:return[4,vv(i,o)];case 5:return s.sent(),[3,7];case 6:Gu("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function _v(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(Bu.d)(this,function(c){switch(c.label){case 0:return Sv(n=Zu(t)),Cv(n),!0!==e||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,kv(n,r.toArray())]);case 1:return i=c.sent(),n.Uo=!0,[4,Cp(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)ap(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Uo?[3,7]:(u=[],a=Promise.resolve(),n.$o.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):a=a.then(function(){return lv(n,e),gd(n.localStore,e,!0)}),cp(n.remoteStore,e)}),[4,a]);case 4:return c.sent(),[4,kv(n,u)];case 5:return c.sent(),function(t){var e=Zu(t);e.ko.forEach(function(t,n){cp(e.remoteStore,n)}),e.Mo.cs(),e.ko=new Map,e.Oo=new vl(ya.comparator)}(n),n.Uo=!1,[4,Cp(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function kv(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c,l,f,h,d,p;return Object(Bu.d)(this,function(v){switch(v.label){case 0:n=Zu(t),r=[],i=[],o=0,s=e,v.label=1;case 1:return o<s.length?(a=void 0,(c=n.$o.get(u=s[o]))&&0!==c.length?[4,yd(n.localStore,mc(c[0]))]:[3,7]):[3,13];case 2:a=v.sent(),l=0,f=c,v.label=3;case 3:return l<f.length?(h=n.No.get(f[l]),[4,mv(n,h)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,bd(n.localStore,u)];case 8:return p=v.sent(),[4,yd(n.localStore,p)];case 9:return a=v.sent(),[4,$p(n,Ev(p),u,!1)];case 10:v.sent(),v.label=11;case 11:r.push(a),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}})})}function Ev(t){return lc(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Iv(t){var e=Zu(t);return Zu(Zu(e.localStore).persistence).gn()}function Tv(t,e,n,r){return Object(Bu.b)(this,void 0,void 0,function(){var i,o,s;return Object(Bu.d)(this,function(u){switch(u.label){case 0:return(i=Zu(t)).Uo?(Gu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,wd(i.localStore)];case 3:return o=u.sent(),s=jl.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,vv(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,gd(i.localStore,e,!0)];case 6:return u.sent(),lv(i,e,r),[3,8];case 7:Ju(),u.label=8;case 8:return[2]}})})}function Ov(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var r,i,o,s,u,a,c,l,f;return Object(Bu.d)(this,function(h){switch(h.label){case 0:if(!(r=Sv(t)).Uo)return[3,10];i=0,o=e,h.label=1;case 1:return i<o.length?r.$o.has(s=o[i])?(Gu("SyncEngine","Adding an already active target "+s),[3,5]):[4,bd(r.localStore,s)]:[3,6];case 2:return u=h.sent(),[4,yd(r.localStore,u)];case 3:return a=h.sent(),[4,$p(r,Ev(u),a.targetId,!1)];case 4:h.sent(),ap(r.remoteStore,a),h.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Bu.d)(this,function(e){switch(e.label){case 0:return r.$o.has(t)?[4,gd(r.localStore,t,!1).then(function(){cp(r.remoteStore,t),lv(r,t)}).catch(Mh)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,f=n,h.label=7;case 7:return l<f.length?[5,c(f[l])]:[3,10];case 8:h.sent(),h.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Sv(t){var e=Zu(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iv.bind(null,e),e.xo.Tr=qp.bind(null,e.eventManager),e.xo.Ko=Up.bind(null,e.eventManager),e}function Cv(t){var e=Zu(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ov.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sv.bind(null,e),e}var Av=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(e){switch(e.label){case 0:return this.D=Zd(t.databaseInfo.databaseId),this.sharedClientState=this.jo(t),this.persistence=this.Go(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t),[2]}})})},t.prototype.zo=function(t){return null},t.prototype.Ho=function(t){return cd(this.persistence,new ud,t.initialUser,this.D)},t.prototype.Go=function(t){return new jd(Dd.Cs,this.D)},t.prototype.jo=function(t){return new zd},t.prototype.terminate=function(){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),xv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Jo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Bu.c)(e,t),e.prototype.initialize=function(e){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,_d(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,e)];case 3:return n.sent(),[4,Cv(this.Jo.syncEngine)];case 4:return n.sent(),[4,_p(this.Jo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ho=function(t){return cd(this.persistence,new ud,t.initialUser,this.D)},e.prototype.zo=function(t){return new qh(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.Go=function(t){var e=rd(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ih.withCacheSize(this.cacheSizeBytes):Ih.DEFAULT;return new td(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Jd(),Xd(),this.D,this.sharedClientState,!!this.forceOwnership)},e.prototype.jo=function(t){return new zd},e}(Av),jv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Jo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Bu.c)(e,t),e.prototype.initialize=function(e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r=this;return Object(Bu.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof Hd?(this.sharedClientState.syncEngine={wi:wv.bind(null,n),_i:Tv.bind(null,n),mi:Ov.bind(null,n),gn:Iv.bind(null,n),di:bv.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en(function(t){return Object(Bu.b)(r,void 0,void 0,function(){return Object(Bu.d)(this,function(e){switch(e.label){case 0:return[4,_v(this.Jo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jo=function(t){var e=Jd();if(!Hd.At(e))throw new fa(la.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=rd(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Hd(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(xv),Nv=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n=this;return Object(Bu.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return rv(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=yv.bind(null,this.syncEngine),[4,Cp(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Mp},t.prototype.createDatastore=function(t){var e=Zd(t.databaseInfo.databaseId),n=new Yd(t.databaseInfo);return function(t,e,n){return new rp(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return rv(s.syncEngine,t,0)},o=Gd.At()?new Gd:new Kd,new op(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var u=new Xp(t,e,n,r,i,o);return s&&(u.Uo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Bu.b)(this,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(n){switch(n.label){case 0:return e=Zu(t),Gu("RemoteStore","RemoteStore shutting down."),e.Qr.add(5),[4,up(e)];case 1:return n.sent(),e.Wr.shutdown(),e.jr.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Dv=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xo=function(){this.muted=!0},t.prototype.Yo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Rv=(function(){function t(t,e){var n=this;this.Zo=t,this.D=e,this.metadata=new Hf,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then(function(t){t&&t.ho()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Zo.cancel()},t.prototype.getMetadata=function(){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Wo=function(){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.ec())]}})})},t.prototype.ec=function(){return Object(Bu.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Bu.d)(this,function(i){switch(i.label){case 0:return[4,this.nc()];case 1:return null===(t=i.sent())?[2,null]:(e=this.tc.decode(t),n=Number(e),isNaN(n)&&this.sc("length string ("+e+") is not valid number"),[4,this.ic(n)]);case 2:return r=i.sent(),[2,new zp(JSON.parse(r),t.length+n)]}})})},t.prototype.rc=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.nc=function(){return Object(Bu.b)(this,void 0,void 0,function(){var t,e;return Object(Bu.d)(this,function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.ic=function(t){return Object(Bu.b)(this,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.tc.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.sc=function(t){throw this.Zo.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.oc=function(){return Object(Bu.b)(this,void 0,void 0,function(){var t,e;return Object(Bu.d)(this,function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Bu.b)(this,void 0,void 0,function(){var e,n=this;return Object(Bu.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new fa(la.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i,o,s,u;return Object(Bu.d)(this,function(a){switch(a.label){case 0:return n=Zu(t),r=$l(n.D)+"/documents",i={documents:e.map(function(t){return Yl(n.D,t)})},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Xu(!!e.found);var n=Jl(t,e.found.name),r=Gl(e.found.updateTime),i=new Cc({mapValue:{fields:e.found.fields}});return new qa(n,r,i,{})}(t,e):"missing"in e?function(t,e){Xu(!!e.missing),Xu(!!e.readTime);var n=Jl(t,e.missing),r=Gl(e.readTime);return new Ua(n,r)}(t,e):Ju()}(n.D,t);s.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Xu(!!e),u.push(e)}),u)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Ua||t instanceof qa?n.recordVersion(t):Ju()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new ll(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Bu.b)(this,void 0,void 0,function(){var t,e=this;return Object(Bu.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=ya.fromPath(n);e.mutations.push(new fl(r,e.precondition(r)))}),[4,function(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Bu.d)(this,function(o){switch(o.label){case 0:return n=Zu(t),r=$l(n.D)+"/documents",i={writes:e.map(function(t){return rf(n.D,t)})},[4,n.Mi("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t instanceof qa)e=t.version;else{if(!(t instanceof Ua))throw Ju();e=Oc.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new fa(la.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Qc.updateTime(e):Qc.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Oc.min()))throw new fa(la.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qc.updateTime(e)}return Qc.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Pv=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new $d(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ac()},t.prototype.ac=function(){var t=this;this.rr.Yi(function(){return Object(Bu.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Bu.d)(this,function(r){return t=new Rv(this.datastore),(e=this.uc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.hc(t)})})}).catch(function(t){n.hc(t)}),[2]})})})},t.prototype.uc=function(t){try{var e=this.updateFunction(t);return!ua(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.hc=function(t){var e=this;this.cc>0&&this.lc(t)?(this.cc-=1,this.asyncQueue.enqueueAndForget(function(){return e.ac(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.lc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!dl(e)}return!1},t}(),Lv=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Rd.UNAUTHENTICATED,this.clientId=ta.u(),this.credentialListener=function(){},this.receivedInitialUser=new Hf,this.credentials.setChangeListener(function(t){Gu("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new fa(la.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Hf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Bu.b)(t,void 0,void 0,function(){var t,n;return Object(Bu.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Np(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Mv(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Bu.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Gu("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(Bu.b)(i,void 0,void 0,function(){return Object(Bu.d)(this,function(t){switch(t.label){case 0:return[4,ld(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Fv(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r;return Object(Bu.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Vv(t)];case 1:return n=i.sent(),Gu("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r;return Object(Bu.d)(this,function(i){switch(i.label){case 0:return(n=Zu(t)).asyncQueue.verifyOperationInProgress(),Gu("RemoteStore","RemoteStore received new credentials"),r=pp(n),n.Qr.add(3),[4,up(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Qr.delete(3),[4,sp(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function Vv(t){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Gu("FirestoreClient","Using default OfflineComponentProvider"),[4,Mv(t,new Av)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function qv(t){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Gu("FirestoreClient","Using default OnlineComponentProvider"),[4,Fv(t,new Nv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Uv(t){return Vv(t).then(function(t){return t.persistence})}function Bv(t){return Vv(t).then(function(t){return t.localStore})}function Hv(t){return qv(t).then(function(t){return t.remoteStore})}function zv(t){return qv(t).then(function(t){return t.syncEngine})}function Kv(t){return Object(Bu.b)(this,void 0,void 0,function(){var e,n;return Object(Bu.d)(this,function(r){switch(r.label){case 0:return[4,qv(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Zp.bind(null,e.syncEngine),n.onUnlisten=tv.bind(null,e.syncEngine),n)]}})})}function Gv(t,e,n){var r=this;void 0===n&&(n={});var i=new Hf;return t.asyncQueue.enqueueAndForget(function(){return Object(Bu.b)(r,void 0,void 0,function(){var r;return Object(Bu.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Dv({next:function(o){e.enqueueAndForget(function(){return Vp(t,s)});var u=o.docs.has(n);!u&&o.fromCache?i.reject(new fa(la.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new fa(la.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Hp(fc(n.path),o,{includeMetadataChanges:!0,uo:!0});return Fp(t,s)},[4,Kv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Wv(t,e,n){var r=this;void 0===n&&(n={});var i=new Hf;return t.asyncQueue.enqueueAndForget(function(){return Object(Bu.b)(r,void 0,void 0,function(){var r;return Object(Bu.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Dv({next:function(n){e.enqueueAndForget(function(){return Vp(t,s)}),n.fromCache&&"server"===r.source?i.reject(new fa(la.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Hp(n,o,{includeMetadataChanges:!0,uo:!0});return Fp(t,s)},[4,Kv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Qv=function(t,e,n,r,i,o){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=o},Yv=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Jv=new Map,Xv=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Zv=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(Rd.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),$v=function(){function t(t){var e=this;this.fc=null,this.currentUser=Rd.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){e.dc++,e.currentUser=e.wc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.dc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),t.get().then(function(t){e.auth=t,e.fc&&e.auth.addAuthTokenListener(e.fc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.dc!==e?(Gu("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Xu("string"==typeof n.accessToken),new Xv(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},t.prototype.wc=function(){var t=this.auth&&this.auth.getUid();return Xu(null===t||"string"==typeof t),new Rd(t)},t}(),ty=function(){function t(t,e){this._c=t,this.mc=e,this.type="FirstParty",this.user=Rd.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.mc},e=this._c.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),ey=function(){function t(t,e){this._c=t,this.mc=e}return t.prototype.getToken=function(){return Promise.resolve(new ty(this._c,this.mc))},t.prototype.setChangeListener=function(t){t(Rd.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function ny(t,e,n){if(!n)throw new fa(la.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function ry(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new fa(la.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function iy(t,e,n,r){if(!0===e&&!0===r)throw new fa(la.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function oy(t){if(!ya.isDocumentKey(t))throw new fa(la.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function sy(t){if(ya.isDocumentKey(t))throw new fa(la.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function uy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ju()}function ay(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fa(la.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=uy(t);throw new fa(la.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function cy(t,e){if(e<=0)throw new fa(la.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var ly=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new fa(la.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new fa(la.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,iy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),fy=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new ly({}),this._settingsFrozen=!1,t instanceof Yv?(this._databaseId=t,this._credentials=new Zv):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new fa(la.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yv(t.options.projectId)}(t),this._credentials=new $v(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new fa(la.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new fa(la.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ly(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Zv;switch(t.type){case"gapi":var e=t.client;return Xu(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ey(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new fa(la.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Jv.get(this))&&(Gu("ComponentProvider","Removing Datastore"),Jv.delete(this),t.terminate()),Promise.resolve();var t},t}(),hy=function(t){this._delegate=t},dy=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new vy(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),py=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),vy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,fc(r))||this).firestore=e,i._path=r,i.type="collection",i}return Object(Bu.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new dy(this.firestore,null,new ya(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(py);function yy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof hy&&(t=t._delegate),ny("collection","path",e),t instanceof fy)return sy(n=da.fromString.apply(da,Object(Bu.f)([e],r))),new vy(t,null,n);if(!(t instanceof dy||t instanceof vy))throw new fa(la.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return sy(n=da.fromString.apply(da,Object(Bu.f)([t.path],r)).child(da.fromString(e))),new vy(t.firestore,null,n)}function gy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof hy&&(t=t._delegate),1===arguments.length&&(e=ta.u()),ny("doc","path",e),t instanceof fy)return oy(n=da.fromString.apply(da,Object(Bu.f)([e],r))),new dy(t,null,new ya(n));if(!(t instanceof dy||t instanceof vy))throw new fa(la.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return oy(n=t._path.child(da.fromString.apply(da,Object(Bu.f)([e],r)))),new dy(t.firestore,t instanceof vy?t._converter:null,new ya(n))}function my(t,e){return t instanceof hy&&(t=t._delegate),e instanceof hy&&(e=e._delegate),(t instanceof dy||t instanceof vy)&&(e instanceof dy||e instanceof vy)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function by(t,e){return t instanceof hy&&(t=t._delegate),e instanceof hy&&(e=e._delegate),t instanceof py&&e instanceof py&&t.firestore===e.firestore&&wc(t._query,e._query)&&t._converter===e._converter}var wy=function(){function t(){var t=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new $d(this,"async_queue_retry"),this.bc=function(){var e=Xd();e&&Gu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.Zi()};var e=Xd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.vc(),this.Pc(t)},t.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var t=Xd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}},t.prototype.enqueue=function(t){return this.vc(),this.Ec?new Promise(function(t){}):this.Pc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.gc.push(t),e.Vc()})},t.prototype.Vc=function(){return Object(Bu.b)(this,void 0,void 0,function(){var t,e=this;return Object(Bu.d)(this,function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!Yf(t=n.sent()))throw t;return Gu("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gc.length>0&&this.rr.Yi(function(){return e.Vc()}),n.label=5;case 5:return[2]}})})},t.prototype.Pc=function(t){var e=this,n=this.yc.then(function(){return e.Ac=!0,t().catch(function(t){throw e.Ic=t,e.Ac=!1,Wu("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Ac=!1,t})});return this.yc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.vc(),this.Rc.indexOf(t)>-1&&(e=0);var i=jp.createAndSchedule(this,t,e,n,function(t){return r.Sc(t)});return this.Tc.push(i),i},t.prototype.vc=function(){this.Ic&&Ju()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Dc=function(){return Object(Bu.b)(this,void 0,void 0,function(){var t;return Object(Bu.d)(this,function(e){switch(e.label){case 0:return[4,t=this.yc];case 1:e.sent(),e.label=2;case 2:if(t!==this.yc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Cc=function(t){for(var e=0,n=this.Tc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.xc=function(t){var e=this;return this.Dc().then(function(){e.Tc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Dc()})},t.prototype.Nc=function(t){this.Rc.push(t)},t.prototype.Sc=function(t){var e=this.Tc.indexOf(t);this.Tc.splice(e,1)},t}();function _y(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Hf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var ky=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new wy,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Bu.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Iy(this),this._firestoreClient.terminate()},e}(fy);function Ey(t){return t._firestoreClient||Iy(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Iy(t){var e=t._freezeSettings(),n=function(t,e,n){return new Qv(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t._databaseId,t._persistenceKey,e);t._firestoreClient=new Lv(t._credentials,t._queue,n)}function Ty(t,e,n){var r=this,i=new Hf;return t.asyncQueue.enqueue(function(){return Object(Bu.b)(r,void 0,void 0,function(){var r;return Object(Bu.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Mv(t,n)];case 1:return o.sent(),[4,Fv(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===la.FAILED_PRECONDITION||t.code===la.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Oy(t){if(t._initialized||t._terminated)throw new fa(la.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Sy=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new fa(la.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new va(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Cy=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(ga.fromBase64String(e))}catch(e){throw new fa(la.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ga.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Ay=function(t){this._methodName=t},xy=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new fa(la.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new fa(la.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return ea(this._lat,t._lat)||ea(this._long,t._long)},t}(),jy=/^__.*__$/,Ny=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new rl(t,this.data,this.fieldMask,e,this.fieldTransforms):new nl(t,this.data,e,this.fieldTransforms)},t}(),Dy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new rl(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Ry(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ju()}}var Py=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),t.prototype.Oc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.Lc(t),r},t.prototype.Bc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.$c(),r},t.prototype.qc=function(t){return this.Oc({path:void 0,Mc:!0})},t.prototype.Uc=function(t){return eg(t,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.$c=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Lc(this.path.get(t))},t.prototype.Lc=function(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(Ry(this.Fc)&&jy.test(t))throw this.Uc('Document fields cannot begin and end with "__"')},t}(),Ly=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.D=n||Zd(t)}return t.prototype.Wc=function(t,e,n,r){return void 0===r&&(r=!1),new Py({Fc:t,methodName:e,Kc:n,path:va.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},t}();function My(t){var e=t._freezeSettings(),n=Zd(t._databaseId);return new Ly(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Fy(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Wc(o.merge||o.mergeFields?2:0,e,n,i);Xy("Data must be an object, but it was:",s,r);var u,a,c=Yy(r,s);if(o.merge)u=new Sc(s.fieldMask),a=s.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=Zy(e,h[f],n);if(!s.contains(d))throw new fa(la.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");ng(l,d)||l.push(d)}u=new Sc(l),a=s.fieldTransforms.filter(function(t){return u.covers(t.field)})}else u=null,a=s.fieldTransforms;return new Ny(new Cc(c),u,a)}var Vy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Fc)throw t.Uc(1===t.Fc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Ay);function qy(t,e,n){return new Py({Fc:3,Kc:e.settings.Kc,methodName:t._methodName,Mc:n},e.databaseId,e.D,e.ignoreUndefinedProperties)}var Uy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e.prototype._toFieldTransform=function(t){return new Gc(t.path,new Fc)},e.prototype.isEqual=function(t){return t instanceof e},e}(Ay),By=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(Bu.c)(e,t),e.prototype._toFieldTransform=function(t){var e=qy(this,t,!0),n=this.jc.map(function(t){return Qy(t,e)}),r=new Vc(n);return new Gc(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ay),Hy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(Bu.c)(e,t),e.prototype._toFieldTransform=function(t){var e=qy(this,t,!0),n=this.jc.map(function(t){return Qy(t,e)}),r=new Uc(n);return new Gc(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ay),zy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Gc=n,r}return Object(Bu.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Hc(t.D,Dc(t.D,this.Gc));return new Gc(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Ay);function Ky(t,e,n,r){var i=t.Wc(1,e,n);Xy("Data must be an object, but it was:",i,r);var o=[],s=new Ac;oa(r,function(t,r){var u=tg(e,t,n);r instanceof hy&&(r=r._delegate);var a=i.Bc(u);if(r instanceof Vy)o.push(u);else{var c=Qy(r,a);null!=c&&(o.push(u),s.set(u,c))}});var u=new Sc(o);return new Dy(s.v(),u,i.fieldTransforms)}function Gy(t,e,n,r,i,o){var s=t.Wc(1,e,n),u=[Zy(e,r,n)],a=[i];if(o.length%2!=0)throw new fa(la.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(Zy(e,o[c])),a.push(o[c+1]);for(var l=[],f=new Ac,h=u.length-1;h>=0;--h)if(!ng(l,u[h])){var d=u[h],p=a[h];p instanceof hy&&(p=p._delegate);var v=s.Bc(d);if(p instanceof Vy)l.push(d);else{var y=Qy(p,v);null!=y&&(l.push(d),f.set(d,y))}}var g=new Sc(l);return new Dy(f.v(),g,s.fieldTransforms)}function Wy(t,e,n,r){return void 0===r&&(r=!1),Qy(n,t.Wc(r?4:3,e))}function Qy(t,e){if(t instanceof hy&&(t=t._delegate),Jy(t))return Xy("Unsupported field value:",e,t),Yy(t,e);if(t instanceof Ay)return function(t,e){if(!Ry(e.Fc))throw e.Uc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Uc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Mc&&4!==e.Fc)throw e.Uc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Qy(o[i],e.qc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof hy&&(t=t._delegate),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Dc(e.D,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ka.fromDate(t);return{timestampValue:Hl(e.D,n)}}if(t instanceof ka)return n=new ka(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Hl(e.D,n)};if(t instanceof xy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Cy)return{bytesValue:zl(e.D,t._byteString)};if(t instanceof dy){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Wl(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc("Unsupported field value: "+uy(t))}(t,e)}function Yy(t,e){var n={};return sa(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oa(t,function(t,r){var i=Qy(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Jy(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ka||t instanceof xy||t instanceof Cy||t instanceof dy||t instanceof Ay)}function Xy(t,e,n){if(!Jy(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=uy(n);throw e.Uc("an object"===r?t+" a custom object":t+" "+r)}}function Zy(t,e,n){if(e instanceof hy&&(e=e._delegate),e instanceof Sy)return e._internalPath;if("string"==typeof e)return tg(t,e);throw eg("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var $y=new RegExp("[~\\*/\\[\\]]");function tg(t,e,n){if(e.search($y)>=0)throw eg("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Sy.bind.apply(Sy,Object(Bu.f)([void 0],e.split(".")))))._internalPath}catch(r){throw eg("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function eg(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new fa(la.INVALID_ARGUMENT,(u+=". ")+t+a)}function ng(t,e){return t.some(function(t){return t.isEqual(e)})}var rg=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new dy(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new ig(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data().field(og("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),ig=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(rg);function og(t,e){return"string"==typeof e?tg(t,e):e instanceof hy?e._delegate._internalPath:e._internalPath}var sg=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),ug=function(t){function e(e,n,r,i,o,s){var u=this;return(u=t.call(this,e,n,r,i,s)||this)._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Object(Bu.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new ag(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data().field(og("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(rg),ag=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(ug),cg=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new sg(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new ag(n._firestore,n._userDataWriter,r.key,r,new sg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new fa(la.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new ag(t._firestore,t._userDataWriter,e.doc.key,e.doc,new sg(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new ag(t._firestore,t._userDataWriter,e.doc.key,e.doc,new sg(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:lg(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function lg(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ju()}}function fg(t,e){return t instanceof ug&&e instanceof ug?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof cg&&e instanceof cg&&t._firestore===e._firestore&&by(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function hg(t){if(dc(t)&&0===t.explicitOrderBy.length)throw new fa(la.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dg=function(){};function pg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var vg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).zc=e,i.Hc=n,i.Jc=r,i.type="where",i}return Object(Bu.c)(e,t),e.prototype._apply=function(t){var e=My(t.firestore),n=function(t,e,n,r,i,o,s){var u;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new fa(la.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){kg(s,o);for(var a=[],c=0,l=s;c<l.length;c++)a.push(_g(r,t,l[c]));u={arrayValue:{values:a}}}else u=_g(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||kg(s,o),u=Wy(n,"where",s,"in"===o||"not-in"===o);var f=Qa.create(i,o,u);return function(t,e){if(e.g()){var n=vc(t);if(null!==n&&!n.isEqual(e.field))throw new fa(la.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=pc(t);null!==r&&Eg(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new fa(la.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new py(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(dg),yg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zc=e,r.Yc=n,r.type="orderBy",r}return Object(Bu.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new fa(la.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new fa(la.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new oc(e,n);return function(t,e){if(null===pc(t)){var n=vc(t);null!==n&&Eg(0,n,e.field)}}(t,r),r}(t._query,this.zc,this.Yc);return new py(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new cc(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(dg),gg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(Bu.c)(e,t),e.prototype._apply=function(t){return new py(t.firestore,t._converter,bc(t._query,this.Xc,this.Zc))},e}(dg),mg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(Bu.c)(e,t),e.prototype._apply=function(t){var e=wg(t,this.type,this.ta,this.ea);return new py(t.firestore,t._converter,function(t,e){return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(dg),bg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(Bu.c)(e,t),e.prototype._apply=function(t){var e=wg(t,this.type,this.ta,this.ea);return new py(t.firestore,t._converter,function(t,e){return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(dg);function wg(t,e,n,r){if(n[0]instanceof hy&&(n[0]=n[0]._delegate),n[0]instanceof rg)return function(t,e,n,r,i){if(!r)throw new fa(la.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,u=gc(t);s<u.length;s++){var a=u[s];if(a.field.isKeyField())o.push(Da(e,r.key));else{var c=r.field(a.field);if(Ea(c))throw new fa(la.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=a.field.canonicalString();throw new fa(la.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new rc(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=My(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new fa(la.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],a=0;a<i.length;a++){var c=i[a];if(s[a].field.isKeyField()){if("string"!=typeof c)throw new fa(la.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!yc(t)&&-1!==c.indexOf("/"))throw new fa(la.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(da.fromString(c));if(!ya.isDocumentKey(l))throw new fa(la.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new ya(l);u.push(Da(e,f))}else{var h=Wy(n,r,c);u.push(h)}}return new rc(u,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function _g(t,e,n){if(n instanceof hy&&(n=n._delegate),"string"==typeof n){if(""===n)throw new fa(la.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!yc(e)&&-1!==n.indexOf("/"))throw new fa(la.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(da.fromString(n));if(!ya.isDocumentKey(r))throw new fa(la.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Da(t,new ya(r))}if(n instanceof dy)return Da(t,n._key);throw new fa(la.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+uy(n)+".")}function kg(t,e){if(!Array.isArray(t)||0===t.length)throw new fa(la.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new fa(la.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Eg(t,e,n){if(!n.isEqual(e))throw new fa(la.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Ig=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Oa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return wa(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(_a(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ju()}},t.prototype.convertObject=function(t,e){var n=this,r={};return oa(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new xy(wa(t.latitude),wa(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Ia(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Ta(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=ba(t);return new ka(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=da.fromString(t);Xu(bf(n));var r=new Yv(n.get(1),n.get(3)),i=new ya(n.popFirst(5));return r.isEqual(e)||Wu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Tg(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Og=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Bu.c)(e,t),e.prototype.convertBytes=function(t){return new Cy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new dy(this.firestore,null,e)},e}(Ig),Sg=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=My(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Cg(t,this._firestore),i=Tg(r._converter,e,n),o=Fy(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,Qc.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=Cg(t,this._firestore);return e instanceof hy&&(e=e._delegate),o="string"==typeof e||e instanceof Sy?Gy(this._dataReader,"WriteBatch.update",s._key,e,n,r):Ky(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Qc.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Cg(t,this._firestore);return this._mutations=this._mutations.concat(new ll(e._key,Qc.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new fa(la.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Cg(t,e){if(t instanceof hy&&(t=t._delegate),t.firestore!==e)throw new fa(la.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Ag=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Bu.c)(e,t),e.prototype.convertBytes=function(t){return new Cy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new dy(this.firestore,null,e)},e}(Ig);function xg(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=ay(t,dy);var o=ay(t.firestore,ky),s=My(o);return e instanceof hy&&(e=e._delegate),Ng(o,[("string"==typeof e||e instanceof Sy?Gy(s,"updateDoc",t._key,e,n,r):Ky(s,"updateDoc",t._key,e)).toMutation(t._key,Qc.exists(!0))])}function jg(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof hy&&(t=t._delegate);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||_y(i[u])||(s=i[u],u++);var a,c,l,f={includeMetadataChanges:s.includeMetadataChanges};if(_y(i[u])){var h=i[u];i[u]=null===(e=h.next)||void 0===e?void 0:e.bind(h),i[u+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[u+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(t instanceof dy)c=ay(t.firestore,ky),l=fc(t._key.path),a={next:function(e){i[u]&&i[u](Dg(c,t,e))},error:i[u+1],complete:i[u+2]};else{var d=ay(t,py);c=ay(d.firestore,ky),l=d._query;var p=new Ag(c);a={next:function(t){i[u]&&i[u](new cg(c,p,d,t))},error:i[u+1],complete:i[u+2]},hg(t._query)}return function(t,e,n,r){var i=this,o=new Dv(r),s=new Hp(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Bu.b)(i,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(n){switch(n.label){case 0:return e=Fp,[4,Kv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(Bu.b)(i,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(n){switch(n.label){case 0:return e=Vp,[4,Kv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Ey(c),l,f,a)}function Ng(t,e){return function(t,e){var n=this,r=new Hf;return t.asyncQueue.enqueueAndForget(function(){return Object(Bu.b)(n,void 0,void 0,function(){var n;return Object(Bu.d)(this,function(i){switch(i.label){case 0:return n=ev,[4,zv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Ey(t),e)}function Dg(t,e,n){var r=n.docs.get(e._key),i=new Ag(t);return new ug(t,i,e._key,r,new sg(n.hasPendingWrites,n.fromCache),e._converter)}var Rg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Bu.c)(e,t),e.prototype.get=function(e){var n=this,r=Cg(e,this._firestore),i=new Ag(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new ug(n._firestore,i,r._key,t._document,new sg(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=My(t)}return t.prototype.get=function(t){var e=this,n=Cg(t,this._firestore),r=new Og(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Ju();var i=t[0];if(i instanceof Ua)return new rg(e._firestore,r,n._key,null,n._converter);if(i instanceof qa)return new rg(e._firestore,r,i.key,i,n._converter);throw Ju()})},t.prototype.set=function(t,e,n){var r=Cg(t,this._firestore),i=Tg(r._converter,e,n),o=Fy(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Cg(t,this._firestore);return e instanceof hy&&(e=e._delegate),o="string"==typeof e||e instanceof Sy?Gy(this._dataReader,"Transaction.update",s._key,e,n,r):Ky(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Cg(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Pg(){if("undefined"==typeof Uint8Array)throw new fa(la.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Lg(){if("undefined"==typeof atob)throw new fa(la.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Mg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e.fromBase64String=function(t){return Lg(),new e(Cy.fromBase64String(t))},e.fromUint8Array=function(t){return Pg(),new e(Cy.fromUint8Array(t))},e.prototype.toBase64=function(){return Lg(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Pg(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(hy),Fg=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Oy(t=ay(t,ky));var n=Ey(t),r=t._freezeSettings(),i=new Nv;return Ty(n,i,new xv(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Oy(t=ay(t,ky));var e=Ey(t),n=t._freezeSettings(),r=new Nv;return Ty(e,r,new jv(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new fa(la.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Hf;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Bu.b)(e,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(e){switch(e.label){case 0:return Gf.At()?[4,Gf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(rd(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Vg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Yv||(i.sa=e),i}return Object(Bu.c)(e,t),Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=ay(t,fy))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&Qu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Bu.b)(e,void 0,void 0,function(){var e,n;return Object(Bu.d)(this,function(r){switch(r.label){case 0:return[4,Uv(t)];case 1:return e=r.sent(),[4,Hv(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Zu(t);return e.Qr.delete(0),sp(e)}(n))]}})})})}(Ey(ay(this._delegate,ky)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Bu.b)(e,void 0,void 0,function(){var e,n;return Object(Bu.d)(this,function(r){switch(r.label){case 0:return[4,Uv(t)];case 1:return e=r.sent(),[4,Hv(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Bu.b)(this,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(n){switch(n.label){case 0:return(e=Zu(t)).Qr.add(0),[4,up(e)];case 1:return n.sent(),e.jr.set("Offline"),[2]}})})}(n))]}})})})}(Ey(ay(this._delegate,ky)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&iy("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Hf;return t.asyncQueue.enqueueAndForget(function(){return Object(Bu.b)(e,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(r){switch(r.label){case 0:return e=uv,[4,zv(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Ey(ay(this._delegate,ky)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Dv(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Bu.b)(n,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Zu(t).Zr.add(e),e.next()},[4,Kv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(Bu.b)(n,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Zu(t).Zr.delete(e)},[4,Kv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Ey(t=ay(t,ky)),_y(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.sa)throw new fa(la.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new $g(this,yy(this._delegate,t))}catch(t){throw Kg(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new zg(this,gy(this._delegate,t))}catch(t){throw Kg(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Jg(this,function(t,e){if(t=ay(t,fy),ny("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new fa(la.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new py(t,null,function(t){return new cc(da.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Kg(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Hf;return t.asyncQueue.enqueueAndForget(function(){return Object(Bu.b)(n,void 0,void 0,function(){var n;return Object(Bu.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return qv(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Pv(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Ey(t),function(n){return e(new Rg(t,n))})}(this._delegate,function(n){return t(new Ug(e,n))})},e.prototype.batch=function(){var t=this;return Ey(this._delegate),new Bg(new Sg(this._delegate,function(e){return Ng(t._delegate,e)}))},e.prototype.loadBundle=function(t){throw new fa(la.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new fa(la.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(hy),qg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Bu.c)(e,t),e.prototype.convertBytes=function(t){return new Mg(new Cy(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return zg.ia(e,this.firestore,null)},e}(Ig),Ug=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r._userDataWriter=new qg(e),r}return Object(Bu.c)(e,t),e.prototype.get=function(t){var e=this,n=tm(t);return this._delegate.get(n).then(function(t){return new Qg(e._firestore,new ug(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},e.prototype.set=function(t,e,n){var r=tm(t);return n?(ry("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=tm(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Bu.f)([s,e,n],i)),this},e.prototype.delete=function(t){var e=tm(t);return this._delegate.delete(e),this},e}(hy),Bg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e.prototype.set=function(t,e,n){var r=tm(t);return n?(ry("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=tm(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Bu.f)([s,e,n],i)),this},e.prototype.delete=function(t){var e=tm(t);return this._delegate.delete(e),this},e.prototype.commit=function(){return this._delegate.commit()},e}(hy),Hg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this)._firestore=e,i._userDataWriter=n,i}return Object(Bu.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new ag(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Yg(this._firestore,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},e.ra=function(t,n){var r=e.oa,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new qg(t),n),i.set(n,o)),o},e}(hy);Hg.oa=new WeakMap;var zg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new qg(e),r}return Object(Bu.c)(e,t),e.ca=function(t,n,r){if(t.length%2!=0)throw new fa(la.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new dy(n._delegate,r,new ya(t)))},e.ia=function(t,n,r){return new e(n,new dy(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new $g(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new $g(this.firestore,yy(this._delegate,t))}catch(t){throw Kg(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof hy&&(t=t._delegate),t instanceof dy&&my(this._delegate,t)},e.prototype.set=function(t,e){e=ry("DocumentReference.set",e);try{return function(t,e,n){t=ay(t,dy);var r=ay(t.firestore,ky),i=Tg(t._converter,e,n);return Ng(r,[Fy(My(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Qc.none())])}(this._delegate,t,e)}catch(t){throw Kg(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?xg(this._delegate,t):xg.apply(void 0,Object(Bu.f)([this._delegate,t,e],n))}catch(t){throw Kg(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Ng(ay((t=this._delegate).firestore,ky),[new ll(t._key,Qc.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Gg(e),i=Wg(e,function(e){return new Qg(t.firestore,new ug(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return jg(this._delegate,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ay(t,dy);var e=ay(t.firestore,ky),n=Ey(e),r=new Ag(e);return function(t,e){var n=this,r=new Hf;return t.asyncQueue.enqueueAndForget(function(){return Object(Bu.b)(n,void 0,void 0,function(){var n;return Object(Bu.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var r,i;return Object(Bu.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Zu(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Kn.In(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof qa?n.resolve(i):i instanceof Ua?n.resolve(null):n.reject(new fa(la.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Np(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Bv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new ug(e,r,t._key,n,new sg(n instanceof qa&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=ay(t,dy);var e=ay(t.firestore,ky);return Gv(Ey(e),t._key,{source:"server"}).then(function(n){return Dg(e,t,n)})}(this._delegate):function(t){t=ay(t,dy);var e=ay(t.firestore,ky);return Gv(Ey(e),t._key).then(function(n){return Dg(e,t,n)})}(this._delegate)).then(function(t){return new Qg(e.firestore,new ug(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Hg.ra(this.firestore,t):null))},e}(hy);function Kg(t,e,n){return t.message=t.message.replace(e,n),t}function Gg(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!_y(r))return r}return{}}function Wg(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=_y(t[0])?t[0]:_y(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Qg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Bu.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new zg(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,e){return this._delegate.get(t,e)},e.prototype.isEqual=function(t){return fg(this._delegate,t._delegate)},e}(hy),Yg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Qg),Jg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new qg(e),r}return Object(Bu.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,pg(this._delegate,function(t,e,n){var r=e,i=og("where",t);return new vg(i,r,n)}(t,n,r)))}catch(t){throw Kg(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,pg(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=og("orderBy",t);return new yg(r,n)}(t,n)))}catch(t){throw Kg(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,pg(this._delegate,function(t){return cy("limit",t),new gg("limit",t,"F")}(t)))}catch(t){throw Kg(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,pg(this._delegate,function(t){return cy("limitToLast",t),new gg("limitToLast",t,"L")}(t)))}catch(t){throw Kg(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,pg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mg("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Kg(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,pg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mg("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Kg(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,pg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bg("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Kg(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,pg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bg("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Kg(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return by(this._delegate,t._delegate)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ay(t,py);var e=ay(t.firestore,ky),n=Ey(e),r=new Ag(e);return function(t,e){var n=this,r=new Hf;return t.asyncQueue.enqueueAndForget(function(){return Object(Bu.b)(n,void 0,void 0,function(){var n;return Object(Bu.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var r,i,o,s,u;return Object(Bu.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,md(t,e,!0)];case 1:return u=a.sent(),r=new Qp(e,u.jn),i=r.Io(u.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=Np(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,Bv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new cg(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=ay(t,py);var e=ay(t.firestore,ky),n=Ey(e),r=new Ag(e);return Wv(n,t._query,{source:"server"}).then(function(n){return new cg(e,r,t,n)})}(this._delegate):function(t){t=ay(t,py);var e=ay(t.firestore,ky),n=Ey(e),r=new Ag(e);return hg(t._query),Wv(n,t._query).then(function(n){return new cg(e,r,t,n)})}(this._delegate)).then(function(t){return new Zg(e.firestore,new cg(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Gg(e),i=Wg(e,function(e){return new Zg(t.firestore,new cg(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return jg(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Hg.ra(this.firestore,t):null))},e}(hy),Xg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Bu.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Yg(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(hy),Zg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Bu.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Jg(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Yg(t._firestore,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Xg(e._firestore,t)})},e.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Yg(n._firestore,r))})},e.prototype.isEqual=function(t){return fg(this._delegate,t._delegate)},e}(hy),$g=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Bu.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new zg(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new zg(this.firestore,void 0===t?gy(this._delegate):gy(this._delegate,t))}catch(t){throw Kg(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=ay(t.firestore,ky),r=gy(t),i=Tg(t._converter,e);return Ng(n,[Fy(My(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Qc.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new zg(e.firestore,t)})},e.prototype.isEqual=function(t){return my(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Hg.ra(this.firestore,t):null))},e}(Jg);function tm(t){return t instanceof hy&&(t=t._delegate),ay(t,dy)}var em,nm=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Sy.bind.apply(Sy,Object(Bu.f)([void 0],e))))||this}return Object(Bu.c)(e,t),e.documentId=function(){return new e(va.keyField().canonicalString())},e.prototype.isEqual=function(t){return t instanceof hy&&(t=t._delegate),t instanceof Sy&&this._delegate._internalPath.isEqual(t._internalPath)},e}(hy),rm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e.serverTimestamp=function(){var t=new Uy("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Vy("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new By("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hy("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new zy("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(hy),im=o("/6Yf"),om={Firestore:Vg,GeoPoint:xy,Timestamp:ka,Blob:Mg,Transaction:Ug,WriteBatch:Bg,DocumentReference:zg,DocumentSnapshot:Qg,Query:Jg,QueryDocumentSnapshot:Yg,QuerySnapshot:Zg,CollectionReference:$g,FieldPath:nm,FieldValue:rm,setLogLevel:function(t){zu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new im.a("firestore",function(t){return function(t,e){return new Vg(t,new ky(t,e),new Fg)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},om)))})(em=Mr.a),em.registerVersion("@firebase/firestore","2.2.1");var sm=o("qgXg"),um=o("quSY"),am=o("Ylt2"),cm=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return h(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return p(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}f(_(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new lm(this._getNow(),t)),this._trimBufferThenGetEvents()),f(_(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new je.a;if(this.isStopped||this.hasError?e=um.a.EMPTY:(this.observers.push(t),e=new am.a(this,t)),i&&t.add(t=new Pr.a(t,i)),n)for(var s=0;s<o&&!t.closed;s++)t.next(r[s]);else for(var u=0;u<o&&!t.closed;u++)t.next(r[u].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||sm.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(ve.a),lm=function t(e,n){h(this,t),this.time=e,this.value=n};function fm(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,s=void 0===o?Number.POSITIVE_INFINITY:o,u=t.refCount,a=t.scheduler,c=0,l=!1,f=!1;return function(t){var r;c++,!e||l?(l=!1,e=new cm(i,s,a),r=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){f=!0,n=void 0,e.complete()}}),f&&(n=void 0)):r=e.subscribe(this),this.add(function(){c--,r.unsubscribe(),r=void 0,n&&!f&&u&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)})}}(r))}}var hm=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();function dm(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new pm(t))}}var pm=function(){function t(e){h(this,t),this.defaultValue=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new vm(t,this.defaultValue))}}]),t}(),vm=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return p(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(yt.a);function ym(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bm;return function(e){return e.lift(new gm(t))}}var gm=function(){function t(e){h(this,t),this.errorFactory=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new mm(t,this.errorFactory))}}]),t}(),mm=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return p(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(em){t=em}this.destination.error(t)}}]),n}(yt.a);function bm(){return new hm}var wm=o("SpAZ");function _m(t,e){return e?$e(function(){return t},e):$e(function(){return t})}var km,Em=o("tf+s"),Im=new u.r("angularfire2.auth.use-emulator"),Tm=new u.r("angularfire2.auth.settings"),Om=new u.r("angularfire2.auth.tenant-id"),Sm=new u.r("angularfire2.auth.langugage-code"),Cm=new u.r("angularfire2.auth.use-device-language"),Am=new u.r("angularfire.auth.persistence"),xm=((km=function t(e,n,r,i,s,u,a,c,l,f){h(this,t);var d=new Cr.d(i),p=Object(Cr.h)(d),v=new ve.a,y=Object(dt.a)(void 0).pipe(Object(Pr.b)(d.outsideAngular),$e(function(){return i.runOutsideAngular(function(){return o.e(5).then(o.bind(null,"6nsN"))})}),Object(wt.a)(function(){return Object(Cr.g)(e,i,n)}),Object(wt.a)(function(t){return i.runOutsideAngular(function(){var e=s,n=u;return Object(Cr.f)("".concat(t.name,".auth"),"AngularFireAuth",t,function(){var r=i.runOutsideAngular(function(){return t.auth()});return e&&r.useEmulator("http://".concat(e.join(":"))),a&&(r.tenantId=a),r.languageCode=c,l&&r.useDeviceLanguage(),n&&(r.settings=n),f&&r.setPersistence(f),r},[e,a,c,l,n,f])})}),fm({bufferSize:1,refCount:!1}));if(O(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(dt.a)(null);else{y.pipe(function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?gt(function(e,n){return t(e,n,r)}):wm.a,Ge(1),n?dm(e):ym(function(){return new hm}))}}()).subscribe();var g=y.pipe($e(function(t){return t.getRedirectResult().then(function(t){return t},function(){return null})}),p,fm({bufferSize:1,refCount:!1})),m=function(t){return new pt.a(function(e){return{unsubscribe:i.runOutsideAngular(function(){return t(e)})}})},b=y.pipe($e(function(t){return m(t.onAuthStateChanged.bind(t))})),w=y.pipe($e(function(t){return m(t.onIdTokenChanged.bind(t))}));this.authState=g.pipe(_m(b),Object(Em.a)(d.outsideAngular),Object(Pr.b)(d.insideAngular)),this.user=g.pipe(_m(w),Object(Em.a)(d.outsideAngular),Object(Pr.b)(d.insideAngular)),this.idToken=this.user.pipe($e(function(t){return t?Object(Ze.a)(t.getIdToken()):Object(dt.a)(null)})),this.idTokenResult=this.user.pipe($e(function(t){return t?Object(Ze.a)(t.getIdTokenResult()):Object(dt.a)(null)})),this.credential=Object(Ve.a)(g,v,this.authState.pipe(gt(function(t){return!t}))).pipe(Object(wt.a)(function(t){return(null==t?void 0:t.user)?t:null}),Object(Em.a)(d.outsideAngular),Object(Pr.b)(d.insideAngular))}return Object(Cr.i)(this,y,i,{spy:{apply:function(t,e,n){(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(function(t){return v.next(t)})}}})}).\u0275fac=function(t){return new(t||km)(u.Yb(Cr.c),u.Yb(Cr.b,8),u.Yb(u.C),u.Yb(u.A),u.Yb(Im,8),u.Yb(Tm,8),u.Yb(Om,8),u.Yb(Sm,8),u.Yb(Cm,8),u.Yb(Am,8))},km.\u0275prov=Object(u.Ib)({factory:function(){return new km(Object(u.Yb)(Cr.c),Object(u.Yb)(Cr.b,8),Object(u.Yb)(u.C),Object(u.Yb)(u.A),Object(u.Yb)(Im,8),Object(u.Yb)(Tm,8),Object(u.Yb)(Om,8),Object(u.Yb)(Sm,8),Object(u.Yb)(Cm,8),Object(u.Yb)(Am,8))},token:km,providedIn:"any"}),km);function jm(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we.b;return new pt.a(function(n){var r;return null!=e?e.schedule(function(){r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}})}(t,e)}function Nm(t,e){return jm(t,e).pipe(Object(wt.a)(function(t){return{payload:t,type:"query"}}))}function Dm(t,n){return Nm(t,n).pipe(Ye(void 0),Ar(),Object(wt.a)(function(t){var n=e(t,2),r=n[0],i=n[1],o=i.payload.docChanges(),s=o.map(function(t){return{type:t.type,payload:t}});return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach(function(t,e){var n=o.find(function(e){return e.doc.ref.isEqual(t.ref)}),i=null==r?void 0:r.payload.docs.find(function(e){return e.ref.isEqual(t.ref)});n&&JSON.stringify(n.doc.metadata)===JSON.stringify(t.metadata)||!n&&i&&JSON.stringify(i.metadata)===JSON.stringify(t.metadata)||s.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})}),s}))}function Rm(t,e,n){return Dm(t,n).pipe(Nr(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Pm(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Pm(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Pm(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(function(t){return t.payload}),e)},[]),function(t){return t.lift(new Je(void 0,void 0))},Object(wt.a)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}function Pm(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];return r.splice.apply(r,[e,n].concat(o)),r}function Lm(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Cr.e)(xm,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);var Mm=function(){function n(t,e,r){h(this,n),this.ref=t,this.query=e,this.afs=r}return p(n,[{key:"stateChanges",value:function(t){var n=Dm(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(n=n.pipe(Object(wt.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}))),n.pipe(Ye(void 0),Ar(),gt(function(t){var n=e(t,2),r=n[0];return n[1].length>0||!r}),Object(wt.a)(function(t){var n=e(t,2);n[0];return n[1]}),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Nr(function(t,e){return[].concat(i(t),i(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=Lm(t);return Rm(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Nm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(wt.a)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(Object.assign({},n.data()),t({},e.idField,n.id)):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Ze.a)(this.query.get(t)).pipe(Object(Pr.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new Fm(this.ref.doc(t),this.afs)}}]),n}(),Fm=function(){function n(t,e){h(this,n),this.ref=t,this.afs=e}return p(n,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=zm(this.ref.collection(t),e),r=n.ref,i=n.query;return new Mm(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return jm(this.ref,this.afs.schedulers.outsideAngular).pipe(Ye(void 0),Ar(),Object(wt.a)(function(t){var n=e(t,2),r=n[0],i=n[1];return i.exists?(null==r?void 0:r.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}})).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(wt.a)(function(n){var r=n.payload;return e.idField?Object.assign(Object.assign({},r.data()),t({},e.idField,r.id)):r.data()}))}},{key:"get",value:function(t){return Object(Ze.a)(this.ref.get(t)).pipe(Object(Pr.b)(this.afs.schedulers.insideAngular))}}]),n}(),Vm=function(){function e(t,n){h(this,e),this.query=t,this.afs=n}return p(e,[{key:"stateChanges",value:function(t){return t&&0!==t.length?Dm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(wt.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),gt(function(t){return t.length>0}),this.afs.keepUnstableUntilFirst):Dm(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Nr(function(t,e){return[].concat(i(t),i(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=Lm(t);return Rm(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Nm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(wt.a)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(t({},e.idField,n.id),n.data()):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Ze.a)(this.query.get(t)).pipe(Object(Pr.b)(this.afs.schedulers.insideAngular))}}]),e}(),qm=new u.r("angularfire2.enableFirestorePersistence"),Um=new u.r("angularfire2.firestore.persistenceSettings"),Bm=new u.r("angularfire2.firestore.settings"),Hm=new u.r("angularfire2.firestore.use-emulator");function zm(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var Km,Gm,Wm=((Gm=function(){function t(n,r,o,s,u,a,c,l,f){h(this,t),this.schedulers=new Cr.d(a),this.keepUnstableUntilFirst=Object(Cr.h)(this.schedulers);var d=Object(Cr.g)(n,a,r);!Lr.a.auth&&f&&Object(Cr.j)();var p=l,v=e(Object(Cr.f)("".concat(d.name,".firestore"),"AngularFirestore",d,function(){var t=a.runOutsideAngular(function(){return d.firestore()});return s&&t.settings(s),p&&t.useEmulator.apply(t,i(p)),o&&!O(u)?[t,a.runOutsideAngular(function(){try{return Object(Ze.a)(t.enablePersistence(c||void 0).then(function(){return!0},function(){return!1}))}catch(em){return"undefined"!=typeof console&&console.warn(em),Object(dt.a)(!1)}})]:[t,Object(dt.a)(!1)]},[s,p,o]),2);this.firestore=v[0],this.persistenceEnabled$=v[1]}return p(t,[{key:"collection",value:function(t,e){var n=zm("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run(function(){return r});return new Mm(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new Vm(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run(function(){return e});return new Fm(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||Gm)(u.Yb(Cr.c),u.Yb(Cr.b,8),u.Yb(qm,8),u.Yb(Bm,8),u.Yb(u.C),u.Yb(u.A),u.Yb(Um,8),u.Yb(Hm,8),u.Yb(Im,8))},Gm.\u0275prov=Object(u.Ib)({factory:function(){return new Gm(Object(u.Yb)(Cr.c),Object(u.Yb)(Cr.b,8),Object(u.Yb)(qm,8),Object(u.Yb)(Bm,8),Object(u.Yb)(u.C),Object(u.Yb)(u.A),Object(u.Yb)(Um,8),Object(u.Yb)(Hm,8),Object(u.Yb)(Im,8))},token:Gm,providedIn:"any"}),Gm),Qm=((Km=function(){function t(){h(this,t)}return p(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:qm,useValue:!0},{provide:Um,useValue:e}]}}}]),t}()).\u0275fac=function(t){return new(t||Km)},Km.\u0275mod=u.Kb({type:Km}),Km.\u0275inj=u.Jb({providers:[Wm]}),Km),Ym={apiKey:"AIzaSyDvoK8xNki9xglDT_iNBonCGKbdCogMY6o",authDomain:"huaweiexporter.firebaseapp.com",databaseURL:"https://huaweiexporter-default-rtdb.firebaseio.com",projectId:"huaweiexporter",storageBucket:"huaweiexporter.appspot.com",messagingSenderId:"420687984337",appId:"1:420687984337:web:f6ec3e21f266d02bde77f0",measurementId:"G-18FH7EVG9J"};o("EQ5u"),o("x+ZX");var Jm,Xm=((Jm=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Jm)},Jm.\u0275mod=u.Kb({type:Jm,bootstrap:[de]}),Jm.\u0275inj=u.Jb({providers:[fe],imports:[[at,Sr,Cr.a.initializeApp(Ym),Qm,le]]}),Jm);Object(u.T)(),st().bootstrapModule(Xm).catch(function(t){return console.error(t)})},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return a});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD"),s=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this)).parent=t,r}return p(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(r.a),u=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(r.a);function a(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]])}();