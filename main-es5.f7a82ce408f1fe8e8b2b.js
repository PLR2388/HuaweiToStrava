!function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){return r(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||s(t,e)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t){if(Array.isArray(t))return t}function i(t){return function(t){if(Array.isArray(t))return u(t)}(t)||o(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function a(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return l(t,arguments,_(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,t)})(t)}function l(t,e,n){return(l=w()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&y(i,n.prototype),i}).apply(null,arguments)}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=w();return function(){var n,r=_(t);if(e){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService({instanceIdentifier:i});if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(l){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(void 0===e?"[DEFAULT]":e);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:i,options:r})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o)),o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){v(n,t);var e=g(n);function n(t,r){return h(this,n),e.call(this)}return p(n,[{key:"schedule",value:function(t){return this}}]),n}(n("quSY").a))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(o){return o.pipe(a(function(n,o){return Object(i.a)(t(n,o)).pipe(Object(r.a)(function(t,r){return e(n,t,o,r)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new s(t,n))})}var s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;h(this,t),this.project=e,this.concurrent=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}]),t}(),u=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return h(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return p(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new o.a(this),n=this.destination;n.add(e);var r=Object(o.c)(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(o.b)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),c=function(t){v(n,t);var e=g(n);function n(t,r,o){var a;switch(h(this,n),(a=e.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!t){a.destination=i.a;break}if("object"==typeof t){t instanceof n?(a.syncErrorThrowable=t.syncErrorThrowable,a.destination=t,t.add(b(a))):(a.syncErrorThrowable=!0,a.destination=new l(b(a),t));break}default:a.syncErrorThrowable=!0,a.destination=new l(b(a),t,r,o)}return a}return p(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,f(_(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(t){v(n,t);var e=g(n);function n(t,o,a,s){var u,c;h(this,n),(u=e.call(this))._parentSubscriber=t;var l=b(u);return Object(r.a)(o)?c=o:o&&(c=o.next,a=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(b(u)))),u._context=l,u._next=c,u._error=a,u._complete=s,u}return p(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(c)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function f(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}(t,e);if(Object(l.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(function(n){var r,i=new o.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[u.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a"),i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return c});var r,i=n("XNiG"),o=n("HDdC"),a=(n("7o/Q"),n("quSY")),s=n("x+ZX"),u=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return p(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new l(this.getSubject(),this))),t.closed&&(this._connection=null,t=a.a.EMPTY)),t}},{key:"refCount",value:function(){return Object(s.a)()(this)}}]),n}(o.a),c={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(r=u.prototype)._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}},l=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).connectable=r,i}return p(n,[{key:"_error",value:function(t){this._unsubscribe(),f(_(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),f(_(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(i.b)},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC"),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r,i=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),s=n("kJWO"),u=n("SpAZ"),c=n("2fFW"),l=((r=function(){function t(e){h(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return p(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(s.add(r?r.call(s,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof i.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=f(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(r=e).length?u.a:1===r.length?r[0]:function(t){return r.reduce(function(t,e){return e(t)},t)})(this);var r}},{key:"toPromise",value:function(t){var e=this;return new(t=f(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}}]),t}()).create=function(t){return new r(t)},r);function f(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;h(this,t),this.SchedulerAction=e,this.now=n}return p(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){v(n,t);var e=g(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return h(this,n),(i=e.call(this,t,function(){return n.delegate&&n.delegate!==b(i)?n.delegate.now():o()})).actions=[],i.active=!1,i.scheduled=void 0,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):f(_(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.3.1","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return Object(r.a)(a)?(e.pop(),Object(o.a)(e,a)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[a.a])return l=t,function(t){var e=l[a.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,l,f=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(f," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=e[e.length-1];return Object(i.a)(c)?(u=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof c&&(s=e.pop()),null===u&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(s)(Object(a.a)(e,u))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EY2u"),i=n("LRne"),o=n("z6cu"),a=function(){var t=function(){function t(e,n,r){h(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return p(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}();return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),c=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),l=function(){var t=function(t){v(n,t);var e=g(n);function n(){var t;return h(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return p(n,[{key:u.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new d(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new a.a;return f(_(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new d(t,e)},t}(),d=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).destination=t,i.source=r,i}return p(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return p(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,n,r){"use strict";r.d(n,"a",function(){return yn}),r.d(n,"b",function(){return Xc}),r.d(n,"c",function(){return Kc}),r.d(n,"d",function(){return zc}),r.d(n,"e",function(){return Gc}),r.d(n,"f",function(){return Hl}),r.d(n,"g",function(){return Rl}),r.d(n,"h",function(){return zu}),r.d(n,"i",function(){return ul}),r.d(n,"j",function(){return pu}),r.d(n,"k",function(){return tl}),r.d(n,"l",function(){return mu}),r.d(n,"m",function(){return Ar}),r.d(n,"n",function(){return Ec}),r.d(n,"o",function(){return jo}),r.d(n,"p",function(){return Ln}),r.d(n,"q",function(){return H}),r.d(n,"r",function(){return vn}),r.d(n,"s",function(){return Ko}),r.d(n,"t",function(){return Mu}),r.d(n,"u",function(){return Uu}),r.d(n,"v",function(){return $c}),r.d(n,"w",function(){return tc}),r.d(n,"x",function(){return Pl}),r.d(n,"y",function(){return $u}),r.d(n,"z",function(){return Cl}),r.d(n,"A",function(){return fl}),r.d(n,"B",function(){return Mn}),r.d(n,"C",function(){return Jc}),r.d(n,"D",function(){return Qc}),r.d(n,"E",function(){return _u}),r.d(n,"F",function(){return wu}),r.d(n,"G",function(){return Mr}),r.d(n,"H",function(){return Eu}),r.d(n,"I",function(){return Sr}),r.d(n,"J",function(){return Fn}),r.d(n,"K",function(){return Fl}),r.d(n,"L",function(){return Ju}),r.d(n,"M",function(){return ml}),r.d(n,"N",function(){return gn}),r.d(n,"O",function(){return Su}),r.d(n,"P",function(){return Ou}),r.d(n,"Q",function(){return nc}),r.d(n,"R",function(){return Y}),r.d(n,"S",function(){return xl}),r.d(n,"T",function(){return Tl}),r.d(n,"U",function(){return S}),r.d(n,"V",function(){return Sl}),r.d(n,"W",function(){return ql}),r.d(n,"X",function(){return wl}),r.d(n,"Y",function(){return Zc}),r.d(n,"Z",function(){return Ro}),r.d(n,"ab",function(){return hs}),r.d(n,"bb",function(){return Er}),r.d(n,"cb",function(){return or}),r.d(n,"db",function(){return Wn}),r.d(n,"eb",function(){return Qn}),r.d(n,"fb",function(){return $n}),r.d(n,"gb",function(){return Xn}),r.d(n,"hb",function(){return Jn}),r.d(n,"ib",function(){return Zn}),r.d(n,"jb",function(){return us}),r.d(n,"kb",function(){return Vl}),r.d(n,"lb",function(){return cs}),r.d(n,"mb",function(){return ls}),r.d(n,"nb",function(){return Yn}),r.d(n,"ob",function(){return $}),r.d(n,"pb",function(){return na}),r.d(n,"qb",function(){return ka}),r.d(n,"rb",function(){return wa}),r.d(n,"sb",function(){return _a}),r.d(n,"tb",function(){return ss}),r.d(n,"ub",function(){return Lt}),r.d(n,"vb",function(){return k}),r.d(n,"wb",function(){return Kn}),r.d(n,"xb",function(){return Yo}),r.d(n,"yb",function(){return jt}),r.d(n,"zb",function(){return fu}),r.d(n,"Ab",function(){return ji}),r.d(n,"Bb",function(){return sa}),r.d(n,"Cb",function(){return Va}),r.d(n,"Db",function(){return ns}),r.d(n,"Eb",function(){return Ua}),r.d(n,"Fb",function(){return Mc}),r.d(n,"Gb",function(){return ft}),r.d(n,"Hb",function(){return mt}),r.d(n,"Ib",function(){return R}),r.d(n,"Jb",function(){return D}),r.d(n,"Kb",function(){return vt}),r.d(n,"Lb",function(){return bt}),r.d(n,"Mb",function(){return fa}),r.d(n,"Nb",function(){return ya}),r.d(n,"Ob",function(){return ma}),r.d(n,"Pb",function(){return ga}),r.d(n,"Qb",function(){return va}),r.d(n,"Rb",function(){return pa}),r.d(n,"Sb",function(){return ba}),r.d(n,"Tb",function(){return fn}),r.d(n,"Ub",function(){return rs}),r.d(n,"Vb",function(){return eu}),r.d(n,"Wb",function(){return ru}),r.d(n,"Xb",function(){return nu}),r.d(n,"Yb",function(){return Nn}),r.d(n,"Zb",function(){return dn}),r.d(n,"ac",function(){return Hc}),r.d(n,"bc",function(){return Ea}),r.d(n,"cc",function(){return Fc}),r.d(n,"dc",function(){return Ta}),r.d(n,"ec",function(){return _c}),r.d(n,"fc",function(){return kc}),r.d(n,"gc",function(){return xa}),r.d(n,"hc",function(){return Ca}),r.d(n,"ic",function(){return ha}),r.d(n,"jc",function(){return Aa}),r.d(n,"kc",function(){return ja}),r.d(n,"lc",function(){return yc}),r.d(n,"mc",function(){return gc}),r.d(n,"nc",function(){return mc}),r.d(n,"oc",function(){return Pc}),r.d(n,"pc",function(){return la}),r.d(n,"qc",function(){return ne}),r.d(n,"rc",function(){return Tr}),r.d(n,"sc",function(){return yt}),r.d(n,"tc",function(){return Fa}),r.d(n,"uc",function(){return ca}),r.d(n,"vc",function(){return Bc}),r.d(n,"wc",function(){return Za}),r.d(n,"xc",function(){return $a}),r.d(n,"yc",function(){return ts}),r.d(n,"zc",function(){return es}),r.d(n,"Ac",function(){return Lc});var o=r("XNiG"),s=r("quSY"),u=r("HDdC"),d=r("VRyK"),y=r("w1tV");function m(t){for(var e in t)if(t[e]===m)return e;throw Error("Could not find renamed property on target object.")}function w(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function k(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(k).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function E(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var O=m({__forward_ref__:m});function S(t){return t.__forward_ref__=S,t.toString=function(){return k(this())},t}function T(t){return I(t)?t():t}function I(t){return"function"==typeof t&&t.hasOwnProperty(O)&&t.__forward_ref__===S}var C=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,r))).code=t,i}return n}(c(Error));function x(t){return"string"==typeof t?t:null==t?"":String(t)}function A(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():x(t)}function j(t,e){var n=e?" in ".concat(e):"";throw new C("201","No provider for ".concat(A(t)," found").concat(n))}function N(t,e,n,r){throw new Error("ASSERTION ERROR: ".concat(t)+(null==r?"":" [Expected=> ".concat(n," ").concat(r," ").concat(e," <=Actual]")))}function R(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function D(t){return{providers:t.providers||[],imports:t.imports||[]}}function P(t){return L(t,U)||L(t,q)}function L(t,e){return t.hasOwnProperty(e)?t[e]:null}function M(t){return t&&(t.hasOwnProperty(V)||t.hasOwnProperty(B))?t[V]:null}var F,U=m({"\u0275prov":m}),V=m({"\u0275inj":m}),q=m({ngInjectableDef:m}),B=m({ngInjectorDef:m}),H=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function z(t){var e=F;return F=t,e}function G(t,e,n){var r=P(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&H.Optional?null:void 0!==e?e:void j(k(t),"Injector")}function K(t){return{toString:t}.toString()}var W=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Y=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),Q="undefined"!=typeof globalThis&&globalThis,J="undefined"!=typeof window&&window,X="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Z="undefined"!=typeof global&&global,$=Q||Z||J||X,tt={},et=[],nt=[],rt=m({"\u0275cmp":m}),it=m({"\u0275dir":m}),ot=m({"\u0275pipe":m}),at=m({"\u0275mod":m}),st=m({"\u0275loc":m}),ut=m({"\u0275fac":m}),ct=m({__NG_ELEMENT_ID__:m}),lt=0;function ft(t){return K(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===W.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||nt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Y.Emulated,id:"c",styles:t.styles||nt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=lt++,n.inputs=gt(t.inputs,e),n.outputs=gt(t.outputs),i&&i.forEach(function(t){return t(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(ht)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(dt)}:null,n})}function ht(t){return wt(t)||function(t){return t[it]||null}(t)}function dt(t){return function(t){return t[ot]||null}(t)}var pt={};function vt(t){var e={type:t.type,bootstrap:t.bootstrap||nt,declarations:t.declarations||nt,imports:t.imports||nt,exports:t.exports||nt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&K(function(){pt[t.id]=t.type}),e}function yt(t,e){return K(function(){var n=_t(t,!0);n.declarations=e.declarations||nt,n.imports=e.imports||nt,n.exports=e.exports||nt})}function gt(t,e){if(null==t)return tt;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var mt=ft;function bt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function wt(t){return t[rt]||null}function _t(t,e){var n=t[at]||null;if(!n&&!0===e)throw new Error("Type ".concat(k(t)," does not have '\u0275mod' property."));return n}function kt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Et(t){return Array.isArray(t)&&!0===t[1]}function Ot(t){return 0!=(8&t.flags)}function St(t){return 2==(2&t.flags)}function Tt(t){return 1==(1&t.flags)}function It(t){return null!==t.template}function Ct(t,e){return t.hasOwnProperty(ut)?t[ut]:null}var xt,At=function(){function t(e,n,r){h(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return p(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function jt(){return Nt}function Nt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Dt),Rt}function Rt(){var t=Pt(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===tt)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Dt(t,e,n,r){var i=Pt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:tt,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new At(u&&u.currentValue,e,a===tt),t[r]=e}function Pt(t){return t.__ngSimpleChanges__||null}function Lt(t){xt=t}function Mt(){return void 0!==xt?xt:"undefined"!=typeof document?document:void 0}function Ft(t){return!!t.listen}jt.ngInherit=!0;var Ut={createRenderer:function(t,e){return Mt()}};function Vt(t){for(;Array.isArray(t);)t=t[0];return t}function qt(t,e){return Vt(e[t])}function Bt(t,e){return Vt(e[t.index])}function Ht(t,e){return t.data[e]}function zt(t,e){return t[e]}function Gt(t,e){var n=e[t];return kt(n)?n:n[0]}function Kt(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Wt(t){return 4==(4&t[2])}function Yt(t){return 128==(128&t[2])}function Qt(t,e){return null==e?null:t[e]}function Jt(t){t[18]=0}function Xt(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var Zt={lFrame:Ee(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function $t(){return Zt.bindingsEnabled}function te(){return Zt.lFrame.lView}function ee(){return Zt.lFrame.tView}function ne(t){Zt.lFrame.contextLView=t}function re(){for(var t=ie();null!==t&&64===t.type;)t=t.parent;return t}function ie(){return Zt.lFrame.currentTNode}function oe(){var t=Zt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ae(t,e){var n=Zt.lFrame;n.currentTNode=t,n.isParent=e}function se(){return Zt.lFrame.isParent}function ue(){Zt.lFrame.isParent=!1}function ce(){return Zt.isInCheckNoChangesMode}function le(t){Zt.isInCheckNoChangesMode=t}function fe(){var t=Zt.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function he(){return Zt.lFrame.bindingIndex}function de(){return Zt.lFrame.bindingIndex++}function pe(t){var e=Zt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ve(t){Zt.lFrame.inI18n=t}function ye(t){Zt.lFrame.currentDirectiveIndex=t}function ge(){return Zt.lFrame.currentQueryIndex}function me(t){Zt.lFrame.currentQueryIndex=t}function be(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function we(t,e,n){if(n&H.SkipSelf){for(var r=e,i=t;!(null!==(r=r.parent)||n&H.Host||(r=be(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}var o=Zt.lFrame=ke();return o.currentTNode=e,o.lView=t,!0}function _e(t){var e=ke(),n=t[1];Zt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ke(){var t=Zt.lFrame,e=null===t?null:t.child;return null===e?Ee(t):e}function Ee(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Oe(){var t=Zt.lFrame;return Zt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Se=Oe;function Te(){var t=Oe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ie(){return Zt.lFrame.selectedIndex}function Ce(t){Zt.lFrame.selectedIndex=t}function xe(){var t=Zt.lFrame;return Ht(t.tView,t.selectedIndex)}function Ae(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function je(t,e,n){De(t,e,3,n)}function Ne(t,e,n,r){(3&t[2])===n&&De(t,e,n,r)}function Re(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function De(t,e,n,r){for(var i=null!=r?r:-1,o=e.length-1,a=0,s=void 0!==r?65535&t[18]:0;s<o;s++)if("number"==typeof e[s+1]){if(a=e[s],null!=r&&a>=r)break}else e[s]<0&&(t[18]+=65536),(a<i||-1==i)&&(Pe(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Pe(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var Le=function t(e,n,r){h(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Me(t,e,n){for(var r=Ft(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];Ue(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Fe(t){return 3===t||4===t||6===t}function Ue(t){return 64===t.charCodeAt(0)}function Ve(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||qe(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function qe(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Be(t){return-1!==t}function He(t){return 32767&t}function ze(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}var Ge=!0;function Ke(t){var e=Ge;return Ge=t,e}var We=0;function Ye(t,e){var n=Je(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Qe(r.data,t),Qe(e,null),Qe(r.blueprint,null));var i=Xe(t,e),o=t.injectorIndex;if(Be(i))for(var a=He(i),s=ze(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function Qe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Je(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Xe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ze(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ct)&&(r=n[ct]),null==r&&(r=n[ct]=We++);var i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function $e(t,e,n){if(n&H.Optional)return t;j(e,"NodeInjector")}function tn(t,e,n,r){if(n&H.Optional&&void 0===r&&(r=null),0==(n&(H.Self|H.Host))){var i=t[9],o=z(void 0);try{return i?i.get(e,r,n&H.Optional):G(e,r,n&H.Optional)}finally{z(o)}}return $e(r,e,n)}function en(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(ct)?t[ct]:void 0;return"number"==typeof e?e>=0?255&e:rn:e}(n);if("function"==typeof o){if(!we(e,t,r))return r&H.Host?$e(i,n,r):tn(e,n,r,i);try{var a=o();if(null!=a||r&H.Optional)return a;j(n)}finally{Se()}}else if("number"==typeof o){var s=null,u=Je(t,e),c=-1,l=r&H.Host?e[16][6]:null;for((-1===u||r&H.SkipSelf)&&(-1!==(c=-1===u?Xe(t,e):e[u+8])&&cn(r,!1)?(s=e[1],u=He(c),e=ze(c,e)):u=-1);-1!==u;){var f=e[1];if(un(o,u,f.data)){var h=on(u,e,n,s,r,l);if(h!==nn)return h}-1!==(c=e[u+8])&&cn(r,e[1].data[u+8]===l)&&un(o,u,e)?(s=f,u=He(c),e=ze(c,e)):u=-1}}}return tn(e,n,r,i)}var nn={};function rn(){return new ln(re(),te())}function on(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=an(s,a,n,null==r?St(s)&&Ge:r!=a&&0!=(3&s.type),i&H.Host&&o===s);return null!==u?sn(e,a,u,s):nn}function an(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=1048575&o,u=t.directiveStart,c=o>>20,l=i?s+c:t.directiveEnd,f=r?s:s+c;f<l;f++){var h=a[f];if(f<u&&n===h||f>=u&&h.type===n)return f}if(i){var d=a[u];if(d&&It(d)&&d.type===n)return u}return null}function sn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Le){var a=i;a.resolving&&function(t,e){throw new C("200","Circular dependency in DI detected for ".concat(t))}(A(o[n]));var s=Ke(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?z(a.injectImpl):null;we(t,r,H.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,a=r.ngDoCheck;if(i){var s=Nt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a))}(n,o[n],e)}finally{null!==u&&z(u),Ke(s),a.resolving=!1,Se()}}return i}function un(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function cn(t,e){return!(t&H.Self||t&H.Host&&e)}var ln=function(){function t(e,n){h(this,t),this._tNode=e,this._lView=n}return p(t,[{key:"get",value:function(t,e){return en(this._tNode,this._lView,t,void 0,e)}}]),t}();function fn(t){return K(function(){for(var e=t.prototype.constructor,n=e[ut]||hn(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[ut]||hn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}})}function hn(t){return I(t)?function(){var e=hn(T(t));return e&&e()}:Ct(t)}function dn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Fe(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(re(),t)}function pn(t,e,n){return K(function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=l(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var vn=function(){function t(e,n){h(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return p(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),yn=new vn("AnalyzeForEntryComponents"),gn=Function;function mn(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),mn(r,e)):e!==t&&e.push(r)}return e}function bn(t,e){t.forEach(function(t){return Array.isArray(t)?bn(t,e):e(t)})}function wn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function _n(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function kn(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function En(t,e,n){var r=Sn(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function On(t,e){var n=Sn(t,e);if(n>=0)return t[1|n]}function Sn(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var Tn,In={},Cn=/\n/gm,xn=m({provide:String,useValue:m});function An(t){var e=Tn;return Tn=t,e}function jn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.Default;if(void 0===Tn)throw new Error("inject() must be called from an injection context");return null===Tn?G(t,void 0,e):Tn.get(t,e&H.Optional?null:void 0,e)}function Nn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.Default;return(F||jn)(T(t),e)}function Rn(t){for(var e=[],n=0;n<t.length;n++){var r=T(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=H.Default,a=0;a<r.length;a++){var s=r[a],u=s.__NG_DI_FLAG__;"number"==typeof u?-1===u?i=s.token:o|=u:i=s}e.push(Nn(i,o))}else e.push(Nn(r))}return e}function Dn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}var Pn,Ln=Dn(pn("Inject",function(t){return{token:t}}),-1),Mn=Dn(pn("Optional"),8),Fn=Dn(pn("SkipSelf"),4);function Un(t){var e;return(null===(e=function(){if(void 0===Pn&&(Pn=null,$.trustedTypes))try{Pn=$.trustedTypes.createPolicy("angular",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(e){}return Pn}())||void 0===e?void 0:e.createHTML(t))||t}var Vn=function(){function t(e){h(this,t),this.changingThisBreaksApplicationSecurity=e}return p(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),t}(),qn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Vn),Bn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Vn),Hn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Vn),zn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Vn),Gn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Vn);function Kn(t){return t instanceof Vn?t.changingThisBreaksApplicationSecurity:t}function Wn(t,e){var n=Yn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}function Yn(t){return t instanceof Vn&&t.getTypeName()||null}function Qn(t){return new qn(t)}function Jn(t){return new Bn(t)}function Xn(t){return new Hn(t)}function Zn(t){return new zn(t)}function $n(t){return new Gn(t)}function tr(t){var e=new nr(t);return function(){try{return!!(new window.DOMParser).parseFromString(Un(""),"text/html")}catch(t){return!1}}()?new er(e):e}var er=function(){function t(e){h(this,t),this.inertDocumentHelper=e}return p(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(Un(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(n){return null}}}]),t}(),nr=function(){function t(e){if(h(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return p(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Un(t),e;var n=this.inertDocument.createElement("body");return n.innerHTML=Un(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),rr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ir=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function or(t){return(t=String(t)).match(rr)||t.match(ir)?t:"unsafe:"+t}function ar(t){return(t=String(t)).split(",").map(function(t){return or(t.trim())}).join(", ")}function sr(t){var e,n={},r=a(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function ur(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var cr,lr=sr("area,br,col,hr,img,wbr"),fr=sr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hr=sr("rp,rt"),dr=ur(hr,fr),pr=ur(lr,ur(fr,sr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ur(hr,sr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dr),vr=sr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yr=sr("srcset"),gr=ur(vr,yr,sr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),sr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mr=sr("script,style,template"),br=function(){function t(){h(this,t),this.sanitizedSomething=!1,this.buf=[]}return p(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!pr.hasOwnProperty(e))return this.sanitizedSomething=!0,!mr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n=t.attributes,r=0;r<n.length;r++){var i=n.item(r),o=i.name,a=o.toLowerCase();if(gr.hasOwnProperty(a)){var s=i.value;vr[a]&&(s=or(s)),yr[a]&&(s=ar(s)),this.buf.push(" ",o,'="',kr(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();pr.hasOwnProperty(e)&&!lr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(kr(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),wr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_r=/([^\#-~ |!])/g;function kr(t){return t.replace(/&/g,"&amp;").replace(wr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(_r,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Er(t,e){var n=null;try{cr=cr||tr(t);var r=e?String(e):"";n=cr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=cr.getInertBodyElement(r)}while(r!==o);return Un((new br).sanitizeChildren(Or(n)||n))}finally{if(n)for(var a=Or(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}function Or(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Sr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Tr(t){var e,n=(e=te())&&e[12];return n?n.sanitize(Sr.URL,t)||"":Wn(t,"URL")?Kn(t):or(x(t))}function Ir(t){return t.ngDebugContext}function Cr(t){return t.ngOriginalError}function xr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Ar=function(){function t(){h(this,t),this._console=console}return p(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||xr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Ir(t)?Ir(t):this._findContext(Cr(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Cr(t);e&&Cr(e);)e=Cr(e);return e}}]),t}(),jr=/^>|^->|<!--|-->|--!>|<!-$/g,Nr=/(<|>)/;function Rr(t,e){t.__ngContext__=e}var Dr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($);function Pr(t){return t instanceof Function?t():t}var Lr,Mr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Fr(t,e){return Lr(t,e)}function Ur(t){var e=t[3];return Et(e)?e[3]:e}function Vr(t){return Br(t[13])}function qr(t){return Br(t[4])}function Br(t){for(;null!==t&&!Et(t);)t=t[4];return t}function Hr(t,e,n,r,i){if(null!=r){var o,a=!1;Et(r)?o=r:kt(r)&&(a=!0,r=r[0]);var s=Vt(r);0===t&&null!==n?null==i?ei(e,n,s):ti(e,n,s,i||null,!0):1===t&&null!==n?ti(e,n,s,i||null,!0):2===t?di(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Vt(n)&&Hr(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];vi(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function zr(t,e){return Ft(t)?t.createText(e):t.createTextNode(e)}function Gr(t,e,n){Ft(t)?t.setValue(e,n):e.textContent=n}function Kr(t,e){return t.createComment(function(t){return t.replace(jr,function(t){return t.replace(Nr,"\u200b$1\u200b")})}(e))}function Wr(t,e,n){return Ft(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Yr(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Xt(i,-1)),n.splice(r,1)}function Qr(t,e){if(!(t.length<=10)){var n,r=10+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&Yr(o,i),e>0&&(t[r-1][4]=i[4]);var a=_n(t,10+e);vi(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Jr(t,e){if(!(256&e[2])){var n=e[11];Ft(n)&&n.destroyNode&&vi(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Xr(t[1],t);for(;e;){var n=null;if(kt(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)kt(e)&&Xr(e[1],e),e=e[3];null===e&&(e=t),kt(e)&&Xr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Xr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Le)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup,r=e[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(e):Vt(e[a]),u=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var f=i+1;f<r.length;f++)(0,r[f])();e[7]=null}}(t,e),1===e[1].type&&Ft(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&Et(e[3])){n!==e[3]&&Yr(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function Zr(t,e,n){return $r(t,e.parent,n)}function $r(t,e,n){for(var r=e;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){var i=t.data[r.directiveStart].encapsulation;if(i===Y.None||i===Y.Emulated)return null}return Bt(r,n)}function ti(t,e,n,r,i){Ft(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function ei(t,e,n){Ft(t)?t.appendChild(e,n):e.appendChild(n)}function ni(t,e,n,r,i){null!==r?ti(t,e,n,r,i):ei(t,e,n)}function ri(t,e){return Ft(t)?t.parentNode(e):e.parentNode}function ii(t,e,n){return si(t,e,n)}function oi(t,e,n){return 40&t.type?Bt(t,n):null}var ai,si=oi;function ui(t,e){si=t,ai=e}function ci(t,e,n,r){var i=Zr(t,r,e),o=e[11],a=ii(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)ni(o,i,n[s],a,!1);else ni(o,i,n,a,!1);void 0!==ai&&ai(o,r,e,n,i)}function li(t,e){if(null!==e){var n=e.type;if(3&n)return Bt(e,t);if(4&n)return hi(-1,t[e.index]);if(8&n){var r=e.child;if(null!==r)return li(t,r);var i=t[e.index];return Et(i)?hi(-1,i):Vt(i)}if(32&n)return Fr(e,t)()||Vt(t[e.index]);var o=fi(t,e);return null!==o?Array.isArray(o)?o[0]:li(Ur(t[16]),o):li(t,e.next)}return null}function fi(t,e){return null!==e?t[16][6].projection[e.projection]:null}function hi(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return li(r,i)}return e[7]}function di(t,e,n){var r=ri(t,e);r&&function(t,e,n,r){Ft(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function pi(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;if(a&&0===e&&(s&&Rr(Vt(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)pi(t,e,n.child,r,i,o,!1),Hr(e,t,i,s,o);else if(32&u){for(var c=Fr(n,r),l=void 0;l=c();)Hr(e,t,i,l,o);Hr(e,t,i,s,o)}else 16&u?yi(t,e,r,n,i,o):Hr(e,t,i,s,o);n=a?n.projectionNext:n.next}}function vi(t,e,n,r,i,o){pi(n,r,t.firstChild,e,i,o,!1)}function yi(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Hr(e,t,i,s[u],o);else pi(t,e,s,a[3],i,o,!0)}function gi(t,e,n){Ft(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function mi(t,e,n){Ft(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function bi(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function wi(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==bi((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function _i(t){return 4===t.type&&"ng-template"!==t.value}function ki(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function Ei(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Fe(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!ki(t,u,n)||""===u&&1===e.length){if(Oi(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!wi(t.attrs,c,n)){if(Oi(r))return!1;a=!0}continue}var l=Si(8&r?"class":u,i,_i(t),n);if(-1===l){if(Oi(r))return!1;a=!0;continue}if(""!==c){var f;f=l>o?"":i[l+1].toLowerCase();var h=8&r?f:null;if(h&&-1!==bi(h,c,0)||2&r&&c!==f){if(Oi(r))return!1;a=!0}}}}else{if(!a&&!Oi(r)&&!Oi(u))return!1;if(a&&Oi(u))continue;a=!1,r=u|1&r}}return Oi(r)||a}function Oi(t){return 0==(1&t)}function Si(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ti(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(Ei(t,e[r],n))return!0;return!1}function Ii(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}function Ci(t,e){return t?":not("+e.trim()+")":e}function xi(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Oi(a)||(e+=Ci(o,i),i=""),r=a,o=o||!Oi(r);n++}return""!==i&&(e+=Ci(o,i)),e}var Ai={};function ji(t){Ni(ee(),te(),Ie()+t,ce())}function Ni(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&je(e,i,n)}else{var o=t.preOrderHooks;null!==o&&Ne(e,o,0,n)}Ce(n)}function Ri(t,e){return t<<17|e<<2}function Di(t){return t>>17&32767}function Pi(t){return 2|t}function Li(t){return(131068&t)>>2}function Mi(t,e){return-131069&t|e<<2}function Fi(t){return 1|t}function Ui(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];me(i),a.contentQueries(2,e[o],o)}}}function Vi(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Jt(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function qi(t,e,n,r,i){var o=t.data[e];if(null===o)o=Bi(t,e,n,r,i),Zt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;var a=oe();o.injectorIndex=null===a?-1:a.injectorIndex}return ae(o,!0),o}function Bi(t,e,n,r,i){var o=ie(),a=se(),s=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}function Hi(t,e,n,r){if(0===n)return-1;for(var i=e.length,o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function zi(t,e,n){_e(e);try{var r=t.viewQuery;null!==r&&ko(1,r,n);var i=t.template;null!==i&&Wi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ui(t,e),t.staticViewQueries&&ko(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)go(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,Te()}}function Gi(t,e,n,r){var i=e[2];if(256!=(256&i)){_e(e);var o=ce();try{Jt(e),Zt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Wi(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&je(e,s,null)}else{var u=t.preOrderHooks;null!==u&&Ne(e,u,0,null),Re(e,0)}if(function(t){for(var e=Vr(t);null!==e;e=qr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Xt(o,1),i[2]|=1024}}(e),function(t){for(var e=Vr(t);null!==e;e=qr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Yt(r)&&Gi(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Ui(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&je(e,c)}else{var l=t.contentHooks;null!==l&&Ne(e,l,1),Re(e,1)}!function(t,e){var n,r,i,o=t.hostBindingOpCodes;if(null!==o)try{for(var a=0;a<o.length;a++){var s=o[a];if(s<0)Ce(~s);else{var u=s,c=o[++a],l=o[++a];n=c,r=u,i=void 0,(i=Zt.lFrame).bindingIndex=i.bindingRootIndex=n,ye(r),l(2,e[u])}}}finally{Ce(-1)}}(t,e);var f=t.components;null!==f&&function(t,e){for(var n=0;n<e.length;n++)vo(t,e[n])}(e,f);var h=t.viewQuery;if(null!==h&&ko(2,h,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&je(e,d)}else{var p=t.viewHooks;null!==p&&Ne(e,p,2),Re(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Xt(e[3],-1))}finally{Te()}}}function Ki(t,e,n,r){var i=e[10],o=!ce(),a=Wt(e);try{o&&!a&&i.begin&&i.begin(),a&&zi(t,e,r),Gi(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Wi(t,e,n,r,i){var o=Ie();try{Ce(-1),2&r&&e.length>20&&Ni(t,e,20,ce()),n(r,i)}finally{Ce(o)}}function Yi(t,e,n){if(Ot(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Qi(t,e,n){$t()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ye(n,e),Rr(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=It(u);c&&co(e,n,u);var l=sn(e,t,s,n);Rr(l,e),null!==a&&fo(0,s-i,l,u,0,a),c&&(Gt(n.index,e)[8]=l)}}(t,e,n,Bt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Zt.lFrame.currentDirectiveIndex;try{Ce(o);for(var s=r;s<i;s++){var u=t.data[s],c=e[s];ye(s),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||io(u,c)}}finally{Ce(-1),ye(a)}}(t,e,n))}function Ji(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function Xi(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Zi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Zi(t,e,n,r,i,o,a,s,u,c){var l=20+r,f=l+i,h=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:Ai);return n}(l,f),d="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:s,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function $i(t,e,n,r){var i=Oo(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&So(t).push(r,i.length-1))}function to(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function eo(t,e,n,r,i,o,a,s){var u,c,l=Bt(e,n),f=e.inputs;!s&&null!=f&&(u=f[r])?(Io(t,n,u,r,i),St(e)&&function(t,e){var n=Gt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,e.value||"",r):i,Ft(o)?o.setProperty(l,r,i):Ue(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function no(t,e,n,r){var i=!1;if($t()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Ti(n,a.selectors,!1)&&(i||(i=[]),Ze(Ye(n,e),t,a.type),It(a)?(oo(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){i=!0,so(n,t.data.length,o.length);for(var s=0;s<o.length;s++){var u=o[s];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,f=Hi(t,e,o.length,null),h=0;h<o.length;h++){var d=o[h];n.mergedAttrs=Ve(n.mergedAttrs,d.hostAttrs),uo(t,n,e,f,d),ao(f,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),f++}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,f=null===i||_i(e)?null:ho(l,i);o.push(f),a=to(l,u,a),s=to(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new C("301","Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=Ve(n.mergedAttrs,n.attrs),i}function ro(t,e,n,r,i,o){var a=o.hostBindings;if(a){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var u=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,i,a)}}function io(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function oo(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ao(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;It(e)&&(n[""]=t)}}function so(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function uo(t,e,n,r,i){t.data[r]=i;var o=i.factory||(i.factory=Ct(i.type)),a=new Le(o,It(i),null);t.blueprint[r]=a,n[r]=a,ro(t,e,0,r,Hi(t,n,i.hostVars,Ai),i)}function co(t,e,n){var r=Bt(e,t),i=Xi(n),o=t[10],a=mo(t,Vi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=a}function lo(t,e,n,r,i,o,a){if(null==o)Ft(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{var s=null==a?x(o):a(o,r||"",i);Ft(t)?t.setAttribute(e,i,s,n):n?e.setAttributeNS(n,i,s):e.setAttribute(i,s)}}function fo(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],f=a[u++];null!==s?r.setInput(n,f,c,l):n[l]=f}}function ho(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function po(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function vo(t,e){var n=Gt(e,t);if(Yt(n)){var r=n[1];80&n[2]?Gi(r,n,r.template,n[8]):n[5]>0&&yo(n)}}function yo(t){for(var e=Vr(t);null!==e;e=qr(e))for(var n=10;n<e.length;n++){var r=e[n];if(1024&r[2]){var i=r[1];Gi(i,r,i.template,r[8])}else r[5]>0&&yo(r)}var o=t[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=Gt(o[a],t);Yt(s)&&s[5]>0&&yo(s)}}function go(t,e){var n=Gt(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),zi(r,n,n[8])}function mo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function bo(t){for(;t;){t[2]|=64;var e=Ur(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function wo(t,e,n){var r=e[10];r.begin&&r.begin();try{Gi(t,e,t.template,n)}catch(i){throw To(e,i),i}finally{r.end&&r.end()}}function _o(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Kt(n),i=r[1];Ki(i,r,i.template,n)}}(t[8])}function ko(t,e,n){me(0),e(t,n)}var Eo=Promise.resolve(null);function Oo(t){return t[7]||(t[7]=[])}function So(t){return t.cleanup||(t.cleanup=[])}function To(t,e){var n=t[9],r=n?n.get(Ar,null):null;r&&r.handleError(e)}function Io(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function Co(t,e,n){var r=qt(e,t);Gr(t[11],r,n)}function xo(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=E(i,s):2==o&&(r=E(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ao,jo=new vn("INJECTOR",-1),No=function(){function t(){h(this,t)}return p(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:In;if(e===In){var n=new Error("NullInjectorError: No provider for ".concat(k(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),Ro=new vn("Set Injector scope."),Do={},Po={},Lo=[];function Mo(){return void 0===Ao&&(Ao=new No),Ao}function Fo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Uo(t,n,e||Mo(),r)}var Uo=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&bn(n,function(t){return i.processProvider(t,e,n)}),bn([e],function(t){return i.processInjectorType(t,[],a)}),this.records.set(jo,Bo(void 0,this));var s=this.records.get(Ro);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:k(e))}return p(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:In,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H.Default;this.assertNotDestroyed();var r,i=An(this);try{if(!(n&H.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof vn)&&P(t);o=a&&this.injectableDefInScope(a)?Bo(Vo(t),Do):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&H.Self?Mo():this.parent).get(t,e=n&H.Optional&&e===In?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(k(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=k(e);if(Array.isArray(e))i=e.map(k).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):k(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(Cn,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{An(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(k(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=T(t)))return!1;var i=M(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=M(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{bn(i.imports,function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))})}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;bn(i,function(t){return r.processProvider(t,n,i||Lo)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a);var f=Ct(a)||function(){return new a};this.records.set(a,Bo(f,Do));var h=i.providers;if(null!=h&&!s){var d=t;bn(h,function(t){return r.processProvider(t,d,h)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=zo(t=T(t))?t:T(t&&t.provide),i=function(t,e,n){return Ho(t)?Bo(void 0,t.useValue):Bo(qo(t),Do)}(t);if(zo(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=Bo(void 0,Do,!0)).factory=function(){return Rn(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===Do&&(e.value=Po,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}]),t}();function Vo(t){var e=P(t),n=null!==e?e.factory:Ct(t);if(null!==n)return n;if(t instanceof vn)throw new Error("Token ".concat(k(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=kn(e,"?");throw new Error("Can't resolve all parameters for ".concat(k(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[U]||t[q]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function qo(t,e,n){var r,o;if(zo(t)){var a=T(t);return Ct(a)||Vo(a)}if(Ho(t))r=function(){return T(t.useValue)};else if((o=t)&&o.useFactory)r=function(){return t.useFactory.apply(t,i(Rn(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))r=function(){return Nn(T(t.useExisting))};else{var s=T(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Ct(s)||Vo(s);r=function(){return l(s,i(Rn(t.deps)))}}return r}function Bo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function Ho(t){return null!==t&&"object"==typeof t&&xn in t}function zo(t){return"function"==typeof t}var Go=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=Fo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},Ko=function(){var t=function(){function t(){h(this,t)}return p(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Go(t,e,""):Go(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=In,t.NULL=new No,t.\u0275prov=R({token:t,providedIn:"any",factory:function(){return Nn(jo)}}),t.__NG_ELEMENT_ID__=-1,t}();function Wo(t,e){Ae(Kt(t)[1],re())}function Yo(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(It(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=Qo(t.inputs),o.declaredInputs=Qo(t.declaredInputs),o.outputs=Qo(t.outputs);var a=i.hostBindings;a&&Zo(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&Jo(t,s),u&&Xo(t,u),w(t.inputs,i.inputs),w(t.declaredInputs,i.declaredInputs),w(t.outputs,i.outputs),It(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var f=0;f<l.length;f++){var h=l[f];h&&h.ngInherit&&h(t),h===Yo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ve(i.hostAttrs,n=Ve(n,i.hostAttrs))}}(r)}function Qo(t){return t===tt?{}:t===nt?[]:t}function Jo(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function Xo(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function Zo(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var $o=null;function ta(){if(!$o){var t=$.Symbol;if(t&&t.iterator)$o=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&($o=r)}}return $o}var ea=function(){function t(e){h(this,t),this.wrapped=e}return p(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function na(t){return!!ra(t)&&(Array.isArray(t)||!(t instanceof Map)&&ta()in t)}function ra(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ia(t,e,n){return t[e]=n}function oa(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function aa(t,e,n,r){var i=oa(t,e,n);return oa(t,e+1,r)||i}function sa(t,e,n,r){var i=te();return oa(i,de(),e)&&(ee(),function(t,e,n,r,i,o){var a=Bt(t,e);lo(e[11],a,o,t.value,n,r,i)}(xe(),i,t,e,n,r)),sa}function ua(t,e,n,r){return oa(t,de(),n)?e+x(n)+r:Ai}function ca(t,e,n,r,i,o,a,s){var u=te(),c=ee(),l=t+20,f=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=qi(e,t,4,a||null,Qt(c,s));no(e,n,l,Qt(c,u)),Ae(e,l);var f=l.tViews=Zi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),f.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,a):c.data[l];ae(f,!1);var h=u[11].createComment("");ci(c,u,h,f),Rr(h,u),mo(u,u[l]=po(h,u,h,f)),Tt(f)&&Qi(c,u,f),null!=a&&Ji(u,f,s)}function la(t){return zt(Zt.lFrame.contextLView,20+t)}function fa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.Default,n=te();return null===n?Nn(t,e):en(re(),n,T(t),e)}function ha(t,e,n){var r=te();return oa(r,de(),e)&&eo(ee(),xe(),r,t,e,r[11],n,!1),ha}function da(t,e,n,r,i){var o=i?"class":"style";Io(t,n,e.inputs[o],o,r)}function pa(t,e,n,r){var i=te(),o=ee(),a=20+t,s=i[11],u=i[a]=Wr(s,e,Zt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=qi(e,t,2,i,Qt(s,o));return no(e,n,u,Qt(s,a)),null!==u.attrs&&xo(u,u.attrs,!1),null!==u.mergedAttrs&&xo(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(a,o,i,0,e,n,r):o.data[a];ae(c,!0);var l=c.mergedAttrs;null!==l&&Me(s,u,l);var f=c.classes;null!==f&&mi(s,u,f);var h=c.styles;null!==h&&gi(s,u,h),64!=(64&c.flags)&&ci(o,i,u,c),0===Zt.lFrame.elementDepthCount&&Rr(u,i),Zt.lFrame.elementDepthCount++,Tt(c)&&(Qi(o,i,c),Yi(o,c,i)),null!==r&&Ji(i,c)}function va(){var t=re();se()?ue():ae(t=t.parent,!1);var e=t;Zt.lFrame.elementDepthCount--;var n=ee();n.firstCreatePass&&(Ae(n,t),Ot(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&da(n,e,te(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&da(n,e,te(),e.stylesWithoutHost,!1)}function ya(t,e,n,r){pa(t,e,n,r),va()}function ga(t,e,n){var r=te(),i=ee(),o=t+20,a=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,a=Qt(o,r),s=qi(e,t,8,"ng-container",a);return null!==a&&xo(s,a,!0),no(e,n,s,Qt(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(o,i,r,e,n):i.data[o];ae(a,!0);var s=r[o]=r[11].createComment("");ci(i,r,s,a),Rr(s,r),Tt(a)&&(Qi(i,r,a),Yi(i,a,r)),null!=n&&Ji(r,a)}function ma(){var t=re(),e=ee();se()?ue():ae(t=t.parent,!1),e.firstCreatePass&&(Ae(e,t),Ot(t)&&e.queries.elementEnd(t))}function ba(){return te()}function wa(t){return!!t&&"function"==typeof t.then}function _a(t){return!!t&&"function"==typeof t.subscribe}var ka=_a;function Ea(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=te(),o=ee(),a=re();return function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=Tt(r),c=t.firstCreatePass&&So(t),l=Oo(e),f=!0;if(3&r.type){var h=Bt(r,e),d=s?s(h):tt,p=d.target||h,v=l.length,y=s?function(t){return s(Vt(t[r.index])).target}:r.index;if(Ft(n)){var g=null;if(!s&&u&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,f=!1;else{o=Sa(r,e,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=Sa(r,e,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,y,v,a)}else o=Sa(r,e,o,!1);var b,w=r.outputs;if(f&&null!==w&&(b=w[i])){var _=b.length;if(_)for(var k=0;k<_;k+=2){var E=e[b[k]][b[k+1]].subscribe(o),O=l.length;l.push(o,E),c&&c.push(i,r.index,O,-(O+1))}}}(o,i,i[11],a,t,e,n,r),Ea}function Oa(t,e,n){try{return!1!==e(n)}catch(r){return To(t,r),!1}}function Sa(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?Gt(t.index,e):e;0==(32&e[2])&&bo(a);for(var s=Oa(e,n,o),u=i.__ngNextListenerFn__;u;)s=Oa(e,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Ta(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(Zt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Zt.lFrame.contextLView))[8]}(t)}function Ia(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?Ti(t,o,!0):Ii(r,o))return i}else n=i}return n}function Ca(t){var e=te()[16][6];if(!e.projection)for(var n=e.projection=kn(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?Ia(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function xa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=te(),i=ee(),o=qi(i,20+t,16,null,n||null);null===o.projection&&(o.projection=e),ue(),64!=(64&o.flags)&&function(t,e,n){yi(e[11],0,e,n,Zr(t,n,e),ii(n.parent||e[6],n,e))}(i,r,o)}function Aa(t,e,n){return ja(t,"",e,"",n),Aa}function ja(t,e,n,r,i){var o=te(),a=ua(o,e,n,r);return a!==Ai&&eo(ee(),xe(),o,t,a,o[11],i,!1),ja}function Na(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?Di(o):Li(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];Ra(t[s],e)&&(u=!0,t[s+1]=r?Fi(c):Pi(c)),s=r?Di(c):Li(c)}u&&(t[n+1]=r?Pi(o):Fi(o))}function Ra(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Sn(t,e)>=0}var Da={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Pa(t){return t.substring(Da.key,Da.keyEnd)}function La(t,e){var n=Da.textEnd;return n===e?-1:(e=Da.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Da.key=e,n),Ma(t,e,n))}function Ma(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Fa(t,e,n){return Ba(t,e,n,!1),Fa}function Ua(t,e){return Ba(t,e,null,!0),Ua}function Va(t){Ha(En,qa,t,!0)}function qa(t,e){for(var n=function(t){return function(t){Da.key=0,Da.keyEnd=0,Da.value=0,Da.valueEnd=0,Da.textEnd=t.length}(t),La(t,Ma(t,0,Da.textEnd))}(e);n>=0;n=La(e,n))En(t,Pa(e),!0)}function Ba(t,e,n,r){var i=te(),o=ee(),a=pe(2);o.firstUpdatePass&&Ga(o,t,a,r),e!==Ai&&oa(i,a,e)&&Ya(o,o.data[Ie()],i,i[11],t,i[a+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=k(Kn(t)))),t}(e,n),r,a)}function Ha(t,e,n,r){var i=ee(),o=pe(2);i.firstUpdatePass&&Ga(i,null,o,r);var a=te();if(n!==Ai&&oa(a,o,n)){var s=i.data[Ie()];if(Xa(s,r)&&!za(i,o)){var u=r?s.classesWithoutHost:s.stylesWithoutHost;null!==u&&(n=E(u,n||"")),da(i,s,a,n,r)}else!function(t,e,n,r,i,o,a,s){i===Ai&&(i=et);for(var u=0,c=0,l=0<i.length?i[0]:null,f=0<o.length?o[0]:null;null!==l||null!==f;){var h=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=void 0,v=null;l===f?(u+=2,c+=2,h!==d&&(v=f,p=d)):null===f||null!==l&&l<f?(u+=2,v=l):(c+=2,v=f,p=d),null!==v&&Ya(t,e,n,r,v,p,a,s),l=u<i.length?i[u]:null,f=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return et;var r=[],i=Kn(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&t(r,a,i[a]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function za(t,e){return e>=t.expandoStartIndex}function Ga(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Ie()],a=za(t,n);Xa(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=Zt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Wa(n=Ka(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=Ka(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==Li(r))return t[Di(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[Di(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=Wa(s=Ka(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=Wa(r,t[o].hostAttrs,n);return Wa(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=o?e.classBindings:e.styleBindings,s=Di(a),u=Li(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var f=n;(null===(c=f[1])||Sn(f,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var h=Di(t[s+1]);t[r+1]=Ri(h,s),0!==h&&(t[h+1]=Mi(t[h+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=Ri(s,0),0!==s&&(t[s+1]=Mi(t[s+1],r)),s=r;else t[r+1]=Ri(u,0),0===s?s=r:t[u+1]=Mi(t[u+1],r),u=r;l&&(t[r+1]=Pi(t[r+1])),Na(t,c,r,!0),Na(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Sn(o,e)>=0&&(n[r+1]=Fi(n[r+1]))}(e,c,t,r,o),a=Ri(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}function Ka(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Wa(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function Wa(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),En(t,a,!!n||e[++o]))}return void 0===t?null:t}function Ya(t,e,n,r,i,o,a,s){if(3&e.type){var u=t.data,c=u[s+1];Ja(1==(1&c)?Qa(u,e,n,i,Li(c),a):void 0)||(Ja(o)||2==(2&c)&&(o=Qa(u,null,n,i,s,a)),function(t,e,n,r,i){var o=Ft(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var a=-1===r.indexOf("-")?void 0:Mr.DashCase;if(null==i)o?t.removeStyle(n,r,a):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),a|=Mr.Important),o?t.setStyle(n,r,i,a):n.style.setProperty(r,i,s?"important":"")}}}(r,a,qt(Ie(),n),i,o))}}function Qa(t,e,n,r,i,o){for(var a,s=null===e;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,f=null===l,h=n[i+1];h===Ai&&(h=f?et:void 0);var d=f?On(h,r):l===r?h:void 0;if(c&&!Ja(d)&&(d=On(u,r)),Ja(d)&&(a=d,s))return a;var p=t[i+1];i=s?Di(p):Li(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(a=On(v,r))}return a}function Ja(t){return void 0!==t}function Xa(t,e){return 0!=(t.flags&(e?16:32))}function Za(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=te(),r=ee(),i=t+20,o=r.firstCreatePass?qi(r,i,1,e,null):r.data[i],a=n[i]=zr(n[11],e);ci(r,n,a,o),ae(o,!1)}function $a(t){return ts("",t,""),$a}function ts(t,e,n){var r=te(),i=ua(r,t,e,n);return i!==Ai&&Co(r,Ie(),i),ts}function es(t,e,n,r,i){var o=te(),a=function(t,e,n,r,i,o){var a=aa(t,he(),n,i);return pe(2),a?e+x(n)+r+x(i)+o:Ai}(o,t,e,n,r,i);return a!==Ai&&Co(o,Ie(),a),es}function ns(t,e,n,r,i,o,a,s,u){Ha(En,qa,function(t,e,n,r,i,o,a,s,u,c){var l=function(t,e,n,r,i,o){var a=aa(t,e,n,r);return aa(t,e+2,i,o)||a}(t,he(),n,i,a,u);return pe(4),l?e+x(n)+r+x(i)+o+x(a)+s+x(u)+c:Ai}(te(),t,e,n,r,i,o,a,s,u),!0)}function rs(t,e,n){var r=te();return oa(r,de(),e)&&eo(ee(),xe(),r,t,e,r[11],n,!0),rs}var is=void 0,os=["en",[["a","p"],["AM","PM"],is],[["AM","PM"],is,is],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],is,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],is,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",is,"{1} 'at' {0}",is],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],as={};function ss(t,e,n){"string"!=typeof e&&(n=e,e=t[hs.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),as[e]=t,n&&(as[e][hs.ExtraData]=n)}function us(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=fs(e);if(n)return n;var r=e.split("-")[0];if(n=fs(r))return n;if("en"===r)return os;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function cs(t){return us(t)[hs.CurrencyCode]||null}function ls(t){return us(t)[hs.PluralCase]}function fs(t){return t in as||(as[t]=$.ng&&$.ng.common&&$.ng.common.locales&&$.ng.common.locales[t]),as[t]}var hs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({}),ds=["zero","one","two","few","many"],ps={marker:"element"},vs={marker:"ICU"},ys=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({}),gs="en-US";function ms(t){var e;null==(e=t)&&N("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(gs=t.toLowerCase().replace(/_/g,"-"))}function bs(t,e,n){var r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?oi(t,0,n):Vt(n[i])}function ws(t,e,n,r,i){var o=e.insertBeforeIndex;if(Array.isArray(o)){var a=r,s=null;if(3&e.type||(s=a,a=i),null!==a&&0==(2&e.flags))for(var u=1;u<o.length;u++)ti(t,a,n[o[u]],s,!1)}}function _s(t,e){if(t.push(e),t.length>1)for(var n=t.length-2;n>=0;n--){var r=t[n];ks(r)||Es(r,e)&&null===(i=void 0,i=r.insertBeforeIndex,Array.isArray(i)?i[0]:i)&&Os(r,e.index)}var i}function ks(t){return!(64&t.type)}function Es(t,e){return ks(e)||t.index>e.index}function Os(t,e){var n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(ui(bs,ws),t.insertBeforeIndex=e)}function Ss(t,e){var n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Ts(t,e,n){var r=Bi(t,n,64,null,null);return _s(e,r),r}function Is(t,e){var n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}var Cs=0,xs=0;function As(t,e,n,r){for(var i,o=n[11],a=null,s=0;s<e.length;s++){var u=e[s];if("string"==typeof u){var c=e[++s];null===n[c]&&(n[c]=zr(o,u))}else if("number"==typeof u)switch(1&u){case 0:var l=u>>>17,f=void 0,h=void 0;if(null===a&&(a=l,i=ri(o,r)),l===a?(f=r,h=i):(f=null,h=Vt(n[l])),null!==h){var d=(131070&u)>>>1;ti(o,h,n[d],f,!1);var p=Ss(t,d);if(null!==p&&"object"==typeof p){var v=Is(p,n);null!==v&&As(t,p.create[v],n,n[p.anchorIdx])}}break;case 1:var y=e[++s],g=e[++s];lo(o,qt(u>>>1,n),null,null,y,g,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(u,'"'))}else switch(u){case vs:var m=e[++s],b=e[++s];null===n[b]&&Rr(n[b]=Kr(o,m),n);break;case ps:var w=e[++s],_=e[++s];null===n[_]&&Rr(n[_]=Wr(o,w,null),n)}}}function js(t,e,n,r,i){for(var o=0;o<n.length;o++){var a=n[o],s=n[++o];if(a&i)for(var u="",c=o+1;c<=o+s;c++){var l=n[c];if("string"==typeof l)u+=l;else if("number"==typeof l)if(l<0)u+=x(e[r-l]);else{var f=l>>>2;switch(3&l){case 1:var h=n[++c],d=n[++c],p=t.data[f];"string"==typeof p?lo(e[11],e[f],null,p,h,u,d):eo(t,p,e,h,u,e[11],d,!1);break;case 0:var v=e[f];null!==v&&Gr(e[11],v,u);break;case 2:Rs(t,Ss(t,f),e,u);break;case 3:Ns(t,Ss(t,f),r,e)}}}else{var y=n[o+1];if(y>0&&3==(3&y)){var g=Ss(t,y>>>2);e[g.currentCaseLViewIndex]<0&&Ns(t,g,r,e)}}o+=s}}function Ns(t,e,n,r){var i=r[e.currentCaseLViewIndex];if(null!==i){var o=Cs;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),js(t,r,e.update[i],n,o)}}function Rs(t,e,n,r){var i=function(t,e){var n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:var r=function(t,e){var n=ls(e)(parseInt(t,10)),r=ds[n];return void 0!==r?r:"other"}(e,gs);-1===(n=t.cases.indexOf(r))&&"other"!==r&&(n=t.cases.indexOf("other"));break;case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Is(e,n)!==i&&(Ds(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){var o=n[e.anchorIdx];o&&As(t,e.create[i],n,o)}}function Ds(t,e,n){var r=Is(e,n);if(null!==r)for(var i=e.remove[r],o=0;o<i.length;o++){var a=i[o];if(a>0){var s=qt(a,n);null!==s&&di(n[11],s)}else Ds(t,Ss(t,~a),n)}}var Ps=/\ufffd(\d+):?\d*\ufffd/gi,Ls=/\ufffd(\d+)\ufffd/,Ms=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Fs=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Us=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Vs=/\uE500/g;function qs(t,e,n,r,i,o,a){var s=Hi(t,r,1,null),u=s<<ys.SHIFT,c=oe();e===c&&(c=null),null===c&&(u|=ys.APPEND_EAGERLY),a&&(u|=ys.COMMENT,void 0===Lr&&(Lr=function(){var t,e,n=[],r=-1;function i(t,n){r=0;var i=Is(t,n);e=null!==i?t.remove[i]:nt}function o(){if(r<e.length){var a=e[r++];return a>0?t[a]:(n.push(r,e),i(t[1].data[~a],t),o())}return 0===n.length?null:(e=n.pop(),r=n.pop(),o())}return function(e,r){for(t=r;n.length;)n.pop();return i(e.value,r),o}}())),i.push(u,null===o?"":o);var l=Bi(t,s,a?32:1,null===o?"":o,null);_s(n,l);var f=l.index;return ae(l,!1),null!==c&&e!==c&&function(t,e){var n,r=t.insertBeforeIndex;null===r?(ui(bs,ws),r=t.insertBeforeIndex=[null,e]):(1!=(n=Array.isArray(r))&&N("Expecting array here",n,!0,"=="),r.push(e))}(c,f),l}function Bs(t,e,n,r,i,o,a){var s=a.match(Ps),u=qs(t,e,n,o,r,s?null:a,!1);s&&Hs(i,a,u.index)}function Hs(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=t.length,a=o+1;t.push(null,null);for(var s=o+2,u=e.split(Ps),c=0,l=0;l<u.length;l++){var f=u[l];if(1&l){var h=parseInt(f,10);t.push(-1-h),c|=zs(h)}else""!==f&&t.push(f)}return t.push(n<<2|(r?1:0)),r&&t.push(r,i),t[o]=c,t[a]=t.length-s,c}function zs(t){return 1<<Math.min(t,31)}function Gs(t){for(var e,n,r="",i=0,o=!1;null!==(e=Fs.exec(t));)o?e[0]==="\ufffd/*".concat(n,"\ufffd")&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i)}function Ks(t,e,n,r,i,o){var a=0,s={type:i.type,currentCaseLViewIndex:Hi(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(zs(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){var r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,s);for(var u=i.values,c=0;c<u.length;c++){for(var l=u[c],f=[],h=0;h<l.length;h++){var d=l[h];if("string"!=typeof d){var p=f.push(d)-1;l[h]="\x3c!--\ufffd".concat(p,"\ufffd--\x3e")}}a=Qs(t,s,e,n,r,i.cases[c],l.join(""),f)|a}a&&function(t,e,n){t.push(e,1,n<<2|3)}(n,a,o)}function Ws(t){for(var e=[],n=[],r=1,i=0,o=Ys(t=t.replace(Ms,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})),a=0;a<o.length;){var s=o[a++].trim();1===r&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&e.push(s);var u=Ys(o[a++]);e.length>n.length&&n.push(u)}return{type:r,mainBinding:i,cases:e,values:n}}function Ys(t){if(!t)return[];var e,n=0,r=[],i=[],o=/[{}]/g;for(o.lastIndex=0;e=o.exec(t);){var a=e.index;if("}"==e[0]){if(r.pop(),0==r.length){var s=t.substring(n,a);Ms.test(s)?i.push(Ws(s)):i.push(s),n=a+1}}else{if(0==r.length){var u=t.substring(n,a);i.push(u),n=a+1}r.push("{")}}var c=t.substring(n);return i.push(c),i}function Qs(t,e,n,r,i,o,a,s){var u=[],c=[],l=[];e.cases.push(o),e.create.push(u),e.remove.push(c),e.update.push(l);var f=tr(Mt()).getInertBodyElement(a),h=Or(f)||f;return h?Js(t,e,n,r,u,c,l,h,i,s,0):0}function Js(t,e,n,r,i,o,a,s,u,c,l){for(var f=0,h=s.firstChild;h;){var d=Hi(t,n,1,null);switch(h.nodeType){case Node.ELEMENT_NODE:var p=h,v=p.tagName.toLowerCase();if(pr.hasOwnProperty(v)){$s(i,ps,v,u,d),t.data[d]=v;for(var y=p.attributes,g=0;g<y.length;g++){var m=y.item(g),b=m.name.toLowerCase();m.value.match(Ps)?gr.hasOwnProperty(b)&&(vr[b]?Hs(a,m.value,d,m.name,or):yr[b]?Hs(a,m.value,d,m.name,ar):Hs(a,m.value,d,m.name)):tu(i,d,m)}f=Js(t,e,n,r,i,o,a,h,d,c,l+1)|f,Xs(o,d,l)}break;case Node.TEXT_NODE:var w=h.textContent||"",_=w.match(Ps);$s(i,null,_?"":w,u,d),Xs(o,d,l),_&&(f=Hs(a,w,d)|f);break;case Node.COMMENT_NODE:var k=Ls.exec(h.textContent||"");if(k){var E=c[parseInt(k[1],10)];$s(i,vs,"",u,d),Ks(t,n,r,u,E,d),Zs(o,d,l)}}h=h.nextSibling}return f}function Xs(t,e,n){0===n&&t.push(e)}function Zs(t,e,n){0===n&&(t.push(~e),t.push(e))}function $s(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function tu(t,e,n){t.push(e<<1|1,n.name,n.value)}function eu(t,e,n){(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=ee(),i=te(),o=20+t,a=Qt(r.consts,e),s=oe();r.firstCreatePass&&function(t,e,n,r,i,o){for(var a,s=oe(),u=[],c=[],l=[[]],f=(a=i=function(t,e){if(function(t){return-1===t}(e))return Gs(t);var n=t.indexOf(":".concat(e,"\ufffd"))+2+e.toString().length,r=t.search(new RegExp("\ufffd\\/\\*\\d+:".concat(e,"\ufffd")));return Gs(t.substring(n,r))}(i,o),a.replace(Vs," ")).split(Us),h=0;h<f.length;h++){var d=f[h];if(0==(1&h))for(var p=Ys(d),v=0;v<p.length;v++){var y=p[v];if(0==(1&v)){var g=y;""!==g&&Bs(t,s,l[0],u,c,n,g)}else{var m=y;if("object"!=typeof m)throw new Error('Unable to parse ICU expression in "'.concat(i,'" message.'));Ks(t,n,c,e,m,qs(t,s,l[0],n,u,"",!0).index)}}else{var b=47===d.charCodeAt(0),w=(d.charCodeAt(b?1:0),20+Number.parseInt(d.substring(b?2:1)));if(b)l.shift(),ae(oe(),!1);else{var _=Ts(t,l[0],w);l.unshift([]),ae(_,!0)}}}t.data[r]={create:u,update:c}}(r,null===s?0:s.index,i,o,a,n);var u=r.data[o],c=$r(r,s===i[6]?null:s,i);!function(t,e,n,r){for(var i=t[11],o=0;o<e.length;o++){var a=e[o++],s=e[o],u=(a&ys.COMMENT)===ys.COMMENT,c=(a&ys.APPEND_EAGERLY)===ys.APPEND_EAGERLY,l=a>>>ys.SHIFT,f=t[l];null===f&&(f=t[l]=u?i.createComment(s):zr(i,s)),c&&null!==n&&ti(i,n,f,r,!1)}}(i,u.create,c,s&&8&s.type?i[s.index]:null),ve(!0)})(t,e,n),ve(!1)}function nu(t){return oa(te(),de(),t)&&(Cs|=1<<Math.min(xs,31)),xs++,nu}function ru(t){!function(t,e,n){if(xs>0){var r=t.data[n];js(t,e,Array.isArray(r)?r:r.update,he()-xs-1,Cs)}Cs=0,xs=0}(ee(),te(),t+20)}function iu(t,e,n,r,i){if(t=T(t),Array.isArray(t))for(var o=0;o<t.length;o++)iu(t[o],e,n,r,i);else{var a=ee(),s=te(),u=zo(t)?t:T(t.provide),c=qo(t),l=re(),f=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(zo(t)||!t.multi){var p=new Le(c,i,fa),v=su(u,e,i?f:f+d,h);-1===v?(Ze(Ye(l,s),a,u),ou(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var y=su(u,e,f+d,h),g=su(u,e,f,f+d),m=y>=0&&n[y],b=g>=0&&n[g];if(i&&!b||!i&&!m){Ze(Ye(l,s),a,u);var w=function(t,e,n,r,i){var o=new Le(t,n,fa);return o.multi=[],o.index=e,o.componentProviders=0,au(o,i,r&&!n),o}(i?cu:uu,n.length,i,r,c);!i&&b&&(n[g].providerFactory=w),ou(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(w),s.push(w)}else ou(a,t,y>-1?y:g,au(n[i?g:y],c,!i&&r));!i&&r&&b&&n[g].componentProviders++}}}function ou(t,e,n,r){var i=zo(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function au(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function su(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function uu(t,e,n,r){return lu(this.multi,[])}function cu(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=sn(n,n[1],this.providerFactory.index,r);lu(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else lu(o,i=[]);return i}function lu(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function fu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=ee();if(r.firstCreatePass){var i=It(t);iu(n,r.data,r.blueprint,i,!0),iu(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var hu=function t(){h(this,t)},du=function(){function t(){h(this,t)}return p(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(k(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),pu=function(){var t=function t(){h(this,t)};return t.NULL=new du,t}();function vu(){}function yu(t,e){return new mu(Bt(t,e))}var gu=function(){return yu(re(),te())},mu=function(){var t=function t(e){h(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=gu,t}();function bu(t){return t instanceof mu?t.nativeElement:t}var wu=function t(){h(this,t)},_u=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=function(){return ku()},t}(),ku=function(){var t=te(),e=Gt(re().index,t);return function(t){return t[11]}(kt(e)?e:t)},Eu=function(){var t=function t(){h(this,t)};return t.\u0275prov=R({token:t,providedIn:"root",factory:function(){return null}}),t}(),Ou=function t(e){h(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Su=new Ou("11.2.6"),Tu=function(){function t(){h(this,t)}return p(t,[{key:"supports",value:function(t){return na(t)}},{key:"create",value:function(t){return new Cu(t)}}]),t}(),Iu=function(t,e){return e},Cu=function(){function t(e){h(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Iu}return p(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Nu(n,r,i)?e:n,a=Nu(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var f=l<i.length?i[l]:i[l]=0,h=f+l;c<=h&&h<u&&(i[l]=f+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!na(t))throw new Error("Error trying to diff '".concat(k(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[ta()]();!(r=i.next()).done;)e(r.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new xu(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ju),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ju),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),xu=function t(e,n){h(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Au=function(){function t(){h(this,t),this._head=null,this._tail=null}return p(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),ju=function(){function t(){h(this,t),this.map=new Map}return p(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Au,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function Nu(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Ru=function(){function t(){h(this,t)}return p(t,[{key:"supports",value:function(t){return t instanceof Map||ra(t)}},{key:"create",value:function(){return new Du}}]),t}(),Du=function(){function t(){h(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return p(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||ra(t)))throw new Error("Error trying to diff '".concat(k(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Pu(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),Pu=function t(e){h(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function Lu(){return new Mu([new Tu])}var Mu=function(){var t=function(){function t(e){h(this,t),this.factories=e}return p(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||Lu())},deps:[[t,new Fn,new Mn]]}}}]),t}();return t.\u0275prov=R({token:t,providedIn:"root",factory:Lu}),t}();function Fu(){return new Uu([new Ru])}var Uu=function(){var t=function(){function t(e){h(this,t),this.factories=e}return p(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||Fu())},deps:[[t,new Fn,new Mn]]}}}]),t}();return t.\u0275prov=R({token:t,providedIn:"root",factory:Fu}),t}();function Vu(t,e,n,r){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var a=e[n.index];if(null!==a&&r.push(Vt(a)),Et(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&Vu(u[1],u,c,r)}var l=n.type;if(8&l)Vu(t,e,n.child,r);else if(32&l)for(var f=Fr(n,e),h=void 0;h=f();)r.push(h);else if(16&l){var d=fi(e,n);if(Array.isArray(d))r.push.apply(r,i(d));else{var p=Ur(e[16]);Vu(p[1],p,d,r,!0)}}n=o?n.projectionNext:n.next}return r}var qu=function(){function t(e,n){h(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return p(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return Vu(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(Et(t)){var e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Qr(t,n),_n(e,n))}this._attachedToViewContainer=!1}Jr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){$i(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){bo(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){wo(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){le(!0);try{wo(t,e,n)}finally{le(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,vi(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),Bu=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t))._view=t,r}return p(n,[{key:"detectChanges",value:function(){_o(this._view)}},{key:"checkNoChanges",value:function(){!function(t){le(!0);try{_o(t)}finally{le(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(qu),Hu=Gu,zu=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=Hu,t.__ChangeDetectorRef__=!0,t}();function Gu(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&St(t)){var r=Gt(t.index,e);return new qu(r,r)}return 47&t.type?new qu(e[16],e):null}(re(),te(),t)}var Ku=[new Ru],Wu=new Mu([new Tu]),Yu=new Uu(Ku),Qu=function(){return Zu(re(),te())},Ju=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=Qu,t}(),Xu=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=r,o.elementRef=i,o}return p(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Vi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),zi(e,n,t),new qu(n)}}]),n}(Ju);function Zu(t,e){return 4&t.type?new Xu(e,t,yu(t,e)):null}var $u=function t(){h(this,t)},tc=function t(){h(this,t)},ec=function(){return ac(re(),te())},nc=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=ec,t}(),rc=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=r,o._hostLView=i,o}return p(n,[{key:"element",get:function(){return yu(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new ln(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=Xe(this._hostTNode,this._hostLView);if(Be(t)){var e=ze(t,this._hostLView),n=He(t);return new ln(e[1].data[n+8],e)}return new ln(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=ic(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get($u,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var r=t._lView,i=r[1];if(Et(r[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var a=r[3],s=new n(a,a[6],a[3]);s.detach(s.indexOf(t))}}var u=this._adjustIndex(e),c=this._lContainer;!function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],wn(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(i,r,c,u);var l=hi(u,c),f=r[11],h=ri(f,c[7]);return null!==h&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,vi(t,r,n,1,i,o)}(i,c[6],f,r,h,l),t.attachToViewContainerRef(),wn(oc(c),u,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=ic(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=Qr(this._lContainer,e);n&&(_n(oc(this._lContainer),e),Jr(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=Qr(this._lContainer,e);return n&&null!=_n(oc(this._lContainer),e)?new qu(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(nc);function ic(t){return t[8]}function oc(t){return t[8]||(t[8]=[])}function ac(t,e){var n,r=e[t.index];if(Et(r))n=r;else{var i;if(8&t.type)i=Vt(r);else{var o=e[11];i=o.createComment("");var a=Bt(t,e);ti(o,ri(o,a),i,function(t,e){return Ft(t)?t.nextSibling(e):e.nextSibling}(o,a),!1)}e[t.index]=n=po(r,e,i,t),mo(e,n)}return new rc(n,t,e)}var sc={},uc=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this)).ngModule=t,r}return p(n,[{key:"resolveComponentFactory",value:function(t){var e=wt(t);return new fc(e,this.ngModule)}}]),n}(pu);function cc(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var lc=new vn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Dr}}),fc=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(xi).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return p(n,[{key:"inputs",get:function(){return cc(this.componentDef.inputs)}},{key:"outputs",get:function(){return cc(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,sc,i);return o!==sc||r===sc?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(wu,Ut),u=a.get(Eu,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",f=n?function(t,e,n){if(Ft(t))return t.selectRootElement(e,n===Y.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Wr(s.createRenderer(null,this.componentDef),l,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,d={components:[],scheduler:Dr,clean:Eo,playerHandler:null,flags:0},p=Zi(0,null,null,1,0,null,null,null,null,null),v=Vi(null,p,d,h,null,null,s,c,u,a);_e(v);try{var y=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=qi(a,20,2,"#host",null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(xo(s,u,!0),null!==t&&(Me(i,t,u),null!==s.classes&&mi(i,t,s.classes),null!==s.styles&&gi(i,t,s.styles)));var c=r.createRenderer(t,e),l=Vi(n,Xi(e),null,e.onPush?64:16,n[20],s,r,c,null,null);return a.firstCreatePass&&(Ze(Ye(s,n),a,e.type),oo(a,s),so(s,n.length,1)),mo(n,l),n[20]=l}(f,this.componentDef,v,s,c);if(f)if(n)Me(c,f,["ng-version",Su.full]);else{var g=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Oi(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),m=g.attrs,b=g.classes;m&&Me(c,f,m),b&&b.length>0&&mi(c,f,b.join(" "))}if(o=Ht(p,20),void 0!==e)for(var w=o.projection=[],_=0;_<this.ngContentSelectors.length;_++){var k=e[_];w.push(null!=k?Array.from(k):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=re();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),uo(t,r,e,Hi(t,e,1,null),n));var i=sn(e,t,r.directiveStart,r);Rr(i,e);var o=Bt(r,e);return o&&Rr(o,e),i}(o,n,e);if(r.components.push(a),t[8]=a,i&&i.forEach(function(t){return t(a,e)}),e.contentQueries){var s=re();e.contentQueries(1,a,s.directiveStart)}var u=re();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ce(u.index),ro(n[1],u,0,u.directiveStart,u.directiveEnd,e),io(e,a)),a}(y,this.componentDef,v,d,[Wo]),zi(p,v,null)}finally{Te()}return new hc(this.componentType,i,yu(o,v),v,o)}}]),n}(hu),hc=function(t){v(n,t);var e=g(n);function n(t,r,i,o,a){var s;return h(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.instance=r,s.hostView=s.changeDetectorRef=new Bu(o),s.componentType=t,s}return p(n,[{key:"injector",get:function(){return new ln(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(function(){return function t(){h(this,t)}}()),dc=new Map,pc=function(t){v(n,t);var e=g(n);function n(t,r){var i;h(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=b(i),i.destroyCbs=[],i.componentFactoryResolver=new uc(b(i));var o=_t(t),a=t[st]||null;return a&&ms(a),i._bootstrapComponents=Pr(o.bootstrap),i._r3Injector=Fo(t,r,[{provide:$u,useValue:b(i)},{provide:pu,useValue:i.componentFactoryResolver}],k(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return p(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ko.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H.Default;return t===Ko||t===$u||t===jo?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}($u),vc=function(t){v(n,t);var e=g(n);function n(t){var r,i,o;return h(this,n),(r=e.call(this)).moduleType=t,null!==_t(t)&&(i=t,o=new Set,function t(e){var n=_t(e,!0),r=n.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(k(e)," vs ").concat(k(e.name)))}(r,dc.get(r),e),dc.set(r,e));var i,s=a(Pr(n.imports));try{for(s.s();!(i=s.n()).done;){var u=i.value;o.has(u)||(o.add(u),t(u))}}catch(c){s.e(c)}finally{s.f()}}(i)),r}return p(n,[{key:"create",value:function(t){return new pc(this.moduleType,t)}}]),n}(tc);function yc(t,e,n,r){return wc(te(),fe(),t,e,n,r)}function gc(t,e,n,r,i){return function(t,e,n,r,i,o,a){var s=e+n;return aa(t,s,i,o)?ia(t,s+2,a?r.call(a,i,o):r(i,o)):bc(t,s+2)}(te(),fe(),t,e,n,r,i)}function mc(t,e,n,r,i,o){return function(t,e,n,r,i,o,a,s){var u=e+n;return function(t,e,n,r,i){var o=aa(t,e,n,r);return oa(t,e+2,i)||o}(t,u,i,o,a)?ia(t,u+3,s?r.call(s,i,o,a):r(i,o,a)):bc(t,u+3)}(te(),fe(),t,e,n,r,i,o)}function bc(t,e){var n=t[e];return n===Ai?void 0:n}function wc(t,e,n,r,i,o){var a=e+n;return oa(t,a,i)?ia(t,a+1,o?r.call(o,i):r(i)):bc(t,a+1)}function _c(t,e){var n,r=ee(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new C("302","The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Ct(n.type)),a=z(fa);try{var s=Ke(!1),u=o();return Ke(s),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(r,te(),i,u),u}finally{z(a)}}function kc(t,e,n){var r=t+20,i=te(),o=zt(i,r);return function(t,e){return ea.isWrapped(e)&&(e=ea.unwrap(e),t[he()]=Ai),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?wc(i,fe(),e,o.transform,n,o):o.transform(n))}var Ec=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return h(this,n),(t=e.call(this)).__isAsync=r,t}return p(n,[{key:"emit",value:function(t){f(_(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o=function(t){return null},a=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var u=f(_(n.prototype),"subscribe",this).call(this,i,o,a);return t instanceof s.a&&t.add(u),u}}]),n}(o.a);function Oc(){return this._results[ta()]()}var Sc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];h(this,t),this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=ta(),r=t.prototype;r[n]||(r[n]=Oc)}return p(t,[{key:"changes",get:function(){return this._changes||(this._changes=new Ec)}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,e){this.dirty=!1;var n=mn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Tc=function(){function t(e){h(this,t),this.queryList=e,this.matches=null}return p(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),Ic=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];h(this,t),this.queries=e}return p(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==qc(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Cc=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;h(this,t),this.predicate=e,this.flags=n,this.read=r},xc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];h(this,t),this.queries=e}return p(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),Ac=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;h(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return p(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,jc(e,i)),this.matchTNodeWithReadOption(t,e,an(e,t,i,!1,!1))}else n===Ju?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,an(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===mu||r===nc||r===Ju&&4&e.type)this.addMatch(e.index,-2);else{var i=an(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function jc(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Nc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?yu(t,e):4&t.type?Zu(t,e):null}(e,t):-2===n?function(t,e,n){return n===mu?yu(e,t):n===Ju?Zu(e,t):n===nc?ac(e,t):void 0}(t,e,r):sn(t,t[1],n,e)}function Rc(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:Nc(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Dc(t,e,n,r){var i=t.queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=Rc(t,e,i,n),s=0;s<o.length;s+=2){var u=o[s];if(u>0)r.push(a[s/2]);else{for(var c=o[s+1],l=e[-u],f=10;f<l.length;f++){var h=l[f];h[17]===h[3]&&Dc(h[1],h,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];Dc(v[1],v,c,r)}}}return r}function Pc(t){var e=te(),n=ee(),r=ge();me(r+1);var i=qc(n,r);if(t.dirty&&Wt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?Dc(n,e,r,[]):Rc(n,e,i,r);t.reset(o,bu),t.notifyOnChanges()}return!0}return!1}function Lc(t,e,n){var r=ee();r.firstCreatePass&&(Vc(r,new Cc(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Uc(r,te(),e)}function Mc(t,e,n,r){var i=ee();if(i.firstCreatePass){var o=re();Vc(i,new Cc(e,n,r),o.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Uc(i,te(),n)}function Fc(){return t=te(),e=ge(),t[19].queries[e].queryList;var t,e}function Uc(t,e,n){var r=new Sc(4==(4&n));$i(t,e,r,r.destroy),null===e[19]&&(e[19]=new Ic),e[19].queries.push(new Tc(r))}function Vc(t,e,n){null===t.queries&&(t.queries=new xc),t.queries.track(new Ac(e,n))}function qc(t,e){return t.queries.getByIndex(e)}function Bc(t,e){return Zu(t,e)}function Hc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.Default,e=Gu(!0);if(null!=e||t&H.Optional)return e;j("ChangeDetectorRef")}var zc=new vn("Application Initializer"),Gc=function(){var t=function(){function t(e){var n=this;h(this,t),this.appInits=e,this.resolve=vu,this.reject=vu,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return p(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();wa(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(zc,8))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),Kc=new vn("AppId"),Wc={provide:Kc,useFactory:function(){return"".concat(Yc()).concat(Yc()).concat(Yc())},deps:[]};function Yc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Qc=new vn("Platform Initializer"),Jc=new vn("Platform ID"),Xc=new vn("appBootstrapListener"),Zc=function(){var t=function(){function t(){h(this,t)}return p(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),$c=new vn("LocaleId"),tl=new vn("DefaultCurrencyCode"),el=function t(e,n){h(this,t),this.ngModuleFactory=e,this.componentFactories=n},nl=function(t){return new vc(t)},rl=nl,il=function(t){return Promise.resolve(nl(t))},ol=function(t){var e=nl(t),n=Pr(_t(t).declarations).reduce(function(t,e){var n=wt(e);return n&&t.push(new fc(n)),t},[]);return new el(e,n)},al=ol,sl=function(t){return Promise.resolve(ol(t))},ul=function(){var t=function(){function t(){h(this,t),this.compileModuleSync=rl,this.compileModuleAsync=il,this.compileModuleAndAllComponentsSync=al,this.compileModuleAndAllComponentsAsync=sl}return p(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),cl=Promise.resolve(0);function ll(t){"undefined"==typeof Zone?cl.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var fl=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a,u=e.shouldCoalesceRunChangeDetection,c=void 0!==u&&u;if(h(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ec(!1),this.onMicrotaskEmpty=new Ec(!1),this.onStable=new Ec(!1),this.onError=new Ec(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!c&&s,this.shouldCoalesceRunChangeDetection=c,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=$.requestAnimationFrame,e=$.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,pl(t),dl(t)},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),pl(t))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,i,o,a,s){try{return vl(n),t.invokeTask(i,o,a,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&r(),yl(n)}},onInvoke:function(t,e,i,o,a,s,u){try{return vl(n),t.invoke(i,o,a,s,u)}finally{n.shouldCoalesceRunChangeDetection&&r(),yl(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,pl(n),dl(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular(function(){return n.onError.emit(i)}),!1}})}return p(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,hl,vu,vu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),hl={};function dl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function pl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function vl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yl(t){t._nesting--,dl(t)}var gl=function(){function t(){h(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ec,this.onMicrotaskEmpty=new Ec,this.onStable=new Ec,this.onError=new Ec}return p(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),ml=function(){var t=function(){function t(e){var n=this;h(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return p(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){fl.assertNotInAngularZone(),ll(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())ll(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(fl))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),bl=function(){var t=function(){function t(){h(this,t),this._applications=new Map,kl.addToWindow(this)}return p(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return kl.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function wl(t){kl=t}var _l,kl=new(function(){function t(){h(this,t)}return p(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),El=!0,Ol=!1;function Sl(){return Ol=!0,El}function Tl(){if(Ol)throw new Error("Cannot enable prod mode after platform setup.");El=!1}var Il=new vn("AllowMultipleToken"),Cl=function t(e,n){h(this,t),this.name=e,this.token=n};function xl(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new vn(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Al();if(!o||o.injector.get(Il,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:Ro,useValue:"platform"});!function(t){if(_l&&!_l.destroyed&&!_l.injector.get(Il,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");_l=t.get(jl);var e=t.get(Qc,null);e&&e.forEach(function(t){return t()})}(Ko.create({providers:a,name:r}))}return function(t){var e=Al();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Al(){return _l&&!_l.destroyed?_l:null}var jl=function(){var t=function(){function t(e){h(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return p(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r={ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1},"noop"===n?new gl:("zone.js"===n?void 0:n)||new fl({enableLongStackTrace:Sl(),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),a=[{provide:fl,useValue:o}];return o.run(function(){var e=Ko.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(Ar,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){r.handleError(t)}});n.onDestroy(function(){Dl(i._modules,n),t.unsubscribe()})}),function(t,e,r){try{var o=((a=n.injector.get(Gc)).runInitializers(),a.donePromise.then(function(){return ms(n.injector.get($c,"en-US")||"en-US"),i._moduleDoBootstrap(n),n}));return wa(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(r,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Nl({},n);return function(t,e,n){var r=new vc(n);return Promise.resolve(r)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,r)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Rl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(k(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(Ko))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function Nl(t,e){return Array.isArray(e)?e.reduce(Nl,t):Object.assign(Object.assign({},t),e)}var Rl=function(){var t=function(){function t(e,n,r,i,o){var a=this;h(this,t),this._zone=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new u.a(function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){t.next(a._stable),t.complete()})}),c=new u.a(function(t){var e;a._zone.runOutsideAngular(function(){e=a._zone.onStable.subscribe(function(){fl.assertNotInAngularZone(),ll(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){fl.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(d.a)(s,c.pipe(Object(y.a)()))}return p(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof hu?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get($u),o=n.create(Ko.NULL,[],e||n.selector,i),a=o.location.nativeElement,s=o.injector.get(ml,null),u=s&&o.injector.get(bl);return s&&u&&u.registerApplication(a,s),o.onDestroy(function(){r.detachView(o.hostView),Dl(r.components,o),u&&u.unregisterApplication(a)}),this._loadComponent(o),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=a(this._views);try{for(n.s();!(e=n.n()).done;){e.value.detectChanges()}}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Dl(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Xc,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(fl),Nn(Ko),Nn(Ar),Nn(pu),Nn(Gc))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function Dl(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Pl=function t(){h(this,t)},Ll=function t(){h(this,t)},Ml={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Fl=function(){var t=function(){function t(e,n){h(this,t),this._compiler=e,this._config=n||Ml}return p(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var n=this,i=e(t.split("#"),2),o=i[0],a=i[1];return void 0===a&&(a="default"),r("zn8P")(o).then(function(t){return t[a]}).then(function(t){return Ul(t,o,a)}).then(function(t){return n._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(t){var n=e(t.split("#"),2),i=n[0],o=n[1],a="NgFactory";return void 0===o&&(o="default",a=""),r("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+a]}).then(function(t){return Ul(t,i,o)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(ul),Nn(Ll,8))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function Ul(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Vl=function(t){return null},ql=xl(null,"core",[{provide:Jc,useValue:"unknown"},{provide:jl,deps:[Ko]},{provide:bl,deps:[]},{provide:Zc,deps:[]}]),Bl=[{provide:Rl,useClass:Rl,deps:[fl,Ko,Ar,pu,Gc]},{provide:lc,deps:[fl],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Gc,useClass:Gc,deps:[[new Mn,zc]]},{provide:ul,useClass:ul,deps:[]},Wc,{provide:Mu,useFactory:function(){return Wu},deps:[]},{provide:Uu,useFactory:function(){return Yu},deps:[]},{provide:$c,useFactory:function(t){return ms(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new Ln($c),new Mn,new Fn]]},{provide:tl,useValue:"USD"}],Hl=function(){var t=function t(e){h(this,t)};return t.\u0275fac=function(e){return new(e||t)(Nn(Rl))},t.\u0275mod=vt({type:t}),t.\u0275inj=D({providers:Bl}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){h(this,t),this.project=e,this.thisArg=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}]),t}(),a=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||b(o),o}return p(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return s});var r=n("7o/Q"),i=n("WMd4");function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new a(t,e))}}var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h(this,t),this.scheduler=e,this.delay=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.scheduler,this.delay))}}]),t}(),s=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return h(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return p(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new u(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(i.a.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(r.a),u=function t(e,n){h(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",function(){return a}),n.d(e,"b",function(){return f}),n.d(e,"c",function(){return h}),n.d(e,"d",function(){return d});var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},f=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function h(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return g}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return f}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return h}),n.d(e,"o",function(){return v});var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function s(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(s())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function h(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return s().indexOf("Electron/")>=0}function p(){var t=s();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return s().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return Object(r.c)(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?m(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new y(i,s,r);return u},t}();function m(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new k(t,e);return n.subscribe.bind(n)}var k=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?f(_(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?f(_(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?f(_(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=new(function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(r),o=i},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r,i,o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),u=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=((i=function(){function t(e){h(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return p(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var f=0;f<n.length;++f)n[f].remove(this);if(Object(s.a)(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(v){e=v instanceof u?l(v.errors):[v]}}if(Object(o.a)(c))for(var h=-1,d=c.length;++h<d;){var p=c[h];if(Object(a.a)(p))try{p.unsubscribe()}catch(v){e=e||[],v instanceof u?e=e.concat(l(v.errors)):e.push(v)}}if(e)throw new u(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new i).closed=!0,r),i);function l(t){return t.reduce(function(t,e){return t.concat(e instanceof u?e.errors:e)},[])}},spgP:function(t,e,a){"use strict";(function(t){a.d(e,"a",function(){return R}),a.d(e,"b",function(){return T}),a.d(e,"c",function(){return S}),a.d(e,"d",function(){return w}),a.d(e,"e",function(){return O}),a.d(e,"f",function(){return j}),a.d(e,"g",function(){return C}),a.d(e,"h",function(){return _}),a.d(e,"i",function(){return E}),a.d(e,"j",function(){return x});var u=a("qgXg"),c=a("D0XW"),l=a("vkgz"),f=a("tf+s"),d=a("pxpQ"),v=a("fXoL"),y=a("Jgta");function g(){}var m=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.b;h(this,t),this.zone=e,this.delegate=n}return p(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule(function(e){var n=this;r.runGuarded(function(){t.apply(n,[e])})},e,n)}}]),t}(),b=function(){function t(e){h(this,t),this.zone=e,this.task=null}return p(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",g,{},g,g)}),e.pipe(Object(l.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout(function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)},10)}}]),t}(),w=function t(e){h(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular(function(){return new m(Zone.current)}),this.insideAngular=e.run(function(){return new m(Zone.current,c.b)})};function _(t){return function(e){return(e=e.lift(new b(t.ngZone))).pipe(Object(f.a)(t.outsideAngular),Object(d.b)(t.insideAngular))}}var k=["ngOnDestroy"],E=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(o,a){return n.runOutsideAngular(function(){var o;if(t[a])return(null===(o=null==r?void 0:r.spy)||void 0===o?void 0:o.get)&&r.spy.get(a,t[a]),t[a];if(k.indexOf(a)>-1)return function(){};var s=e.toPromise().then(function(t){var e=t&&t[a];return"function"==typeof e?e.bind(t):e&&e.then?e.then(function(t){return n.run(function(){return t})}):n.run(function(){return e})});return new Proxy(function(){},{get:function(t,e){return s[e]},apply:function(t,e,n){return s.then(function(t){var e,o=t&&t.apply(void 0,i(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(a,n,o),o})}})})}})},O=function(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype||e).forEach(function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},S=new v.r("angularfire2.app.options"),T=new v.r("angularfire2.app.nameOrConfig"),I=new v.P("6.1.4");function C(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=y.a.apps.filter(function(t){return t&&t.name===i.name})[0]||n.runOutsideAngular(function(){return y.a.initializeApp(e,i)});try{JSON.stringify(e)!==JSON.stringify(o.options)&&A("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var x=function(){A("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},A=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(v.V)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function j(e,a,u,c,l){var f,h=globalThis.\u0275AngularfireInstanceCache.get(e)||[],d=r(f=h)||o(f)||s(f)||n(),p=d[0],v=d.slice(1);if(p){try{l.some(function(t,e){var n=v[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&A("error","".concat(a," was already initialized on the ").concat(u.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(g){}return p}var y=c();return globalThis.\u0275AngularfireInstanceCache.set(e,[y].concat(i(l))),y}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var N={provide:function t(){h(this,t)},useFactory:C,deps:[S,v.A,[new v.B,T]]},R=function(){var t=function(){function t(e){h(this,t),y.a.registerVersion("angularfire",I.full,e.toString()),y.a.registerVersion("angular",v.O.full)}return p(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:S,useValue:e},{provide:T,useValue:n}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(v.Yb(v.C))},t.\u0275mod=v.Kb({type:t}),t.\u0275inj=v.Jb({providers:[N]}),t}()}).call(this,a("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("HDdC"),i=1,o=Promise.resolve(),a={};function s(t){return t in a&&(delete a[t],!0)}var u=function(t){var e=i++;return a[e]=!0,o.then(function(){return s(e)&&t()}),e},c=function(t){s(t)},l=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return p(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?f(_(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=u(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return f(_(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(c(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),d=new(function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(l),y=n("Y7HM"),m=function(t){v(n,t);var e=g(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return h(this,n),(r=e.call(this)).source=t,r.delayTime=i,r.scheduler=o,(!Object(y.a)(i)||i<0)&&(r.delayTime=0),o&&"function"==typeof o.schedule||(r.scheduler=d),r}return p(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.a);function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new w(t,e))}}var w=function(){function t(e,n){h(this,t),this.scheduler=e,this.delay=n}return p(t,[{key:"call",value:function(t,e){return new m(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function a(t,e,n){return function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(e,n,r){h(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),u=function(t){v(n,t);var e=g(n);function n(t,r,a,s){var u;return h(this,n),(u=e.call(this,t))._tapNext=i.a,u._tapError=i.a,u._tapComplete=i.a,u._tapError=a||i.a,u._tapComplete=s||i.a,Object(o.a)(r)?(u._context=b(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i.a,u._tapError=r.error||i.a,u._tapComplete=r.complete||i.a),u}return p(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("EQ5u"),i=n("x+ZX"),o=n("XNiG");function a(){return new o.a}function s(){return function(t){return Object(i.a)()((e=a,function(t){var n;n="function"==typeof e?e:function(){return e};var i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}var o=function(){function t(e){h(this,t),this.connectable=e}return p(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new a(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),a=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).connectable=r,i}return p(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(r.a)},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?function(n){return e.schedule(o,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function o(t){var e=t.error;t.subscriber.error(e)}},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),f="@firebase/app",h=((i={})[f]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.b("@firebase/app"),p=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.e)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.c)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}o(new s.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(a.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return d.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Object(a.f)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var c=0,f=Object.keys(e);c<f.length;c++)e[f[c]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(p);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.f)(e,t)},createSubscribe:a.d,ErrorFactory:a.b,deepExtend:a.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(a.h)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.m)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var b=v;!function(t,e){t.INTERNAL.registerComponent(new s.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(f,"0.6.17",void 0),t.registerVersion("fire-js","")}(b),e.a=b},zUnb:function(n,r,o){"use strict";o.r(r);var s=o("fXoL"),u=null;function c(){return u}var l,d=new s.r("DocumentToken"),y=((l=function t(){h(this,t)}).\u0275fac=function(t){return new(t||l)},l.\u0275prov=Object(s.Ib)({factory:w,token:l,providedIn:"platform"}),l);function w(){return Object(s.Yb)(O)}var k,E=new s.r("Location Initialized"),O=((k=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this))._doc=t,r._init(),r}return p(n,[{key:"_init",value:function(){this.location=c().getLocation(),this._history=c().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return c().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){c().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){c().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){S()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){S()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(y)).\u0275fac=function(t){return new(t||k)(s.Yb(d))},k.\u0275prov=Object(s.Ib)({factory:T,token:k,providedIn:"platform"}),k);function S(){return!!window.history.pushState}function T(){return new O(Object(s.Yb)(d))}function I(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function C(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function x(t){return t&&"?"!==t[0]?"?"+t:t}var A,j=((A=function t(){h(this,t)}).\u0275fac=function(t){return new(t||A)},A.\u0275prov=Object(s.Ib)({factory:N,token:A,providedIn:"root"}),A);function N(t){var e=Object(s.Yb)(d).location;return new M(Object(s.Yb)(y),e&&e.origin||"")}var R,D,P,L=new s.r("appBaseHref"),M=((P=function(t){v(n,t);var e=g(n);function n(t,r){var i;if(h(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,m(i)}return p(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return I(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+x(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(j)).\u0275fac=function(t){return new(t||P)(s.Yb(y),s.Yb(L,8))},P.\u0275prov=s.Ib({token:P,factory:P.\u0275fac}),P),F=((D=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return p(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=I(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(j)).\u0275fac=function(t){return new(t||D)(s.Yb(y),s.Yb(L,8))},D.\u0275prov=s.Ib({token:D,factory:D.\u0275fac}),D),U=((R=function(){function t(e,n){var r=this;h(this,t),this._subject=new s.n,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=C(q(i)),this._platformStrategy.onPopState(function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})})}return p(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+x(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,q(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+x(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+x(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||R)(s.Yb(j),s.Yb(y))},R.normalizeQueryParams=x,R.joinWithSlash=I,R.stripTrailingSlash=C,R.\u0275prov=Object(s.Ib)({factory:V,token:R,providedIn:"root"}),R);function V(){return new U(Object(s.Yb)(j),Object(s.Yb)(y))}function q(t){return t.replace(/\/index.html$/,"")}var B,H=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),z=s.mb,G=function t(){h(this,t)},K=((B=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this)).locale=t,r}return p(n,[{key:"getPluralCategory",value:function(t,e){switch(z(e||this.locale)(t)){case H.Zero:return"zero";case H.One:return"one";case H.Two:return"two";case H.Few:return"few";case H.Many:return"many";default:return"other"}}}]),n}(G)).\u0275fac=function(t){return new(t||B)(s.Yb(s.v))},B.\u0275prov=s.Ib({token:B,factory:B.\u0275fac}),B);function W(t,n){n=encodeURIComponent(n);var r,i=a(t.split(";"));try{for(i.s();!(r=i.n()).done;){var o=r.value,s=o.indexOf("="),u=e(-1==s?[o,""]:[o.slice(0,s),o.slice(s+1)],2),c=u[0],l=u[1];if(c.trim()===n)return decodeURIComponent(l)}}catch(f){i.e(f)}finally{i.f()}return null}var Y,Q=((Y=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Y)},Y.\u0275mod=s.Kb({type:Y}),Y.\u0275inj=s.Jb({providers:[{provide:G,useClass:K}]}),Y);function J(t){return"server"===t}var X,Z=((X=function t(){h(this,t)}).\u0275prov=Object(s.Ib)({token:X,providedIn:"root",factory:function(){return new $(Object(s.Yb)(d),window)}}),X),$=function(){function t(e,n){h(this,t),this.document=e,this.window=n,this.offset=function(){return[0,0]}}return p(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){var e;if(this.supportsScrolling()){var n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(t){return t.focus(),this.document.activeElement===t}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=tt(this.window.history)||tt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}]),t}();function tt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var et,nt,rt,it,ot=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=at||(at=document.querySelector("base"))?at.getAttribute("href"):null;return null==n?null:(e=n,et||(et=document.createElement("a")),et.setAttribute("href",e),"/"===et.pathname.charAt(0)?et.pathname:"/"+et.pathname)}},{key:"resetBaseElement",value:function(){at=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return W(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,u||(u=t)}}]),n}(function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.call(this)}return p(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){h(this,t)}}())),at=null,st=new s.r("TRANSITION_ID"),ut=[{provide:s.d,useFactory:function(t,e,n){return function(){n.get(s.e).donePromise.then(function(){var n=c();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[st,d,s.s],multi:!0}],ct=function(){function t(){h(this,t)}return p(t,[{key:"addToWindow",value:function(t){s.ob.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},s.ob.getAllAngularTestabilities=function(){return t.getAllTestabilities()},s.ob.getAllAngularRootElements=function(){return t.getAllRootElements()},s.ob.frameworkStabilizers||(s.ob.frameworkStabilizers=[]),s.ob.frameworkStabilizers.push(function(t){var e=s.ob.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?c().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(s.X)(new t)}}]),t}(),lt=new s.r("EventManagerPlugins"),ft=((nt=function(){function t(e,n){var r=this;h(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=r}),this._plugins=e.slice().reverse()}return p(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}()).\u0275fac=function(t){return new(t||nt)(s.Yb(lt),s.Yb(s.A))},nt.\u0275prov=s.Ib({token:nt,factory:nt.\u0275fac}),nt),ht=function(){function t(e){h(this,t),this._doc=e}return p(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=c().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),dt=((it=function(){function t(){h(this,t),this._stylesSet=new Set}return p(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||it)},it.\u0275prov=s.Ib({token:it,factory:it.\u0275fac}),it),pt=((rt=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return p(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(t){return c().remove(t)})}}]),n}(dt)).\u0275fac=function(t){return new(t||rt)(s.Yb(d))},rt.\u0275prov=s.Ib({token:rt,factory:rt.\u0275fac}),rt),vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},yt=/%COMP%/g;function gt(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?gt(t,i,n):(i=i.replace(yt,t),n.push(i))}return n}function mt(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var bt,wt,_t,kt,Et=((bt=function(){function t(e,n,r){h(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ot(e)}return p(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case s.R.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new St(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case s.R.ShadowDom:return new Tt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=gt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||bt)(s.Yb(ft),s.Yb(pt),s.Yb(s.c))},bt.\u0275prov=s.Ib({token:bt,factory:bt.\u0275fac}),bt),Ot=function(){function t(e){h(this,t),this.eventManager=e,this.data=Object.create(null)}return p(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(vt[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=vt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=vt[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&(s.G.DashCase|s.G.Important)?t.style.setProperty(e,n,r&s.G.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&s.G.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,mt(n)):this.eventManager.addEventListener(t,e,mt(n))}}]),t}(),St=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;h(this,n),(a=e.call(this,t)).component=i;var s=gt(o+"-"+i.id,i.styles,[]);return r.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(yt,o+"-"+i.id),a.hostAttr="_nghost-%COMP%".replace(yt,o+"-"+i.id),a}return p(n,[{key:"applyToHost",value:function(t){f(_(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=f(_(n.prototype),"createElement",this).call(this,t,e);return f(_(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Ot),Tt=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;h(this,n),(a=e.call(this,t)).sharedStylesHost=r,a.hostEl=i,a.shadowRoot=i.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=gt(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return p(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return f(_(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return f(_(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return f(_(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(f(_(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(Ot),It=((wt=function(t){v(n,t);var e=g(n);function n(t){return h(this,n),e.call(this,t)}return p(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(ht)).\u0275fac=function(t){return new(t||wt)(s.Yb(d))},wt.\u0275prov=s.Ib({token:wt,factory:wt.\u0275fac}),wt),Ct=["alt","control","meta","shift"],xt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},At={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Nt=((_t=function(t){v(n,t);var e=g(n);function n(t){return h(this,n),e.call(this,t)}return p(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return c().onAndCancel(t,i.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Ct.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&At.hasOwnProperty(e)&&(e=At[e]))}return xt[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Ct.forEach(function(r){r!=n&&(0,jt[r])(t)&&(e+=r+".")}),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(ht)).\u0275fac=function(t){return new(t||_t)(s.Yb(d))},_t.\u0275prov=s.Ib({token:_t,factory:_t.\u0275fac}),_t),Rt=[{provide:s.C,useValue:"browser"},{provide:s.D,useValue:function(){ot.makeCurrent(),ct.init()},multi:!0},{provide:d,useFactory:function(){return Object(s.ub)(document),document},deps:[]}],Dt=Object(s.S)(s.W,"browser",Rt),Pt=[[],{provide:s.Z,useValue:"root"},{provide:s.m,useFactory:function(){return new s.m},deps:[]},{provide:lt,useClass:It,multi:!0,deps:[d,s.A,s.C]},{provide:lt,useClass:Nt,multi:!0,deps:[d]},[],{provide:Et,useClass:Et,deps:[ft,pt,s.c]},{provide:s.F,useExisting:Et},{provide:dt,useExisting:pt},{provide:pt,useClass:pt,deps:[d]},{provide:s.M,useClass:s.M,deps:[s.A]},{provide:ft,useClass:ft,deps:[lt,s.A]},[]],Lt=((kt=function(){function t(e){if(h(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return p(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:s.c,useValue:e.appId},{provide:st,useExisting:s.c},ut]}}}]),t}()).\u0275fac=function(t){return new(t||kt)(s.Yb(kt,12))},kt.\u0275mod=s.Kb({type:kt}),kt.\u0275inj=s.Jb({providers:Pt,imports:[Q,s.f]}),kt);"undefined"!=typeof window&&window;var Mt=o("z6cu"),Ft=o("zx2A");function Ut(t){return function(e){var n=new Vt(t),r=e.lift(n);return n.caught=r}}var Vt=function(){function t(e){h(this,t),this.selector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new qt(t,this.selector,this.caught))}}]),t}(),qt=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return p(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void f(_(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new Ft.a(this);this.add(r);var i=Object(Ft.c)(e,r);i!==r&&this.add(i)}}}]),n}(Ft.b),Bt=o("LRne"),Ht=o("HDdC"),zt=o("5+tZ");function Gt(t,e){return Object(zt.a)(t,e,1)}var Kt=o("7o/Q");function Wt(t,e){return function(n){return n.lift(new Yt(t,e))}}var Yt=function(){function t(e,n){h(this,t),this.predicate=e,this.thisArg=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Qt(t,this.predicate,this.thisArg))}}]),t}(),Qt=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return p(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(Kt.a),Jt=o("lJxs"),Xt=function t(){h(this,t)},Zt=function t(){h(this,t)},$t=function(){function t(e){var n=this;h(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}})}:function(){n.headers=new Map,Object.keys(e).forEach(function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))})}:this.headers=new Map}return p(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,i(n)),this.headers.set(e,r);break;case"d":var o=t.value;if(o){var a=this.headers.get(e);if(!a)return;0===(a=a.filter(function(t){return-1===o.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})}}]),t}(),te=function(){function t(){h(this,t)}return p(t,[{key:"encodeKey",value:function(t){return ee(t)}},{key:"encodeValue",value:function(t){return ee(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function ee(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var ne=function(){function t(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(h(this,t),this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new te,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,n){var r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(t){var i=t.indexOf("="),o=e(-1==i?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,i)),n.decodeValue(t.slice(i+1))],2),a=o[0],s=o[1],u=r.get(a)||[];u.push(s),r.set(a,u)}),r}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(function(t){var e=r.fromObject[t];n.map.set(t,Array.isArray(e)?e:[e])})):this.map=null}return p(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"appendAll",value:function(t){var e=[];return Object.keys(t).forEach(function(n){var r=t[n];Array.isArray(r)?r.forEach(function(t){e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).filter(function(t){return""!==t}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)}}]),t}();function re(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function ie(t){return"undefined"!=typeof Blob&&t instanceof Blob}function oe(t){return"undefined"!=typeof FormData&&t instanceof FormData}var ae=function(){function t(e,n,r,i){var o;if(h(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new $t),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new ne,this.urlWithParams=n}return p(t,[{key:"serializeBody",value:function(){return null===this.body?null:re(this.body)||ie(this.body)||oe(this.body)||"string"==typeof this.body?this.body:this.body instanceof ne?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||oe(this.body)?null:ie(this.body)?this.body.type||null:re(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ne?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},u)),e.setParams&&(c=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},c)),new t(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),t}(),se=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),ue=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";h(this,t),this.headers=e.headers||new $t,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},ce=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(t=e.call(this,r)).type=se.ResponseHeader,t}return p(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(ue),le=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(t=e.call(this,r)).type=se.Response,t.body=void 0!==r.body?r.body:null,t}return p(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(ue),fe=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}(ue);function he(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var de,pe,ve,ye,ge,me,be,we,_e,ke,Ee,Oe,Se=((de=function(){function t(e){h(this,t),this.handler=e}return p(t,[{key:"request",value:function(t,e){var n,r,i,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t instanceof ae?n=t:(r=a.headers instanceof $t?a.headers:new $t(a.headers),a.params&&(i=a.params instanceof ne?a.params:new ne({fromObject:a.params})),n=new ae(t,e,void 0!==a.body?a.body:null,{headers:r,params:i,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials}));var s=Object(Bt.a)(n).pipe(Gt(function(t){return o.handler.handle(t)}));if(t instanceof ae||"events"===a.observe)return s;var u=s.pipe(Wt(function(t){return t instanceof le}));switch(a.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(Object(Jt.a)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return u.pipe(Object(Jt.a)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return u.pipe(Object(Jt.a)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return u.pipe(Object(Jt.a)(function(t){return t.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(a.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new ne).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,he(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,he(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,he(n,e))}}]),t}()).\u0275fac=function(t){return new(t||de)(s.Yb(Xt))},de.\u0275prov=s.Ib({token:de,factory:de.\u0275fac}),de),Te=function(){function t(e,n){h(this,t),this.next=e,this.interceptor=n}return p(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),Ie=new s.r("HTTP_INTERCEPTORS"),Ce=((pe=function(){function t(){h(this,t)}return p(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||pe)},pe.\u0275prov=s.Ib({token:pe,factory:pe.\u0275fac}),pe),xe=/^\)\]\}',?\n/,Ae=function t(){h(this,t)},je=((ye=function(){function t(){h(this,t)}return p(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}()).\u0275fac=function(t){return new(t||ye)},ye.\u0275prov=s.Ib({token:ye,factory:ye.\u0275fac}),ye),Ne=((ve=function(){function t(e){h(this,t),this.xhrFactory=e}return p(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ht.a(function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(t,e){return r.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new $t(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new ce({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var f=c;c=c.replace(xe,"");try{c=""!==c?JSON.parse(c):null}catch(h){c=f,l&&(l=!1,c={error:h,text:c})}}l?(n.next(new le({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new fe({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(t){var e=u().url,i=new fe({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},f=!1,h=function(e){f||(n.next(u()),f=!0);var i={type:se.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:se.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),r.addEventListener("timeout",l),r.addEventListener("abort",l),t.reportProgress&&(r.addEventListener("progress",h),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:se.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("abort",l),r.removeEventListener("load",c),r.removeEventListener("timeout",l),t.reportProgress&&(r.removeEventListener("progress",h),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.readyState!==r.DONE&&r.abort()}})}}]),t}()).\u0275fac=function(t){return new(t||ve)(s.Yb(Ae))},ve.\u0275prov=s.Ib({token:ve,factory:ve.\u0275fac}),ve),Re=new s.r("XSRF_COOKIE_NAME"),De=new s.r("XSRF_HEADER_NAME"),Pe=function t(){h(this,t)},Le=((Oe=function(){function t(e,n,r){h(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return p(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=W(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}()).\u0275fac=function(t){return new(t||Oe)(s.Yb(d),s.Yb(s.C),s.Yb(Re))},Oe.\u0275prov=s.Ib({token:Oe,factory:Oe.\u0275fac}),Oe),Me=((Ee=function(){function t(e,n){h(this,t),this.tokenService=e,this.headerName=n}return p(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Ee)(s.Yb(Pe),s.Yb(De))},Ee.\u0275prov=s.Ib({token:Ee,factory:Ee.\u0275fac}),Ee),Fe=((ke=function(){function t(e,n){h(this,t),this.backend=e,this.injector=n,this.chain=null}return p(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(Ie,[]);this.chain=e.reduceRight(function(t,e){return new Te(t,e)},this.backend)}return this.chain.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||ke)(s.Yb(Zt),s.Yb(s.s))},ke.\u0275prov=s.Ib({token:ke,factory:ke.\u0275fac}),ke),Ue=((_e=function(){function t(){h(this,t)}return p(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:Me,useClass:Ce}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:Re,useValue:e.cookieName}:[],e.headerName?{provide:De,useValue:e.headerName}:[]]}}}]),t}()).\u0275fac=function(t){return new(t||_e)},_e.\u0275mod=s.Kb({type:_e}),_e.\u0275inj=s.Jb({providers:[Me,{provide:Ie,useExisting:Me,multi:!0},{provide:Pe,useClass:Le},{provide:Re,useValue:"XSRF-TOKEN"},{provide:De,useValue:"X-XSRF-TOKEN"}]}),_e),Ve=((we=function t(){h(this,t)}).\u0275fac=function(t){return new(t||we)},we.\u0275mod=s.Kb({type:we}),we.\u0275inj=s.Jb({providers:[Se,{provide:Xt,useClass:Fe},Ne,{provide:Zt,useExisting:Ne},je,{provide:Ae,useExisting:je}],imports:[[Ue.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),we),qe=((be=function(){function t(e){h(this,t),this.httpClient=e,this.urlConnection="https://www.strava.com/oauth/authorize?client_id=36102&redirect_uri=https://plr2388.github.io/HuaweiToStrava/strava&response_type=code&scope=activity:write"}return p(t,[{key:"getToken",value:function(t){return this.httpClient.post("https://www.strava.com/oauth/token?client_id=36102&client_secret=d4ca7b238820272379613358d5fbe5e9a4571e68&code="+t+"&grant_type=authorization_code",null,{observe:"body"}).pipe(Ut(this.handleError))}},{key:"handleError",value:function(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error("Backend returned code ".concat(t.status,", body was: ").concat(t.error)),Object(Mt.a)("Something bad happened; please try again later.")}}]),t}()).\u0275fac=function(t){return new(t||be)(s.Yb(Se))},be.\u0275prov=s.Ib({token:be,factory:be.\u0275fac}),be),Be=((me=function(){function t(e){h(this,t),this.stravaService=e,this.stravaURLConnection=""}return p(t,[{key:"ngOnInit",value:function(){this.stravaURLConnection=this.stravaService.urlConnection}}]),t}()).\u0275fac=function(t){return new(t||me)(s.Mb(qe))},me.\u0275cmp=s.Gb({type:me,selectors:[["app-connect-strava"]],decls:2,vars:1,consts:[[3,"href"]],template:function(t,e){1&t&&(s.Rb(0,"a",0),s.wc(1,"Click here to connect to Strava"),s.Qb()),2&t&&s.jc("href",e.stravaURLConnection,s.rc)},styles:[""]}),me),He=((ge=function t(){h(this,t),this.title="huaweiToStrava"}).\u0275fac=function(t){return new(t||ge)},ge.\u0275cmp=s.Gb({type:ge,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-xs-12"]],template:function(t,e){1&t&&(s.Rb(0,"div",0),s.Rb(1,"div",1),s.Rb(2,"div",2),s.Rb(3,"h2"),s.wc(4,"Connect your Strava account"),s.Qb(),s.Nb(5,"app-connect-strava"),s.Qb(),s.Qb(),s.Qb())},directives:[Be],styles:[""]}),ge),ze=o("EY2u"),Ge=o("XNiG"),Ke=o("DH7j"),We=o("n6bG");function Ye(t,e,n,r){return Object(We.a)(n)&&(r=n,n=void 0),r?Ye(t,e,n).pipe(Object(Jt.a)(function(t){return Object(Ke.a)(t)?r.apply(void 0,i(t)):r(t)})):new Ht.a(function(r){Qe(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function Qe(t,e,n,r,i){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var a=t;t.addEventListener(e,n,i),o=function(){return a.removeEventListener(e,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var s=t;t.on(e,n),o=function(){return s.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var u=t;t.addListener(e,n),o=function(){return u.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,l=t.length;c<l;c++)Qe(t[c],e,n,r,i)}r.add(o)}var Je=o("D0XW"),Xe=o("Y7HM"),Ze=o("z+Ro");function $e(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}var tn=o("yCtX"),en=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(Kt.a),nn=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return p(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(Kt.a),rn=o("SeVD");function on(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new nn(t,n,r);if(!i.closed)return e instanceof Ht.a?e.subscribe(i):Object(rn.a)(e)(i)}var an=function(){function t(){h(this,t)}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new sn(t))}}]),t}(),sn=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).hasFirst=!1,r.observables=[],r.subscriptions=[],r}return p(n,[{key:"_next",value:function(t){this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=on(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}},{key:"notifyNext",value:function(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(e)}}]),n}(en),un=o("9ppp"),cn=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this))._value=t,r}return p(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=f(_(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new un.a;return this._value}},{key:"next",value:function(t){f(_(n.prototype),"next",this).call(this,this._value=t)}}]),n}(Ge.a),ln={},fn=function(){function t(e){h(this,t),this.resultSelector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new hn(t,this.resultSelector))}}]),t}(),hn=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return p(n,[{key:"_next",value:function(t){this.values.push(ln),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add(on(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var r=this.values,i=this.toRespond?r[n]===ln?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(en);o("KqfI");var dn=o("Lhse");function pn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return"function"==typeof r&&e.pop(),Object(tn.a)(e,void 0).lift(new vn(r))}var vn=function(){function t(e){h(this,t),this.resultSelector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new yn(t,this.resultSelector))}}]),t}(),yn=function(t){v(n,t);var e=g(n);function n(t,r){var i;arguments.length>2&&void 0!==arguments[2]||Object.create(null);return h(this,n),(i=e.call(this,t)).resultSelector=r,i.iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:void 0,i}return p(n,[{key:"_next",value:function(t){var e=this.iterators;Object(Ke.a)(t)?e.push(new mn(t)):e.push("function"==typeof t[dn.a]?new gn(t[dn.a]()):new bn(this.destination,this,t))}},{key:"_complete",value:function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){var i=t[r];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,a=[],s=0;s<e;s++){var u=t[s],c=u.next();if(u.hasCompleted()&&(o=!0),c.done)return void n.complete();a.push(c.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),o&&n.complete()}},{key:"_tryresultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Kt.a),gn=function(){function t(e){h(this,t),this.iterator=e,this.nextResult=e.next()}return p(t,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t}},{key:"hasCompleted",value:function(){var t=this.nextResult;return Boolean(t&&t.done)}}]),t}(),mn=function(){function t(e){h(this,t),this.array=e,this.index=0,this.length=0,this.length=e.length}return p(t,[{key:dn.a,value:function(){return this}},{key:"next",value:function(t){var e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),t}(),bn=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).parent=r,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return p(n,[{key:dn.a,value:function(){return this}},{key:"next",value:function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(t){this.buffer.push(t),this.parent.checkIterators()}},{key:"subscribe",value:function(){return Object(Ft.c)(this.observable,new Ft.a(this))}}]),n}(Ft.b),wn=o("VRyK"),_n=o("bHdf");function kn(){return Object(_n.a)(1)(Object(Bt.a).apply(void 0,arguments))}function En(t){return function(e){return e.lift(new On(t))}}var On=function(){function t(e){h(this,t),this.notifier=e}return p(t,[{key:"call",value:function(t,e){var n=new Sn(t),r=Object(Ft.c)(this.notifier,new Ft.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}]),t}(),Sn=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).seenValue=!1,r}return p(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(Ft.b),Tn=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function In(t){return function(e){return 0===t?Object(ze.b)():e.lift(new Cn(t))}}var Cn=function(){function t(e){if(h(this,t),this.total=e,this.total<0)throw new Tn}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new xn(t,this.total))}}]),t}(),xn=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return p(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(Kt.a);function An(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(Ze.a)(r)?(e.pop(),function(t){return kn(e,t,r)}):function(t){return kn(e,t)}}var jn=function(){function t(e,n){h(this,t),this.compare=e,this.keySelector=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Nn(t,this.compare,this.keySelector))}}]),t}(),Nn=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return p(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(Kt.a),Rn=o("Cfvw");function Dn(t,e){return"function"==typeof e?function(n){return n.pipe(Dn(function(n,r){return Object(Rn.a)(t(n,r)).pipe(Object(Jt.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new Pn(t))}}var Pn=function(){function t(e){h(this,t),this.project=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Ln(t,this.project))}}]),t}(),Ln=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return p(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new Ft.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Ft.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||f(_(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&f(_(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(Ft.b),Mn=o("vkgz");function Fn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new Un(e,n))}}var Un=function(){function t(e,n){h(this,t),this.observables=e,this.project=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Vn(t,this.observables,this.project))}}]),t}(),Vn=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;h(this,n),(o=e.call(this,t)).observables=r,o.project=i,o.toRespond=[];var a=r.length;o.values=new Array(a);for(var s=0;s<a;s++)o.toRespond.push(s);for(var u=0;u<a;u++)o.add(on(b(o),r[u],void 0,u));return o}return p(n,[{key:"notifyNext",value:function(t,e,n){this.values[n]=e;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat(i(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(en);o("WMd4"),o("w1tV"),o("XoHu");var qn,Bn,Hn,zn=((Hn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Hn)},Hn.\u0275mod=s.Kb({type:Hn}),Hn.\u0275inj=s.Jb({}),Hn),Gn=((Bn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Bn)},Bn.\u0275mod=s.Kb({type:Bn}),Bn.\u0275inj=s.Jb({imports:[[zn]]}),Bn),Kn=((qn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||qn)},qn.\u0275mod=s.Kb({type:qn}),qn.\u0275inj=s.Jb({imports:[Gn]}),qn),Wn=["*"],Yn=["dialog"];function Qn(t){return null!=t}function Jn(t){return(t||document.body).offsetHeight}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var Xn,Zn,$n,tr,er,nr,rr=!0,ir=5,or=((Xn=function t(){h(this,t),this.animation=rr}).\u0275fac=function(t){return new(t||Xn)},Xn.\u0275prov=Object(s.Ib)({factory:function(){return new Xn},token:Xn,providedIn:"root"}),Xn),ar=function(){},sr=ir,ur=new Map,cr=function(t,e,n,r){var i=r.context||{},o=ur.get(e);if(o)switch(r.runningTransition){case"continue":return ze.a;case"stop":t.run(function(){return o.transition$.complete()}),i=Object.assign(o.context,i),ur.delete(e)}var a=n(e,r.animation,i)||ar;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(function(){return a()}),Object(Bt.a)(void 0).pipe(function(t){return function(e){return new Ht.a(function(n){return e.subscribe(function(e){return t.run(function(){return n.next(e)})},function(e){return t.run(function(){return n.error(e)})},function(){return t.run(function(){return n.complete()})})})}}(t));var s=new Ge.a,u=new Ge.a,c=s.pipe(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return kn(t,Object(Bt.a).apply(void 0,e))}}(!0));ur.set(e,{transition$:s,complete:function(){u.next(),u.complete()},context:i});var l=function(t){var e=window.getComputedStyle(t),n=e.transitionDelay,r=e.transitionDuration;return 1e3*(parseFloat(n)+parseFloat(r))}(e);return t.runOutsideAngular(function(){var n=Ye(e,"transitionend").pipe(En(c),Wt(function(t){return t.target===e}));(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){if(!Object(Ke.a)(e[0]))return e[0];e=e[0]}return Object(tn.a)(e,void 0).lift(new an)})(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return Object(Xe.a)(e)?r=Number(e)<1?1:Number(e):Object(Ze.a)(e)&&(n=e),Object(Ze.a)(n)||(n=Je.a),new Ht.a(function(e){var i=Object(Xe.a)(t)?t:+t-n.now();return n.schedule($e,i,{index:0,period:r,subscriber:e})})}(l+sr).pipe(En(c)),n,u).pipe(En(c)).subscribe(function(){ur.delete(e),t.run(function(){a(),s.next(),s.complete()})})}),s.asObservable()},lr=((nr=function t(){h(this,t)}).\u0275fac=function(t){return new(t||nr)},nr.\u0275mod=s.Kb({type:nr}),nr.\u0275inj=s.Jb({imports:[[Q]]}),nr),fr=((er=function t(){h(this,t)}).\u0275fac=function(t){return new(t||er)},er.\u0275mod=s.Kb({type:er}),er.\u0275inj=s.Jb({imports:[[Q]]}),er),hr=((tr=function t(){h(this,t)}).\u0275fac=function(t){return new(t||tr)},tr.\u0275mod=s.Kb({type:tr}),tr.\u0275inj=s.Jb({}),tr),dr=(($n=function t(){h(this,t)}).\u0275fac=function(t){return new(t||$n)},$n.\u0275mod=s.Kb({type:$n}),$n.\u0275inj=s.Jb({imports:[[Q]]}),$n),pr=((Zn=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Zn)},Zn.\u0275mod=s.Kb({type:Zn}),Zn.\u0275inj=s.Jb({}),Zn),vr=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));var yr=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function gr(t){var e=Array.from(t.querySelectorAll(yr)).filter(function(t){return-1!==t.tabIndex});return[e[0],e[e.length-1]]}new(function(){function t(){h(this,t)}return p(t,[{key:"getAllStyles",value:function(t){return window.getComputedStyle(t)}},{key:"getStyle",value:function(t,e){return this.getAllStyles(t)[e]}},{key:"isStaticPositioned",value:function(t){return"static"===(this.getStyle(t,"position")||"static")}},{key:"offsetParent",value:function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}},{key:"position",value:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))e={top:(e=t.getBoundingClientRect()).top,bottom:e.bottom,left:e.left,right:e.right,height:e.height,width:e.width};else{var i=this.offsetParent(t);e=this.offset(t,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return e.top-=r.top,e.bottom-=r.top,e.left-=r.left,e.right-=r.left,n&&(e.top=Math.round(e.top),e.bottom=Math.round(e.bottom),e.left=Math.round(e.left),e.right=Math.round(e.right)),e}},{key:"offset",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}},{key:"positionElements",value:function(t,n,r,i){var o=e(r.split("-"),2),a=o[0],s=void 0===a?"top":a,u=o[1],c=void 0===u?"center":u,l=i?this.offset(t,!1):this.position(t,!1),f=this.getAllStyles(n),h=parseFloat(f.marginTop),d=parseFloat(f.marginBottom),p=parseFloat(f.marginLeft),v=parseFloat(f.marginRight),y=0,g=0;switch(s){case"top":y=l.top-(n.offsetHeight+h+d);break;case"bottom":y=l.top+l.height;break;case"left":g=l.left-(n.offsetWidth+p+v);break;case"right":g=l.left+l.width}switch(c){case"top":y=l.top;break;case"bottom":y=l.top+l.height-n.offsetHeight;break;case"left":g=l.left;break;case"right":g=l.left+l.width-n.offsetWidth;break;case"center":"top"===s||"bottom"===s?g=l.left+l.width/2-n.offsetWidth/2:y=l.top+l.height/2-n.offsetHeight/2}n.style.transform="translate(".concat(Math.round(g),"px, ").concat(Math.round(y),"px)");var m=n.getBoundingClientRect(),b=document.documentElement,w=window.innerHeight||b.clientHeight,_=window.innerWidth||b.clientWidth;return m.left>=0&&m.top>=0&&m.right<=_&&m.bottom<=w}}]),t}()),new Date(1882,10,12),new Date(2174,10,25);var mr,br,wr,_r,kr,Er,Or,Sr,Tr,Ir,Cr,xr,Ar,jr,Nr,Rr,Dr,Pr=((wr=function t(){h(this,t)}).\u0275fac=function(t){return new(t||wr)},wr.\u0275mod=s.Kb({type:wr}),wr.\u0275inj=s.Jb({imports:[[Q,Kn]]}),wr),Lr=((br=function t(){h(this,t)}).\u0275fac=function(t){return new(t||br)},br.\u0275mod=s.Kb({type:br}),br.\u0275inj=s.Jb({}),br),Mr=((mr=function(){function t(e){h(this,t),this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}return p(t,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(t){this._animation=t}}]),t}()).\u0275fac=function(t){return new(t||mr)(s.Yb(or))},mr.\u0275prov=Object(s.Ib)({factory:function(){return new mr(Object(s.Yb)(or))},token:mr,providedIn:"root"}),mr),Fr=function t(e,n,r){h(this,t),this.nodes=e,this.viewRef=n,this.componentRef=r},Ur=function(){},Vr=((kr=function(){function t(e){h(this,t),this._document=e}return p(t,[{key:"compensate",value:function(){var t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):Ur}},{key:"_adjustBody",value:function(t){var e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]="".concat(r+t,"px"),function(){return e.style["padding-right"]=n}}},{key:"_isPresent",value:function(t){var e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}},{key:"_getWidth",value:function(){var t=this._document.createElement("div");t.className="modal-scrollbar-measure";var e=this._document.body;e.appendChild(t);var n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}]),t}()).\u0275fac=function(t){return new(t||kr)(s.Yb(d))},kr.\u0275prov=Object(s.Ib)({factory:function(){return new kr(Object(s.Yb)(d))},token:kr,providedIn:"root"}),kr),qr=((_r=function(){function t(e,n){h(this,t),this._el=e,this._zone=n}return p(t,[{key:"ngOnInit",value:function(){var t=this;this._zone.onStable.asObservable().pipe(In(1)).subscribe(function(){cr(t._zone,t._el.nativeElement,function(t,e){e&&Jn(t),t.classList.add("show")},{animation:t.animation,runningTransition:"continue"})})}},{key:"hide",value:function(){return cr(this._zone,this._el.nativeElement,function(t){return t.classList.remove("show")},{animation:this.animation,runningTransition:"stop"})}}]),t}()).\u0275fac=function(t){return new(t||_r)(s.Mb(s.l),s.Mb(s.A))},_r.\u0275cmp=s.Gb({type:_r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(s.Cb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),s.Eb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),_r),Br=function(){function t(){h(this,t)}return p(t,[{key:"close",value:function(t){}},{key:"dismiss",value:function(t){}}]),t}(),Hr=function(){function t(e,n,r,i){var o=this;h(this,t),this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Ge.a,this._dismissed=new Ge.a,this._hidden=new Ge.a,e.instance.dismissEvent.subscribe(function(t){o.dismiss(t)}),this.result=new Promise(function(t,e){o._resolve=t,o._reject=e}),this.result.then(null,function(){})}return p(t,[{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}},{key:"closed",get:function(){return this._closed.asObservable().pipe(En(this._hidden))}},{key:"dismissed",get:function(){return this._dismissed.asObservable().pipe(En(this._hidden))}},{key:"hidden",get:function(){return this._hidden.asObservable()}},{key:"shown",get:function(){return this._windowCmptRef.instance.shown.asObservable()}},{key:"close",value:function(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}},{key:"_dismiss",value:function(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}},{key:"dismiss",value:function(t){var e=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then(function(n){!1!==n&&e._dismiss(t)},function(){}):!1!==n&&this._dismiss(t)}else this._dismiss(t)}},{key:"_removeModalElements",value:function(){var t=this,e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(Bt.a)(void 0);e.subscribe(function(){var e=t._windowCmptRef.location.nativeElement;e.parentNode.removeChild(e),t._windowCmptRef.destroy(),t._contentRef&&t._contentRef.viewRef&&t._contentRef.viewRef.destroy(),t._windowCmptRef=null,t._contentRef=null}),n.subscribe(function(){if(t._backdropCmptRef){var e=t._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),t._backdropCmptRef.destroy(),t._backdropCmptRef=null}}),pn(e,n).subscribe(function(){t._hidden.next(),t._hidden.complete()})}}]),t}(),zr=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({}),Gr=((Dr=function(){function t(e,n,r){h(this,t),this._document=e,this._elRef=n,this._zone=r,this._closed$=new Ge.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new s.n,this.shown=new Ge.a,this.hidden=new Ge.a}return p(t,[{key:"dismiss",value:function(t){this.dismissEvent.emit(t)}},{key:"ngOnInit",value:function(){this._elWithFocus=this._document.activeElement}},{key:"ngAfterViewInit",value:function(){this._show()}},{key:"ngOnDestroy",value:function(){this._disableEventHandling()}},{key:"hide",value:function(){var t=this,e=this._elRef.nativeElement,n={animation:this.animation,runningTransition:"stop"},r=pn(cr(this._zone,e,function(){return e.classList.remove("show")},n),cr(this._zone,this._dialogEl.nativeElement,function(){},n));return r.subscribe(function(){t.hidden.next(),t.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}},{key:"_show",value:function(){var t=this,e={animation:this.animation,runningTransition:"continue"};pn(cr(this._zone,this._elRef.nativeElement,function(t,e){e&&Jn(t),t.classList.add("show")},e),cr(this._zone,this._dialogEl.nativeElement,function(){},e)).subscribe(function(){t.shown.next(),t.shown.complete()}),this._enableEventHandling(),this._setFocus()}},{key:"_enableEventHandling",value:function(){var t=this,e=this._elRef.nativeElement;this._zone.runOutsideAngular(function(){Ye(e,"keydown").pipe(En(t._closed$),Wt(function(t){return t.which===vr.Escape})).subscribe(function(e){t.keyboard?requestAnimationFrame(function(){e.defaultPrevented||t._zone.run(function(){return t.dismiss(zr.ESC)})}):"static"===t.backdrop&&t._bumpBackdrop()});var n=!1;Ye(t._dialogEl.nativeElement,"mousedown").pipe(En(t._closed$),Object(Mn.a)(function(){return n=!1}),Dn(function(){return Ye(e,"mouseup").pipe(En(t._closed$),In(1))}),Wt(function(t){var n=t.target;return e===n})).subscribe(function(){n=!0}),Ye(e,"click").pipe(En(t._closed$)).subscribe(function(r){var i=r.target;e===i&&("static"===t.backdrop?t._bumpBackdrop():!0!==t.backdrop||n||t._zone.run(function(){return t.dismiss(zr.BACKDROP_CLICK)})),n=!1})})}},{key:"_disableEventHandling",value:function(){this._closed$.next()}},{key:"_setFocus",value:function(){var t=this._elRef.nativeElement;if(!t.contains(document.activeElement)){var e=t.querySelector("[ngbAutofocus]"),n=gr(t)[0];(e||n||t).focus()}}},{key:"_restoreFocus",value:function(){var t,e=this,n=this._document.body,r=this._elWithFocus;t=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular(function(){setTimeout(function(){return t.focus()}),e._elWithFocus=null})}},{key:"_bumpBackdrop",value:function(){"static"===this.backdrop&&cr(this._zone,this._elRef.nativeElement,function(t){var e=t.classList;return e.add("modal-static"),function(){return e.remove("modal-static")}},{animation:this.animation,runningTransition:"continue"})}}]),t}()).\u0275fac=function(t){return new(t||Dr)(s.Mb(d),s.Mb(s.l),s.Mb(s.A))},Dr.\u0275cmp=s.Gb({type:Dr,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;1&t&&s.Ac(Yn,3),2&t&&s.oc(n=s.cc())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(s.Bb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),s.Cb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),s.Eb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Wn,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(s.hc(),s.Rb(0,"div",0,1),s.Rb(2,"div",2),s.gc(3),s.Qb(),s.Qb()),2&t&&s.Cb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),Dr),Kr=((Rr=function(){function t(n,r,i,o,a,u){var c=this;h(this,t),this._applicationRef=n,this._injector=r,this._document=i,this._scrollBar=o,this._rendererFactory=a,this._ngZone=u,this._activeWindowCmptHasChanged=new Ge.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new s.n,this._activeWindowCmptHasChanged.subscribe(function(){if(c._windowCmpts.length){var t=c._windowCmpts[c._windowCmpts.length-1];(function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];c._ngZone.runOutsideAngular(function(){var t=Ye(n,"focusin").pipe(En(r),Object(Jt.a)(function(t){return t.target}));Ye(n,"keydown").pipe(En(r),Wt(function(t){return t.which===vr.Tab}),Fn(t)).subscribe(function(t){var r=e(t,2),i=r[0],o=r[1],a=e(gr(n),2),s=a[0],u=a[1];o!==s&&o!==n||!i.shiftKey||(u.focus(),i.preventDefault()),o!==u||i.shiftKey||(s.focus(),i.preventDefault())}),i&&Ye(n,"click").pipe(En(r),Fn(t),Object(Jt.a)(function(t){return t[1]})).subscribe(function(t){return t.focus()})})})(0,t.location.nativeElement,c._activeWindowCmptHasChanged),c._revertAriaHidden(),c._setAriaHidden(t.location.nativeElement)}})}return p(t,[{key:"open",value:function(t,e,n,r){var i=this,o=r.container instanceof HTMLElement?r.container:Qn(r.container)?this._document.querySelector(r.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),u=function(){i._modalRefs.length||(a.removeClass(i._document.body,"modal-open"),i._revertAriaHidden())};if(!o)throw new Error('The specified modal container "'.concat(r.container||"body",'" was not found in the DOM.'));var c=new Br,l=this._getContentRef(t,r.injector||e,n,c,r),f=!1!==r.backdrop?this._attachBackdrop(t,o):void 0,h=this._attachWindowComponent(t,o,l),d=new Hr(h,l,f,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(s,s),d.result.then(u,u),c.close=function(t){d.close(t)},c.dismiss=function(t){d.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),f&&f.instance&&this._applyBackdropOptions(f.instance,r),d}},{key:"activeInstances",get:function(){return this._activeInstances}},{key:"dismissAll",value:function(t){this._modalRefs.forEach(function(e){return e.dismiss(t)})}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(t,e){var n=t.resolveComponentFactory(qr).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(t,e,n){var r=t.resolveComponentFactory(Gr).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}},{key:"_applyWindowOptions",value:function(t,e){this._windowAttributes.forEach(function(n){Qn(e[n])&&(t[n]=e[n])})}},{key:"_applyBackdropOptions",value:function(t,e){this._backdropAttributes.forEach(function(n){Qn(e[n])&&(t[n]=e[n])})}},{key:"_getContentRef",value:function(t,e,n,r,i){return n?n instanceof s.L?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,r,i):new Fr([])}},{key:"_createFromTemplateRef",value:function(t,e){var n=t.createEmbeddedView({$implicit:e,close:function(t){e.close(t)},dismiss:function(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new Fr([n.rootNodes],n)}},{key:"_createFromString",value:function(t){var e=this._document.createTextNode("".concat(t));return new Fr([[e]])}},{key:"_createFromComponent",value:function(t,e,n,r,i){var o=t.resolveComponentFactory(n),a=s.s.create({providers:[{provide:Br,useValue:r}],parent:e}),u=o.create(a),c=u.location.nativeElement;return i.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new Fr([[c]],u.hostView,u)}},{key:"_setAriaHidden",value:function(t){var e=this,n=t.parentElement;n&&t!==this._document.body&&(Array.from(n.children).forEach(function(n){n!==t&&"SCRIPT"!==n.nodeName&&(e._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach(function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(t){var e=this,n=function(){var n=e._modalRefs.indexOf(t);n>-1&&(e._modalRefs.splice(n,1),e._activeInstances.emit(e._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(t){var e=this;this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(function(){var n=e._windowCmpts.indexOf(t);n>-1&&(e._windowCmpts.splice(n,1),e._activeWindowCmptHasChanged.next())})}}]),t}()).\u0275fac=function(t){return new(t||Rr)(s.Yb(s.g),s.Yb(s.s),s.Yb(d),s.Yb(Vr),s.Yb(s.F),s.Yb(s.A))},Rr.\u0275prov=Object(s.Ib)({factory:function(){return new Rr(Object(s.Yb)(s.g),Object(s.Yb)(s.o),Object(s.Yb)(d),Object(s.Yb)(Vr),Object(s.Yb)(s.F),Object(s.Yb)(s.A))},token:Rr,providedIn:"root"}),Rr),Wr=((Nr=function(){function t(e,n,r,i){h(this,t),this._moduleCFR=e,this._injector=n,this._modalStack=r,this._config=i}return p(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}},{key:"activeInstances",get:function(){return this._modalStack.activeInstances}},{key:"dismissAll",value:function(t){this._modalStack.dismissAll(t)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),t}()).\u0275fac=function(t){return new(t||Nr)(s.Yb(s.j),s.Yb(s.s),s.Yb(Kr),s.Yb(Mr))},Nr.\u0275prov=Object(s.Ib)({factory:function(){return new Nr(Object(s.Yb)(s.j),Object(s.Yb)(s.o),Object(s.Yb)(Kr),Object(s.Yb)(Mr))},token:Nr,providedIn:"root"}),Nr),Yr=((jr=function t(){h(this,t)}).\u0275fac=function(t){return new(t||jr)},jr.\u0275mod=s.Kb({type:jr}),jr.\u0275inj=s.Jb({providers:[Wr]}),jr),Qr=((Ar=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Ar)},Ar.\u0275mod=s.Kb({type:Ar}),Ar.\u0275inj=s.Jb({imports:[[Q]]}),Ar),Jr=((xr=function t(){h(this,t)}).\u0275fac=function(t){return new(t||xr)},xr.\u0275mod=s.Kb({type:xr}),xr.\u0275inj=s.Jb({imports:[[Q]]}),xr),Xr=((Cr=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Cr)},Cr.\u0275mod=s.Kb({type:Cr}),Cr.\u0275inj=s.Jb({imports:[[Q]]}),Cr),Zr=((Ir=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Ir)},Ir.\u0275mod=s.Kb({type:Ir}),Ir.\u0275inj=s.Jb({imports:[[Q]]}),Ir),$r=((Tr=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Tr)},Tr.\u0275mod=s.Kb({type:Tr}),Tr.\u0275inj=s.Jb({imports:[[Q]]}),Tr),ti=((Sr=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Sr)},Sr.\u0275mod=s.Kb({type:Sr}),Sr.\u0275inj=s.Jb({imports:[[Q]]}),Sr),ei=((Or=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Or)},Or.\u0275mod=s.Kb({type:Or}),Or.\u0275inj=s.Jb({imports:[[Q]]}),Or),ni=((Er=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Er)},Er.\u0275mod=s.Kb({type:Er}),Er.\u0275inj=s.Jb({}),Er);new s.r("live announcer delay",{providedIn:"root",factory:function(){return 100}});var ri,ii,oi=((ri=function t(){h(this,t)}).\u0275fac=function(t){return new(t||ri)},ri.\u0275mod=s.Kb({type:ri}),ri.\u0275inj=s.Jb({imports:[[Q]]}),ri),ai=[lr,fr,hr,dr,pr,Pr,Lr,Yr,Qr,Jr,Xr,Zr,$r,ti,ei,ni,oi],si=((ii=function t(){h(this,t)}).\u0275fac=function(t){return new(t||ii)},ii.\u0275mod=s.Kb({type:ii}),ii.\u0275inj=s.Jb({imports:[ai,lr,fr,hr,dr,pr,Pr,Lr,Yr,Qr,Jr,Xr,Zr,$r,ti,ei,ni,oi]}),ii),ui=o("spgP");function ci(){return function(t){return t.lift(new li)}}var li=function(){function t(){h(this,t)}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new fi(t))}}]),t}(),fi=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).hasPrev=!1,r}return p(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(Kt.a);function hi(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new di(t,e,n))}}var di=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];h(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new pi(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),pi=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return h(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return p(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}}]),n}(Kt.a),vi=o("pxpQ"),yi=o("Jgta"),gi=o("zIRd"),mi=o("q/0M"),bi=o("qOnz"),wi=function(t,e){return(wi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function _i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ki,Ei="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Oi=Oi||{},Si=Ei||self;function Ti(){}function Ii(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ci(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var xi="closure_uid_"+(1e9*Math.random()>>>0),Ai=0;function ji(t,e,n){return t.call.apply(t.bind,arguments)}function Ni(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ri(t,e,n){return(Ri=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ji:Ni).apply(null,arguments)}function Di(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Pi(){return Date.now()}function Li(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Mi(){this.j=this.j,this.i=this.i}Mi.prototype.j=!1,Mi.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,xi)&&t[xi]||(t[xi]=++Ai)}(this)},Mi.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Fi=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ui=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Vi(t){return Array.prototype.concat.apply([],arguments)}function qi(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Bi(t){return/^[\s\xa0]*$/.test(t)}var Hi,zi=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Gi(t,e){return-1!=t.indexOf(e)}function Ki(t,e){return t<e?-1:t>e?1:0}t:{var Wi=Si.navigator;if(Wi){var Yi=Wi.userAgent;if(Yi){Hi=Yi;break t}}Hi=""}function Qi(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ji(t){var e={};for(var n in t)e[n]=t[n];return e}var Xi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zi(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Xi.length;o++)n=Xi[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function $i(t){return $i[" "](t),t}$i[" "]=Ti;var to,eo,no=Gi(Hi,"Opera"),ro=Gi(Hi,"Trident")||Gi(Hi,"MSIE"),io=Gi(Hi,"Edge"),oo=io||ro,ao=Gi(Hi,"Gecko")&&!(Gi(Hi.toLowerCase(),"webkit")&&!Gi(Hi,"Edge"))&&!(Gi(Hi,"Trident")||Gi(Hi,"MSIE"))&&!Gi(Hi,"Edge"),so=Gi(Hi.toLowerCase(),"webkit")&&!Gi(Hi,"Edge");function uo(){var t=Si.document;return t?t.documentMode:void 0}t:{var co="",lo=(eo=Hi,ao?/rv:([^\);]+)(\)|;)/.exec(eo):io?/Edge\/([\d\.]+)/.exec(eo):ro?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(eo):so?/WebKit\/(\S+)/.exec(eo):no?/(?:Version)[ \/]?(\S+)/.exec(eo):void 0);if(lo&&(co=lo?lo[1]:""),ro){var fo=uo();if(null!=fo&&fo>parseFloat(co)){to=String(fo);break t}}to=co}var ho={};function po(t){return function(t,e){var n=ho;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=zi(String(to)).split("."),r=zi(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Ki(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Ki(0==a[2].length,0==s[2].length)||Ki(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var vo=Si.document&&ro&&(uo()||parseInt(to,10))||void 0,yo=!ro||9<=Number(vo),go=ro&&!po("9"),mo=function(){if(!Si.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Si.addEventListener("test",Ti,e),Si.removeEventListener("test",Ti,e)}catch(n){}return t}();function bo(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function wo(t,e){if(bo.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ao){t:{try{$i(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:_o[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}bo.prototype.b=function(){this.defaultPrevented=!0},Li(wo,bo);var _o={2:"touch",3:"pen",4:"mouse"};wo.prototype.b=function(){wo.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,go)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ko="closure_listenable_"+(1e6*Math.random()|0),Eo=0;function Oo(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Eo,this.Y=this.Z=!1}function So(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function To(t){this.src=t,this.a={},this.b=0}function Io(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Fi(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(So(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Co(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}To.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Co(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new Oo(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var xo="closure_lm_"+(1e6*Math.random()|0),Ao={};function jo(t,e,n,r,i){if(r&&r.once)return Ro(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)jo(t,e[o],n,r,i);return null}return n=qo(n),t&&t[ko]?t.va(e,n,Ci(r)?!!r.capture:!!r,i):No(t,e,n,!1,r,i)}function No(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Ci(i)?!!i.capture:!!i;if(a&&!yo)return null;var s=Uo(t);if(s||(t[xo]=s=new To(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Fo,e=yo?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)mo||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Lo(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ro(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ro(t,e[o],n,r,i);return null}return n=qo(n),t&&t[ko]?t.wa(e,n,Ci(r)?!!r.capture:!!r,i):No(t,e,n,!0,r,i)}function Do(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Do(t,e[o],n,r,i);else r=Ci(r)?!!r.capture:!!r,n=qo(n),t&&t[ko]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Co(o=t.a[e],n,r,i))&&(So(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Uo(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Co(e,n,r,i)),(n=-1<t?e[t]:null)&&Po(n))}function Po(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ko])Io(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Lo(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Uo(e))?(Io(n,t),0==n.b&&(n.src=null,e[xo]=null)):So(t)}}}function Lo(t){return t in Ao?Ao[t]:Ao[t]="on"+t}function Mo(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Po(t),n.call(r,e)}function Fo(t,e){if(t.Y)return!0;if(!yo){if(!e)t:{e=["window","event"];for(var n=Si,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Mo(t,e=new wo(e,this))}return Mo(t,new wo(e,this))}function Uo(t){return(t=t[xo])instanceof To?t:null}var Vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function qo(t){return"function"==typeof t?t:(t[Vo]||(t[Vo]=function(e){return t.handleEvent(e)}),t[Vo])}function Bo(){Mi.call(this),this.c=new To(this),this.J=this,this.C=null}function Ho(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new bo(e,t);else if(e instanceof bo)e.target=e.target||t;else{var i=e;Zi(e=new bo(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=zo(a,r,!0,e)&&i}if(i=zo(a=e.a=t,r,!0,e)&&i,i=zo(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=zo(a=e.a=n[o],r,!1,e)&&i}function zo(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&Io(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Li(Bo,Mi),Bo.prototype[ko]=!0,(ki=Bo.prototype).addEventListener=function(t,e,n,r){jo(this,t,e,n,r)},ki.removeEventListener=function(t,e,n,r){Do(this,t,e,n,r)},ki.G=function(){if(Bo.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)So(n[r]);delete e.a[t],e.b--}}this.C=null},ki.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},ki.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Go=Si.JSON.stringify;function Ko(){this.b=this.a=null}var Wo,Yo=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Jo},function(t){t.reset()});function Qo(){var t=ta,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Jo(){this.next=this.b=this.a=null}function Xo(t){Si.setTimeout(function(){throw t},0)}function Zo(t,e){Wo||function(){var t=Si.Promise.resolve(void 0);Wo=function(){t.then(ea)}}(),$o||(Wo(),$o=!0),ta.add(t,e)}Ko.prototype.add=function(t,e){var n=Yo.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Jo.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Jo.prototype.reset=function(){this.next=this.b=this.a=null};var $o=!1,ta=new Ko;function ea(){for(var t;t=Qo();){try{t.a.call(t.b)}catch(n){Xo(n)}var e=Yo;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}$o=!1}function na(t,e){Bo.call(this),this.b=t||1,this.a=e||Si,this.f=Ri(this.Za,this),this.g=Pi()}function ra(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ia(t,e,n){if("function"==typeof t)n&&(t=Ri(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ri(t.handleEvent,t)}return 2147483647<Number(e)?-1:Si.setTimeout(t,e||0)}function oa(t){t.a=ia(function(){t.a=null,t.c&&(t.c=!1,oa(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Li(na,Bo),(ki=na.prototype).aa=!1,ki.M=null,ki.Za=function(){if(this.aa){var t=Pi()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ho(this,"tick"),this.aa&&(ra(this),this.start()))}},ki.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Pi())},ki.G=function(){na.X.G.call(this),ra(this),delete this.a};var aa=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}wi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:oa(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Si.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Mi);function sa(t){Mi.call(this),this.b=t,this.a={}}Li(sa,Mi);var ua=[];function ca(t,e,n,r){Array.isArray(n)||(n&&(ua[0]=n.toString()),n=ua);for(var i=0;i<n.length;i++){var o=jo(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function la(t){Qi(t.a,function(t,e){this.a.hasOwnProperty(e)&&Po(t)},t),t.a={}}function fa(){this.a=!0}function ha(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Go(n)}catch(s){return e}}(t,n)+(r?" "+r:"")})}sa.prototype.G=function(){sa.X.G.call(this),la(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fa.prototype.info=function(){};var da={},pa=null;function va(){return pa=pa||new Bo}function ya(t){bo.call(this,da.Fa,t)}function ga(t){var e=va();Ho(e,new ya(e,t))}function ma(t,e){bo.call(this,da.STAT_EVENT,t),this.stat=e}function ba(t){var e=va();Ho(e,new ma(e,t))}function wa(t){bo.call(this,da.Ga,t)}function _a(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Si.setTimeout(function(){t()},e)}da.Fa="serverreachability",Li(ya,bo),da.STAT_EVENT="statevent",Li(ma,bo),da.Ga="timingevent",Li(wa,bo);var ka={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ea={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Oa(){}function Sa(){}Oa.prototype.a=null;var Ta,Ia={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ca(){bo.call(this,"d")}function xa(){bo.call(this,"c")}function Aa(){}function ja(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new sa(this),this.P=Na,this.R=new na(t=oo?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Li(Ca,bo),Li(xa,bo),Li(Aa,Oa),Ta=new Aa;var Na=45e3,Ra={},Da={};function Pa(t,e,n){t.H=1,t.i=rs(Xa(e)),t.j=n,t.I=!0,La(t,null)}function La(t,e){t.u=Pi(),Ua(t),t.l=Xa(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),ys(n.b,"t",r),t.D=0,t.a=lu(t.g,t.g.C?e:null),0<t.O&&(t.F=new aa(Ri(t.Ca,t,t.a),t.O)),ca(t.J,t.a,"readystatechange",t.Xa),e=t.B?Ji(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ga(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Ma(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Fa(t,n);if(i==Da){4==e&&(t.h=4,ba(14),r=!1),ha(t.c,t.f,null,"[Incomplete Response]");break}if(i==Ra){t.h=4,ba(15),ha(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ha(t.c,t.f,i,null),za(t,i)}4==e&&0==n.length&&(t.h=1,ba(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),nu(e),e.F=!0,ba(11))):(ha(t.c,t.f,n,"[Invalid Chunked Response]"),Ha(t),Ba(t))}function Fa(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Da:(n=Number(e.substring(n,r)),isNaN(n)?Ra:(r+=1)+n>e.length?Da:(e=e.substr(r,n),t.D=r+n,e))}function Ua(t){t.T=Pi()+t.P,Va(t,t.P)}function Va(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=_a(Ri(t.Va,t),e)}function qa(t){t.o&&(Si.clearTimeout(t.o),t.o=null)}function Ba(t){0==t.g.v||t.A||ou(t.g,t)}function Ha(t){qa(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,ra(t.R),la(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function za(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Es(n.b,t)))if(n.I=t.N,!t.C&&Es(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Yg){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;iu(n),Ws(n)}eu(n),ba(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=_a(Ri(n.Sa,n),6e3));if(1>=ks(n.b)&&n.ea){try{n.ea()}catch(Yg){}n.ea=void 0}}else su(n,11)}else if((t.C||n.a==t)&&iu(n),!Bi(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=u.b;!f.a&&(Gi(l,"spdy")||Gi(l,"quic")||Gi(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(Os(f,f.b),f.b=null))}if(u.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(u.na=h,ns(u.B,u.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Pi()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=cu(u,u.C?u.ga:null,u.fa),d.C){Ss(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(qa(p),Ua(p)),u.a=d}else tu(u);0<n.g.length&&Js(n)}else"stop"!=i[0]&&"close"!=i[0]||su(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?su(n,7):Ks(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ga(4)}catch(Yg){}}function Ga(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ii(t)||"string"==typeof t)Ui(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Ii(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Ii(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ka(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ka)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Wa(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ya(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ya(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ya(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(ki=ja.prototype).setTimeout=function(t){this.P=t},ki.Xa=function(t){t=t.target;var e=this.F;e&&3==Bs(t)?e.f():this.Ca(t)},ki.Ca=function(t){try{if(t==this.a)t:{var e=Bs(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!oo&&!this.a.$())){this.A||4!=e||7==n||ga(8==n||0>=r?3:2),qa(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bi(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,ba(12),Ha(this),Ba(this);break t}ha(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,za(this,u)}this.I?(Ma(this,e,o),oo&&this.b&&3==e&&(ca(this.J,this.R,"tick",this.Wa),this.R.start())):(ha(this.c,this.f,o,null),za(this,o)),4==e&&Ha(this),this.b&&!this.A&&(4==e?ou(this.g,this):(this.b=!1,Ua(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ba(12)):(this.h=0,ba(13)),Ha(this),Ba(this)}}}catch(c){}},ki.Wa=function(){if(this.a){var t=Bs(this.a),e=this.a.$();this.D<e.length&&(qa(this),Ma(this,t,e),this.b&&4!=t&&Ua(this))}},ki.cancel=function(){this.A=!0,Ha(this)},ki.Va=function(){this.o=null;var t=Pi();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(ga(3),ba(17)),Ha(this),this.h=2,Ba(this)):Va(this,this.T-t)},(ki=Ka.prototype).K=function(){Wa(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},ki.L=function(){return Wa(this),this.a.concat()},ki.get=function(t,e){return Ya(this.b,t)?this.b[t]:e},ki.set=function(t,e){Ya(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},ki.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Qa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ja(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ja){this.a=void 0!==e?e:t.a,Za(this,t.f),this.j=t.j,$a(this,t.c),ts(this,t.h),this.g=t.g,e=t.b;var n=new hs;n.c=e.c,e.a&&(n.a=new Ka(e.a),n.b=e.b),es(this,n),this.i=t.i}else t&&(n=String(t).match(Qa))?(this.a=!!e,Za(this,n[1]||"",!0),this.j=is(n[2]||""),$a(this,n[3]||"",!0),ts(this,n[4]),this.g=is(n[5]||"",!0),es(this,n[6]||"",!0),this.i=is(n[7]||"")):(this.a=!!e,this.b=new hs(null,this.a))}function Xa(t){return new Ja(t)}function Za(t,e,n){t.f=n?is(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function $a(t,e,n){t.c=n?is(e,!0):e}function ts(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function es(t,e,n){e instanceof hs?(t.b=e,function(t,e){e&&!t.f&&(ds(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(ps(this,e),ys(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=os(e,ls)),t.b=new hs(e,t.a))}function ns(t,e,n){t.b.set(e,n)}function rs(t){return ns(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Pi()).toString(36)),t}function is(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function os(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,as),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function as(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ja.prototype.toString=function(){var t=[],e=this.f;e&&t.push(os(e,ss,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(os(e,ss,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(os(n,"/"==n.charAt(0)?cs:us,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",os(n,fs)),t.join("")};var ss=/[#\/\?@]/g,us=/[#\?:]/g,cs=/[#\?]/g,ls=/[#\?@]/g,fs=/#/g;function hs(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ds(t){t.a||(t.a=new Ka,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ps(t,e){ds(t),e=gs(t,e),Ya(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ya((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Wa(t)))}function vs(t,e){return ds(t),e=gs(t,e),Ya(t.a.b,e)}function ys(t,e,n){ps(t,e),0<n.length&&(t.c=null,t.a.set(gs(t,e),qi(n)),t.b+=n.length)}function gs(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(ki=hs.prototype).add=function(t,e){ds(this),this.c=null,t=gs(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},ki.forEach=function(t,e){ds(this),this.a.forEach(function(n,r){Ui(n,function(n){t.call(e,n,r,this)},this)},this)},ki.L=function(){ds(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},ki.K=function(t){ds(this);var e=[];if("string"==typeof t)vs(this,t)&&(e=Vi(e,this.a.get(gs(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Vi(e,t[n])}return e},ki.set=function(t,e){return ds(this),this.c=null,vs(this,t=gs(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},ki.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},ki.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ms=function(t,e){this.b=t,this.a=e};function bs(t){this.g=t||ws,t=Si.PerformanceNavigationTiming?0<(t=Si.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Si.ia&&Si.ia.ya&&Si.ia.ya()&&Si.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ws=10;function _s(t){return!!t.b||!!t.a&&t.a.size>=t.f}function ks(t){return t.b?1:t.a?t.a.size:0}function Es(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Os(t,e){t.a?t.a.add(e):t.b=e}function Ss(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ts(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=_i(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return qi(t.c)}function Is(){}function Cs(){this.a=new Is}function xs(t,e,n){var r=n||"";try{Ga(t,function(t,n){var i=t;Ci(t)&&(i=Go(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Pm){throw e.push(r+"type="+encodeURIComponent("_badmap")),Pm}}function As(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}bs.prototype.cancel=function(){var t,e;if(this.c=Ts(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=_i(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Is.prototype.stringify=function(t){return Si.JSON.stringify(t,void 0)},Is.prototype.parse=function(t){return Si.JSON.parse(t,void 0)};var js=Si.JSON.parse;function Ns(t){Bo.call(this),this.headers=new Ka,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Rs,this.D=this.F=!1}Li(Ns,Bo);var Rs="",Ds=/^https?$/i,Ps=["POST","PUT"];function Ls(t){return"content-type"==t.toLowerCase()}function Ms(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Fs(t),Vs(t)}function Fs(t){t.u||(t.u=!0,Ho(t,"complete"),Ho(t,"error"))}function Us(t){if(t.b&&void 0!==Oi&&(!t.s[1]||4!=Bs(t)||2!=t.W()))if(t.l&&4==Bs(t))ia(t.za,0,t);else if(Ho(t,"readystatechange"),4==Bs(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Qa)[1]||null;if(!o&&Si.self&&Si.self.location){var a=Si.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ds.test(o?o.toLowerCase():"")}e=i}if(e)Ho(t,"complete"),Ho(t,"success");else{t.h=6;try{var s=2<Bs(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",Fs(t)}}finally{Vs(t)}}}function Vs(t,e){if(t.a){qs(t);var n=t.a,r=t.s[0]?Ti:null;t.a=null,t.s=null,e||Ho(t,"ready");try{n.onreadystatechange=r}catch(Pm){}}}function qs(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Si.clearTimeout(t.m),t.m=null)}function Bs(t){return t.a?t.a.readyState:0}function Hs(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Qi(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ns(t,e,n))}function zs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Gs(t){this.pa=0,this.g=[],this.c=new fa,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=zs("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=zs("baseRetryDelayMs",5e3,t),this.Ra=zs("retryDelaySeedMs",1e4,t),this.Ma=zs("forwardChannelMaxRetries",2,t),this.ma=zs("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new bs(t&&t.concurrentRequestLimit),this.ka=new Cs,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Ks(t){if(Ys(t),3==t.v){var e=t.R++,n=Xa(t.B);ns(n,"SID",t.J),ns(n,"RID",e),ns(n,"TYPE","terminate"),Zs(t,n),(e=new ja(t,t.c,e,void 0)).H=2,e.i=rs(Xa(n)),n=!1,Si.navigator&&Si.navigator.sendBeacon&&(n=Si.navigator.sendBeacon(e.i.toString(),"")),!n&&Si.Image&&((new Image).src=e.i,n=!0),n||(e.a=lu(e.g,null),e.a.ba(e.i)),e.u=Pi(),Ua(e)}uu(t)}function Ws(t){t.a&&(nu(t),t.a.cancel(),t.a=null)}function Ys(t){Ws(t),t.j&&(Si.clearTimeout(t.j),t.j=null),iu(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Si.clearTimeout(t.h),t.h=null)}function Qs(t,e){t.g.push(new ms(t.Oa++,e)),3==t.v&&Js(t)}function Js(t){_s(t.b)||t.h||(t.h=!0,Zo(t.Ba,t),t.u=0)}function Xs(t,e){var n;n=e?e.f:t.R++;var r=Xa(t.B);ns(r,"SID",t.J),ns(r,"RID",n),ns(r,"AID",t.P),Zs(t,r),t.i&&t.l&&Hs(r,t.i,t.l),n=new ja(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=$s(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Os(t.b,n),Pa(n,r,e)}function Zs(t,e){t.f&&Ga({},function(t,n){ns(e,n,t)})}function $s(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ri(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{xs(l,a,"req"+c+"_")}catch(Hu){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function tu(t){t.a||t.j||(t.T=1,Zo(t.Aa,t),t.o=0)}function eu(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=_a(Ri(t.Aa,t),au(t,t.o)),t.o++,0))}function nu(t){null!=t.s&&(Si.clearTimeout(t.s),t.s=null)}function ru(t){t.a=new ja(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Xa(t.la);ns(e,"RID","rpc"),ns(e,"SID",t.J),ns(e,"CI",t.H?"0":"1"),ns(e,"AID",t.P),Zs(t,e),ns(e,"TYPE","xmlhttp"),t.i&&t.l&&Hs(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=rs(Xa(e)),n.j=null,n.I=!0,La(n,t)}function iu(t){null!=t.m&&(Si.clearTimeout(t.m),t.m=null)}function ou(t,e){var n=null;if(t.a==e){iu(t),nu(t),t.a=null;var r=2}else{if(!Es(t.b,e))return;n=e.s,Ss(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Pi()-e.u;var i=t.u;Ho(r=va(),new wa(r,n,e,i)),Js(t)}else tu(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(ks(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=_a(Ri(t.Ba,t,e),au(t,t.u)),t.u++,0)))}(t,e)||2==r&&eu(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:su(t,5);break;case 4:su(t,10);break;case 3:su(t,6);break;default:su(t,2)}}function au(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function su(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ri(t.Ya,t);n||(n=new Ja("//www.google.com/images/cleardot.gif"),Si.location&&"http"==Si.location.protocol||Za(n,"https"),rs(n)),function(t,e){var n=new fa;if(Si.Image){var r=new Image;r.onload=Di(As,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Di(As,n,r,"TestLoadImage: error",!1,e),r.onabort=Di(As,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Di(As,n,r,"TestLoadImage: timeout",!1,e),Si.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ba(2);t.v=0,t.f&&t.f.ra(e),uu(t),Ys(t)}function uu(t){t.v=0,t.I=-1,t.f&&(0==Ts(t.b).length&&0==t.g.length||(t.b.c.length=0,qi(t.g),t.g.length=0),t.f.qa())}function cu(t,e,n){var r=function(t){return t instanceof Ja?Xa(t):new Ja(t,void 0)}(n);if(""!=r.c)e&&$a(r,e+"."+r.c),ts(r,r.h);else{var i=Si.location;r=function(t,e,n,r){var i=new Ja(null,void 0);return t&&Za(i,t),e&&$a(i,e),n&&ts(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Qi(t.V,function(t,e){ns(r,e,t)}),n=t.na,(e=t.A)&&n&&ns(r,e,n),ns(r,"VER",t.ha),Zs(t,r),r}function lu(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ns(t.Na)).F=t.C,e}function fu(){}function hu(){if(ro&&!(10<=Number(vo)))throw Error("Environmental error: no available transport.")}function du(t,e){Bo.call(this),this.a=new Gs(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Bi(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bi(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new yu(this)}function pu(t){Ca.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function vu(){xa.call(this),this.status=1}function yu(t){this.a=t}(ki=Ns.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ta),this.a.onreadystatechange=Ri(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Ms(this,o)}t=n||"";var i=new Ka(this.headers);r&&Ga(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Ls,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Si.FormData&&t instanceof Si.FormData,!(0<=Fi(Ps,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{qs(this),0<this.o&&((this.D=function(t){return ro&&po(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ri(this.xa,this)):this.m=ia(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Ms(this,o)}},ki.xa=function(){void 0!==Oi&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ho(this,"timeout"),this.abort(8))},ki.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ho(this,"complete"),Ho(this,"abort"),Vs(this))},ki.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Vs(this,!0)),Ns.X.G.call(this)},ki.za=function(){this.j||(this.A||this.l||this.g?Us(this):this.Ua())},ki.Ua=function(){Us(this)},ki.W=function(){try{return 2<Bs(this)?this.a.status:-1}catch(eo){return-1}},ki.$=function(){try{return this.a?this.a.responseText:""}catch(eo){return""}},ki.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),js(e)}},ki.ua=function(){return this.h},ki.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ki=Gs.prototype).ha=8,ki.v=1,ki.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ja(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Zi(r=Ji(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=$s(this,n,e),ns(i=Xa(this.B),"RID",t),ns(i,"CVER",22),this.A&&ns(i,"X-HTTP-Session-Id",this.A),Zs(this,i),this.i&&r&&Hs(i,this.i,r),Os(this.b,n),this.Ia&&ns(i,"TYPE","init"),this.da?(ns(i,"$req",e),ns(i,"SID","null"),n.U=!0,Pa(n,i,null)):Pa(n,i,e),this.v=2}}else 3==this.v&&(t?Xs(this,t):0==this.g.length||_s(this.b)||Xs(this))},ki.Aa=function(){if(this.j=null,ru(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=_a(Ri(this.Ta,this),t)}},ki.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ba(10),Ws(this),ru(this))},ki.Sa=function(){null!=this.m&&(this.m=null,Ws(this),eu(this),ba(19))},ki.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ba(2)):(this.c.info("Failed to ping google.com"),ba(1))},(ki=fu.prototype).ta=function(){},ki.sa=function(){},ki.ra=function(){},ki.qa=function(){},ki.Ja=function(){},hu.prototype.a=function(t,e){return new du(t,e)},Li(du,Bo),du.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ba(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=cu(t,null,t.fa),Js(t)},du.prototype.close=function(){Ks(this.a)},du.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Qs(this.a,e)}else this.l?((e={}).__data__=Go(t),Qs(this.a,e)):Qs(this.a,t)},du.prototype.G=function(){this.a.f=null,delete this.f,Ks(this.a),delete this.a,du.X.G.call(this)},Li(pu,Ca),Li(vu,xa),Li(yu,fu),yu.prototype.ta=function(){Ho(this.a,"a")},yu.prototype.sa=function(t){Ho(this.a,new pu(t))},yu.prototype.ra=function(t){Ho(this.a,new vu(t))},yu.prototype.qa=function(){Ho(this.a,"b")},hu.prototype.createWebChannel=hu.prototype.a,du.prototype.send=du.prototype.h,du.prototype.open=du.prototype.g,du.prototype.close=du.prototype.close,ka.NO_ERROR=0,ka.TIMEOUT=8,ka.HTTP_ERROR=6,Ea.COMPLETE="complete",Sa.EventType=Ia,Ia.OPEN="a",Ia.CLOSE="b",Ia.ERROR="c",Ia.MESSAGE="d",Bo.prototype.listen=Bo.prototype.va,Ns.prototype.listenOnce=Ns.prototype.wa,Ns.prototype.getLastError=Ns.prototype.Qa,Ns.prototype.getLastErrorCode=Ns.prototype.ua,Ns.prototype.getStatus=Ns.prototype.W,Ns.prototype.getResponseJson=Ns.prototype.Pa,Ns.prototype.getResponseText=Ns.prototype.$,Ns.prototype.send=Ns.prototype.ba;var gu=ka,mu=Ea,bu=da,wu=Sa,_u=Ns,ku=o("mrSG"),Eu=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Eu.o=-1;var Ou=new mi.b("@firebase/firestore");function Su(){return Ou.logLevel}function Tu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ou.logLevel<=mi.a.DEBUG){var r=e.map(xu);Ou.debug.apply(Ou,Object(ku.f)(["Firestore (8.3.1): "+t],r))}}function Iu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ou.logLevel<=mi.a.ERROR){var r=e.map(xu);Ou.error.apply(Ou,Object(ku.f)(["Firestore (8.3.1): "+t],r))}}function Cu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ou.logLevel<=mi.a.WARN){var r=e.map(xu);Ou.warn.apply(Ou,Object(ku.f)(["Firestore (8.3.1): "+t],r))}}function xu(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Pm){return t}}function Au(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+t;throw Iu(e),new Error(e)}function ju(t,e){t||Au()}function Nu(t,e){return t}function Ru(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Du=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ru(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Pu(t,e){return t<e?-1:t>e?1:0}function Lu(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Mu(t){return t+"\0"}function Fu(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uu(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Vu(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qu(t){return null==t}function Bu(t){return 0===t&&1/t==-1/0}function Hu(t){return"number"==typeof t&&Number.isInteger(t)&&!Bu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var zu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Gu=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(ku.c)(e,t),e}(Error),Ku=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Au(),void 0===n?n=t.length-e:n>t.length-e&&Au(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Wu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ku.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Gu(zu.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Ku),Yu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ku.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Yu.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Gu(zu.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Gu(zu.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Gu(zu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Gu(zu.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Ku),Ju=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Wu.fromString(e))},t.fromName=function(e){return new t(Wu.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Wu.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Wu.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Wu(e.slice()))},t}(),Xu=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Pu(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Xu.EMPTY_BYTE_STRING=new Xu("");var Zu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $u(t){if(ju(!!t),"string"==typeof t){var e=0,n=Zu.exec(t);if(ju(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:tc(t.seconds),nanos:tc(t.nanos)}}function tc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ec(t){return"string"==typeof t?Xu.fromBase64String(t):Xu.fromUint8Array(t)}var nc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Gu(zu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Gu(zu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Gu(zu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Gu(zu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Pu(this.nanoseconds,t.nanoseconds):Pu(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}();function rc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ic(t){var e=t.mapValue.fields.__previous_value__;return rc(e)?ic(e):e}function oc(t){var e=$u(t.mapValue.fields.__local_write_time__.timestampValue);return new nc(e.seconds,e.nanos)}function ac(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rc(t)?4:10:Au()}function sc(t,e){var n=ac(t);if(n!==ac(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oc(t).isEqual(oc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=$u(t.timestampValue),r=$u(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ec(t.bytesValue).isEqual(ec(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return tc(t.geoPointValue.latitude)===tc(e.geoPointValue.latitude)&&tc(t.geoPointValue.longitude)===tc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return tc(t.integerValue)===tc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=tc(t.doubleValue),r=tc(e.doubleValue);return n===r?Bu(n)===Bu(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Lu(t.arrayValue.values||[],e.arrayValue.values||[],sc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Fu(n)!==Fu(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!sc(n[i],r[i])))return!1;return!0}(t,e);default:return Au()}}function uc(t,e){return void 0!==(t.values||[]).find(function(t){return sc(t,e)})}function cc(t,e){var n=ac(t),r=ac(e);if(n!==r)return Pu(n,r);switch(n){case 0:return 0;case 1:return Pu(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=tc(t.integerValue||t.doubleValue),r=tc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return lc(t.timestampValue,e.timestampValue);case 4:return lc(oc(t),oc(e));case 5:return Pu(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ec(t),r=ec(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Pu(n[i],r[i]);if(0!==o)return o}return Pu(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Pu(tc(t.latitude),tc(e.latitude));return 0!==n?n:Pu(tc(t.longitude),tc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=cc(n[i],r[i]);if(o)return o}return Pu(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Pu(r[a],o[a]);if(0!==s)return s;var u=cc(n[r[a]],i[o[a]]);if(0!==u)return u}return Pu(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Au()}}function lc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Pu(t,e);var n=$u(t),r=$u(e),i=Pu(n.seconds,r.seconds);return 0!==i?i:Pu(n.nanos,r.nanos)}function fc(t){return hc(t)}function hc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=$u(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ec(t.bytesValue).toBase64():"referenceValue"in t?Ju.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=hc(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+hc(t.fields[o])}return e+"}"}(t.mapValue):Au();var e}function dc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function pc(t){return!!t&&"integerValue"in t}function vc(t){return!!t&&"arrayValue"in t}function yc(t){return!!t&&"nullValue"in t}function gc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mc(t){return!!t&&"mapValue"in t}var bc=function(t,e){this.key=t,this.version=e},wc=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).objectValue=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(ku.c)(e,t),e.prototype.field=function(t){return this.objectValue.field(t)},e.prototype.data=function(){return this.objectValue},e.prototype.toProto=function(){return this.objectValue.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.objectValue.isEqual(t.objectValue)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(bc),_c=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(ku.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(bc),kc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ku.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(bc),Ec=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Oc(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Ec(t,e,n,r,i,o,a)}function Sc(t){var e=Nu(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+fc(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),qu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Fc(e.startAt)),e.endAt&&(n+="|ub:",n+=Fc(e.endAt)),e.h=n}return e.h}function Tc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Vc(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!sc(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bc(t.startAt,e.startAt)&&Bc(t.endAt,e.endAt)}function Ic(t){return Ju.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Cc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(ku.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new xc(t,n,r):"array-contains"===n?new Rc(t,r):"in"===n?new Dc(t,r):"not-in"===n?new Pc(t,r):"array-contains-any"===n?new Lc(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Ac(t,n):new jc(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.m(cc(e,this.value)):null!==e&&ac(this.value)===ac(e)&&this.m(cc(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Au()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),xc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Ju.fromName(r.referenceValue),i}return Object(ku.c)(e,t),e.prototype.matches=function(t){var e=Ju.comparator(t.key,this.key);return this.m(e)},e}(Cc),Ac=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Nc(0,n),r}return Object(ku.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Cc),jc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Nc(0,n),r}return Object(ku.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Cc);function Nc(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Ju.fromName(t.referenceValue)})}var Rc=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(ku.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return vc(e)&&uc(e.arrayValue,this.value)},e}(Cc),Dc=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(ku.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&uc(this.value.arrayValue,e)},e}(Cc),Pc=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(ku.c)(e,t),e.prototype.matches=function(t){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!uc(this.value.arrayValue,e)},e}(Cc),Lc=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(ku.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!vc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return uc(e.value.arrayValue,t)})},e}(Cc),Mc=function(t,e){this.position=t,this.before=e};function Fc(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return fc(t)}).join(",")}var Uc=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Vc(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function qc(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?Ju.comparator(Ju.fromName(a.referenceValue),n.key):cc(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Bc(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!sc(t.position[n],e.position[n]))return!1;return!0}var Hc=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function zc(t,e,n,r,i,o,a,s){return new Hc(t,e,n,r,i,o,a,s)}function Gc(t){return new Hc(t)}function Kc(t){return!qu(t.limit)&&"F"===t.limitType}function Wc(t){return!qu(t.limit)&&"L"===t.limitType}function Yc(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Qc(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Jc(t){return null!==t.collectionGroup}function Xc(t){var e=Nu(t);if(null===e.p){e.p=[];var n=Qc(e),r=Yc(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Uc(n)),e.p.push(new Uc(Qu.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Uc(Qu.keyField(),u))}}}return e.p}function Zc(t){var e=Nu(t);if(!e.T)if("F"===e.limitType)e.T=Oc(e.path,e.collectionGroup,Xc(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Xc(e);r<i.length;r++){var o=i[r];n.push(new Uc(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new Mc(e.endAt.position,!e.endAt.before):null,s=e.startAt?new Mc(e.startAt.position,!e.startAt.before):null;e.T=Oc(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.T}function $c(t,e,n){return new Hc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tl(t,e){return Tc(Zc(t),Zc(e))&&t.limitType===e.limitType}function el(t){return Sc(Zc(t))+"|lt:"+t.limitType}function nl(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+fc(e.value);var e}).join(", ")+"]"),qu(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Fc(t.startAt)),t.endAt&&(e+=", endAt: "+Fc(t.endAt)),"Target("+e+")"}(Zc(t))+"; limitType="+t.limitType+")"}function rl(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Ju.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!qc(t.startAt,Xc(t),e)||t.endAt&&qc(t.endAt,Xc(t),e))}(t,e)}function il(t){return function(e,n){for(var r=!1,i=0,o=Xc(t);i<o.length;i++){var a=o[i],s=ol(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function ol(t,e,n){var r=t.field.isKeyField()?Ju.comparator(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?cc(r,i):Au()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Au()}}var al=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new nc(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}(),sl=function(){function t(t){this.fields=t,t.sort(Qu.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Lu(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),ul=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!mc(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.isEqual=function(t){return sc(this.proto,t.proto)},t}(),cl=function(){function t(t){void 0===t&&(t=ul.empty()),this.I=t,this.A=new Map}return t.prototype.set=function(t,e){return this.R(t,e),this},t.prototype.delete=function(t){return this.R(t,null),this},t.prototype.R=function(t,e){for(var n=this.A,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===ac(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.v=function(){var t=this.P(Qu.emptyPath(),this.A);return null!=t?new ul(t):this.I},t.prototype.P=function(t,e){var n=this,r=!1,i=this.I.field(t),o=mc(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var a=n.P(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function ll(t){var e=[];return Uu(t.fields||{},function(t,n){var r=new Qu([t]);if(mc(n)){var i=ll(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)}),new sl(e)}function fl(t,e){if(t.V){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bu(e)?"-0":e}}function hl(t){return{integerValue:""+t}}function dl(t,e){return Hu(e)?hl(e):fl(t,e)}var pl=function(){this._=void 0};function vl(t,e,n){return t instanceof ml?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof bl?wl(t,e):t instanceof _l?kl(t,e):function(t,e){var n=gl(t,e),r=Ol(n)+Ol(t.S);return pc(n)&&pc(t.S)?hl(r):fl(t.D,r)}(t,e)}function yl(t,e,n){return t instanceof bl?wl(t,e):t instanceof _l?kl(t,e):n}function gl(t,e){return t instanceof El?pc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var ml=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ku.c)(e,t),e}(pl),bl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ku.c)(e,t),e}(pl);function wl(t,e){for(var n=Sl(e),r=function(t){n.some(function(e){return sc(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var _l=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ku.c)(e,t),e}(pl);function kl(t,e){for(var n=Sl(e),r=function(t){n=n.filter(function(e){return!sc(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var El=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).D=e,r.S=n,r}return Object(ku.c)(e,t),e}(pl);function Ol(t){return tc(t.integerValue||t.doubleValue)}function Sl(t){return vc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Tl=function(t,e){this.field=t,this.transform=e},Il=function(t,e){this.version=t,this.transformResults=e},Cl=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function xl(t,e){return void 0!==t.updateTime?e instanceof wc&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof wc}var Al=function(){};function jl(t,e,n){return t instanceof Ll?function(t,e,n){var r=t.value,i=Ul(t.fieldTransforms,e,n.transformResults);return r=ql(t.fieldTransforms,r,i),new wc(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Ml?function(t,e,n){if(!xl(t.precondition,e))return new kc(t.key,n.version);var r=Fl(t,e,Ul(t.fieldTransforms,e,n.transformResults));return new wc(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new _c(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Nl(t,e,n){return t instanceof Ll?function(t,e,n){if(!xl(t.precondition,e))return e;var r=t.value,i=Vl(t.fieldTransforms,n,e);r=ql(t.fieldTransforms,r,i);var o=Pl(e);return new wc(t.key,o,r,{hasLocalMutations:!0})}(t,e,n):t instanceof Ml?function(t,e,n){if(!xl(t.precondition,e))return e;var r=Pl(e),i=Fl(t,e,Vl(t.fieldTransforms,n,e));return new wc(t.key,r,i,{hasLocalMutations:!0})}(t,e,n):function(t,e){return xl(t.precondition,e)?new _c(t.key,al.min()):e}(t,e)}function Rl(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],a=e instanceof wc?e.field(o.field):void 0,s=gl(o.transform,a||null);null!=s&&(n=null==n?(new cl).set(o.field,s):n.set(o.field,s))}return n?n.v():null}(t.fieldTransforms,e)}function Dl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Lu(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof bl&&e instanceof bl||t instanceof _l&&e instanceof _l?Lu(t.elements,e.elements,sc):t instanceof El&&e instanceof El?sc(t.S,e.S):t instanceof ml&&e instanceof ml}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Pl(t){return t instanceof wc?t.version:al.min()}var Ll=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(ku.c)(e,t),e}(Al),Ml=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Object(ku.c)(e,t),e}(Al);function Fl(t,e,n){var r;return r=function(t,e){var n=new cl(e);return t.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.v()}(t,r=e instanceof wc?e.data():ul.empty()),ql(t.fieldTransforms,r,n)}function Ul(t,e,n){var r=[];ju(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof wc&&(s=e.field(o.field)),r.push(yl(a,s,n[i]))}return r}function Vl(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=null;n instanceof wc&&(u=n.field(a.field)),r.push(vl(s,u,e))}return r}function ql(t,e,n){for(var r=new cl(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.v()}var Bl,Hl,zl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(ku.c)(e,t),e}(Al),Gl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(ku.c)(e,t),e}(Al),Kl=function(t){this.count=t};function Wl(t){switch(t){case zu.OK:return Au();case zu.CANCELLED:case zu.UNKNOWN:case zu.DEADLINE_EXCEEDED:case zu.RESOURCE_EXHAUSTED:case zu.INTERNAL:case zu.UNAVAILABLE:case zu.UNAUTHENTICATED:return!1;case zu.INVALID_ARGUMENT:case zu.NOT_FOUND:case zu.ALREADY_EXISTS:case zu.PERMISSION_DENIED:case zu.FAILED_PRECONDITION:case zu.ABORTED:case zu.OUT_OF_RANGE:case zu.UNIMPLEMENTED:case zu.DATA_LOSS:return!0;default:return Au()}}function Yl(t){if(void 0===t)return Iu("GRPC error has no .code"),zu.UNKNOWN;switch(t){case Bl.OK:return zu.OK;case Bl.CANCELLED:return zu.CANCELLED;case Bl.UNKNOWN:return zu.UNKNOWN;case Bl.DEADLINE_EXCEEDED:return zu.DEADLINE_EXCEEDED;case Bl.RESOURCE_EXHAUSTED:return zu.RESOURCE_EXHAUSTED;case Bl.INTERNAL:return zu.INTERNAL;case Bl.UNAVAILABLE:return zu.UNAVAILABLE;case Bl.UNAUTHENTICATED:return zu.UNAUTHENTICATED;case Bl.INVALID_ARGUMENT:return zu.INVALID_ARGUMENT;case Bl.NOT_FOUND:return zu.NOT_FOUND;case Bl.ALREADY_EXISTS:return zu.ALREADY_EXISTS;case Bl.PERMISSION_DENIED:return zu.PERMISSION_DENIED;case Bl.FAILED_PRECONDITION:return zu.FAILED_PRECONDITION;case Bl.ABORTED:return zu.ABORTED;case Bl.OUT_OF_RANGE:return zu.OUT_OF_RANGE;case Bl.UNIMPLEMENTED:return zu.UNIMPLEMENTED;case Bl.DATA_LOSS:return zu.DATA_LOSS;default:return Au()}}(Hl=Bl||(Bl={}))[Hl.OK=0]="OK",Hl[Hl.CANCELLED=1]="CANCELLED",Hl[Hl.UNKNOWN=2]="UNKNOWN",Hl[Hl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hl[Hl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hl[Hl.NOT_FOUND=5]="NOT_FOUND",Hl[Hl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hl[Hl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hl[Hl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hl[Hl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hl[Hl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hl[Hl.ABORTED=10]="ABORTED",Hl[Hl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hl[Hl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hl[Hl.INTERNAL=13]="INTERNAL",Hl[Hl.UNAVAILABLE=14]="UNAVAILABLE",Hl[Hl.DATA_LOSS=15]="DATA_LOSS";var Ql=function(){function t(t,e){this.comparator=t,this.root=e||Xl.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xl.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xl.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Jl(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Jl(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Jl(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Jl(this.root,t,this.comparator,!0)},t}(),Jl=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Xl=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Au();if(this.right.isRed())throw Au();var t=this.left.check();if(t!==this.right.check())throw Au();return t+(this.isRed()?0:1)},t}();Xl.EMPTY=null,Xl.RED=!0,Xl.BLACK=!1,Xl.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Au()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Au()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Au()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Au()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Au()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Xl(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Zl=function(){function t(t){this.comparator=t,this.data=new Ql(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new $l(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new $l(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),$l=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),tf=new Ql(Ju.comparator);function ef(){return tf}function nf(){return ef()}var rf=new Ql(Ju.comparator);function of(){return rf}var af=new Ql(Ju.comparator);function sf(){return af}var uf=new Zl(Ju.comparator);function cf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=uf,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var lf=new Zl(Pu);function ff(){return lf}var hf=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,df.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(al.min(),r,ff(),ef(),cf())},t}(),df=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Xu.EMPTY_BYTE_STRING,n,cf(),cf(),cf())},t}(),pf=function(t,e,n,r){this.C=t,this.removedTargetIds=e,this.key=n,this.N=r},vf=function(t,e){this.targetId=t,this.$=e},yf=function(t,e,n,r){void 0===n&&(n=Xu.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},gf=function(){function t(){this.F=0,this.O=wf(),this.k=Xu.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),t.prototype.U=function(t){t.approximateByteSize()>0&&(this.L=!0,this.k=t)},t.prototype.K=function(){var t=cf(),e=cf(),n=cf();return this.O.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Au()}}),new df(this.k,this.M,t,e,n)},t.prototype.W=function(){this.L=!1,this.O=wf()},t.prototype.j=function(t,e){this.L=!0,this.O=this.O.insert(t,e)},t.prototype.G=function(t){this.L=!0,this.O=this.O.remove(t)},t.prototype.H=function(){this.F+=1},t.prototype.J=function(){this.F-=1},t.prototype.Y=function(){this.L=!0,this.M=!0},t}(),mf=function(){function t(t){this.X=t,this.Z=new Map,this.tt=ef(),this.et=bf(),this.nt=new Zl(Pu)}return t.prototype.st=function(t){for(var e=0,n=t.C;e<n.length;e++){var r=n[e];t.N instanceof wc?this.it(r,t.N):t.N instanceof _c&&this.rt(r,t.key,t.N)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.rt(r=o[i],t.key,t.N)},t.prototype.ot=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ct(n);switch(t.state){case 0:e.at(n)&&r.U(t.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(t.resumeToken);break;case 2:r.J(),r.B||e.removeTarget(n);break;case 3:e.at(n)&&(r.Y(),r.U(t.resumeToken));break;case 4:e.at(n)&&(e.ut(n),r.U(t.resumeToken));break;default:Au()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Z.forEach(function(t,r){n.at(r)&&e(r)})},t.prototype.ht=function(t){var e=t.targetId,n=t.$.count,r=this.lt(e);if(r){var i=r.target;if(Ic(i))if(0===n){var o=new Ju(i.path);this.rt(e,o,new _c(o,al.min()))}else ju(1===n);else this.ft(e)!==n&&(this.ut(e),this.nt=this.nt.add(e))}},t.prototype.dt=function(t){var e=this,n=new Map;this.Z.forEach(function(r,i){var o=e.lt(i);if(o){if(r.current&&Ic(o.target)){var a=new Ju(o.target.path);null!==e.tt.get(a)||e.wt(i,a)||e.rt(i,a,new _c(a,t))}r.q&&(n.set(i,r.K()),r.W())}});var r=cf();this.et.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.lt(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new hf(t,n,this.nt,this.tt,r);return this.tt=ef(),this.et=bf(),this.nt=new Zl(Pu),i},t.prototype.it=function(t,e){if(this.at(t)){var n=this.wt(t,e.key)?2:0;this.ct(t).j(e.key,n),this.tt=this.tt.insert(e.key,e),this.et=this.et.insert(e.key,this._t(e.key).add(t))}},t.prototype.rt=function(t,e,n){if(this.at(t)){var r=this.ct(t);this.wt(t,e)?r.j(e,1):r.G(e),this.et=this.et.insert(e,this._t(e).delete(t)),n&&(this.tt=this.tt.insert(e,n))}},t.prototype.removeTarget=function(t){this.Z.delete(t)},t.prototype.ft=function(t){var e=this.ct(t).K();return this.X.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.H=function(t){this.ct(t).H()},t.prototype.ct=function(t){var e=this.Z.get(t);return e||(e=new gf,this.Z.set(t,e)),e},t.prototype._t=function(t){var e=this.et.get(t);return e||(e=new Zl(Pu),this.et=this.et.insert(t,e)),e},t.prototype.at=function(t){var e=null!==this.lt(t);return e||Tu("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.lt=function(t){var e=this.Z.get(t);return e&&e.B?null:this.X.yt(t)},t.prototype.ut=function(t){var e=this;this.Z.set(t,new gf),this.X.getRemoteKeysForTarget(t).forEach(function(n){e.rt(t,n,null)})},t.prototype.wt=function(t,e){return this.X.getRemoteKeysForTarget(t).has(e)},t}();function bf(){return new Ql(Ju.comparator)}function wf(){return new Ql(Ju.comparator)}var _f={asc:"ASCENDING",desc:"DESCENDING"},kf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ef=function(t,e){this.databaseId=t,this.V=e};function Of(t,e){return t.V?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sf(t,e){return t.V?e.toBase64():e.toUint8Array()}function Tf(t,e){return Of(t,e.toTimestamp())}function If(t){return ju(!!t),al.fromTimestamp(function(t){var e=$u(t);return new nc(e.seconds,e.nanos)}(t))}function Cf(t,e){return function(t){return new Wu(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function xf(t){var e=Wu.fromString(t);return ju($f(e)),e}function Af(t,e){return Cf(t.databaseId,e.path)}function jf(t,e){var n=xf(e);if(n.get(1)!==t.databaseId.projectId)throw new Gu(zu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Gu(zu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ju(Pf(n))}function Nf(t,e){return Cf(t.databaseId,e)}function Rf(t){var e=xf(t);return 4===e.length?Wu.emptyPath():Pf(e)}function Df(t){return new Wu(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Pf(t){return ju(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Lf(t,e,n){return{name:Af(t,e),fields:n.proto.mapValue.fields}}function Mf(t,e,n){var r=jf(t,e.name),i=If(e.updateTime),o=new ul({mapValue:{fields:e.fields}});return new wc(r,i,o,{hasCommittedMutations:!!n})}function Ff(t,e){var n;if(e instanceof Ll)n={update:Lf(t,e.key,e.value)};else if(e instanceof zl)n={delete:Af(t,e.key)};else if(e instanceof Ml)n={update:Lf(t,e.key,e.data),updateMask:Zf(e.fieldMask)};else{if(!(e instanceof Gl))return Au();n={verify:Af(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof ml)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof bl)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _l)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof El)return{fieldPath:e.field.canonicalString(),increment:n.S};throw Au()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Tf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Au()}(t,e.precondition)),n}function Uf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Cl.updateTime(If(t.updateTime)):void 0!==t.exists?Cl.exists(t.exists):Cl.none()}(e.currentDocument):Cl.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(ju("REQUEST_TIME"===e.setToServerValue),n=new ml):"appendMissingElements"in e?n=new bl(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new _l(e.removeAllFromArray.values||[]):"increment"in e?n=new El(t,e.increment):Au();var r=Qu.fromServerFormat(e.fieldPath);return new Tl(r,n)}(t,e)}):[];if(e.update){var i=jf(t,e.update.name),o=new ul({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new sl((t.fieldPaths||[]).map(function(t){return Qu.fromServerFormat(t)}))}(e.updateMask);return new Ml(i,o,a,n,r)}return new Ll(i,o,n,r)}if(e.delete){var s=jf(t,e.delete);return new zl(s,n)}if(e.verify){var u=jf(t,e.verify);return new Gl(u,n)}return Au()}function Vf(t,e){return{documents:[Nf(t,e.path)]}}function qf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Nf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Nf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(gc(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NAN"}};if(yc(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(gc(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NOT_NAN"}};if(yc(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yf(t.field),op:Wf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Yf(t.field),direction:Kf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.V||qu(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=zf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=zf(e.endAt)),n}function Bf(t){var e=Rf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ju(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=Hf(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(t){return function(t){return new Uc(Qf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return qu(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Gf(n.startAt));var l=null;return n.endAt&&(l=Gf(n.endAt)),zc(e,i,s,a,u,"F",c,l)}function Hf(t){return t?void 0!==t.unaryFilter?[Xf(t)]:void 0!==t.fieldFilter?[Jf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Hf(t)}).reduce(function(t,e){return t.concat(e)}):Au():[]}function zf(t){return{before:t.before,values:t.position}}function Gf(t){return new Mc(t.values||[],!!t.before)}function Kf(t){return _f[t]}function Wf(t){return kf[t]}function Yf(t){return{fieldPath:t.canonicalString()}}function Qf(t){return Qu.fromServerFormat(t.fieldPath)}function Jf(t){return Cc.create(Qf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Au()}}(t.fieldFilter.op),t.fieldFilter.value)}function Xf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Qf(t.unaryFilter.field);return Cc.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Qf(t.unaryFilter.field);return Cc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Qf(t.unaryFilter.field);return Cc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Qf(t.unaryFilter.field);return Cc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Au()}}function Zf(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function $f(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function th(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=nh(e)),e=eh(t.get(n),e);return nh(e)}function eh(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function nh(t){return t+"\x01\x01"}function rh(t){var e=t.length;if(ju(e>=2),2===e)return ju("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Wu.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&Au(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Au()}o=a+2}return new Wu(r)}var ih=function(t,e){this.seconds=t,this.nanoseconds=e},oh=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};oh.store="owner",oh.key="owner";var ah=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ah.store="mutationQueues",ah.keyPath="userId";var sh=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};sh.store="mutations",sh.keyPath="batchId",sh.userMutationsIndex="userMutationsIndex",sh.userMutationsKeyPath=["userId","batchId"];var uh=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,th(e)]},t.key=function(t,e,n){return[t,th(e),n]},t}();uh.store="documentMutations",uh.PLACEHOLDER=new uh;var ch=function(t,e){this.path=t,this.readTime=e},lh=function(t,e){this.path=t,this.version=e},fh=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};fh.store="remoteDocuments",fh.readTimeIndex="readTimeIndex",fh.readTimeIndexPath="readTime",fh.collectionReadTimeIndex="collectionReadTimeIndex",fh.collectionReadTimeIndexPath=["parentPath","readTime"];var hh=function(t){this.byteSize=t};hh.store="remoteDocumentGlobal",hh.key="remoteDocumentGlobalKey";var dh=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};dh.store="targets",dh.keyPath="targetId",dh.queryTargetsIndexName="queryTargetsIndex",dh.queryTargetsKeyPath=["canonicalId","targetId"];var ph=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ph.store="targetDocuments",ph.keyPath=["targetId","path"],ph.documentTargetsIndex="documentTargetsIndex",ph.documentTargetsKeyPath=["path","targetId"];var vh=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};vh.key="targetGlobalKey",vh.store="targetGlobal";var yh=function(t,e){this.collectionId=t,this.parent=e};yh.store="collectionParents",yh.keyPath=["collectionId","parent"];var gh=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};gh.store="clientMetadata",gh.keyPath="clientId";var mh=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};mh.store="bundles",mh.keyPath="bundleId";var bh=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};bh.store="namedQueries",bh.keyPath="name";var wh=Object(ku.f)(Object(ku.f)([],Object(ku.f)(Object(ku.f)([],Object(ku.f)(Object(ku.f)([],Object(ku.f)(Object(ku.f)([],[ah.store,sh.store,uh.store,fh.store,dh.store,oh.store,vh.store,ph.store]),[gh.store])),[hh.store])),[yh.store])),[mh.store,bh.store]),_h="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kh=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Eh=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Oh=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Au(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Sh=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.gt=new Eh,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){e.error?n.gt.reject(new Ch(t,e.error)):n.gt.resolve()},this.transaction.onerror=function(e){var r=Rh(e.target.error);n.gt.reject(new Ch(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Ch(n,e)}},Object.defineProperty(t.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.gt.reject(t),this.aborted||(Tu("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Ah(e)},t}(),Th=function(){function t(e,n,r){this.name=e,this.version=n,this.Tt=r,12.2===t.It(Object(bi.g)())&&Iu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Tu("SimpleDb","Removing database:",t),jh(window.indexedDB.deleteDatabase(t)).toPromise()},t.At=function(){if("undefined"==typeof indexedDB)return!1;if(t.Rt())return!0;var e=Object(bi.g)(),n=t.It(e),r=0<n&&n<10,i=t.bt(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Rt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.vt)},t.Pt=function(t,e){return t.store(e)},t.It=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.bt=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Vt=function(t){return Object(ku.b)(this,void 0,void 0,function(){var e,n=this;return Object(ku.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Tu("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Ch(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Gu(zu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Ch(t,n))},i.onupgradeneeded=function(t){Tu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Tt.St(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Tu("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(t){return n.Dt(t)}),this.db)]}})})},t.prototype.Ct=function(t){this.Dt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(ku.b)(this,void 0,void 0,function(){var i,o,a,s,u;return Object(ku.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return Object(ku.d)(this,function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.Vt(t)];case 2:return s.db=f.sent(),e=Sh.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch(function(t){return e.abort(t),Oh.reject(t)}).toPromise(),u={},a.catch(function(){}),[4,e.Et];case 3:return[2,(u.value=(f.sent(),a),u)];case 4:return Tu("SimpleDb","Transaction failed with error:",(c=f.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ih=function(){function t(t){this.xt=t,this.Nt=!1,this.$t=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.xt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Nt=!0},t.prototype.Ot=function(t){this.$t=t},t.prototype.delete=function(){return jh(this.xt.delete())},t}(),Ch=function(t){function e(e,n){var r=this;return(r=t.call(this,zu.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(ku.c)(e,t),e}(Gu);function xh(t){return"IndexedDbTransactionError"===t.name}var Ah=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Tu("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Tu("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),jh(n)},t.prototype.add=function(t){return Tu("SimpleDb","ADD",this.store.name,t,t),jh(this.store.add(t))},t.prototype.get=function(t){var e=this;return jh(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Tu("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Tu("SimpleDb","DELETE",this.store.name,t),jh(this.store.delete(t))},t.prototype.count=function(){return Tu("SimpleDb","COUNT",this.store.name),jh(this.store.count())},t.prototype.kt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Mt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Lt=function(t,e){Tu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,function(t,e,n){return n.delete()})},t.prototype.qt=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Mt(r,e)},t.prototype.Ut=function(t){var e=this.cursor({});return new Oh(function(n,r){e.onerror=function(t){var e=Rh(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.Mt=function(t,e){var n=[];return new Oh(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Ih(i),a=e(i.primaryKey,i.value,o);if(a instanceof Oh){var s=a.catch(function(t){return o.done(),Oh.reject(t)});n.push(s)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}else r()}}).next(function(){return Oh.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Bt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function jh(t){return new Oh(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Rh(t.target.error);n(e)}})}var Nh=!1;function Rh(t){var e=Th.It(Object(bi.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Gu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Nh||(Nh=!0,setTimeout(function(){throw r},0)),r}}return t}var Dh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.currentSequenceNumber=n,r}return Object(ku.c)(e,t),e}(kh);function Ph(t,e){var n=Nu(t);return Th.Pt(n.Qt,e)}var Lh=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=jl(o,e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=Nl(a,e,this.localWriteTime));for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(t)&&(e=Nl(a,e,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},cf())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Lu(this.mutations,t.mutations,function(t,e){return Dl(t,e)})&&Lu(this.baseMutations,t.baseMutations,function(t,e){return Dl(t,e)})},t}(),Mh=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){ju(e.mutations.length===r.length);for(var i=sf(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Fh=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=al.min()),void 0===o&&(o=al.min()),void 0===a&&(a=Xu.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Uh=function(t){this.Kt=t};function Vh(t,e){if(e.document)return Mf(t.Kt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ju.fromSegments(e.noDocument.path),r=Gh(e.noDocument.readTime);return new _c(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Ju.fromSegments(e.unknownDocument.path);return r=Gh(e.unknownDocument.version),new kc(i,r)}return Au()}function qh(t,e,n){var r=Bh(n),i=e.key.path.popLast().toArray();if(e instanceof wc){var o=function(t,e){return{name:Af(t,e.key),fields:e.toProto().mapValue.fields,updateTime:Of(t,e.version.toTimestamp())}}(t.Kt,e),a=e.hasCommittedMutations;return new fh(null,null,o,a,r,i)}if(e instanceof _c){var s=e.key.path.toArray(),u=zh(e.version);return a=e.hasCommittedMutations,new fh(null,new ch(s,u),null,a,r,i)}if(e instanceof kc){var c=e.key.path.toArray(),l=zh(e.version);return new fh(new lh(c,l),null,null,!0,r,i)}return Au()}function Bh(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Hh(t){var e=new nc(t[0],t[1]);return al.fromTimestamp(e)}function zh(t){var e=t.toTimestamp();return new ih(e.seconds,e.nanoseconds)}function Gh(t){var e=new nc(t.seconds,t.nanoseconds);return al.fromTimestamp(e)}function Kh(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Uf(t.Kt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Uf(t.Kt,e)}),o=nc.fromMillis(e.localWriteTimeMs);return new Lh(e.batchId,o,n,i)}function Wh(t){var e,n,r=Gh(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Gh(t.lastLimboFreeSnapshotVersion):al.min();return void 0!==t.query.documents?(ju(1===(n=t.query).documents.length),e=Zc(Gc(Rf(n.documents[0])))):e=function(t){return Zc(Bf(t))}(t.query),new Fh(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Xu.fromBase64String(t.resumeToken))}function Yh(t,e){var n,r=zh(e.snapshotVersion),i=zh(e.lastLimboFreeSnapshotVersion);n=Ic(e.target)?Vf(t.Kt,e.target):qf(t.Kt,e.target);var o=e.resumeToken.toBase64();return new dh(e.targetId,Sc(e.target),r,o,e.sequenceNumber,i,n)}function Qh(t){var e=Bf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?$c(e,e.limit,"L"):e}var Jh=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Xh(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Gh(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Xh(t).put({bundleId:(n=e).id,createTime:zh(If(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Zh(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Qh(e.bundledQuery),readTime:Gh(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Zh(t).put(function(t){return{name:t.name,readTime:zh(If(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Xh(t){return Ph(t,mh.store)}function Zh(t){return Ph(t,bh.store)}var $h=function(){function t(){this.Wt=new td}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Wt.add(e),Oh.resolve()},t.prototype.getCollectionParents=function(t,e){return Oh.resolve(this.Wt.getEntries(e))},t}(),td=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Zl(Wu.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Zl(Wu.comparator)).toArray()},t}(),ed=function(){function t(){this.jt=new td}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.jt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.jt.add(e)});var o={collectionId:r,parent:th(i)};return nd(t).put(o)}return Oh.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Mu(e),""],!1,!0);return nd(t).kt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(rh(o.parent))}return n})},t}();function nd(t){return Ph(t,yh.store)}var rd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},id=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function od(t,e,n){var r=t.store(sh.store),i=t.store(uh.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.qt({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){ju(1===s)}));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=uh.key(e,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return Oh.waitFor(o).next(function(){return c})}function ad(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Au();e=t.noDocument}return JSON.stringify(e).length}id.DEFAULT_COLLECTION_PERCENTILE=10,id.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,id.DEFAULT=new id(41943040,id.DEFAULT_COLLECTION_PERCENTILE,id.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),id.DISABLED=new id(-1,0,0);var sd=function(){function t(t,e,n,r){this.userId=t,this.D=e,this.Gt=n,this.referenceDelegate=r,this.zt={}}return t.Ht=function(e,n,r,i){return ju(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cd(t).qt({index:sh.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=ld(t),a=cd(t);return a.add({}).next(function(s){ju("number"==typeof s);for(var u=new Lh(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Ff(t.Kt,e)}),i=n.mutations.map(function(e){return Ff(t.Kt,e)});return new sh(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,u),l=[],f=new Zl(function(t,e){return Pu(t.canonicalString(),e.canonicalString())}),h=0,d=r;h<d.length;h++){var p=d[h],v=uh.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,uh.PLACEHOLDER))}return f.forEach(function(e){l.push(i.Gt.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.zt[s]=u.keys()}),Oh.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return cd(t).get(e).next(function(t){return t?(ju(t.userId===n.userId),Kh(n.D,t)):null})},t.prototype.Jt=function(t,e){var n=this;return this.zt[e]?Oh.resolve(this.zt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.zt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return cd(t).qt({index:sh.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(ju(e.batchId>=r),o=Kh(n.D,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return cd(t).qt({index:sh.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cd(t).kt(sh.userMutationsIndex,n).next(function(t){return t.map(function(t){return Kh(e.D,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=uh.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return ld(t).qt({range:i},function(r,i,a){var s=r[0],u=r[2],c=rh(r[1]);if(s===n.userId&&e.path.isEqual(c))return cd(t).get(u).next(function(t){if(!t)throw Au();ju(t.userId===n.userId),o.push(Kh(n.D,t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Zl(Pu),i=[];return e.forEach(function(e){var o=uh.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=ld(t).qt({range:a},function(t,i,o){var a=t[0],s=t[2],u=rh(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()});i.push(s)}),Oh.waitFor(i).next(function(){return n.Yt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=uh.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Zl(Pu);return ld(t).qt({range:a},function(t,e,o){var a=t[0],u=t[2],c=rh(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()}).next(function(){return n.Yt(t,s)})},t.prototype.Yt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(cd(t).get(e).next(function(t){if(null===t)throw Au();ju(t.userId===n.userId),r.push(Kh(n.D,t))}))}),Oh.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return od(t.Qt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Xt(e.batchId)}),Oh.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Xt=function(t){delete this.zt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Oh.resolve();var r=IDBKeyRange.lowerBound(uh.prefixForUser(e.userId)),i=[];return ld(t).qt({range:r},function(t,n,r){if(t[0]===e.userId){var o=rh(t[1]);i.push(o)}else r.done()}).next(function(){ju(0===i.length)})})},t.prototype.containsKey=function(t,e){return ud(t,this.userId,e)},t.prototype.Zt=function(t){var e=this;return fd(t).get(this.userId).next(function(t){return t||new ah(e.userId,-1,"")})},t}();function ud(t,e,n){var r=uh.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return ld(t).qt({range:o,Bt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})}function cd(t){return Ph(t,sh.store)}function ld(t){return Ph(t,uh.store)}function fd(t){return Ph(t,ah.store)}var hd=function(){function t(t){this.te=t}return t.prototype.next=function(){return this.te+=2,this.te},t.ee=function(){return new t(0)},t.ne=function(){return new t(-1)},t}(),dd=function(){function t(t,e){this.referenceDelegate=t,this.D=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.se(t).next(function(n){var r=new hd(n.highestTargetId);return n.highestTargetId=r.next(),e.ie(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.se(t).next(function(t){return al.fromTimestamp(new nc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.se(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.se(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.ie(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.re(t,e).next(function(){return n.se(t).next(function(r){return r.targetCount+=1,n.oe(e,r),n.ie(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.re(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return pd(t).delete(e.targetId)}).next(function(){return n.se(t)}).next(function(e){return ju(e.targetCount>0),e.targetCount-=1,n.ie(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return pd(t).qt(function(a,s){var u=Wh(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Oh.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return pd(t).qt(function(t,n){var r=Wh(n);e(r)})},t.prototype.se=function(t){return vd(t).get(vh.key).next(function(t){return ju(null!==t),t})},t.prototype.ie=function(t,e){return vd(t).put(vh.key,e)},t.prototype.re=function(t,e){return pd(t).put(Yh(this.D,e))},t.prototype.oe=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.se(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Sc(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return pd(t).qt({range:r,index:dh.queryTargetsIndexName},function(t,n,r){var o=Wh(n);Tc(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=yd(t);return e.forEach(function(e){var a=th(e.path);i.push(o.put(new ph(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))}),Oh.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=yd(t);return Oh.forEach(e,function(e){var o=th(e.path);return Oh.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=yd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=yd(t),i=cf();return r.qt({range:n,Bt:!0},function(t,e,n){var r=rh(t[1]),o=new Ju(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=th(e.path),r=IDBKeyRange.bound([n],[Mu(n)],!1,!0),i=0;return yd(t).qt({index:ph.documentTargetsIndex,Bt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.yt=function(t,e){return pd(t).get(e).next(function(t){return t?Wh(t):null})},t}();function pd(t){return Ph(t,dh.store)}function vd(t){return Ph(t,vh.store)}function yd(t){return Ph(t,ph.store)}function gd(t){return Object(ku.b)(this,void 0,void 0,function(){return Object(ku.d)(this,function(e){if(t.code!==zu.FAILED_PRECONDITION||t.message!==_h)throw t;return Tu("LocalStore","Unexpectedly lost primary lease"),[2]})})}function md(t,e){var n=t[1],r=e[1],i=Pu(t[0],e[0]);return 0===i?Pu(n,r):i}var bd=function(){function t(t){this.ce=t,this.buffer=new Zl(md),this.ae=0}return t.prototype.ue=function(){return++this.ae},t.prototype.he=function(t){var e=[t,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();md(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),wd=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.le=!1,this.fe=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(t)},t.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),t.prototype.de=function(t){var e=this,n=this.le?3e5:6e4;Tu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(ku.b)(e,void 0,void 0,function(){var e;return Object(ku.d)(this,function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return xh(e=n.sent())?(Tu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,gd(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(t)];case 8:return n.sent(),[2]}})})})},t}(),_d=function(){function t(t,e){this.we=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.we._e(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Oh.resolve(Eu.o);var r=new bd(e);return this.we.forEachTarget(t,function(t){return r.he(t.sequenceNumber)}).next(function(){return n.we.me(t,function(t){return r.he(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.we.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.we.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Tu("LruGarbageCollector","Garbage collection skipped; disabled"),Oh.resolve(rd)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Tu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),rd):n.ye(t,e)})},t.prototype.getCacheSize=function(t){return this.we.getCacheSize(t)},t.prototype.ye=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Tu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Su()<=mi.a.DEBUG&&Tu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Oh.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),kd=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new _d(t,e)}(this,e)}return t.prototype._e=function(t){var e=this.ge(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.ge=function(t){var e=0;return this.me(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.me=function(t,e){return this.pe(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Ed(t,n)},t.prototype.removeReference=function(t,e,n){return Ed(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Ed(t,e)},t.prototype.Ee=function(t,e){return function(t,e){var n=!1;return fd(t).Ut(function(r){return ud(t,r,e).next(function(t){return t&&(n=!0),Oh.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.pe(t,function(a,s){if(s<=e){var u=n.Ee(t,a).next(function(e){if(!e)return o++,r.getEntry(t,a).next(function(){return r.removeEntry(a),yd(t).delete([0,th(a.path)])})});i.push(u)}}).next(function(){return Oh.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Ed(t,e)},t.prototype.pe=function(t,e){var n,r=yd(t),i=Eu.o;return r.qt({index:ph.documentTargetsIndex},function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==Eu.o&&e(new Ju(rh(n)),i),i=a,n=o):i=Eu.o}).next(function(){i!==Eu.o&&e(new Ju(rh(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Ed(t,e){return yd(t).put(function(t,e){return new ph(0,th(t.path),e)}(e,t.currentSequenceNumber))}var Od=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Uu(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Vu(this.inner)},t}(),Sd=function(){function t(){this.changes=new Od(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:al.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{maybeDocument:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{maybeDocument:null,readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Oh.resolve(n.maybeDocument):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Td=function(){function t(t,e){this.D=t,this.Gt=e}return t.prototype.addEntry=function(t,e,n){return xd(t).put(Ad(e),n)},t.prototype.removeEntry=function(t,e){var n=xd(t),r=Ad(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Te(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return xd(t).get(Ad(e)).next(function(t){return n.Ie(t)})},t.prototype.Ae=function(t,e){var n=this;return xd(t).get(Ad(e)).next(function(t){var e=n.Ie(t);return e?{maybeDocument:e,size:ad(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=nf();return this.Re(t,e,function(t,e){var i=n.Ie(e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.be=function(t,e){var n=this,r=nf(),i=new Ql(Ju.comparator);return this.Re(t,e,function(t,e){var o=n.Ie(e);o?(r=r.insert(t,o),i=i.insert(t,ad(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{ve:r,Pe:i}})},t.prototype.Re=function(t,e,n){if(e.isEmpty())return Oh.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return xd(t).qt({range:r},function(t,e,r){for(var a=Ju.fromSegments(t);o&&Ju.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ot(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=of(),o=e.path.length+1,a={};if(n.isEqual(al.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=Bh(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=fh.collectionReadTimeIndex}return xd(t).qt(a,function(t,n,a){if(t.length===o){var s=Vh(r.D,n);e.path.isPrefixOf(s.key.path)?s instanceof wc&&rl(e,s)&&(i=i.insert(s.key,s)):a.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Id(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Cd(t).get(hh.key).next(function(t){return ju(!!t),t})},t.prototype.Te=function(t,e){return Cd(t).put(hh.key,e)},t.prototype.Ie=function(t){if(t){var e=Vh(this.D,t);return e instanceof _c&&e.version.isEqual(al.min())?null:e}return null},t}(),Id=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ve=e,r.trackRemovals=n,r.Se=new Od(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(ku.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Zl(function(t,e){return Pu(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,a){var s=e.Se.get(o);if(a.maybeDocument){var u=qh(e.Ve.D,a.maybeDocument,e.getReadTime(o));i=i.add(o.path.popLast());var c=ad(u);r+=c-s,n.push(e.Ve.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=qh(e.Ve.D,new _c(o,al.min()),e.getReadTime(o));n.push(e.Ve.addEntry(t,o,l))}else n.push(e.Ve.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ve.Gt.addToCollectionParentIndex(t,r))}),n.push(this.Ve.updateMetadata(t,r)),Oh.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ve.Ae(t,e).next(function(t){return null===t?(n.Se.set(e,0),null):(n.Se.set(e,t.size),t.maybeDocument)})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ve.be(t,e).next(function(t){var e=t.ve;return t.Pe.forEach(function(t,e){n.Se.set(t,e)}),e})},e}(Sd);function Cd(t){return Ph(t,hh.store)}function xd(t){return Ph(t,fh.store)}function Ad(t){return t.path.toArray()}var jd=function(){function t(t){this.D=t}return t.prototype.St=function(t,e,n,r){var i=this;ju(n<r&&n>=0&&r<=11);var o=new Sh("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(oh.store)}(t),function(t){t.createObjectStore(ah.store,{keyPath:ah.keyPath}),t.createObjectStore(sh.store,{keyPath:sh.keyPath,autoIncrement:!0}).createIndex(sh.userMutationsIndex,sh.userMutationsKeyPath,{unique:!0}),t.createObjectStore(uh.store)}(t),Nd(t),function(t){t.createObjectStore(fh.store)}(t));var a=Oh.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ph.store),t.deleteObjectStore(dh.store),t.deleteObjectStore(vh.store)}(t),Nd(t)),a=a.next(function(){return function(t){var e=t.store(vh.store),n=new vh(0,0,al.min().toTimestamp(),0);return e.put(vh.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(sh.store).kt().next(function(n){t.deleteObjectStore(sh.store),t.createObjectStore(sh.store,{keyPath:sh.keyPath,autoIncrement:!0}).createIndex(sh.userMutationsIndex,sh.userMutationsKeyPath,{unique:!0});var r=e.store(sh.store),i=n.map(function(t){return r.put(t)});return Oh.waitFor(i)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore(gh.store,{keyPath:gh.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return i.De(o)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(hh.store)}(t),i.Ce(o)})),n<7&&r>=7&&(a=a.next(function(){return i.xe(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Ne(t,o)})),n<9&&r>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(fh.store);e.createIndex(fh.readTimeIndex,fh.readTimeIndexPath,{unique:!1}),e.createIndex(fh.collectionReadTimeIndex,fh.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(a=a.next(function(){return i.$e(o)})),n<11&&r>=11&&(a=a.next(function(){!function(t){t.createObjectStore(mh.store,{keyPath:mh.keyPath})}(t),function(t){t.createObjectStore(bh.store,{keyPath:bh.keyPath})}(t)})),a},t.prototype.Ce=function(t){var e=0;return t.store(fh.store).qt(function(t,n){e+=ad(n)}).next(function(){var n=new hh(e);return t.store(hh.store).put(hh.key,n)})},t.prototype.De=function(t){var e=this,n=t.store(ah.store),r=t.store(sh.store);return n.kt().next(function(n){return Oh.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(sh.userMutationsIndex,i).next(function(r){return Oh.forEach(r,function(r){ju(r.userId===n.userId);var i=Kh(e.D,r);return od(t,n.userId,i).next(function(){})})})})})},t.prototype.xe=function(t){var e=t.store(ph.store),n=t.store(fh.store);return t.store(vh.store).get(vh.key).next(function(t){var r=[];return n.qt(function(n,i){var o=new Wu(n),a=function(t){return[0,th(t)]}(o);r.push(e.get(a).next(function(n){return n?Oh.resolve():function(n){return e.put(new ph(0,th(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Oh.waitFor(r)})})},t.prototype.Ne=function(t,e){t.createObjectStore(yh.store,{keyPath:yh.keyPath});var n=e.store(yh.store),r=new td,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:th(i)})}};return e.store(fh.store).qt({Bt:!0},function(t,e){var n=new Wu(t);return i(n.popLast())}).next(function(){return e.store(uh.store).qt({Bt:!0},function(t,e){var n=rh(t[1]);return i(n.popLast())})})},t.prototype.$e=function(t){var e=this,n=t.store(dh.store);return n.qt(function(t,r){var i=Wh(r),o=Yh(e.D,i);return n.put(o)})},t}();function Nd(t){t.createObjectStore(ph.store,{keyPath:ph.keyPath}).createIndex(ph.documentTargetsIndex,ph.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(dh.store,{keyPath:dh.keyPath}).createIndex(dh.queryTargetsIndexName,dh.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(vh.store)}var Rd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Dd=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fe=o,this.window=a,this.document=s,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(t){return Promise.resolve()},!t.At())throw new Gu(zu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kd(this,i),this.We=n+"main",this.D=new Uh(u),this.je=new Th(this.We,11,new jd(this.D)),this.Ge=new dd(this.referenceDelegate,this.D),this.Gt=new ed,this.ze=function(t,e){return new Td(t,e)}(this.D,this.Gt),this.He=new Jh,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&Iu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Ye().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Gu(zu.FAILED_PRECONDITION,Rd);return t.Xe(),t.Ze(),t.tn(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Ge.getHighestSequenceNumber(e)})}).then(function(e){t.Me=new Eu(e,t.Oe)}).then(function(){t.Le=!0}).catch(function(e){return t.je&&t.je.close(),Promise.reject(e)})},t.prototype.en=function(t){var e=this;return this.Ke=function(n){return Object(ku.b)(e,void 0,void 0,function(){return Object(ku.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.je.Ct(function(n){return Object(ku.b)(e,void 0,void 0,function(){return Object(ku.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Fe.enqueueAndForget(function(){return Object(ku.b)(e,void 0,void 0,function(){return Object(ku.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Ye=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Ld(e).put(new gh(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.nn(e).next(function(e){e||(t.isPrimary=!1,t.Fe.enqueueRetryable(function(){return t.Ke(!1)}))})}).next(function(){return t.sn(e)}).next(function(n){return t.isPrimary&&!n?t.rn(e).next(function(){return!1}):!!n&&t.on(e).next(function(){return!0})})}).catch(function(e){if(xh(e))return Tu("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Tu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Fe.enqueueRetryable(function(){return t.Ke(e)}),t.isPrimary=e})},t.prototype.nn=function(t){var e=this;return Pd(t).get(oh.key).next(function(t){return Oh.resolve(e.cn(t))})},t.prototype.an=function(t){return Ld(t).delete(this.clientId)},t.prototype.un=function(){return Object(ku.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(ku.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Ph(t,gh.store);return e.kt().next(function(t){var n=r.ln(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Oh.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Je)for(e=0,n=t;e<n.length;e++)this.Je.removeItem(this.fn(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.tn=function(){var t=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.Ye().then(function(){return t.un()}).then(function(){return t.tn()})})},t.prototype.cn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sn=function(t){var e=this;return this.ke?Oh.resolve(!0):Pd(t).get(oh.key).next(function(n){if(null!==n&&e.hn(n.leaseTimestampMs,5e3)&&!e.dn(n.ownerId)){if(e.cn(n)&&e.networkEnabled)return!0;if(!e.cn(n)){if(!n.allowTabSynchronization)throw new Gu(zu.FAILED_PRECONDITION,Rd);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ld(t).kt().next(function(t){return void 0===e.ln(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Tu("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(ku.b)(this,void 0,void 0,function(){var t=this;return Object(ku.d)(this,function(e){switch(e.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[oh.store,gh.store],function(e){var n=new Dh(e,Eu.o);return t.rn(n).next(function(){return t.an(n)})})];case 1:return e.sent(),this.je.close(),this.yn(),[2]}})})},t.prototype.ln=function(t,e){var n=this;return t.filter(function(t){return n.hn(t.updateTimeMs,e)&&!n.dn(t.clientId)})},t.prototype.gn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Ld(e).kt().next(function(e){return t.ln(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return sd.Ht(t,this.D,this.Gt,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Tu("IndexedDbPersistence","Starting transaction:",t),this.je.runTransaction(t,"readonly"===e?"readonly":"readwrite",wh,function(o){return r=new Dh(o,i.Me?i.Me.next():Eu.o),"readwrite-primary"===e?i.nn(r).next(function(t){return!!t||i.sn(r)}).next(function(e){if(!e)throw Iu("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Fe.enqueueRetryable(function(){return i.Ke(!1)}),new Gu(zu.FAILED_PRECONDITION,_h);return n(r)}).next(function(t){return i.on(r).next(function(){return t})}):i.pn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.pn=function(t){var e=this;return Pd(t).get(oh.key).next(function(t){if(null!==t&&e.hn(t.leaseTimestampMs,5e3)&&!e.dn(t.ownerId)&&!e.cn(t)&&!(e.ke||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Gu(zu.FAILED_PRECONDITION,Rd)})},t.prototype.on=function(t){var e=new oh(this.clientId,this.allowTabSynchronization,Date.now());return Pd(t).put(oh.key,e)},t.At=function(){return Th.At()},t.prototype.rn=function(t){var e=this,n=Pd(t);return n.get(oh.key).next(function(t){return e.cn(t)?(Tu("IndexedDbPersistence","Releasing primary lease."),n.delete(oh.key)):Oh.resolve()})},t.prototype.hn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Iu("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xe=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){t.Fe.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.Ye()})},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},t.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},t.prototype.Ze=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Be=function(){e.wn(),e.Fe.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Be))},t.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},t.prototype.dn=function(t){var e;try{var n=null!==(null===(e=this.Je)||void 0===e?void 0:e.getItem(this.fn(t)));return Tu("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Iu("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(t){Iu("Failed to set zombie client id.",t)}},t.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(t){}},t.prototype.fn=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Pd(t){return Ph(t,oh.store)}function Ld(t){return Ph(t,gh.store)}function Md(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Fd=function(t,e){this.progress=t,this.En=e},Ud=function(){function t(t,e,n){this.ze=t,this.Tn=e,this.Gt=n}return t.prototype.In=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.An(t,e,r)})},t.prototype.An=function(t,e,n){return this.ze.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t})},t.prototype.Rn=function(t,e,n){var r=nf();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.bn=function(t,e){var n=this;return this.ze.getEntries(t,e).next(function(e){return n.vn(t,e)})},t.prototype.vn=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.Rn(t,e,r),o=ef();return i.forEach(function(t,e){e||(e=new _c(t,al.min())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Ju.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Pn(t,e.path):Jc(e)?this.Vn(t,e,n):this.Sn(t,e,n)},t.prototype.Pn=function(t,e){return this.In(t,new Ju(e)).next(function(t){var e=of();return t instanceof wc&&(e=e.insert(t.key,t)),e})},t.prototype.Vn=function(t,e,n){var r=this,i=e.collectionGroup,o=of();return this.Gt.getCollectionParents(t,i).next(function(a){return Oh.forEach(a,function(a){var s=function(t,e){return new Hc(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.Sn(t,s,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.Sn=function(t,e,n){var r,i,o=this;return this.ze.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o.Tn.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Dn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=Nl(u,r.get(c),o.localWriteTime);r=l instanceof wc?r.insert(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){rl(e,n)||(r=r.remove(t))}),r})},t.prototype.Dn=function(t,e,n){for(var r=cf(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Ml&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ze.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof wc&&(c=c.insert(t,e))}),c})},t}(),Vd=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Cn=n,this.xn=r}return t.Nn=function(e,n){for(var r=cf(),i=cf(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),qd=function(){function t(){}return t.prototype.$n=function(t){this.Fn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(al.min())?this.On(t,e):this.Fn.bn(t,r).next(function(o){var a=i.kn(e,o);return(Kc(e)||Wc(e))&&i.Mn(e.limitType,a,r,n)?i.On(t,e):(Su()<=mi.a.DEBUG&&Tu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),nl(e)),i.Fn.getDocumentsMatchingQuery(t,e,n).next(function(t){return a.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.kn=function(t,e){var n=new Zl(il(t));return e.forEach(function(e,r){r instanceof wc&&rl(t,r)&&(n=n.add(r))}),n},t.prototype.Mn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.On=function(t,e){return Su()<=mi.a.DEBUG&&Tu("QueryEngine","Using full collection scan to execute query:",nl(e)),this.Fn.getDocumentsMatchingQuery(t,e,al.min())},t}(),Bd=function(){function t(t,e,n,r){this.persistence=t,this.Ln=e,this.D=r,this.Bn=new Ql(Pu),this.qn=new Od(function(t){return Sc(t)},Tc),this.Un=al.min(),this.Tn=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.Ge=t.getTargetCache(),this.Kn=new Ud(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=t.getBundleCache(),this.Ln.$n(this.Kn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Bn)})},t}();function Hd(t,e,n,r){return new Bd(t,e,n,r)}function zd(t,e){return Object(ku.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(ku.d)(this,function(a){switch(a.label){case 0:return n=Nu(t),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Tn.getAllMutationBatches(t).next(function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new Ud(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],a=cf(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++)a=a.add(f[l].key)}for(var h=0,d=e;h<d.length;h++){var p=d[h];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return i.bn(t,a).next(function(t){return{Wn:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=a.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),o)]}})})}function Gd(t,e){var n=Nu(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Oh.resolve();return o.forEach(function(t){a=a.next(function(){return r.getEntry(e,t)}).next(function(e){var o=e,a=n.docVersions.get(t);ju(null!==a),(!o||o.version.compareTo(a)<0)&&(o=i.applyToRemoteDocument(t,o,n))&&r.addEntry(o,n.commitVersion)})}),a.next(function(){return t.Tn.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}function Kd(t){var e=Nu(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Ge.getLastRemoteSnapshotVersion(t)})}function Wd(t,e){var n=Nu(t),r=e.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var a=[];e.targetChanges.forEach(function(e,o){var s=i.get(o);if(s){a.push(n.Ge.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.Ge.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return ju(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.Ge.updateTargetData(t,c))}}});var s=ef();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),a.push(Yd(t,o,e.documentUpdates,r,void 0).next(function(t){s=t})),!r.isEqual(al.min())){var u=n.Ge.getLastRemoteSnapshotVersion(t).next(function(e){return n.Ge.setTargetsMetadata(t,t.currentSequenceNumber,r)});a.push(u)}return Oh.waitFor(a).next(function(){return o.apply(t)}).next(function(){return n.Kn.vn(t,s)})}).then(function(t){return n.Bn=i,t})}function Yd(t,e,n,r,i){var o=cf();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=ef();return n.forEach(function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof _c&&a.version.isEqual(al.min())?(e.removeEntry(n,u),o=o.insert(n,a)):null==s||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Tu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function Qd(t,e){var n=Nu(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Tn.getNextMutationBatchAfterBatchId(t,e)})}function Jd(t,e){var n=Nu(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Ge.getTargetData(t,e).next(function(i){return i?Oh.resolve(r=i):n.Ge.allocateTargetId(t).next(function(i){return r=new Fh(e,i,0,t.currentSequenceNumber),n.Ge.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Bn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(t.targetId,t),n.qn.set(e,t.targetId)),t})}function Xd(t,e,n){return Object(ku.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(ku.d)(this,function(s){switch(s.label){case 0:r=Nu(t),i=r.Bn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!xh(a=s.sent()))throw a;return Tu("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Bn=r.Bn.remove(e),r.qn.delete(i.target),[2]}})})}function Zd(t,e,n){var r=Nu(t),i=al.min(),o=cf();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Nu(t),i=r.qn.get(n);return void 0!==i?Oh.resolve(r.Bn.get(i)):r.Ge.getTargetData(e,n)}(r,t,Zc(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.Ln.getDocumentsMatchingQuery(t,e,n?i:al.min(),n?o:cf())}).next(function(t){return{documents:t,jn:o}})})}function $d(t,e){var n=Nu(t),r=Nu(n.Ge),i=n.Bn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.yt(t,e).next(function(t){return t?t.target:null})})}function tp(t){var e=Nu(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Nu(t),i=ef(),o=Bh(n),a=xd(e),s=IDBKeyRange.lowerBound(o,!0);return a.qt({index:fh.readTimeIndex,range:s},function(t,e){var n=Vh(r.D,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{En:i,readTime:Hh(o)}})}(e.Qn,t,e.Un)}).then(function(t){var n=t.En;return e.Un=t.readTime,n})}function ep(t){return Object(ku.b)(this,void 0,void 0,function(){var e;return Object(ku.d)(this,function(n){return[2,(e=Nu(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=xd(t),n=al.min();return e.qt({index:fh.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Hh(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Un=t})]})})}function np(t,e,n,r){return Object(ku.b)(this,void 0,void 0,function(){var i,o,a,s,u,c,l,f,h,d;return Object(ku.d)(this,function(p){switch(p.label){case 0:for(i=Nu(t),o=cf(),a=ef(),s=sf(),u=0,c=n;u<c.length;u++)f=e.Gn((l=c[u]).metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,e.zn(l)),s=s.insert(f,e.Hn(l.metadata.readTime));return h=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,Jd(i,function(t){return Zc(Gc(Wu.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Yd(t,h,a,al.min(),s).next(function(e){return h.apply(t),e}).next(function(e){return i.Ge.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.Ge.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Kn.vn(t,e)})})})]}})})}function rp(t,e,n){return void 0===n&&(n=cf()),Object(ku.b)(this,void 0,void 0,function(){var r,i;return Object(ku.d)(this,function(o){switch(o.label){case 0:return[4,Jd(t,Zc(Qh(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Nu(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=If(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.He.saveNamedQuery(t,e);var a=r.withResumeToken(Xu.EMPTY_BYTE_STRING,o);return i.Bn=i.Bn.insert(a.targetId,a),i.Ge.updateTargetData(t,a).next(function(){return i.Ge.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.Ge.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.He.saveNamedQuery(t,e)})})]}})})}var ip=function(){function t(t){this.D=t,this.Jn=new Map,this.Yn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Oh.resolve(this.Jn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:If(n.createTime)}),Oh.resolve()},t.prototype.getNamedQuery=function(t,e){return Oh.resolve(this.Yn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:Qh(t.bundledQuery),readTime:If(t.readTime)}}(e)),Oh.resolve()},t}(),op=function(){function t(){this.Xn=new Zl(ap.Zn),this.ts=new Zl(ap.es)}return t.prototype.isEmpty=function(){return this.Xn.isEmpty()},t.prototype.addReference=function(t,e){var n=new ap(t,e);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},t.prototype.ns=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.ss(new ap(t,e))},t.prototype.rs=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.os=function(t){var e=this,n=new Ju(new Wu([])),r=new ap(n,t),i=new ap(n,t+1),o=[];return this.ts.forEachInRange([r,i],function(t){e.ss(t),o.push(t.key)}),o},t.prototype.cs=function(){var t=this;this.Xn.forEach(function(e){return t.ss(e)})},t.prototype.ss=function(t){this.Xn=this.Xn.delete(t),this.ts=this.ts.delete(t)},t.prototype.us=function(t){var e=new Ju(new Wu([])),n=new ap(e,t),r=new ap(e,t+1),i=cf();return this.ts.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new ap(t,0),n=this.Xn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),ap=function(){function t(t,e){this.key=t,this.hs=e}return t.Zn=function(t,e){return Ju.comparator(t.key,e.key)||Pu(t.hs,e.hs)},t.es=function(t,e){return Pu(t.hs,e.hs)||Ju.comparator(t.key,e.key)},t}(),sp=function(){function t(t,e){this.Gt=t,this.referenceDelegate=e,this.Tn=[],this.ls=1,this.fs=new Zl(ap.Zn)}return t.prototype.checkEmpty=function(t){return Oh.resolve(0===this.Tn.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ls;this.ls++;var o=new Lh(i,e,n,r);this.Tn.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.fs=this.fs.add(new ap(u.key,i)),this.Gt.addToCollectionParentIndex(t,u.key.path.popLast())}return Oh.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Oh.resolve(this.ds(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.ws(e+1),r=n<0?0:n;return Oh.resolve(this.Tn.length>r?this.Tn[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Oh.resolve(0===this.Tn.length?-1:this.ls-1)},t.prototype.getAllMutationBatches=function(t){return Oh.resolve(this.Tn.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new ap(e,0),i=new ap(e,Number.POSITIVE_INFINITY),o=[];return this.fs.forEachInRange([r,i],function(t){var e=n.ds(t.hs);o.push(e)}),Oh.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Zl(Pu);return e.forEach(function(t){var e=new ap(t,0),i=new ap(t,Number.POSITIVE_INFINITY);n.fs.forEachInRange([e,i],function(t){r=r.add(t.hs)})}),Oh.resolve(this._s(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Ju.isDocumentKey(i)||(i=i.child(""));var o=new ap(new Ju(i),0),a=new Zl(Pu);return this.fs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.hs)),!0)},o),Oh.resolve(this._s(a))},t.prototype._s=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.ds(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;ju(0===this.ys(e.batchId,"removed")),this.Tn.shift();var r=this.fs;return Oh.forEach(e.mutations,function(i){var o=new ap(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.fs=r})},t.prototype.Xt=function(t){},t.prototype.containsKey=function(t,e){var n=new ap(e,0),r=this.fs.firstAfterOrEqual(n);return Oh.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Oh.resolve()},t.prototype.ys=function(t,e){return this.ws(t)},t.prototype.ws=function(t){return 0===this.Tn.length?0:t-this.Tn[0].batchId},t.prototype.ds=function(t){var e=this.ws(t);return e<0||e>=this.Tn.length?null:this.Tn[e]},t}(),up=function(){function t(t,e){this.Gt=t,this.gs=e,this.docs=new Ql(Ju.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.gs(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:a,readTime:n}),this.size+=a-o,this.Gt.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Oh.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=nf();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),Oh.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=of(),i=new Ju(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,u=s.maybeDocument,c=s.readTime;if(!e.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||u instanceof wc&&rl(e,u)&&(r=r.insert(u.key,u))}return Oh.resolve(r)},t.prototype.ps=function(t,e){return Oh.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new cp(this)},t.prototype.getSize=function(t){return Oh.resolve(this.size)},t}(),cp=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ve=e,n}return Object(ku.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i&&i.maybeDocument?n.push(e.Ve.addEntry(t,i.maybeDocument,e.getReadTime(r))):e.Ve.removeEntry(r)}),Oh.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ve.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ve.getEntries(t,e)},e}(Sd),lp=function(){function t(t){this.persistence=t,this.Es=new Od(function(t){return Sc(t)},Tc),this.lastRemoteSnapshotVersion=al.min(),this.highestTargetId=0,this.Ts=0,this.Is=new op,this.targetCount=0,this.As=hd.ee()}return t.prototype.forEachTarget=function(t,e){return this.Es.forEach(function(t,n){return e(n)}),Oh.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Oh.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Oh.resolve(this.Ts)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.As.next(),Oh.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ts&&(this.Ts=e),Oh.resolve()},t.prototype.re=function(t){this.Es.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.As=new hd(e),this.highestTargetId=e),t.sequenceNumber>this.Ts&&(this.Ts=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.re(e),this.targetCount+=1,Oh.resolve()},t.prototype.updateTargetData=function(t,e){return this.re(e),Oh.resolve()},t.prototype.removeTargetData=function(t,e){return this.Es.delete(e.target),this.Is.os(e.targetId),this.targetCount-=1,Oh.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.Es.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.Es.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),Oh.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Oh.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.Es.get(e)||null;return Oh.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.Is.ns(e,n),Oh.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this.Is.rs(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Oh.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.Is.os(e),Oh.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.Is.us(e);return Oh.resolve(n)},t.prototype.containsKey=function(t,e){return Oh.resolve(this.Is.containsKey(e))},t}(),fp=function(){function t(t,e){var n=this;this.Rs={},this.Me=new Eu(0),this.Le=!1,this.Le=!0,this.referenceDelegate=t(this),this.Ge=new lp(this),this.Gt=new $h,this.ze=function(t,e){return new up(t,function(t){return n.referenceDelegate.bs(t)})}(this.Gt),this.D=new Uh(e),this.He=new ip(this.D)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getMutationQueue=function(t){var e=this.Rs[t.toKey()];return e||(e=new sp(this.Gt,this.referenceDelegate),this.Rs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r=this;Tu("MemoryPersistence","Starting transaction:",t);var i=new hp(this.Me.next());return this.referenceDelegate.vs(),n(i).next(function(t){return r.referenceDelegate.Ps(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Vs=function(t,e){return Oh.or(Object.values(this.Rs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),hp=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(ku.c)(e,t),e}(kh),dp=function(){function t(t){this.persistence=t,this.Ss=new op,this.Ds=null}return t.Cs=function(e){return new t(e)},Object.defineProperty(t.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw Au()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.Ss.addReference(n,e),this.xs.delete(n.toString()),Oh.resolve()},t.prototype.removeReference=function(t,e,n){return this.Ss.removeReference(n,e),this.xs.add(n.toString()),Oh.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.xs.add(e.toString()),Oh.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Ss.os(e.targetId).forEach(function(t){return n.xs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.xs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.vs=function(){this.Ds=new Set},t.prototype.Ps=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oh.forEach(this.xs,function(r){var i=Ju.fromPath(r);return e.Ns(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Ds=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ns(t,e).next(function(t){t?n.xs.delete(e.toString()):n.xs.add(e.toString())})},t.prototype.bs=function(t){return 0},t.prototype.Ns=function(t,e){var n=this;return Oh.or([function(){return Oh.resolve(n.Ss.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Vs(t,e)}])},t}(),pp=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function vp(t,e){return"firestore_clients_"+t+"_"+e}function yp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function gp(t,e){return"firestore_targets_"+t+"_"+e}pp.UNAUTHENTICATED=new pp(null),pp.GOOGLE_CREDENTIALS=new pp("google-credentials-uid"),pp.FIRST_PARTY=new pp("first-party-uid");var mp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.$s=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Gu(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(Iu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),bp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.$s=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Gu(i.error.code,i.error.message)),o?new t(e,i.state,r):(Iu("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),wp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.$s=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ff(),a=0;i&&a<r.activeTargetIds.length;++a)i=Hu(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Iu("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),_p=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.$s=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Iu("SharedClientState","Failed to parse online state: "+e),null)},t}(),kp=function(){function t(){this.activeTargetIds=ff()}return t.prototype.Os=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ks=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fs=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ep=function(){function t(t,e,n,r,i){this.window=t,this.Fe=e,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new Ql(Pu),this.started=!1,this.Us=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=vp(this.persistenceKey,this.Ms),this.Ks=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new kp),this.Ws=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.zs=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Hs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return t.At=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(ku.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s,u,c,l=this;return Object(ku.d)(this,function(f){switch(f.label){case 0:return[4,this.syncEngine.gn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ms&&(i=this.getItem(vp(this.persistenceKey,r)))&&(o=wp.$s(r,i))&&(this.qs=this.qs.insert(o.clientId,o));for(this.Js(),(a=this.storage.getItem(this.zs))&&(s=this.Ys(a))&&this.Xs(s),u=0,c=this.Us;u<c.length;u++)this.Bs(c[u]);return this.Us=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ks,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.qs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.ti(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.ti(t,e,n),this.ei(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(gp(this.persistenceKey,t));if(n){var r=bp.$s(t,n);r&&(e=r.state)}}return this.ni.Os(t),this.Js(),e},t.prototype.removeLocalQueryTarget=function(t){this.ni.ks(t),this.Js()},t.prototype.isLocalQueryTarget=function(t){return this.ni.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(gp(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.si(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.ei(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.ii(t)},t.prototype.notifyBundleLoaded=function(){this.ri()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Tu("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Tu("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Tu("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Bs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Tu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Iu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable(function(){return Object(ku.b)(e,void 0,void 0,function(){var t,e,r,i,o,a;return Object(ku.d)(this,function(s){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return t=this.oi(n.key),[2,this.ci(t,null)];if(e=this.ai(n.key,n.newValue))return[2,this.ci(e.clientId,e)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(o=this.Ys(n.newValue)))return[2,this.Xs(o)]}else if(n.key===this.Ks)(a=function(t){var e=Eu.o;if(null!=t)try{var n=JSON.parse(t);ju("number"==typeof n),e=n}catch(t){Iu("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Eu.o&&this.sequenceNumberHandler(a);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),t.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},t.prototype.ti=function(t,e,n){var r=new mp(this.currentUser,t,e,n),i=yp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Fs())},t.prototype.ei=function(t){var e=yp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ii=function(t){this.storage.setItem(this.zs,JSON.stringify({clientId:this.Ms,onlineState:t}))},t.prototype.si=function(t,e,n){var r=gp(this.persistenceKey,t),i=new bp(t,e,n);this.setItem(r,i.Fs())},t.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},t.prototype.oi=function(t){var e=this.Ws.exec(t);return e?e[1]:null},t.prototype.ai=function(t,e){var n=this.oi(t);return wp.$s(n,e)},t.prototype.ui=function(t,e){var n=this.js.exec(t),r=Number(n[1]);return mp.$s(new pp(void 0!==n[2]?n[2]:null),r,e)},t.prototype.li=function(t,e){var n=this.Gs.exec(t),r=Number(n[1]);return bp.$s(r,e)},t.prototype.Ys=function(t){return _p.$s(t)},t.prototype.hi=function(t){return Object(ku.b)(this,void 0,void 0,function(){return Object(ku.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(t.batchId,t.state,t.error)]:(Tu("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.fi=function(t){return this.syncEngine._i(t.targetId,t.state,t.error)},t.prototype.ci=function(t,e){var n=this,r=e?this.qs.insert(t,e):this.qs.remove(t),i=this.Zs(this.qs),o=this.Zs(r),a=[],s=[];return o.forEach(function(t){i.has(t)||a.push(t)}),i.forEach(function(t){o.has(t)||s.push(t)}),this.syncEngine.mi(a,s).then(function(){n.qs=r})},t.prototype.Xs=function(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Zs=function(t){var e=ff();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Op=function(){function t(){this.yi=new kp,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.yi.Os(t),this.gi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.gi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.yi.ks(t)},t.prototype.isLocalQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.gi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.start=function(){return this.yi=new kp,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Sp=function(){function t(){}return t.prototype.pi=function(t){},t.prototype.shutdown=function(){},t}(),Tp=function(){function t(){var t=this;this.Ei=function(){return t.Ti()},this.Ii=function(){return t.Ai()},this.Ri=[],this.bi()}return t.prototype.pi=function(t){this.Ri.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},t.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},t.prototype.Ti=function(){Tu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(0)},t.prototype.Ai=function(){Tu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(1)},t.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Ip={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Cp=function(){function t(t){this.vi=t.vi,this.Pi=t.Pi}return t.prototype.Vi=function(t){this.Si=t},t.prototype.Di=function(t){this.Ci=t},t.prototype.onMessage=function(t){this.xi=t},t.prototype.close=function(){this.Pi()},t.prototype.send=function(t){this.vi(t)},t.prototype.Ni=function(){this.Si()},t.prototype.$i=function(t){this.Ci(t)},t.prototype.Fi=function(t){this.xi(t)},t}(),xp=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(ku.c)(e,t),e.prototype.qi=function(t,e,n,r){return new Promise(function(i,o){var a=new _u;a.listenOnce(mu.COMPLETE,function(){try{switch(a.getLastErrorCode()){case gu.NO_ERROR:var e=a.getResponseJson();Tu("Connection","XHR received:",JSON.stringify(e)),i(e);break;case gu.TIMEOUT:Tu("Connection",'RPC "'+t+'" timed out'),o(new Gu(zu.DEADLINE_EXCEEDED,"Request time out"));break;case gu.HTTP_ERROR:var n=a.getStatus();if(Tu("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(zu).indexOf(e)>=0?e:zu.UNKNOWN}(r.status);o(new Gu(s,r.message))}else o(new Gu(zu.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Gu(zu.UNAVAILABLE,"Connection failed."));break;default:Au()}}finally{Tu("Connection",'RPC "'+t+'" completed.')}});var s=JSON.stringify(r);a.send(e,"POST",s,n,15)})},e.prototype.Qi=function(t,e){var n=[this.Oi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new hu,i=va(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(o.initMessageHeaders,e),Object(bi.l)()||Object(bi.n)()||Object(bi.j)()||Object(bi.k)()||Object(bi.o)()||Object(bi.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Tu("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new Cp({vi:function(t){c?Tu("Connection","Not sending because WebChannel is closed:",t):(u||(Tu("Connection","Opening WebChannel transport."),s.open(),u=!0),Tu("Connection","WebChannel sending:",t),s.send(t))},Pi:function(){return s.close()}}),f=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return f(s,wu.EventType.OPEN,function(){c||Tu("Connection","WebChannel transport opened.")}),f(s,wu.EventType.CLOSE,function(){c||(c=!0,Tu("Connection","WebChannel transport closed"),l.$i())}),f(s,wu.EventType.ERROR,function(t){c||(c=!0,Cu("Connection","WebChannel transport errored:",t),l.$i(new Gu(zu.UNAVAILABLE,"The operation could not be completed")))}),f(s,wu.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];ju(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Tu("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Bl[t];if(void 0!==e)return Yl(e)}(i),a=r.message;void 0===o&&(o=zu.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.$i(new Gu(o,a)),s.close()}else Tu("Connection","WebChannel received:",n),l.Fi(n)}}),f(i,bu.STAT_EVENT,function(t){10===t.stat?Tu("Connection","Detected buffering proxy"):11===t.stat&&Tu("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ni()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Oi=(t.ssl?"https":"http")+"://"+t.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Mi=function(t,e,n,r){var i=this.Li(t,e);Tu("RestConnection","Sending: ",i,n);var o={};return this.Bi(o,r),this.qi(t,i,o,n).then(function(t){return Tu("RestConnection","Received: ",t),t},function(e){throw Cu("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Ui=function(t,e,n,r){return this.Mi(t,e,n,r)},t.prototype.Bi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.Li=function(t,e){return this.Oi+"/v1/"+e+":"+Ip[t]},t}());function Ap(){return"undefined"!=typeof window?window:null}function jp(){return"undefined"!=typeof document?document:null}function Np(t){return new Ef(t,!0)}var Rp=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=t,this.timerId=e,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return t.prototype.reset=function(){this.Gi=0},t.prototype.Ji=function(){this.Gi=this.ji},t.prototype.Yi=function(t){var e=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&Tu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,function(){return e.Hi=Date.now(),t()}),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},t.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},t.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},t.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},t}(),Dp=function(){function t(t,e,n,r,i,o){this.Fe=t,this.tr=n,this.er=r,this.nr=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Rp(t,e)}return t.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ar=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ur()},t.prototype.stop=function(){return Object(ku.b)(this,void 0,void 0,function(){return Object(ku.d)(this,function(t){switch(t.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.hr=function(){this.state=0,this.rr.reset()},t.prototype.lr=function(){var t=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,function(){return t.dr()}))},t.prototype.wr=function(t){this._r(),this.stream.send(t)},t.prototype.dr=function(){return Object(ku.b)(this,void 0,void 0,function(){return Object(ku.d)(this,function(t){return this.ar()?[2,this.close(0)]:[2]})})},t.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},t.prototype.close=function(t,e){return Object(ku.b)(this,void 0,void 0,function(){return Object(ku.d)(this,function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():e&&e.code===zu.RESOURCE_EXHAUSTED?(Iu(e.toString()),Iu("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):e&&e.code===zu.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Di(e)];case 1:return n.sent(),[2]}})})},t.prototype.mr=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.yr(this.sr),n=this.sr;this.nr.getToken().then(function(e){t.sr===n&&t.gr(e)},function(n){e(function(){var e=new Gu(zu.UNKNOWN,"Fetching auth token failed: "+n.message);return t.pr(e)})})},t.prototype.gr=function(t){var e=this,n=this.yr(this.sr);this.stream=this.Er(t),this.stream.Vi(function(){n(function(){return e.state=2,e.listener.Vi()})}),this.stream.Di(function(t){n(function(){return e.pr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.ur=function(){var t=this;this.state=4,this.rr.Yi(function(){return Object(ku.b)(t,void 0,void 0,function(){return Object(ku.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.pr=function(t){return Tu("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.yr=function(t){var e=this;return function(n){e.Fe.enqueueAndForget(function(){return e.sr===t?n():(Tu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Pp=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).D=i,a}return Object(ku.c)(e,t),e.prototype.Er=function(t){return this.er.Qi("Listen",t)},e.prototype.onMessage=function(t){this.rr.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Au()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.V?(ju(void 0===e||"string"==typeof e),Xu.fromBase64String(e||"")):(ju(void 0===e||e instanceof Uint8Array),Xu.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?zu.UNKNOWN:Yl(t.code);return new Gu(e,t.message||"")}(s);n=new yf(r,i,o,a||null)}else if("documentChange"in e){i=jf(t,(r=e.documentChange).document.name),o=If(r.document.updateTime);var s=new ul({mapValue:{fields:r.document.fields}}),u=(a=new wc(i,o,s,{}),r.targetIds||[]);n=new pf(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)i=jf(t,(r=e.documentDelete).document),o=r.readTime?If(r.readTime):al.min(),s=new _c(i,o),n=new pf([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=jf(t,(r=e.documentRemove).document),n=new pf([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Au();var c=e.filter;i=new Kl(r=c.count||0),n=new vf(o=c.targetId,i)}return n}(this.D,t),n=function(t){if(!("targetChange"in t))return al.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?al.min():e.readTime?If(e.readTime):al.min()}(t);return this.listener.Tr(e,n)},e.prototype.Ir=function(t){var e={};e.database=Df(this.D),e.addTarget=function(t,e){var n,r=e.target;return(n=Ic(r)?{documents:Vf(t,r)}:{query:qf(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Sf(t,e.resumeToken):e.snapshotVersion.compareTo(al.min())>0&&(n.readTime=Of(t,e.snapshotVersion.toTimestamp())),n}(this.D,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Au()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.wr(e)},e.prototype.Ar=function(t){var e={};e.database=Df(this.D),e.removeTarget=t,this.wr(e)},e}(Dp),Lp=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).D=i,a.Rr=!1,a}return Object(ku.c)(e,t),Object.defineProperty(e.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mr=function(){this.Rr&&this.vr([])},e.prototype.Er=function(t){return this.er.Qi("Write",t)},e.prototype.onMessage=function(t){if(ju(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();var e=function(t,e){return t&&t.length>0?(ju(void 0!==e),t.map(function(t){return function(t,e){var n=If(t.updateTime?t.updateTime:e);return n.isEqual(al.min())&&(n=If(e)),new Il(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=If(t.commitTime);return this.listener.Pr(n,e)}return ju(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()},e.prototype.Sr=function(){var t={};t.database=Df(this.D),this.wr(t)},e.prototype.vr=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Ff(e.D,t)})};this.wr(n)},e}(Dp),Mp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.er=n,i.D=r,i.Dr=!1,i}return Object(ku.c)(e,t),e.prototype.Cr=function(){if(this.Dr)throw new Gu(zu.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mi=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Mi(t,e,n,i)}).catch(function(t){throw t.code===zu.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Ui=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Ui(t,e,n,i)}).catch(function(t){throw t.code===zu.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Dr=!1},e}(function(){}),Fp=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return t.prototype.Or=function(){var t=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.$r=null,t.Mr("Backend didn't respond within 10 seconds."),t.kr("Offline"),Promise.resolve()}))},t.prototype.Lr=function(t){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+t.toString()),this.kr("Offline")))},t.prototype.set=function(t){this.Br(),this.Nr=0,"Online"===t&&(this.Fr=!1),this.kr(t)},t.prototype.kr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Mr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(Iu(e),this.Fr=!1):Tu("OnlineStateTracker",e)},t.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},t}(),Up=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi(function(t){n.enqueueAndForget(function(){return Object(ku.b)(o,void 0,void 0,function(){return Object(ku.d)(this,function(t){switch(t.label){case 0:return Yp(this)?(Tu("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(ku.b)(this,void 0,void 0,function(){var e;return Object(ku.d)(this,function(n){switch(n.label){case 0:return(e=Nu(t)).Qr.add(4),[4,qp(e)];case 1:return n.sent(),e.jr.set("Unknown"),e.Qr.delete(4),[4,Vp(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.jr=new Fp(n,r)};function Vp(t){return Object(ku.b)(this,void 0,void 0,function(){var e,n;return Object(ku.d)(this,function(r){switch(r.label){case 0:if(!Yp(t))return[3,4];e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function qp(t){return Object(ku.b)(this,void 0,void 0,function(){var e,n;return Object(ku.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Bp(t,e){var n=Nu(t);n.Ur.has(e.targetId)||(n.Ur.set(e.targetId,e),Wp(n)?Kp(n):cv(n).ar()&&zp(n,e))}function Hp(t,e){var n=Nu(t),r=cv(n);n.Ur.delete(e),r.ar()&&Gp(n,e),0===n.Ur.size&&(r.ar()?r.lr():Yp(n)&&n.jr.set("Unknown"))}function zp(t,e){t.Gr.H(e.targetId),cv(t).Ir(e)}function Gp(t,e){t.Gr.H(e),cv(t).Ar(e)}function Kp(t){t.Gr=new mf({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},yt:function(e){return t.Ur.get(e)||null}}),cv(t).start(),t.jr.Or()}function Wp(t){return Yp(t)&&!cv(t).cr()&&t.Ur.size>0}function Yp(t){return 0===Nu(t).Qr.size}function Qp(t){t.Gr=void 0}function Jp(t){return Object(ku.b)(this,void 0,void 0,function(){return Object(ku.d)(this,function(e){return t.Ur.forEach(function(e,n){zp(t,e)}),[2]})})}function Xp(t,e){return Object(ku.b)(this,void 0,void 0,function(){return Object(ku.d)(this,function(n){return Qp(t),Wp(t)?(t.jr.Lr(e),Kp(t)):t.jr.set("Unknown"),[2]})})}function Zp(t,e,n){return Object(ku.b)(this,void 0,void 0,function(){var r,i,o;return Object(ku.d)(this,function(a){switch(a.label){case 0:if(t.jr.set("Online"),!(e instanceof yf&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(ku.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(ku.d)(this,function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.Ur.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.Ur.delete(o),t.Gr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Tu("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,$p(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof pf?t.Gr.st(e):e instanceof vf?t.Gr.ht(e):t.Gr.ot(e),n.isEqual(al.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Kd(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.Gr.dt(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Ur.get(r);i&&t.Ur.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Ur.get(e);if(n){t.Ur.set(e,n.withResumeToken(Xu.EMPTY_BYTE_STRING,n.snapshotVersion)),Gp(t,e);var r=new Fh(n.target,e,1,n.sequenceNumber);zp(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Tu("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,$p(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function $p(t,e,n){return Object(ku.b)(this,void 0,void 0,function(){var r=this;return Object(ku.d)(this,function(i){switch(i.label){case 0:if(!xh(e))throw e;return t.Qr.add(1),[4,qp(t)];case 1:return i.sent(),t.jr.set("Offline"),n||(n=function(){return Kd(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(ku.b)(r,void 0,void 0,function(){return Object(ku.d)(this,function(e){switch(e.label){case 0:return Tu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Qr.delete(1),[4,Vp(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function tv(t,e){return e().catch(function(n){return $p(t,n,e)})}function ev(t){return Object(ku.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(ku.d)(this,function(a){switch(a.label){case 0:e=Nu(t),n=lv(e),r=e.qr.length>0?e.qr[e.qr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Yp(t)&&t.qr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Qd(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(t,e){t.qr.push(e);var n=lv(t);n.ar()&&n.br&&n.vr(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,$p(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return nv(e)&&rv(e),[2]}})})}function nv(t){return Yp(t)&&!lv(t).cr()&&t.qr.length>0}function rv(t){lv(t).start()}function iv(t){return Object(ku.b)(this,void 0,void 0,function(){return Object(ku.d)(this,function(e){return lv(t).Sr(),[2]})})}function ov(t){return Object(ku.b)(this,void 0,void 0,function(){var e,n,r;return Object(ku.d)(this,function(i){for(e=lv(t),n=0,r=t.qr;n<r.length;n++)e.vr(r[n].mutations);return[2]})})}function av(t,e,n){return Object(ku.b)(this,void 0,void 0,function(){var r,i;return Object(ku.d)(this,function(o){switch(o.label){case 0:return r=t.qr.shift(),i=Mh.from(r,e,n),[4,tv(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,ev(t)];case 2:return o.sent(),[2]}})})}function sv(t,e){return Object(ku.b)(this,void 0,void 0,function(){return Object(ku.d)(this,function(n){switch(n.label){case 0:return e&&lv(t).br?[4,function(t,e){return Object(ku.b)(this,void 0,void 0,function(){var n,r;return Object(ku.d)(this,function(i){switch(i.label){case 0:return Wl(r=e.code)&&r!==zu.ABORTED?(n=t.qr.shift(),lv(t).hr(),[4,tv(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,ev(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return nv(t)&&rv(t),[2]}})})}function uv(t,e){return Object(ku.b)(this,void 0,void 0,function(){var n;return Object(ku.d)(this,function(r){switch(r.label){case 0:return n=Nu(t),e?(n.Qr.delete(2),[4,Vp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Qr.add(2),[4,qp(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function cv(t){var e=this;return t.zr||(t.zr=function(t,e,n){var r=Nu(t);return r.Cr(),new Pp(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:Jp.bind(null,t),Di:Xp.bind(null,t),Tr:Zp.bind(null,t)}),t.Kr.push(function(n){return Object(ku.b)(e,void 0,void 0,function(){return Object(ku.d)(this,function(e){switch(e.label){case 0:return n?(t.zr.hr(),Wp(t)?Kp(t):t.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.zr.stop()];case 2:e.sent(),Qp(t),e.label=3;case 3:return[2]}})})})),t.zr}function lv(t){var e=this;return t.Hr||(t.Hr=function(t,e,n){var r=Nu(t);return r.Cr(),new Lp(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:iv.bind(null,t),Di:sv.bind(null,t),Vr:ov.bind(null,t),Pr:av.bind(null,t)}),t.Kr.push(function(n){return Object(ku.b)(e,void 0,void 0,function(){return Object(ku.d)(this,function(e){switch(e.label){case 0:return n?(t.Hr.hr(),[4,ev(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Hr.stop()];case 3:e.sent(),t.qr.length>0&&(Tu("RemoteStore","Stopping write stream with "+t.qr.length+" pending writes"),t.qr=[]),e.label=4;case 4:return[2]}})})})),t.Hr}var fv=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Eh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Gu(zu.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function hv(t,e){if(Iu("AsyncQueue",e+": "+t),xh(t))return new Gu(zu.UNAVAILABLE,e+": "+t);throw t}var dv=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Ju.comparator(e.key,n.key)}:function(t,e){return Ju.comparator(t.key,e.key)},this.keyedMap=of(),this.sortedSet=new Ql(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),pv=function(){function t(){this.Jr=new Ql(Ju.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):Au():this.Jr=this.Jr.insert(e,t)},t.prototype.Yr=function(){var t=[];return this.Jr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),vv=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,dv.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&tl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),yv=function(){this.Xr=void 0,this.listeners=[]},gv=function(){this.queries=new Od(function(t){return el(t)},tl),this.onlineState="Unknown",this.Zr=new Set};function mv(t,e){return Object(ku.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(ku.d)(this,function(c){switch(c.label){case 0:if(n=Nu(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new yv),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Xr=c.sent(),[3,4];case 3:return s=c.sent(),u=hv(s,"Initialization of query '"+nl(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.eo(n.onlineState),o.Xr&&e.no(o.Xr)&&kv(n),[2]}})})}function bv(t,e){return Object(ku.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(ku.d)(this,function(s){return n=Nu(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function wv(t,e){for(var n=Nu(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].no(a)&&(r=!0);s.Xr=a}}r&&kv(n)}function _v(t,e,n){var r=Nu(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function kv(t){t.Zr.forEach(function(t){t.next()})}var Ev=function(){function t(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.no=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new vv(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.io?this.oo(t)&&(this.so.next(t),o=!0):this.co(t,this.onlineState)&&(this.ao(t),o=!0),this.ro=t,o},t.prototype.onError=function(t){this.so.error(t)},t.prototype.eo=function(t){this.onlineState=t;var e=!1;return this.ro&&!this.io&&this.co(this.ro,t)&&(this.ao(this.ro),e=!0),e},t.prototype.co=function(t,e){return!t.fromCache||!(this.options.uo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.oo=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ao=function(t){t=vv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)},t}(),Ov=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.ho=function(){return"metadata"in this.payload},t}(),Sv=function(){function t(t){this.D=t}return t.prototype.Gn=function(t){return jf(this.D,t)},t.prototype.zn=function(t){return t.metadata.exists?Mf(this.D,t.document,!1):new _c(this.Gn(t.metadata.name),this.Hn(t.metadata.readTime))},t.prototype.Hn=function(t){return If(t)},t}();!function(){function t(t,e,n){this.lo=t,this.localStore=e,this.D=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.fo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.wo=function(t){for(var e=new Map,n=new Sv(this.D),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.Gn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||cf()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(ku.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(ku.d)(this,function(o){switch(o.label){case 0:return[4,np(this.localStore,new Sv(this.D),this.documents,this.lo.id)];case 1:t=o.sent(),e=this.wo(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,rp(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Fd(Object.assign({},this.progress),t))]}})})}}();var Tv=function(t){this.key=t},Iv=function(t){this.key=t},Cv=function(){function t(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=cf(),this.mutatedKeys=cf(),this.po=il(t),this.Eo=new dv(this.po)}return Object.defineProperty(t.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),t.prototype.Io=function(t,e){var n=this,r=e?e.Ao:new pv,i=e?e.Eo:this.Eo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Kc(this.query)&&i.size===this.query.limit?i.last():null,c=Wc(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),f=e instanceof wc?e:null;f&&(f=rl(n.query,f)?f:null);var h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data().isEqual(f.data())?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ro(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.po(f,u)>0||c&&n.po(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),Kc(this.query)||Wc(this.query))for(;a.size>this.query.limit;){var l=Kc(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Eo:a,Ao:r,Mn:s,mutatedKeys:o}},t.prototype.Ro=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;var o=t.Ao.Yr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Au()}};return n(t)-n(e)}(t.type,e.type)||r.po(t.doc,e.doc)}),this.bo(n);var a=e?this.vo():[],s=0===this.yo.size&&this.current?1:0,u=s!==this.mo;return this.mo=s,0!==o.length||u?{snapshot:new vv(this.query,t.Eo,i,o,t.mutatedKeys,0===s,u,!1),Po:a}:{Po:a}},t.prototype.eo=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new pv,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},t.prototype.Vo=function(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations},t.prototype.bo=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._o=e._o.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e._o=e._o.delete(t)}),this.current=t.current)},t.prototype.vo=function(){var t=this;if(!this.current)return[];var e=this.yo;this.yo=cf(),this.Eo.forEach(function(e){t.Vo(e.key)&&(t.yo=t.yo.add(e.key))});var n=[];return e.forEach(function(e){t.yo.has(e)||n.push(new Iv(e))}),this.yo.forEach(function(t){e.has(t)||n.push(new Tv(t))}),n},t.prototype.So=function(t){this._o=t.jn,this.yo=cf();var e=this.Io(t.documents);return this.applyChanges(e,!0)},t.prototype.Do=function(){return vv.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},t}(),xv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Av=function(t){this.key=t,this.Co=!1},jv=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.xo={},this.No=new Od(function(t){return el(t)},tl),this.$o=new Map,this.Fo=new Set,this.Oo=new Ql(Ju.comparator),this.ko=new Map,this.Mo=new op,this.Lo={},this.Bo=new Map,this.qo=hd.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),t}();function Nv(t,e){return Object(ku.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(ku.d)(this,function(s){switch(s.label){case 0:return n=sy(t),(i=n.No.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Do(),[3,4]):[3,1];case 1:return[4,Jd(n.localStore,Zc(e))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Rv(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&Bp(n.remoteStore,o),s.label=4;case 4:return[2,r]}})})}function Rv(t,e,n,r){return Object(ku.b)(this,void 0,void 0,function(){var i,o,a,s,u,c;return Object(ku.d)(this,function(l){switch(l.label){case 0:return t.Qo=function(e,n,r){return function(t,e,n,r){return Object(ku.b)(this,void 0,void 0,function(){var i,o,a;return Object(ku.d)(this,function(s){switch(s.label){case 0:return(i=e.view.Io(n)).Mn?[4,Zd(t.localStore,e.query,!1).then(function(t){return e.view.Io(t.documents,i)})]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Kv(t,e.targetId,a.Po),a.snapshot)]}})})}(t,e,n,r)},[4,Zd(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Cv(e,i.jn),a=o.Io(i.documents),s=df.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),Kv(t,n,u.Po),c=new xv(e,n,o),[2,(t.No.set(e,c),t.$o.has(n)?t.$o.get(n).push(e):t.$o.set(n,[e]),u.snapshot)]}})})}function Dv(t,e){return Object(ku.b)(this,void 0,void 0,function(){var n,r,i;return Object(ku.d)(this,function(o){switch(o.label){case 0:return n=Nu(t),r=n.No.get(e),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter(function(t){return!tl(t,e)})),void n.No.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Xd(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Hp(n.remoteStore,r.targetId),zv(n,r.targetId)}).catch(gd)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return zv(n,r.targetId),[4,Xd(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Pv(t,e,n){return Object(ku.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(ku.d)(this,function(s){switch(s.label){case 0:r=uy(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=Nu(t),i=nc.now(),o=e.reduce(function(t,e){return t.add(e.key)},cf());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Kn.bn(t,o).next(function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=Rl(c,n.get(c.key));null!=l&&a.push(new Ml(c.key,l,ll(l.proto.mapValue),Cl.exists(!0)))}return r.Tn.addMutationBatch(t,i,a,e)})}).then(function(t){var e=t.applyToLocalDocumentSet(n);return{batchId:t.batchId,changes:e}})}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.Lo[t.currentUser.toKey()];r||(r=new Ql(Pu)),r=r.insert(e,n),t.Lo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Qv(r,i.changes)];case 3:return s.sent(),[4,ev(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=hv(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function Lv(t,e){return Object(ku.b)(this,void 0,void 0,function(){var n,r;return Object(ku.d)(this,function(i){switch(i.label){case 0:n=Nu(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Wd(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.ko.get(e);r&&(ju(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Co=!0:t.modifiedDocuments.size>0?ju(r.Co):t.removedDocuments.size>0&&(ju(r.Co),r.Co=!1))}),[4,Qv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,gd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Mv(t,e,n){var r=Nu(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach(function(t,n){var r=n.view.eo(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Nu(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].eo(e)&&(r=!0)}),r&&kv(n)}(r.eventManager,e),i.length&&r.xo.Tr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Fv(t,e,n){return Object(ku.b)(this,void 0,void 0,function(){var r,i,o,a,s,u;return Object(ku.d)(this,function(c){switch(c.label){case 0:return(r=Nu(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.ko.get(e),(o=i&&i.key)?(a=(a=new Ql(Ju.comparator)).insert(o,new _c(o,al.min())),s=cf().add(o),u=new hf(al.min(),new Map,new Zl(Pu),a,s),[4,Lv(r,u)]):[3,2];case 1:return c.sent(),r.Oo=r.Oo.remove(o),r.ko.delete(e),Yv(r),[3,4];case 2:return[4,Xd(r.localStore,e,!1).then(function(){return zv(r,e,n)}).catch(gd)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Uv(t,e){return Object(ku.b)(this,void 0,void 0,function(){var n,r,i;return Object(ku.d)(this,function(o){switch(o.label){case 0:n=Nu(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Gd(n.localStore,e)];case 2:return i=o.sent(),Hv(n,r,null),Bv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Qv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,gd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Vv(t,e,n){return Object(ku.b)(this,void 0,void 0,function(){var r,i;return Object(ku.d)(this,function(o){switch(o.label){case 0:r=Nu(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Nu(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Tn.lookupMutationBatch(t,e).next(function(e){return ju(null!==e),r=e.keys(),n.Tn.removeMutationBatch(t,e)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),Hv(r,e,n),Bv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Qv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,gd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function qv(t,e){return Object(ku.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(ku.d)(this,function(s){switch(s.label){case 0:Yp((n=Nu(t)).remoteStore)||Tu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=Nu(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Tn.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Bo.get(r)||[]).push(e),n.Bo.set(r,i),[3,4]);case 3:return o=s.sent(),a=hv(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function Bv(t,e){(t.Bo.get(e)||[]).forEach(function(t){t.resolve()}),t.Bo.delete(e)}function Hv(t,e,n){var r=Nu(t),i=r.Lo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Lo[r.currentUser.toKey()]=i}}function zv(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.$o.get(e);r<i.length;r++){var o=i[r];t.No.delete(o),n&&t.xo.Ko(o,n)}t.$o.delete(e),t.isPrimaryClient&&t.Mo.os(e).forEach(function(e){t.Mo.containsKey(e)||Gv(t,e)})}function Gv(t,e){t.Fo.delete(e.path.canonicalString());var n=t.Oo.get(e);null!==n&&(Hp(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.ko.delete(n),Yv(t))}function Kv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Tv?(t.Mo.addReference(o.key,e),Wv(t,o)):o instanceof Iv?(Tu("SyncEngine","Document no longer in limbo: "+o.key),t.Mo.removeReference(o.key,e),t.Mo.containsKey(o.key)||Gv(t,o.key)):Au()}}function Wv(t,e){var n=e.key,r=n.path.canonicalString();t.Oo.get(n)||t.Fo.has(r)||(Tu("SyncEngine","New document in limbo: "+n),t.Fo.add(r),Yv(t))}function Yv(t){for(;t.Fo.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){var e=t.Fo.values().next().value;t.Fo.delete(e);var n=new Ju(Wu.fromString(e)),r=t.qo.next();t.ko.set(r,new Av(n)),t.Oo=t.Oo.insert(n,r),Bp(t.remoteStore,new Fh(Zc(Gc(n.path)),r,2,Eu.o))}}function Qv(t,e,n){return Object(ku.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(ku.d)(this,function(s){switch(s.label){case 0:return r=Nu(t),i=[],o=[],a=[],r.No.isEmpty()?[3,3]:(r.No.forEach(function(t,s){a.push(r.Qo(s,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Vd.Nn(s.targetId,t);o.push(e)}}))}),[4,Promise.all(a)]);case 1:return s.sent(),r.xo.Tr(i),[4,function(t,e){return Object(ku.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return Object(ku.d)(this,function(l){switch(l.label){case 0:n=Nu(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Oh.forEach(e,function(e){return Oh.forEach(e.Cn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Oh.forEach(e.xn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!xh(r=l.sent()))throw r;return Tu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.Bn.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Bn=n.Bn.insert(s,c));return[2]}})})}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function Jv(t,e){return Object(ku.b)(this,void 0,void 0,function(){var n,r;return Object(ku.d)(this,function(i){switch(i.label){case 0:return(n=Nu(t)).currentUser.isEqual(e)?[3,3]:(Tu("SyncEngine","User change. New user:",e.toKey()),[4,zd(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Bo.forEach(function(t){t.forEach(function(t){t.reject(new Gu(zu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Qv(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Xv(t,e){var n=Nu(t),r=n.ko.get(e);if(r&&r.Co)return cf().add(r.key);var i=cf(),o=n.$o.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.No.get(s[a]);i=i.unionWith(u.view.To)}return i}function Zv(t,e){return Object(ku.b)(this,void 0,void 0,function(){var n,r,i;return Object(ku.d)(this,function(o){switch(o.label){case 0:return[4,Zd((n=Nu(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.So(r),[2,(n.isPrimaryClient&&Kv(n,e.targetId,i.Po),i)]}})})}function $v(t){return Object(ku.b)(this,void 0,void 0,function(){var e;return Object(ku.d)(this,function(n){return[2,tp((e=Nu(t)).localStore).then(function(t){return Qv(e,t)})]})})}function ty(t,e,n,r){return Object(ku.b)(this,void 0,void 0,function(){var i,o;return Object(ku.d)(this,function(a){switch(a.label){case 0:return[4,function(t,e){var n=Nu(t),r=Nu(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Jt(t,e).next(function(e){return e?n.Kn.bn(t,e):Oh.resolve(null)})})}((i=Nu(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,ev(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Hv(i,e,r||null),Bv(i,e),function(t,e){Nu(Nu(t).Tn).Xt(e)}(i.localStore,e)):Au(),a.label=4;case 4:return[4,Qv(i,o)];case 5:return a.sent(),[3,7];case 6:Tu("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function ey(t,e){return Object(ku.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(ku.d)(this,function(c){switch(c.label){case 0:return sy(n=Nu(t)),uy(n),!0!==e||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,ny(n,r.toArray())]);case 1:return i=c.sent(),n.Uo=!0,[4,uv(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)Bp(n.remoteStore,a[o]);return[3,7];case 3:return!1!==e||!1===n.Uo?[3,7]:(s=[],u=Promise.resolve(),n.$o.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?s.push(e):u=u.then(function(){return zv(n,e),Xd(n.localStore,e,!0)}),Hp(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,ny(n,s)];case 5:return c.sent(),function(t){var e=Nu(t);e.ko.forEach(function(t,n){Hp(e.remoteStore,n)}),e.Mo.cs(),e.ko=new Map,e.Oo=new Ql(Ju.comparator)}(n),n.Uo=!1,[4,uv(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function ny(t,e,n){return Object(ku.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l,f,h,d,p;return Object(ku.d)(this,function(v){switch(v.label){case 0:n=Nu(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.$o.get(s=a[o]))&&0!==c.length?[4,Jd(n.localStore,Zc(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,f=c,v.label=3;case 3:return l<f.length?(h=n.No.get(f[l]),[4,Zv(n,h)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,$d(n.localStore,s)];case 8:return p=v.sent(),[4,Jd(n.localStore,p)];case 9:return u=v.sent(),[4,Rv(n,ry(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}})})}function ry(t){return zc(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function iy(t){var e=Nu(t);return Nu(Nu(e.localStore).persistence).gn()}function oy(t,e,n,r){return Object(ku.b)(this,void 0,void 0,function(){var i,o,a;return Object(ku.d)(this,function(s){switch(s.label){case 0:return(i=Nu(t)).Uo?(Tu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,tp(i.localStore)];case 3:return o=s.sent(),a=hf.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Qv(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Xd(i.localStore,e,!0)];case 6:return s.sent(),zv(i,e,r),[3,8];case 7:Au(),s.label=8;case 8:return[2]}})})}function ay(t,e,n){return Object(ku.b)(this,void 0,void 0,function(){var r,i,o,a,s,u,c,l,f;return Object(ku.d)(this,function(h){switch(h.label){case 0:if(!(r=sy(t)).Uo)return[3,10];i=0,o=e,h.label=1;case 1:return i<o.length?r.$o.has(a=o[i])?(Tu("SyncEngine","Adding an already active target "+a),[3,5]):[4,$d(r.localStore,a)]:[3,6];case 2:return s=h.sent(),[4,Jd(r.localStore,s)];case 3:return u=h.sent(),[4,Rv(r,ry(s),u.targetId,!1)];case 4:h.sent(),Bp(r.remoteStore,u),h.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(ku.d)(this,function(e){switch(e.label){case 0:return r.$o.has(t)?[4,Xd(r.localStore,t,!1).then(function(){Hp(r.remoteStore,t),zv(r,t)}).catch(gd)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,f=n,h.label=7;case 7:return l<f.length?[5,c(f[l])]:[3,10];case 8:h.sent(),h.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function sy(t){var e=Nu(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fv.bind(null,e),e.xo.Tr=wv.bind(null,e.eventManager),e.xo.Ko=_v.bind(null,e.eventManager),e}function uy(t){var e=Nu(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Uv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vv.bind(null,e),e}var cy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(ku.b)(this,void 0,void 0,function(){return Object(ku.d)(this,function(e){switch(e.label){case 0:return this.D=Np(t.databaseInfo.databaseId),this.sharedClientState=this.jo(t),this.persistence=this.Go(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t),[2]}})})},t.prototype.zo=function(t){return null},t.prototype.Ho=function(t){return Hd(this.persistence,new qd,t.initialUser,this.D)},t.prototype.Go=function(t){return new fp(dp.Cs,this.D)},t.prototype.jo=function(t){return new Op},t.prototype.terminate=function(){return Object(ku.b)(this,void 0,void 0,function(){return Object(ku.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),ly=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Jo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(ku.c)(e,t),e.prototype.initialize=function(e){return Object(ku.b)(this,void 0,void 0,function(){return Object(ku.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,ep(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,e)];case 3:return n.sent(),[4,uy(this.Jo.syncEngine)];case 4:return n.sent(),[4,ev(this.Jo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ho=function(t){return Hd(this.persistence,new qd,t.initialUser,this.D)},e.prototype.zo=function(t){return new wd(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.Go=function(t){var e=Md(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?id.withCacheSize(this.cacheSizeBytes):id.DEFAULT;return new Dd(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Ap(),jp(),this.D,this.sharedClientState,!!this.forceOwnership)},e.prototype.jo=function(t){return new Op},e}(cy),fy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Jo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(ku.c)(e,t),e.prototype.initialize=function(e){return Object(ku.b)(this,void 0,void 0,function(){var n,r=this;return Object(ku.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof Ep?(this.sharedClientState.syncEngine={wi:ty.bind(null,n),_i:oy.bind(null,n),mi:ay.bind(null,n),gn:iy.bind(null,n),di:$v.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en(function(t){return Object(ku.b)(r,void 0,void 0,function(){return Object(ku.d)(this,function(e){switch(e.label){case 0:return[4,ey(this.Jo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jo=function(t){var e=Ap();if(!Ep.At(e))throw new Gu(zu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Md(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Ep(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(ly),hy=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(ku.b)(this,void 0,void 0,function(){var n=this;return Object(ku.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Mv(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Jv.bind(null,this.syncEngine),[4,uv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new gv},t.prototype.createDatastore=function(t){var e=Np(t.databaseInfo.databaseId),n=new xp(t.databaseInfo);return function(t,e,n){return new Mp(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Mv(a.syncEngine,t,0)},o=Tp.At()?new Tp:new Sp,new Up(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new jv(t,e,n,r,i,o);return a&&(s.Uo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(ku.b)(this,void 0,void 0,function(){var e;return Object(ku.d)(this,function(n){switch(n.label){case 0:return e=Nu(t),Tu("RemoteStore","RemoteStore shutting down."),e.Qr.add(5),[4,qp(e)];case 1:return n.sent(),e.Wr.shutdown(),e.jr.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),dy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xo=function(){this.muted=!0},t.prototype.Yo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),py=(function(){function t(t,e){var n=this;this.Zo=t,this.D=e,this.metadata=new Eh,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then(function(t){t&&t.ho()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Zo.cancel()},t.prototype.getMetadata=function(){return Object(ku.b)(this,void 0,void 0,function(){return Object(ku.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Wo=function(){return Object(ku.b)(this,void 0,void 0,function(){return Object(ku.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.ec())]}})})},t.prototype.ec=function(){return Object(ku.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(ku.d)(this,function(i){switch(i.label){case 0:return[4,this.nc()];case 1:return null===(t=i.sent())?[2,null]:(e=this.tc.decode(t),n=Number(e),isNaN(n)&&this.sc("length string ("+e+") is not valid number"),[4,this.ic(n)]);case 2:return r=i.sent(),[2,new Ov(JSON.parse(r),t.length+n)]}})})},t.prototype.rc=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.nc=function(){return Object(ku.b)(this,void 0,void 0,function(){var t,e;return Object(ku.d)(this,function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.ic=function(t){return Object(ku.b)(this,void 0,void 0,function(){var e;return Object(ku.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.tc.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.sc=function(t){throw this.Zo.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.oc=function(){return Object(ku.b)(this,void 0,void 0,function(){var t,e;return Object(ku.d)(this,function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(ku.b)(this,void 0,void 0,function(){var e,n=this;return Object(ku.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Gu(zu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(ku.b)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(ku.d)(this,function(u){switch(u.label){case 0:return n=Nu(t),r=Df(n.D)+"/documents",i={documents:e.map(function(t){return Af(n.D,t)})},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){ju(!!e.found);var n=jf(t,e.found.name),r=If(e.found.updateTime),i=new ul({mapValue:{fields:e.found.fields}});return new wc(n,r,i,{})}(t,e):"missing"in e?function(t,e){ju(!!e.missing),ju(!!e.readTime);var n=jf(t,e.missing),r=If(e.readTime);return new _c(n,r)}(t,e):Au()}(n.D,t);a.set(e.key.toString(),e)}),s=[],[2,(e.forEach(function(t){var e=a.get(t.toString());ju(!!e),s.push(e)}),s)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof _c||t instanceof wc?n.recordVersion(t):Au()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new zl(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(ku.b)(this,void 0,void 0,function(){var t,e=this;return Object(ku.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Ju.fromPath(n);e.mutations.push(new Gl(r,e.precondition(r)))}),[4,function(t,e){return Object(ku.b)(this,void 0,void 0,function(){var n,r,i;return Object(ku.d)(this,function(o){switch(o.label){case 0:return n=Nu(t),r=Df(n.D)+"/documents",i={writes:e.map(function(t){return Ff(n.D,t)})},[4,n.Mi("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t instanceof wc)e=t.version;else{if(!(t instanceof _c))throw Au();e=al.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Gu(zu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Cl.updateTime(e):Cl.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(al.min()))throw new Gu(zu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Cl.updateTime(e)}return Cl.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),vy=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new Rp(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ac()},t.prototype.ac=function(){var t=this;this.rr.Yi(function(){return Object(ku.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(ku.d)(this,function(r){return t=new py(this.datastore),(e=this.uc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.hc(t)})})}).catch(function(t){n.hc(t)}),[2]})})})},t.prototype.uc=function(t){try{var e=this.updateFunction(t);return!qu(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.hc=function(t){var e=this;this.cc>0&&this.lc(t)?(this.cc-=1,this.asyncQueue.enqueueAndForget(function(){return e.ac(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.lc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Wl(e)}return!1},t}(),yy=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=pp.UNAUTHENTICATED,this.clientId=Du.u(),this.credentialListener=function(){},this.receivedInitialUser=new Eh,this.credentials.setChangeListener(function(t){Tu("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(ku.b)(this,void 0,void 0,function(){return Object(ku.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Gu(zu.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Eh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(ku.b)(t,void 0,void 0,function(){var t,n;return Object(ku.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=hv(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function gy(t,e){return Object(ku.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(ku.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Tu("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(ku.b)(i,void 0,void 0,function(){return Object(ku.d)(this,function(t){switch(t.label){case 0:return[4,zd(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function my(t,e){return Object(ku.b)(this,void 0,void 0,function(){var n,r;return Object(ku.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,by(t)];case 1:return n=i.sent(),Tu("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(ku.b)(this,void 0,void 0,function(){var n,r;return Object(ku.d)(this,function(i){switch(i.label){case 0:return(n=Nu(t)).asyncQueue.verifyOperationInProgress(),Tu("RemoteStore","RemoteStore received new credentials"),r=Yp(n),n.Qr.add(3),[4,qp(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Qr.delete(3),[4,Vp(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function by(t){return Object(ku.b)(this,void 0,void 0,function(){return Object(ku.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Tu("FirestoreClient","Using default OfflineComponentProvider"),[4,gy(t,new cy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function wy(t){return Object(ku.b)(this,void 0,void 0,function(){return Object(ku.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Tu("FirestoreClient","Using default OnlineComponentProvider"),[4,my(t,new hy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function _y(t){return by(t).then(function(t){return t.persistence})}function ky(t){return by(t).then(function(t){return t.localStore})}function Ey(t){return wy(t).then(function(t){return t.remoteStore})}function Oy(t){return wy(t).then(function(t){return t.syncEngine})}function Sy(t){return Object(ku.b)(this,void 0,void 0,function(){var e,n;return Object(ku.d)(this,function(r){switch(r.label){case 0:return[4,wy(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Nv.bind(null,e.syncEngine),n.onUnlisten=Dv.bind(null,e.syncEngine),n)]}})})}function Ty(t,e,n){var r=this;void 0===n&&(n={});var i=new Eh;return t.asyncQueue.enqueueAndForget(function(){return Object(ku.b)(r,void 0,void 0,function(){var r;return Object(ku.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new dy({next:function(o){e.enqueueAndForget(function(){return bv(t,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Gu(zu.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Gu(zu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Ev(Gc(n.path),o,{includeMetadataChanges:!0,uo:!0});return mv(t,a)},[4,Sy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Iy(t,e,n){var r=this;void 0===n&&(n={});var i=new Eh;return t.asyncQueue.enqueueAndForget(function(){return Object(ku.b)(r,void 0,void 0,function(){var r;return Object(ku.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new dy({next:function(n){e.enqueueAndForget(function(){return bv(t,a)}),n.fromCache&&"server"===r.source?i.reject(new Gu(zu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Ev(n,o,{includeMetadataChanges:!0,uo:!0});return mv(t,a)},[4,Sy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Cy=function(t,e,n,r,i,o){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=o},xy=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ay=new Map,jy=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Ny=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(pp.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Ry=function(){function t(t){var e=this;this.fc=null,this.currentUser=pp.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){e.dc++,e.currentUser=e.wc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.dc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),t.get().then(function(t){e.auth=t,e.fc&&e.auth.addAuthTokenListener(e.fc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.dc!==e?(Tu("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ju("string"==typeof n.accessToken),new jy(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},t.prototype.wc=function(){var t=this.auth&&this.auth.getUid();return ju(null===t||"string"==typeof t),new pp(t)},t}(),Dy=function(){function t(t,e){this._c=t,this.mc=e,this.type="FirstParty",this.user=pp.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.mc},e=this._c.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Py=function(){function t(t,e){this._c=t,this.mc=e}return t.prototype.getToken=function(){return Promise.resolve(new Dy(this._c,this.mc))},t.prototype.setChangeListener=function(t){t(pp.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Ly(t,e,n){if(!n)throw new Gu(zu.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function My(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Gu(zu.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Fy(t,e,n,r){if(!0===e&&!0===r)throw new Gu(zu.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Uy(t){if(!Ju.isDocumentKey(t))throw new Gu(zu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Vy(t){if(Ju.isDocumentKey(t))throw new Gu(zu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function qy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Au()}function By(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Gu(zu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=qy(t);throw new Gu(zu.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Hy(t,e){if(e<=0)throw new Gu(zu.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var zy=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Gu(zu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Gu(zu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Fy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Gy=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new zy({}),this._settingsFrozen=!1,t instanceof xy?(this._databaseId=t,this._credentials=new Ny):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Gu(zu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xy(t.options.projectId)}(t),this._credentials=new Ry(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Gu(zu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Gu(zu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zy(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Ny;switch(t.type){case"gapi":var e=t.client;return ju(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Py(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Gu(zu.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Ay.get(this))&&(Tu("ComponentProvider","Removing Datastore"),Ay.delete(this),t.terminate()),Promise.resolve();var t},t}(),Ky=function(t){this._delegate=t},Wy=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Qy(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Yy=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Qy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Gc(r))||this).firestore=e,i._path=r,i.type="collection",i}return Object(ku.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Wy(this.firestore,null,new Ju(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Yy);function Jy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ky&&(t=t._delegate),Ly("collection","path",e),t instanceof Gy)return Vy(n=Wu.fromString.apply(Wu,Object(ku.f)([e],r))),new Qy(t,null,n);if(!(t instanceof Wy||t instanceof Qy))throw new Gu(zu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Vy(n=Wu.fromString.apply(Wu,Object(ku.f)([t.path],r)).child(Wu.fromString(e))),new Qy(t.firestore,null,n)}function Xy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ky&&(t=t._delegate),1===arguments.length&&(e=Du.u()),Ly("doc","path",e),t instanceof Gy)return Uy(n=Wu.fromString.apply(Wu,Object(ku.f)([e],r))),new Wy(t,null,new Ju(n));if(!(t instanceof Wy||t instanceof Qy))throw new Gu(zu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Uy(n=t._path.child(Wu.fromString.apply(Wu,Object(ku.f)([e],r)))),new Wy(t.firestore,t instanceof Qy?t._converter:null,new Ju(n))}function Zy(t,e){return t instanceof Ky&&(t=t._delegate),e instanceof Ky&&(e=e._delegate),(t instanceof Wy||t instanceof Qy)&&(e instanceof Wy||e instanceof Qy)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function $y(t,e){return t instanceof Ky&&(t=t._delegate),e instanceof Ky&&(e=e._delegate),t instanceof Yy&&e instanceof Yy&&t.firestore===e.firestore&&tl(t._query,e._query)&&t._converter===e._converter}var tg=function(){function t(){var t=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new Rp(this,"async_queue_retry"),this.bc=function(){var e=jp();e&&Tu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.Zi()};var e=jp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.vc(),this.Pc(t)},t.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var t=jp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}},t.prototype.enqueue=function(t){return this.vc(),this.Ec?new Promise(function(t){}):this.Pc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.gc.push(t),e.Vc()})},t.prototype.Vc=function(){return Object(ku.b)(this,void 0,void 0,function(){var t,e=this;return Object(ku.d)(this,function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!xh(t=n.sent()))throw t;return Tu("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gc.length>0&&this.rr.Yi(function(){return e.Vc()}),n.label=5;case 5:return[2]}})})},t.prototype.Pc=function(t){var e=this,n=this.yc.then(function(){return e.Ac=!0,t().catch(function(t){throw e.Ic=t,e.Ac=!1,Iu("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Ac=!1,t})});return this.yc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.vc(),this.Rc.indexOf(t)>-1&&(e=0);var i=fv.createAndSchedule(this,t,e,n,function(t){return r.Sc(t)});return this.Tc.push(i),i},t.prototype.vc=function(){this.Ic&&Au()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Dc=function(){return Object(ku.b)(this,void 0,void 0,function(){var t;return Object(ku.d)(this,function(e){switch(e.label){case 0:return[4,t=this.yc];case 1:e.sent(),e.label=2;case 2:if(t!==this.yc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Cc=function(t){for(var e=0,n=this.Tc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.xc=function(t){var e=this;return this.Dc().then(function(){e.Tc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Dc()})},t.prototype.Nc=function(t){this.Rc.push(t)},t.prototype.Sc=function(t){var e=this.Tc.indexOf(t);this.Tc.splice(e,1)},t}();function eg(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Eh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var ng=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new tg,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(ku.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||ig(this),this._firestoreClient.terminate()},e}(Gy);function rg(t){return t._firestoreClient||ig(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ig(t){var e=t._freezeSettings(),n=function(t,e,n){return new Cy(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t._databaseId,t._persistenceKey,e);t._firestoreClient=new yy(t._credentials,t._queue,n)}function og(t,e,n){var r=this,i=new Eh;return t.asyncQueue.enqueue(function(){return Object(ku.b)(r,void 0,void 0,function(){var r;return Object(ku.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,gy(t,n)];case 1:return o.sent(),[4,my(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===zu.FAILED_PRECONDITION||t.code===zu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function ag(t){if(t._initialized||t._terminated)throw new Gu(zu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var sg=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Gu(zu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qu(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),ug=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Xu.fromBase64String(e))}catch(e){throw new Gu(zu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Xu.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),cg=function(t){this._methodName=t},lg=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Gu(zu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Gu(zu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Pu(this._lat,t._lat)||Pu(this._long,t._long)},t}(),fg=/^__.*__$/,hg=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Ml(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ll(t,this.data,e,this.fieldTransforms)},t}(),dg=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Ml(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function pg(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Au()}}var vg=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),t.prototype.Oc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.Lc(t),r},t.prototype.Bc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.$c(),r},t.prototype.qc=function(t){return this.Oc({path:void 0,Mc:!0})},t.prototype.Uc=function(t){return Pg(t,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.$c=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Lc(this.path.get(t))},t.prototype.Lc=function(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(pg(this.Fc)&&fg.test(t))throw this.Uc('Document fields cannot begin and end with "__"')},t}(),yg=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.D=n||Np(t)}return t.prototype.Wc=function(t,e,n,r){return void 0===r&&(r=!1),new vg({Fc:t,methodName:e,Kc:n,path:Qu.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},t}();function gg(t){var e=t._freezeSettings(),n=Np(t._databaseId);return new yg(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mg(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Wc(o.merge||o.mergeFields?2:0,e,n,i);jg("Data must be an object, but it was:",a,r);var s,u,c=xg(r,a);if(o.merge)s=new sl(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=Ng(e,h[f],n);if(!a.contains(d))throw new Gu(zu.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Lg(l,d)||l.push(d)}s=new sl(l),u=a.fieldTransforms.filter(function(t){return s.covers(t.field)})}else s=null,u=a.fieldTransforms;return new hg(new ul(c),s,u)}var bg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ku.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Fc)throw t.Uc(1===t.Fc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(cg);function wg(t,e,n){return new vg({Fc:3,Kc:e.settings.Kc,methodName:t._methodName,Mc:n},e.databaseId,e.D,e.ignoreUndefinedProperties)}var _g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ku.c)(e,t),e.prototype._toFieldTransform=function(t){return new Tl(t.path,new ml)},e.prototype.isEqual=function(t){return t instanceof e},e}(cg),kg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(ku.c)(e,t),e.prototype._toFieldTransform=function(t){var e=wg(this,t,!0),n=this.jc.map(function(t){return Cg(t,e)}),r=new bl(n);return new Tl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(cg),Eg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(ku.c)(e,t),e.prototype._toFieldTransform=function(t){var e=wg(this,t,!0),n=this.jc.map(function(t){return Cg(t,e)}),r=new _l(n);return new Tl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(cg),Og=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Gc=n,r}return Object(ku.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new El(t.D,dl(t.D,this.Gc));return new Tl(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(cg);function Sg(t,e,n,r){var i=t.Wc(1,e,n);jg("Data must be an object, but it was:",i,r);var o=[],a=new cl;Uu(r,function(t,r){var s=Dg(e,t,n);r instanceof Ky&&(r=r._delegate);var u=i.Bc(s);if(r instanceof bg)o.push(s);else{var c=Cg(r,u);null!=c&&(o.push(s),a.set(s,c))}});var s=new sl(o);return new dg(a.v(),s,i.fieldTransforms)}function Tg(t,e,n,r,i,o){var a=t.Wc(1,e,n),s=[Ng(e,r,n)],u=[i];if(o.length%2!=0)throw new Gu(zu.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Ng(e,o[c])),u.push(o[c+1]);for(var l=[],f=new cl,h=s.length-1;h>=0;--h)if(!Lg(l,s[h])){var d=s[h],p=u[h];p instanceof Ky&&(p=p._delegate);var v=a.Bc(d);if(p instanceof bg)l.push(d);else{var y=Cg(p,v);null!=y&&(l.push(d),f.set(d,y))}}var g=new sl(l);return new dg(f.v(),g,a.fieldTransforms)}function Ig(t,e,n,r){return void 0===r&&(r=!1),Cg(n,t.Wc(r?4:3,e))}function Cg(t,e){if(t instanceof Ky&&(t=t._delegate),Ag(t))return jg("Unsupported field value:",e,t),xg(t,e);if(t instanceof cg)return function(t,e){if(!pg(e.Fc))throw e.Uc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Uc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Mc&&4!==e.Fc)throw e.Uc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Cg(o[i],e.qc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Ky&&(t=t._delegate),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return dl(e.D,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=nc.fromDate(t);return{timestampValue:Of(e.D,n)}}if(t instanceof nc)return n=new nc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Of(e.D,n)};if(t instanceof lg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ug)return{bytesValue:Sf(e.D,t._byteString)};if(t instanceof Wy){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Cf(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc("Unsupported field value: "+qy(t))}(t,e)}function xg(t,e){var n={};return Vu(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uu(t,function(t,r){var i=Cg(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Ag(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof nc||t instanceof lg||t instanceof ug||t instanceof Wy||t instanceof cg)}function jg(t,e,n){if(!Ag(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=qy(n);throw e.Uc("an object"===r?t+" a custom object":t+" "+r)}}function Ng(t,e,n){if(e instanceof Ky&&(e=e._delegate),e instanceof sg)return e._internalPath;if("string"==typeof e)return Dg(t,e);throw Pg("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Rg=new RegExp("[~\\*/\\[\\]]");function Dg(t,e,n){if(e.search(Rg)>=0)throw Pg("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(sg.bind.apply(sg,Object(ku.f)([void 0],e.split(".")))))._internalPath}catch(r){throw Pg("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Pg(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Gu(zu.INVALID_ARGUMENT,(s+=". ")+t+u)}function Lg(t,e){return t.some(function(t){return t.isEqual(e)})}var Mg=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Wy(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Fg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data().field(Ug("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Fg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ku.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Mg);function Ug(t,e){return"string"==typeof e?Dg(t,e):e instanceof Ky?e._delegate._internalPath:e._internalPath}var Vg=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),qg=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Object(ku.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Bg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data().field(Ug("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Mg),Bg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ku.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(qg),Hg=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Vg(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Bg(n._firestore,n._userDataWriter,r.key,r,new Vg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Gu(zu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Bg(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Vg(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Bg(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Vg(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:zg(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function zg(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Au()}}function Gg(t,e){return t instanceof qg&&e instanceof qg?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Hg&&e instanceof Hg&&t._firestore===e._firestore&&$y(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Kg(t){if(Wc(t)&&0===t.explicitOrderBy.length)throw new Gu(zu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wg=function(){};function Yg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Qg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).zc=e,i.Hc=n,i.Jc=r,i.type="where",i}return Object(ku.c)(e,t),e.prototype._apply=function(t){var e=gg(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Gu(zu.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){nm(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(em(r,t,l[c]));s={arrayValue:{values:u}}}else s=em(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||nm(a,o),s=Ig(n,"where",a,"in"===o||"not-in"===o);var f=Cc.create(i,o,s);return function(t,e){if(e.g()){var n=Qc(t);if(null!==n&&!n.isEqual(e.field))throw new Gu(zu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Yc(t);null!==r&&rm(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Gu(zu.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Yy(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new Hc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Wg),Jg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zc=e,r.Yc=n,r.type="orderBy",r}return Object(ku.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Gu(zu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Gu(zu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Uc(e,n);return function(t,e){if(null===Yc(t)){var n=Qc(t);null!==n&&rm(0,n,e.field)}}(t,r),r}(t._query,this.zc,this.Yc);return new Yy(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Hc(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Wg),Xg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(ku.c)(e,t),e.prototype._apply=function(t){return new Yy(t.firestore,t._converter,$c(t._query,this.Xc,this.Zc))},e}(Wg),Zg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(ku.c)(e,t),e.prototype._apply=function(t){var e=tm(t,this.type,this.ta,this.ea);return new Yy(t.firestore,t._converter,function(t,e){return new Hc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Wg),$g=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(ku.c)(e,t),e.prototype._apply=function(t){var e=tm(t,this.type,this.ta,this.ea);return new Yy(t.firestore,t._converter,function(t,e){return new Hc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Wg);function tm(t,e,n,r){if(n[0]instanceof Ky&&(n[0]=n[0]._delegate),n[0]instanceof Mg)return function(t,e,n,r,i){if(!r)throw new Gu(zu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Xc(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(dc(e,r.key));else{var c=r.field(u.field);if(rc(c))throw new Gu(zu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Gu(zu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Mc(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=gg(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new Gu(zu.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Gu(zu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Jc(t)&&-1!==c.indexOf("/"))throw new Gu(zu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Wu.fromString(c));if(!Ju.isDocumentKey(l))throw new Gu(zu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new Ju(l);s.push(dc(e,f))}else{var h=Ig(n,r,c);s.push(h)}}return new Mc(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function em(t,e,n){if(n instanceof Ky&&(n=n._delegate),"string"==typeof n){if(""===n)throw new Gu(zu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jc(e)&&-1!==n.indexOf("/"))throw new Gu(zu.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Wu.fromString(n));if(!Ju.isDocumentKey(r))throw new Gu(zu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return dc(t,new Ju(r))}if(n instanceof Wy)return dc(t,n._key);throw new Gu(zu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+qy(n)+".")}function nm(t,e){if(!Array.isArray(t)||0===t.length)throw new Gu(zu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Gu(zu.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function rm(t,e,n){if(!n.isEqual(e))throw new Gu(zu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var im=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),ac(t)){case 0:return null;case 1:return t.booleanValue;case 2:return tc(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ec(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Au()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Uu(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new lg(tc(t.latitude),tc(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=ic(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(oc(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=$u(t);return new nc(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Wu.fromString(t);ju($f(n));var r=new xy(n.get(1),n.get(3)),i=new Ju(n.popFirst(5));return r.isEqual(e)||Iu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function om(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var am=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ku.c)(e,t),e.prototype.convertBytes=function(t){return new ug(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Wy(this.firestore,null,e)},e}(im),sm=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=gg(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=um(t,this._firestore),i=om(r._converter,e,n),o=mg(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,Cl.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=um(t,this._firestore);return e instanceof Ky&&(e=e._delegate),o="string"==typeof e||e instanceof sg?Tg(this._dataReader,"WriteBatch.update",a._key,e,n,r):Sg(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,Cl.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=um(t,this._firestore);return this._mutations=this._mutations.concat(new zl(e._key,Cl.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Gu(zu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function um(t,e){if(t instanceof Ky&&(t=t._delegate),t.firestore!==e)throw new Gu(zu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var cm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ku.c)(e,t),e.prototype.convertBytes=function(t){return new ug(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Wy(this.firestore,null,e)},e}(im);function lm(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=By(t,Wy);var o=By(t.firestore,ng),a=gg(o);return e instanceof Ky&&(e=e._delegate),hm(o,[("string"==typeof e||e instanceof sg?Tg(a,"updateDoc",t._key,e,n,r):Sg(a,"updateDoc",t._key,e)).toMutation(t._key,Cl.exists(!0))])}function fm(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Ky&&(t=t._delegate);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||eg(i[s])||(a=i[s],s++);var u,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(eg(i[s])){var h=i[s];i[s]=null===(e=h.next)||void 0===e?void 0:e.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(t instanceof Wy)c=By(t.firestore,ng),l=Gc(t._key.path),u={next:function(e){i[s]&&i[s](dm(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=By(t,Yy);c=By(d.firestore,ng),l=d._query;var p=new cm(c);u={next:function(t){i[s]&&i[s](new Hg(c,p,d,t))},error:i[s+1],complete:i[s+2]},Kg(t._query)}return function(t,e,n,r){var i=this,o=new dy(r),a=new Ev(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(ku.b)(i,void 0,void 0,function(){var e;return Object(ku.d)(this,function(n){switch(n.label){case 0:return e=mv,[4,Sy(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})}),function(){o.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(ku.b)(i,void 0,void 0,function(){var e;return Object(ku.d)(this,function(n){switch(n.label){case 0:return e=bv,[4,Sy(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})})}}(rg(c),l,f,u)}function hm(t,e){return function(t,e){var n=this,r=new Eh;return t.asyncQueue.enqueueAndForget(function(){return Object(ku.b)(n,void 0,void 0,function(){var n;return Object(ku.d)(this,function(i){switch(i.label){case 0:return n=Pv,[4,Oy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(rg(t),e)}function dm(t,e,n){var r=n.docs.get(e._key),i=new cm(t);return new qg(t,i,e._key,r,new Vg(n.hasPendingWrites,n.fromCache),e._converter)}var pm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(ku.c)(e,t),e.prototype.get=function(e){var n=this,r=um(e,this._firestore),i=new cm(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new qg(n._firestore,i,r._key,t._document,new Vg(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=gg(t)}return t.prototype.get=function(t){var e=this,n=um(t,this._firestore),r=new am(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Au();var i=t[0];if(i instanceof _c)return new Mg(e._firestore,r,n._key,null,n._converter);if(i instanceof wc)return new Mg(e._firestore,r,i.key,i,n._converter);throw Au()})},t.prototype.set=function(t,e,n){var r=um(t,this._firestore),i=om(r._converter,e,n),o=mg(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=um(t,this._firestore);return e instanceof Ky&&(e=e._delegate),o="string"==typeof e||e instanceof sg?Tg(this._dataReader,"Transaction.update",a._key,e,n,r):Sg(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=um(t,this._firestore);return this._transaction.delete(e._key),this},t}());function vm(){if("undefined"==typeof Uint8Array)throw new Gu(zu.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ym(){if("undefined"==typeof atob)throw new Gu(zu.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var gm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ku.c)(e,t),e.fromBase64String=function(t){return ym(),new e(ug.fromBase64String(t))},e.fromUint8Array=function(t){return vm(),new e(ug.fromUint8Array(t))},e.prototype.toBase64=function(){return ym(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return vm(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Ky),mm=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){ag(t=By(t,ng));var n=rg(t),r=t._freezeSettings(),i=new hy;return og(n,i,new ly(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){ag(t=By(t,ng));var e=rg(t),n=t._freezeSettings(),r=new hy;return og(e,r,new fy(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Gu(zu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Eh;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(ku.b)(e,void 0,void 0,function(){var e;return Object(ku.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(ku.b)(this,void 0,void 0,function(){return Object(ku.d)(this,function(e){switch(e.label){case 0:return Th.At()?[4,Th.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Md(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),bm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof xy||(i.sa=e),i}return Object(ku.c)(e,t),Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=By(t,Gy))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&Cu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(ku.b)(e,void 0,void 0,function(){var e,n;return Object(ku.d)(this,function(r){switch(r.label){case 0:return[4,_y(t)];case 1:return e=r.sent(),[4,Ey(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Nu(t);return e.Qr.delete(0),Vp(e)}(n))]}})})})}(rg(By(this._delegate,ng)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(ku.b)(e,void 0,void 0,function(){var e,n;return Object(ku.d)(this,function(r){switch(r.label){case 0:return[4,_y(t)];case 1:return e=r.sent(),[4,Ey(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(ku.b)(this,void 0,void 0,function(){var e;return Object(ku.d)(this,function(n){switch(n.label){case 0:return(e=Nu(t)).Qr.add(0),[4,qp(e)];case 1:return n.sent(),e.jr.set("Offline"),[2]}})})}(n))]}})})})}(rg(By(this._delegate,ng)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Fy("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Eh;return t.asyncQueue.enqueueAndForget(function(){return Object(ku.b)(e,void 0,void 0,function(){var e;return Object(ku.d)(this,function(r){switch(r.label){case 0:return e=qv,[4,Oy(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(rg(By(this._delegate,ng)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new dy(e);return t.asyncQueue.enqueueAndForget(function(){return Object(ku.b)(n,void 0,void 0,function(){var e;return Object(ku.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Nu(t).Zr.add(e),e.next()},[4,Sy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(ku.b)(n,void 0,void 0,function(){var e;return Object(ku.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Nu(t).Zr.delete(e)},[4,Sy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(rg(t=By(t,ng)),eg(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.sa)throw new Gu(zu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Rm(this,Jy(this._delegate,t))}catch(t){throw Sm(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Om(this,Xy(this._delegate,t))}catch(t){throw Sm(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Am(this,function(t,e){if(t=By(t,Gy),Ly("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Gu(zu.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Yy(t,null,function(t){return new Hc(Wu.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Sm(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Eh;return t.asyncQueue.enqueueAndForget(function(){return Object(ku.b)(n,void 0,void 0,function(){var n;return Object(ku.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return wy(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new vy(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(rg(t),function(n){return e(new pm(t,n))})}(this._delegate,function(n){return t(new _m(e,n))})},e.prototype.batch=function(){var t=this;return rg(this._delegate),new km(new sm(this._delegate,function(e){return hm(t._delegate,e)}))},e.prototype.loadBundle=function(t){throw new Gu(zu.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Gu(zu.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Ky),wm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ku.c)(e,t),e.prototype.convertBytes=function(t){return new gm(new ug(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Om.ia(e,this.firestore,null)},e}(im),_m=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r._userDataWriter=new wm(e),r}return Object(ku.c)(e,t),e.prototype.get=function(t){var e=this,n=Dm(t);return this._delegate.get(n).then(function(t){return new Cm(e._firestore,new qg(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},e.prototype.set=function(t,e,n){var r=Dm(t);return n?(My("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Dm(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Object(ku.f)([a,e,n],i)),this},e.prototype.delete=function(t){var e=Dm(t);return this._delegate.delete(e),this},e}(Ky),km=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ku.c)(e,t),e.prototype.set=function(t,e,n){var r=Dm(t);return n?(My("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Dm(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Object(ku.f)([a,e,n],i)),this},e.prototype.delete=function(t){var e=Dm(t);return this._delegate.delete(e),this},e.prototype.commit=function(){return this._delegate.commit()},e}(Ky),Em=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this)._firestore=e,i._userDataWriter=n,i}return Object(ku.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new Bg(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new xm(this._firestore,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},e.ra=function(t,n){var r=e.oa,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new wm(t),n),i.set(n,o)),o},e}(Ky);Em.oa=new WeakMap;var Om=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new wm(e),r}return Object(ku.c)(e,t),e.ca=function(t,n,r){if(t.length%2!=0)throw new Gu(zu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Wy(n._delegate,r,new Ju(t)))},e.ia=function(t,n,r){return new e(n,new Wy(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Rm(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Rm(this.firestore,Jy(this._delegate,t))}catch(t){throw Sm(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Ky&&(t=t._delegate),t instanceof Wy&&Zy(this._delegate,t)},e.prototype.set=function(t,e){e=My("DocumentReference.set",e);try{return function(t,e,n){t=By(t,Wy);var r=By(t.firestore,ng),i=om(t._converter,e,n);return hm(r,[mg(gg(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Cl.none())])}(this._delegate,t,e)}catch(t){throw Sm(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?lm(this._delegate,t):lm.apply(void 0,Object(ku.f)([this._delegate,t,e],n))}catch(t){throw Sm(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return hm(By((t=this._delegate).firestore,ng),[new zl(t._key,Cl.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Tm(e),i=Im(e,function(e){return new Cm(t.firestore,new qg(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return fm(this._delegate,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=By(t,Wy);var e=By(t.firestore,ng),n=rg(e),r=new cm(e);return function(t,e){var n=this,r=new Eh;return t.asyncQueue.enqueueAndForget(function(){return Object(ku.b)(n,void 0,void 0,function(){var n;return Object(ku.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ku.b)(this,void 0,void 0,function(){var r,i;return Object(ku.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Nu(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Kn.In(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof wc?n.resolve(i):i instanceof _c?n.resolve(null):n.reject(new Gu(zu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=hv(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,ky(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new qg(e,r,t._key,n,new Vg(n instanceof wc&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=By(t,Wy);var e=By(t.firestore,ng);return Ty(rg(e),t._key,{source:"server"}).then(function(n){return dm(e,t,n)})}(this._delegate):function(t){t=By(t,Wy);var e=By(t.firestore,ng);return Ty(rg(e),t._key).then(function(n){return dm(e,t,n)})}(this._delegate)).then(function(t){return new Cm(e.firestore,new qg(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Em.ra(this.firestore,t):null))},e}(Ky);function Sm(t,e,n){return t.message=t.message.replace(e,n),t}function Tm(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!eg(r))return r}return{}}function Im(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=eg(t[0])?t[0]:eg(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Cm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(ku.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Om(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,e){return this._delegate.get(t,e)},e.prototype.isEqual=function(t){return Gg(this._delegate,t._delegate)},e}(Ky),xm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ku.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Cm),Am=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new wm(e),r}return Object(ku.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Yg(this._delegate,function(t,e,n){var r=e,i=Ug("where",t);return new Qg(i,r,n)}(t,n,r)))}catch(t){throw Sm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Yg(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Ug("orderBy",t);return new Jg(r,n)}(t,n)))}catch(t){throw Sm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Yg(this._delegate,function(t){return Hy("limit",t),new Xg("limit",t,"F")}(t)))}catch(t){throw Sm(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Yg(this._delegate,function(t){return Hy("limitToLast",t),new Xg("limitToLast",t,"L")}(t)))}catch(t){throw Sm(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zg("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Sm(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zg("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Sm(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $g("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Sm(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $g("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Sm(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return $y(this._delegate,t._delegate)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=By(t,Yy);var e=By(t.firestore,ng),n=rg(e),r=new cm(e);return function(t,e){var n=this,r=new Eh;return t.asyncQueue.enqueueAndForget(function(){return Object(ku.b)(n,void 0,void 0,function(){var n;return Object(ku.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ku.b)(this,void 0,void 0,function(){var r,i,o,a,s;return Object(ku.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Zd(t,e,!0)];case 1:return s=u.sent(),r=new Cv(e,s.jn),i=r.Io(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=hv(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,ky(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Hg(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=By(t,Yy);var e=By(t.firestore,ng),n=rg(e),r=new cm(e);return Iy(n,t._query,{source:"server"}).then(function(n){return new Hg(e,r,t,n)})}(this._delegate):function(t){t=By(t,Yy);var e=By(t.firestore,ng),n=rg(e),r=new cm(e);return Kg(t._query),Iy(n,t._query).then(function(n){return new Hg(e,r,t,n)})}(this._delegate)).then(function(t){return new Nm(e.firestore,new Hg(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Tm(e),i=Im(e,function(e){return new Nm(t.firestore,new Hg(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return fm(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Em.ra(this.firestore,t):null))},e}(Ky),jm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(ku.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new xm(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(Ky),Nm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(ku.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Am(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new xm(t._firestore,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new jm(e._firestore,t)})},e.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new xm(n._firestore,r))})},e.prototype.isEqual=function(t){return Gg(this._delegate,t._delegate)},e}(Ky),Rm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(ku.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Om(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Om(this.firestore,void 0===t?Xy(this._delegate):Xy(this._delegate,t))}catch(t){throw Sm(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=By(t.firestore,ng),r=Xy(t),i=om(t._converter,e);return hm(n,[mg(gg(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Cl.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Om(e.firestore,t)})},e.prototype.isEqual=function(t){return Zy(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Em.ra(this.firestore,t):null))},e}(Am);function Dm(t){return t instanceof Ky&&(t=t._delegate),By(t,Wy)}var Pm,Lm=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(sg.bind.apply(sg,Object(ku.f)([void 0],e))))||this}return Object(ku.c)(e,t),e.documentId=function(){return new e(Qu.keyField().canonicalString())},e.prototype.isEqual=function(t){return t instanceof Ky&&(t=t._delegate),t instanceof sg&&this._delegate._internalPath.isEqual(t._internalPath)},e}(Ky),Mm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ku.c)(e,t),e.serverTimestamp=function(){var t=new _g("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new bg("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new kg("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Eg("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Og("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(Ky),Fm=o("/6Yf"),Um={Firestore:bm,GeoPoint:lg,Timestamp:nc,Blob:gm,Transaction:_m,WriteBatch:km,DocumentReference:Om,DocumentSnapshot:Cm,Query:Am,QueryDocumentSnapshot:xm,QuerySnapshot:Nm,CollectionReference:Rm,FieldPath:Lm,FieldValue:Mm,setLogLevel:function(t){Ou.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Fm.a("firestore",function(t){return function(t,e){return new bm(t,new ng(t,e),new mm)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Um)))})(Pm=gi.a),Pm.registerVersion("@firebase/firestore","2.2.1");var Vm=o("qgXg"),qm=o("quSY"),Bm=o("Ylt2"),Hm=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return h(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return p(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}f(_(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new zm(this._getNow(),t)),this._trimBufferThenGetEvents()),f(_(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new un.a;if(this.isStopped||this.hasError?e=qm.a.EMPTY:(this.observers.push(t),e=new Bm.a(this,t)),i&&t.add(t=new vi.a(t,i)),n)for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(var s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||Vm.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(Ge.a),zm=function t(e,n){h(this,t),this.time=e,this.value=n};function Gm(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,u=t.scheduler,c=0,l=!1,f=!1;return function(t){var r;c++,!e||l?(l=!1,e=new Hm(i,a,u),r=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){f=!0,n=void 0,e.complete()}}),f&&(n=void 0)):r=e.subscribe(this),this.add(function(){c--,r.unsubscribe(),r=void 0,n&&!f&&s&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)})}}(r))}}var Km=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();function Wm(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new Ym(t))}}var Ym=function(){function t(e){h(this,t),this.defaultValue=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Qm(t,this.defaultValue))}}]),t}(),Qm=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return p(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(Kt.a);function Jm(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$m;return function(e){return e.lift(new Xm(t))}}var Xm=function(){function t(e){h(this,t),this.errorFactory=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Zm(t,this.errorFactory))}}]),t}(),Zm=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return p(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(Pm){t=Pm}this.destination.error(t)}}]),n}(Kt.a);function $m(){return new Km}var tb=o("SpAZ");function eb(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Wt(function(e,n){return t(e,n,r)}):tb.a,In(1),n?Wm(e):Jm(function(){return new Km}))}}function nb(t,e){return e?Dn(function(){return t},e):Dn(function(){return t})}var rb,ib=o("tf+s"),ob=new s.r("angularfire2.auth.use-emulator"),ab=new s.r("angularfire2.auth.settings"),sb=new s.r("angularfire2.auth.tenant-id"),ub=new s.r("angularfire2.auth.langugage-code"),cb=new s.r("angularfire2.auth.use-device-language"),lb=new s.r("angularfire.auth.persistence"),fb=((rb=function t(e,n,r,i,a,s,u,c,l,f){h(this,t);var d=new ui.d(i),p=Object(ui.h)(d),v=new Ge.a,y=Object(Bt.a)(void 0).pipe(Object(vi.b)(d.outsideAngular),Dn(function(){return i.runOutsideAngular(function(){return o.e(5).then(o.bind(null,"6nsN"))})}),Object(Jt.a)(function(){return Object(ui.g)(e,i,n)}),Object(Jt.a)(function(t){return i.runOutsideAngular(function(){var e=a,n=s;return Object(ui.f)("".concat(t.name,".auth"),"AngularFireAuth",t,function(){var r=i.runOutsideAngular(function(){return t.auth()});return e&&r.useEmulator("http://".concat(e.join(":"))),u&&(r.tenantId=u),r.languageCode=c,l&&r.useDeviceLanguage(),n&&(r.settings=n),f&&r.setPersistence(f),r},[e,u,c,l,n,f])})}),Gm({bufferSize:1,refCount:!1}));if(J(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Bt.a)(null);else{y.pipe(eb()).subscribe();var g=y.pipe(Dn(function(t){return t.getRedirectResult().then(function(t){return t},function(){return null})}),p,Gm({bufferSize:1,refCount:!1})),m=function(t){return new Ht.a(function(e){return{unsubscribe:i.runOutsideAngular(function(){return t(e)})}})},b=y.pipe(Dn(function(t){return m(t.onAuthStateChanged.bind(t))})),w=y.pipe(Dn(function(t){return m(t.onIdTokenChanged.bind(t))}));this.authState=g.pipe(nb(b),Object(ib.a)(d.outsideAngular),Object(vi.b)(d.insideAngular)),this.user=g.pipe(nb(w),Object(ib.a)(d.outsideAngular),Object(vi.b)(d.insideAngular)),this.idToken=this.user.pipe(Dn(function(t){return t?Object(Rn.a)(t.getIdToken()):Object(Bt.a)(null)})),this.idTokenResult=this.user.pipe(Dn(function(t){return t?Object(Rn.a)(t.getIdTokenResult()):Object(Bt.a)(null)})),this.credential=Object(wn.a)(g,v,this.authState.pipe(Wt(function(t){return!t}))).pipe(Object(Jt.a)(function(t){return(null==t?void 0:t.user)?t:null}),Object(ib.a)(d.outsideAngular),Object(vi.b)(d.insideAngular))}return Object(ui.i)(this,y,i,{spy:{apply:function(t,e,n){(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(function(t){return v.next(t)})}}})}).\u0275fac=function(t){return new(t||rb)(s.Yb(ui.c),s.Yb(ui.b,8),s.Yb(s.C),s.Yb(s.A),s.Yb(ob,8),s.Yb(ab,8),s.Yb(sb,8),s.Yb(ub,8),s.Yb(cb,8),s.Yb(lb,8))},rb.\u0275prov=Object(s.Ib)({factory:function(){return new rb(Object(s.Yb)(ui.c),Object(s.Yb)(ui.b,8),Object(s.Yb)(s.C),Object(s.Yb)(s.A),Object(s.Yb)(ob,8),Object(s.Yb)(ab,8),Object(s.Yb)(sb,8),Object(s.Yb)(ub,8),Object(s.Yb)(cb,8),Object(s.Yb)(lb,8))},token:rb,providedIn:"any"}),rb);function hb(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Je.b;return new Ht.a(function(n){var r;return null!=e?e.schedule(function(){r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}})}(t,e)}function db(t,e){return hb(t,e).pipe(Object(Jt.a)(function(t){return{payload:t,type:"query"}}))}function pb(t,n){return db(t,n).pipe(An(void 0),ci(),Object(Jt.a)(function(t){var n=e(t,2),r=n[0],i=n[1],o=i.payload.docChanges(),a=o.map(function(t){return{type:t.type,payload:t}});return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach(function(t,e){var n=o.find(function(e){return e.doc.ref.isEqual(t.ref)}),i=null==r?void 0:r.payload.docs.find(function(e){return e.ref.isEqual(t.ref)});n&&JSON.stringify(n.doc.metadata)===JSON.stringify(t.metadata)||!n&&i&&JSON.stringify(i.metadata)===JSON.stringify(t.metadata)||a.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})}),a}))}function vb(t,e,n){return pb(t,n).pipe(hi(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return yb(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return yb(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return yb(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(function(t){return t.payload}),e)},[]),function(t){return t.lift(new jn(void 0,void 0))},Object(Jt.a)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}function yb(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[e,n].concat(o)),r}function gb(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(ui.e)(fb,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);var mb=function(){function n(t,e,r){h(this,n),this.ref=t,this.query=e,this.afs=r}return p(n,[{key:"stateChanges",value:function(t){var n=pb(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(n=n.pipe(Object(Jt.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}))),n.pipe(An(void 0),ci(),Wt(function(t){var n=e(t,2),r=n[0];return n[1].length>0||!r}),Object(Jt.a)(function(t){var n=e(t,2);n[0];return n[1]}),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(hi(function(t,e){return[].concat(i(t),i(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=gb(t);return vb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return db(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Jt.a)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(Object.assign({},n.data()),t({},e.idField,n.id)):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Rn.a)(this.query.get(t)).pipe(Object(vi.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new bb(this.ref.doc(t),this.afs)}}]),n}(),bb=function(){function n(t,e){h(this,n),this.ref=t,this.afs=e}return p(n,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=Sb(this.ref.collection(t),e),r=n.ref,i=n.query;return new mb(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return hb(this.ref,this.afs.schedulers.outsideAngular).pipe(An(void 0),ci(),Object(Jt.a)(function(t){var n=e(t,2),r=n[0],i=n[1];return i.exists?(null==r?void 0:r.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}})).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(Jt.a)(function(n){var r=n.payload;return e.idField?Object.assign(Object.assign({},r.data()),t({},e.idField,r.id)):r.data()}))}},{key:"get",value:function(t){return Object(Rn.a)(this.ref.get(t)).pipe(Object(vi.b)(this.afs.schedulers.insideAngular))}}]),n}(),wb=function(){function e(t,n){h(this,e),this.query=t,this.afs=n}return p(e,[{key:"stateChanges",value:function(t){return t&&0!==t.length?pb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Jt.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),Wt(function(t){return t.length>0}),this.afs.keepUnstableUntilFirst):pb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(hi(function(t,e){return[].concat(i(t),i(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=gb(t);return vb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return db(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Jt.a)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(t({},e.idField,n.id),n.data()):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Rn.a)(this.query.get(t)).pipe(Object(vi.b)(this.afs.schedulers.insideAngular))}}]),e}(),_b=new s.r("angularfire2.enableFirestorePersistence"),kb=new s.r("angularfire2.firestore.persistenceSettings"),Eb=new s.r("angularfire2.firestore.settings"),Ob=new s.r("angularfire2.firestore.use-emulator");function Sb(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var Tb,Ib,Cb=((Ib=function(){function t(n,r,o,a,s,u,c,l,f){h(this,t),this.schedulers=new ui.d(u),this.keepUnstableUntilFirst=Object(ui.h)(this.schedulers);var d=Object(ui.g)(n,u,r);!yi.a.auth&&f&&Object(ui.j)();var p=l,v=e(Object(ui.f)("".concat(d.name,".firestore"),"AngularFirestore",d,function(){var t=u.runOutsideAngular(function(){return d.firestore()});return a&&t.settings(a),p&&t.useEmulator.apply(t,i(p)),o&&!J(s)?[t,u.runOutsideAngular(function(){try{return Object(Rn.a)(t.enablePersistence(c||void 0).then(function(){return!0},function(){return!1}))}catch(Pm){return"undefined"!=typeof console&&console.warn(Pm),Object(Bt.a)(!1)}})]:[t,Object(Bt.a)(!1)]},[a,p,o]),2);this.firestore=v[0],this.persistenceEnabled$=v[1]}return p(t,[{key:"collection",value:function(t,e){var n=Sb("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run(function(){return r});return new mb(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new wb(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run(function(){return e});return new bb(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||Ib)(s.Yb(ui.c),s.Yb(ui.b,8),s.Yb(_b,8),s.Yb(Eb,8),s.Yb(s.C),s.Yb(s.A),s.Yb(kb,8),s.Yb(Ob,8),s.Yb(ob,8))},Ib.\u0275prov=Object(s.Ib)({factory:function(){return new Ib(Object(s.Yb)(ui.c),Object(s.Yb)(ui.b,8),Object(s.Yb)(_b,8),Object(s.Yb)(Eb,8),Object(s.Yb)(s.C),Object(s.Yb)(s.A),Object(s.Yb)(kb,8),Object(s.Yb)(Ob,8),Object(s.Yb)(ob,8))},token:Ib,providedIn:"any"}),Ib),xb=((Tb=function(){function t(){h(this,t)}return p(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:_b,useValue:!0},{provide:kb,useValue:e}]}}}]),t}()).\u0275fac=function(t){return new(t||Tb)},Tb.\u0275mod=s.Kb({type:Tb}),Tb.\u0275inj=s.Jb({providers:[Cb]}),Tb),Ab={apiKey:"AIzaSyDvoK8xNki9xglDT_iNBonCGKbdCogMY6o",authDomain:"huaweiexporter.firebaseapp.com",databaseURL:"https://huaweiexporter-default-rtdb.firebaseio.com",projectId:"huaweiexporter",storageBucket:"huaweiexporter.appspot.com",messagingSenderId:"420687984337",appId:"1:420687984337:web:f6ec3e21f266d02bde77f0",measurementId:"G-18FH7EVG9J"};function jb(t){return new Ht.a(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Rn.a)(n):Object(ze.b)()).subscribe(e)})}var Nb=o("EQ5u");function Rb(t){return function(e){return 0===t?Object(ze.b)():e.lift(new Db(t))}}var Db=function(){function t(e){if(h(this,t),this.total=e,this.total<0)throw new Tn}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Pb(t,this.total))}}]),t}(),Pb=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return p(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(Kt.a),Lb=o("x+ZX"),Mb=function(){function t(e){h(this,t),this.callback=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Fb(t,this.callback))}}]),t}(),Fb=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).add(new qm.a(r)),i}return n}(Kt.a),Ub=function t(e,n){h(this,t),this.id=e,this.url=n},Vb=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return p(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Ub),qb=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return p(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Ub),Bb=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t,r)).reason=i,o}return p(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Ub),Hb=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t,r)).error=i,o}return p(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Ub),zb=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return h(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ub),Gb=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return h(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ub),Kb=function(t){v(n,t);var e=g(n);function n(t,r,i,o,a){var s;return h(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return p(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Ub),Wb=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return h(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ub),Yb=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return h(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ub),Qb=function(){function t(e){h(this,t),this.route=e}return p(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),Jb=function(){function t(e){h(this,t),this.route=e}return p(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),Xb=function(){function t(e){h(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Zb=function(){function t(e){h(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),$b=function(){function t(e){h(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),tw=function(){function t(e){h(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),ew=function(){function t(e,n,r){h(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return p(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),nw=function(){function t(e){h(this,t),this.params=e||{}}return p(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function rw(t){return new nw(t)}function iw(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function ow(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function aw(t,e){var n,r=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!sw(t[n=r[o]],e[n]))return!1;return!0}function sw(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=i(t).sort(),r=i(e).sort();return n.every(function(t,e){return r[e]===t})}return t===e}function uw(t){return Array.prototype.concat.apply([],t)}function cw(t){return t.length>0?t[t.length-1]:null}function lw(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function fw(t){return Object(s.qb)(t)?t:Object(s.rb)(t)?Object(Rn.a)(Promise.resolve(t)):Object(Bt.a)(t)}function hw(t,e,n){return n?function(t,e){return aw(t,e)}(t.queryParams,e.queryParams)&&dw(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return sw(t[n],e[n])})}(t.queryParams,e.queryParams)&&pw(t.root,e.root)}function dw(t,e){if(!bw(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!dw(t.children[n],e.children[n]))return!1}return!0}function pw(t,e){return vw(t,e,e.segments)}function vw(t,e,n){if(t.segments.length>n.length)return!!bw(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!bw(t.segments,n))return!1;for(var r in e.children){if(!t.children[r])return!1;if(!pw(t.children[r],e.children[r]))return!1}return!0}var i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!bw(t.segments,i)&&!!t.children.primary&&vw(t.children.primary,e,o)}var yw=function(){function t(e,n,r){h(this,t),this.root=e,this.queryParams=n,this.fragment=r}return p(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=rw(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return kw.serialize(this)}}]),t}(),gw=function(){function t(e,n){var r=this;h(this,t),this.segments=e,this.children=n,this.parent=null,lw(n,function(t,e){return t.parent=r})}return p(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Ew(this)}}]),t}(),mw=function(){function t(e,n){h(this,t),this.path=e,this.parameters=n}return p(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=rw(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Aw(this)}}]),t}();function bw(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}var ww=function t(){h(this,t)},_w=function(){function t(){h(this,t)}return p(t,[{key:"parse",value:function(t){var e=new Pw(t);return new yw(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,r;return"/".concat(Ow(t.root,!0)).concat((n=t.queryParams,r=Object.keys(n).map(function(t){var e=n[t];return Array.isArray(e)?e.map(function(e){return"".concat(Tw(t),"=").concat(Tw(e))}).join("&"):"".concat(Tw(t),"=").concat(Tw(e))}),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),kw=new _w;function Ew(t){return t.segments.map(function(t){return Aw(t)}).join("/")}function Ow(t,e){if(!t.hasChildren())return Ew(t);if(e){var n=t.children.primary?Ow(t.children.primary,!1):"",r=[];return lw(t.children,function(t,e){"primary"!==e&&r.push("".concat(e,":").concat(Ow(t,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(t,e){var n=[];return lw(t.children,function(t,r){"primary"===r&&(n=n.concat(e(t,r)))}),lw(t.children,function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,function(e,n){return"primary"===n?[Ow(t.children.primary,!1)]:["".concat(n,":").concat(Ow(e,!1))]});return 1===Object.keys(t.children).length&&null!=t.children.primary?"".concat(Ew(t),"/").concat(i[0]):"".concat(Ew(t),"/(").concat(i.join("//"),")")}function Sw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tw(t){return Sw(t).replace(/%3B/gi,";")}function Iw(t){return Sw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cw(t){return decodeURIComponent(t)}function xw(t){return Cw(t.replace(/\+/g,"%20"))}function Aw(t){return"".concat(Iw(t.path)).concat((e=t.parameters,Object.keys(e).map(function(t){return";".concat(Iw(t),"=").concat(Iw(e[t]))}).join("")));var e}var jw=/^[^\/()?;=#]+/;function Nw(t){var e=t.match(jw);return e?e[0]:""}var Rw=/^[^=?&#]+/,Dw=/^[^?&#]+/,Pw=function(){function t(e){h(this,t),this.url=e,this.remaining=e}return p(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new gw([],{}):new gw([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new gw(t,e)),n}},{key:"parseSegment",value:function(){var t=Nw(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new mw(Cw(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Nw(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Nw(this.remaining);r&&(n=r,this.capture(n))}t[Cw(e)]=Cw(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Rw);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Dw);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=xw(e),o=xw(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Nw(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new gw([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Lw=function(){function t(e){h(this,t),this._root=e}return p(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Mw(t,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(t){var e=Mw(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Fw(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(t){return Fw(t,this._root).map(function(t){return t.value})}}]),t}();function Mw(t,e){if(t===e.value)return e;var n,r=a(e.children);try{for(r.s();!(n=r.n()).done;){var i=Mw(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function Fw(t,e){if(t===e.value)return[e];var n,r=a(e.children);try{for(r.s();!(n=r.n()).done;){var i=Fw(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var Uw=function(){function t(e,n){h(this,t),this.value=e,this.children=n}return p(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Vw(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var qw=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).snapshot=r,Ww(b(i),t),i}return p(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Lw);function Bw(t,e){var n=function(t,e){var n=new Gw([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Kw("",new Uw(n,[]))}(t,e),r=new cn([new mw("",{})]),i=new cn({}),o=new cn({}),a=new cn({}),s=new cn(""),u=new Hw(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new qw(new Uw(u,[]),n)}var Hw=function(){function t(e,n,r,i,o,a,s,u){h(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return p(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Jt.a)(function(t){return rw(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Jt.a)(function(t){return rw(t)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function zw(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var Gw=function(){function t(e,n,r,i,o,a,s,u,c,l,f){h(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=f}return p(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=rw(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=rw(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(t){return t.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),t}(),Kw=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,r)).url=t,Ww(b(i),r),i}return p(n,[{key:"toString",value:function(){return Yw(this._root)}}]),n}(Lw);function Ww(t,e){e.value._routerState=t,e.children.forEach(function(e){return Ww(t,e)})}function Yw(t){var e=t.children.length>0?" { ".concat(t.children.map(Yw).join(", ")," } "):"";return"".concat(t.value).concat(e)}function Qw(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,aw(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),aw(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!aw(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),aw(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Jw(t,e){return aw(t.params,e.params)&&function(t,e){return bw(t,e)&&t.every(function(t,n){return aw(t.parameters,e[n].parameters)})}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Jw(t.parent,e.parent))}function Xw(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=e.value;var i=function(t,e,n){return e.children.map(function(e){var r,i=a(n.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(t.shouldReuseRoute(e.value,o.value.snapshot))return Xw(t,e,o)}}catch(s){i.e(s)}finally{i.f()}return Xw(t,e)})}(t,e,n);return new Uw(r,i)}var o=t.retrieve(e.value);if(o){var s=o.route;return Zw(e,s),s}var u,c=new Hw(new cn((u=e.value).url),new cn(u.params),new cn(u.queryParams),new cn(u.fragment),new cn(u.data),u.outlet,u.component,u),l=e.children.map(function(e){return Xw(t,e)});return new Uw(c,l)}function Zw(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)Zw(t.children[n],e.children[n])}function $w(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function t_(t){return"object"==typeof t&&null!=t&&t.outlets}function e_(t,e,n,r,i){var o={};return r&&lw(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return"".concat(t)}):"".concat(t)}),new yw(n.root===t?e:n_(n.root,t,e),o,i)}function n_(t,e,n){var r={};return lw(t.children,function(t,i){r[i]=t===e?n:n_(t,e,n)}),new gw(t.segments,r)}var r_=function(){function t(e,n,r){if(h(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&$w(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(t_);if(i&&i!==cw(r))throw new Error("{outlets:{}} has to be the last command")}return p(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),i_=function t(e,n,r){h(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function o_(t,e,n){if(t||(t=new gw([],{})),0===t.segments.length&&t.hasChildren())return a_(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=n[r];if(t_(s))break;var u="".concat(s),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!l_(u,c,a))return o;r+=2}else{if(!l_(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new gw(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new gw(t.segments.slice(r.pathIndex),t.children),a_(o,0,i)}return r.match&&0===i.length?new gw(t.segments,{}):r.match&&!t.hasChildren()?s_(t,e,n):r.match?a_(t,0,i):s_(t,e,n)}function a_(t,e,n){if(0===n.length)return new gw(t.segments,{});var r=function(t){return t_(t[0])?t[0].outlets:{primary:t}}(n),i={};return lw(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=o_(t.children[r],e,n))}),lw(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new gw(t.segments,i)}function s_(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){var o=n[i];if(t_(o)){var a=u_(o.outlets);return new gw(r,a)}if(0===i&&$w(n[0]))r.push(new mw(t.segments[e].path,c_(n[0]))),i++;else{var s=t_(o)?o.outlets.primary:"".concat(o),u=i<n.length-1?n[i+1]:null;s&&u&&$w(u)?(r.push(new mw(s,c_(u))),i+=2):(r.push(new mw(s,{})),i++)}}return new gw(r,{})}function u_(t){var e={};return lw(t,function(t,n){"string"==typeof t&&(t=[t]),null!==t&&(e[n]=s_(new gw([],{}),0,t))}),e}function c_(t){var e={};return lw(t,function(t,n){return e[n]="".concat(t)}),e}function l_(t,e,n){return t==n.path&&aw(e,n.parameters)}var f_=function(){function t(e,n,r,i){h(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return p(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Qw(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=Vw(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),lw(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){for(var n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Vw(t),o=0,a=Object.keys(i);o<a.length;o++){var s=a[o];this.deactivateRouteAndItsChildren(i[s],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=Vw(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new tw(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Zb(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(Qw(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),h_(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function h_(t){Qw(t.value),t.children.forEach(h_)}var d_=function t(e,n){h(this,t),this.routes=e,this.module=n};function p_(t){return"function"==typeof t}function v_(t){return t instanceof yw}var y_=Symbol("INITIAL_VALUE");function g_(){return Dn(function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i;return Object(Ze.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(Ke.a)(e[0])&&(e=e[0]),Object(tn.a)(e,i).lift(new fn(r))}(t.map(function(t){return t.pipe(In(1),An(y_))})).pipe(hi(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==y_)return t;if(r===y_&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||v_(r))return r}return t},t)},y_),Wt(function(t){return t!==y_}),Object(Jt.a)(function(t){return v_(t)?t:!0===t}),In(1))})}var m_,b_=((m_=function t(){h(this,t)}).\u0275fac=function(t){return new(t||m_)},m_.\u0275cmp=s.Gb({type:m_,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&s.Nb(0,"router-outlet")},directives:function(){return[dk]},encapsulation:2}),m_);function w_(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];__(r,k_(e,r))}}function __(t,e){t.children&&w_(t.children,e)}function k_(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function E_(t){var e=t.children&&t.children.map(E_),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=b_),n}function O_(t){return t.outlet||"primary"}function S_(t,e){var n=t.filter(function(t){return O_(t)===e});return n.push.apply(n,i(t.filter(function(t){return O_(t)!==e}))),n}var T_={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function I_(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},T_):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(e.matcher||ow)(n,t,e);if(!i)return Object.assign({},T_);var o={};lw(i.posParams,function(t,e){o[e]=t.path});var a=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function C_(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(t,e,n){return n.some(function(n){return x_(t,e,n)&&"primary"!==O_(n)})}(t,n,r)){var o=new gw(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,s=a(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(""===u.path&&"primary"!==O_(u)){var c=new gw([],{});c._sourceSegment=t,c._segmentIndexShift=e.length,i[O_(u)]=c}}}catch(l){s.e(l)}finally{s.f()}return i}(t,e,r,new gw(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(function(n){return x_(t,e,n)})}(t,n,r)){var s=new gw(t.segments,function(t,e,n,r,i,o){var s,u={},c=a(r);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(x_(t,n,l)&&!i[O_(l)]){var f=new gw([],{});f._sourceSegment=t,f._segmentIndexShift="legacy"===o?t.segments.length:e.length,u[O_(l)]=f}}}catch(h){c.e(h)}finally{c.f()}return Object.assign(Object.assign({},i),u)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}var u=new gw(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}function x_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function A_(t,e,n,r){return!!(O_(t)===r||"primary"!==r&&x_(e,n,t))&&("**"===t.path||I_(e,t,n).matched)}function j_(t,e,n){return 0===e.length&&!t.children[n]}var N_=function t(e){h(this,t),this.segmentGroup=e||null},R_=function t(e){h(this,t),this.urlTree=e};function D_(t){return new Ht.a(function(e){return e.error(new N_(t))})}function P_(t){return new Ht.a(function(e){return e.error(new R_(t))})}function L_(t){return new Ht.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var M_=function(){function t(e,n,r,i,o){h(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(s.y)}return p(t,[{key:"apply",value:function(){var t=this,e=C_(this.urlTree.root,[],[],this.config).segmentGroup,n=new gw(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe(Object(Jt.a)(function(e){return t.createUrlTree(F_(e),t.urlTree.queryParams,t.urlTree.fragment)})).pipe(Ut(function(e){if(e instanceof R_)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof N_)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(Jt.a)(function(n){return e.createUrlTree(F_(n),t.queryParams,t.fragment)})).pipe(Ut(function(t){if(t instanceof N_)throw e.noMatchError(t);throw t}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new gw([],{primary:t}):t;return new yw(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Jt.a)(function(t){return new gw([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){for(var r=this,i=[],o=0,a=Object.keys(n.children);o<a.length;o++){var s=a[o];"primary"===s?i.unshift(s):i.push(s)}return Object(Rn.a)(i).pipe(Gt(function(i){var o=n.children[i],a=S_(e,i);return r.expandSegmentGroup(t,a,o,i).pipe(Object(Jt.a)(function(t){return{segment:t,outlet:i}}))}),hi(function(t,e){return t[e.outlet]=e.segment,t},{}),function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Wt(function(e,n){return t(e,n,r)}):tb.a,Rb(1),n?Wm(e):Jm(function(){return new Km}))}}())}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return Object(Rn.a)(n).pipe(Gt(function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Ut(function(t){if(t instanceof N_)return Object(Bt.a)(null);throw t}))}),eb(function(t){return!!t}),Ut(function(t,n){if(t instanceof Km||"EmptyError"===t.name){if(j_(e,r,i))return Object(Bt.a)(new gw([],{}));throw new N_(e)}throw t}))}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return A_(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):D_(e):D_(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?P_(o):this.lineralizeSegments(n,o).pipe(Object(zt.a)(function(n){var o=new gw(n,{});return i.expandSegment(t,o,e,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=I_(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,f=s.positionalParamSegments;if(!u)return D_(e);var h=this.applyRedirectCommands(c,r.redirectTo,f);return r.redirectTo.startsWith("/")?P_(h):this.lineralizeSegments(r,h).pipe(Object(zt.a)(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(Bt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(Jt.a)(function(t){return n._loadedConfig=t,new gw(r,{})})):Object(Bt.a)(new gw(r,{}));var a=I_(e,n,r),s=a.matched,u=a.consumedSegments,c=a.lastChild;if(!s)return D_(e);var l=r.slice(c);return this.getChildConfig(t,n,r).pipe(Object(zt.a)(function(t){var r=t.module,a=t.routes,s=C_(e,u,l,a),c=s.segmentGroup,f=s.slicedSegments,h=new gw(c.segments,c.children);if(0===f.length&&h.hasChildren())return o.expandChildren(r,a,h).pipe(Object(Jt.a)(function(t){return new gw(u,t)}));if(0===a.length&&0===f.length)return Object(Bt.a)(new gw(u,{}));var d=O_(n)===i;return o.expandSegment(r,h,a,f,d?"primary":i,!0).pipe(Object(Jt.a)(function(t){return new gw(u.concat(t.segments),t.children)}))}))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(Bt.a)(new d_(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Bt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(zt.a)(function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(Jt.a)(function(t){return e._loadedConfig=t,t})):function(t){return new Ht.a(function(e){return e.error(iw("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(e)})):Object(Bt.a)(new d_([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r=this,i=e.canLoad;if(!i||0===i.length)return Object(Bt.a)(!0);var o=i.map(function(r){var i,o=t.get(r);if(function(t){return t&&p_(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!p_(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return fw(i)});return Object(Bt.a)(o).pipe(g_(),Object(Mn.a)(function(t){if(v_(t)){var e=iw('Redirecting to "'.concat(r.urlSerializer.serialize(t),'"'));throw e.url=t,e}}),Object(Jt.a)(function(t){return!0===t}))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Bt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return L_(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new yw(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return lw(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return lw(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new gw(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=a(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(s){i.e(s)}finally{i.f()}return t}}]),t}();function F_(t){for(var e={},n=0,r=Object.keys(t.children);n<r.length;n++){var i=r[n],o=F_(t.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new gw(t.segments.concat(e.segments),e.children)}return t}(new gw(t.segments,e))}var U_=function t(e){h(this,t),this.path=e,this.route=this.path[this.path.length-1]},V_=function t(e,n){h(this,t),this.component=e,this.route=n};function q_(t,e,n){var r=t._root;return H_(r,e?e._root:null,n,[r.value])}function B_(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function H_(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=Vw(e);return t.children.forEach(function(t){!function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!bw(t.url,e.url);case"pathParamsOrQueryParamsChange":return!bw(t.url,e.url)||!aw(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jw(t,e)||!aw(t.queryParams,e.queryParams);case"paramsChange":default:return!Jw(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new U_(r)):(o.data=a.data,o._resolvedData=a._resolvedData),H_(t,e,o.component?s?s.children:null:n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new V_(s.outlet.component,a))}else a&&z_(e,s,i),i.canActivateChecks.push(new U_(r)),H_(t,null,o.component?s?s.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),lw(o,function(t,e){return z_(t,n.getContext(e),i)}),i}function z_(t,e,n){var r=Vw(t),i=t.value;lw(r,function(t,r){z_(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new V_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var G_=function t(){h(this,t)};function K_(t){return new Ht.a(function(e){return e.error(t)})}var W_=function(){function t(e,n,r,i,o,a){h(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return p(t,[{key:"recognize",value:function(){var t=C_(this.urlTree.root,[],[],this.config.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;var n=new Gw([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Uw(n,e),i=new Kw(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=zw(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){for(var n=[],r=0,o=Object.keys(e.children);r<o.length;r++){var s=o[r],u=e.children[s],c=S_(t,s),l=this.processSegmentGroup(c,u,s);if(null===l)return null;n.push.apply(n,i(l))}var f=function(t){var e,n=[],r=a(t);try{var o=function(){var t,r=e.value;if(!function(t){var e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}(r))return n.push(r),"continue";var o=n.find(function(t){return r.value.routeConfig===t.value.routeConfig});void 0!==o?(t=o.children).push.apply(t,i(r.children)):n.push(r)};for(r.s();!(e=r.n()).done;)o()}catch(s){r.e(s)}finally{r.f()}return n}(n);return f.sort(function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)}),f}},{key:"processSegment",value:function(t,e,n,r){var i,o=a(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=this.processSegmentAgainstRoute(s,e,n,r);if(null!==u)return u}}catch(c){o.e(c)}finally{o.f()}return j_(e,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo||!A_(t,e,n,r))return null;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?cw(n).parameters:{};i=new Gw(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,J_(t),O_(t),t.component,t,Y_(e),Q_(e)+n.length,X_(t))}else{var u=I_(e,t,n);if(!u.matched)return null;o=u.consumedSegments,a=n.slice(u.lastChild),i=new Gw(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,J_(t),O_(t),t.component,t,Y_(e),Q_(e)+o.length,X_(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=C_(e,o,a,c.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution),f=l.segmentGroup,h=l.slicedSegments;if(0===h.length&&f.hasChildren()){var d=this.processChildren(c,f);return null===d?null:[new Uw(i,d)]}if(0===c.length&&0===h.length)return[new Uw(i,[])];var p=O_(t)===r,v=this.processSegment(c,f,h,p?"primary":r);return null===v?null:[new Uw(i,v)]}}]),t}();function Y_(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Q_(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function J_(t){return t.data||{}}function X_(t){return t.resolve||{}}function Z_(t){return Dn(function(e){var n=t(e);return n?Object(Rn.a)(n).pipe(Object(Jt.a)(function(){return e})):Object(Bt.a)(e)})}var $_=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return n}(function(){function t(){h(this,t)}return p(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),tk=new s.r("ROUTES"),ek=function(){function t(e,n,r,i){h(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return p(t,[{key:"load",value:function(t,e){var n=this;if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren).pipe(Object(Jt.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new d_(uw(i.injector.get(tk,void 0,s.q.Self|s.q.Optional)).map(E_),i)}),Ut(function(t){throw e._loader$=void 0,t}));return e._loader$=new Nb.a(r,function(){return new Ge.a}).pipe(Object(Lb.a)()),e._loader$}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(Rn.a)(this.loader.load(t)):fw(t()).pipe(Object(zt.a)(function(t){return t instanceof s.w?Object(Bt.a)(t):Object(Rn.a)(e.compiler.compileModuleAsync(t))}))}}]),t}(),nk=function t(){h(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new rk,this.attachRef=null},rk=function(){function t(){h(this,t),this.contexts=new Map}return p(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new nk,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),ik=function(){function t(){h(this,t)}return p(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function ok(t){throw t}function ak(t,e,n){return e.parse("/")}function sk(t,e){return Object(Bt.a)(null)}var uk,ck,lk,fk,hk=((ck=function(){function t(e,n,r,i,o,a,u,c){var l=this;h(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ge.a,this.errorHandler=ok,this.malformedUriErrorHandler=ak,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:sk,afterPreactivation:sk},this.urlHandlingStrategy=new ik,this.routeReuseStrategy=new $_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(s.y),this.console=o.get(s.Y);var f=o.get(s.A);this.isNgZoneEnabled=f instanceof s.A&&s.A.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new yw(new gw([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ek(a,u,function(t){return l.triggerEvent(new Qb(t))},function(t){return l.triggerEvent(new Jb(t))}),this.routerState=Bw(this.currentUrlTree,this.rootComponentType),this.transitions=new cn({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return p(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Wt(function(t){return 0!==t.id}),Object(Jt.a)(function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),Dn(function(t){var r,i,o,a,s=!1,u=!1;return Object(Bt.a)(t).pipe(Object(Mn.a)(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Dn(function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Bt.a)(t).pipe(Dn(function(t){var r=e.transitions.getValue();return n.next(new Vb(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?ze.a:Promise.resolve(t)}),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,Dn(function(t){return function(t,e,n,r,i){return new M_(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(Jt.a)(function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})}))})),Object(Mn.a)(function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,n,r,i,o){return Object(zt.a)(function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new W_(t,e,n,r,i,o).recognize();return null===a?K_(new G_):Object(Bt.a)(a)}catch(Pm){return K_(Pm)}}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(Jt.a)(function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})}));var a})}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(Mn.a)(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects);var r=new zb(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,f=t.restoredState,h=t.extras,d=new Vb(u,e.serializeUrl(c),l,f);n.next(d);var p=Bw(c,e.rootComponentType).snapshot;return Object(Bt.a)(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},h),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ze.a}),Z_(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),Object(Mn.a)(function(t){var n=new Gb(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(Jt.a)(function(t){return Object.assign(Object.assign({},t),{guards:q_(t.targetSnapshot,t.currentSnapshot,e.rootContexts)})}),function(t,e){return Object(zt.a)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(Bt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Rn.a)(t).pipe(Object(zt.a)(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Bt.a)(!0);var a=o.map(function(o){var a,s=B_(o,e,i);if(function(t){return t&&p_(t.canDeactivate)}(s))a=fw(s.canDeactivate(t,e,n,r));else{if(!p_(s))throw new Error("Invalid CanDeactivate guard");a=fw(s(t,e,n,r))}return a.pipe(eb())});return Object(Bt.a)(a).pipe(g_())}(t.component,t.route,n,e,r)}),eb(function(t){return!0!==t},!0))}(s,r,i,t).pipe(Object(zt.a)(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(Rn.a)(e).pipe(Gt(function(e){return kn(function(t,e){return null!==t&&e&&e(new Xb(t)),Object(Bt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new $b(t)),Object(Bt.a)(!0)}(e.route,r),function(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return jb(function(){var i=e.guards.map(function(i){var o,a=B_(i,e.node,n);if(function(t){return t&&p_(t.canActivateChild)}(a))o=fw(a.canActivateChild(r,t));else{if(!p_(a))throw new Error("Invalid CanActivateChild guard");o=fw(a(r,t))}return o.pipe(eb())});return Object(Bt.a)(i).pipe(g_())})});return Object(Bt.a)(i).pipe(g_())}(t,e.path,n),function(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Bt.a)(!0);var i=r.map(function(r){return jb(function(){var i,o=B_(r,e,n);if(function(t){return t&&p_(t.canActivate)}(o))i=fw(o.canActivate(e,t));else{if(!p_(o))throw new Error("Invalid CanActivate guard");i=fw(o(e,t))}return i.pipe(eb())})});return Object(Bt.a)(i).pipe(g_())}(t,e.route,n))}),eb(function(t){return!0!==t},!0))}(r,a,t,e):Object(Bt.a)(n)}),Object(Jt.a)(function(t){return Object.assign(Object.assign({},n),{guardsResult:t})}))})}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),Object(Mn.a)(function(t){if(v_(t.guardsResult)){var n=iw('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}var r=new Kb(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(r)}),Wt(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new Bb(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),Z_(function(t){if(t.guards.canActivateChecks.length)return Object(Bt.a)(t).pipe(Object(Mn.a)(function(t){var n=new Wb(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Dn(function(t){var r,i,o=!1;return Object(Bt.a)(t).pipe((r=e.paramsInheritanceStrategy,i=e.ngModule.injector,Object(zt.a)(function(t){var e=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return Object(Bt.a)(t);var o=0;return Object(Rn.a)(n).pipe(Gt(function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(Bt.a)({});var o={};return Object(Rn.a)(i).pipe(Object(zt.a)(function(i){return function(t,e,n,r){var i=B_(t,e,r);return fw(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Mn.a)(function(t){o[i]=t}))}),Rb(1),Object(zt.a)(function(){return Object.keys(o).length===i.length?Object(Bt.a)(o):ze.a}))}(t._resolve,t,e,r).pipe(Object(Jt.a)(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),zw(t,n).resolve),null}))}(t.route,e,r,i)}),Object(Mn.a)(function(){return o++}),Rb(1),Object(zt.a)(function(e){return o===n.length?Object(Bt.a)(t):ze.a}))})),Object(Mn.a)({next:function(){return o=!0},complete:function(){if(!o){var r=new Bb(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),t.resolve(!1)}}}))}),Object(Mn.a)(function(t){var n=new Yb(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}))}),Z_(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),Object(Jt.a)(function(t){var n=function(t,e,n){var r=Xw(t,e._root,n?n._root:void 0);return new qw(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})}),Object(Mn.a)(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},Object(Jt.a)(function(t){return new f_(o,t.targetRouterState,t.currentRouterState,a).activate(i),t})),Object(Mn.a)({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){e.resetUrlToCurrentUrlTree();var r=new Bb(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Mb(r))}),Ut(function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=v_(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new Bb(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout(function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new Hb(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(rl){t.reject(rl)}}var s;return ze.a}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout(function(){var e=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var a=Object.assign({},r);delete a.navigationId,0!==Object.keys(a).length&&(o.state=a)}t.scheduleNavigation(i,e,r,o)},0),t.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){w_(t),this.config=t.map(E_),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,r=e.queryParams,o=e.fragment,a=e.queryParamsHandling,s=e.preserveFragment,u=n||this.routerState.root,c=s?this.currentUrlTree.fragment:o,l=null;switch(a){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,o){if(0===n.length)return e_(e.root,e.root,e,r,o);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new r_(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,o){if("object"==typeof r&&null!=r){if(r.outlets){var a={};return lw(r.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),[].concat(i(t),[{outlets:a}])}if(r.segmentPath)return[].concat(i(t),[r.segmentPath])}return"string"!=typeof r?[].concat(i(t),[r]):0===o?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[].concat(i(t),[r])},[]);return new r_(n,e,r)}(n);if(a.toRoot())return e_(e.root,new gw([],{}),e,r,o);var s=function(t,e,n){if(t.isAbsolute)return new i_(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new i_(r,r===e.root,0)}var i=$w(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new i_(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(a,e,t),u=s.processChildren?a_(s.segmentGroup,s.index,a.commands):o_(s.segmentGroup,s.index,a.commands);return e_(s.segmentGroup,u,e,r,o)}(u,this.currentUrlTree,t,l,c)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=v_(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(Pm){e=this.malformedUriErrorHandler(Pm,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(v_(t))return hw(this.currentUrlTree,t,e);var n=this.parseUrl(t);return hw(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new qb(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);var o,a,s,u=this.getTransition(),c="imperative"!==e&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===t.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise(function(t,e){o=t,a=e});var f=++this.navigationId;return this.setTransition({id:f,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),t}()).\u0275fac=function(t){return new(t||ck)(s.Yb(s.N),s.Yb(ww),s.Yb(rk),s.Yb(U),s.Yb(s.s),s.Yb(s.x),s.Yb(s.i),s.Yb(void 0))},ck.\u0275prov=s.Ib({token:ck,factory:ck.\u0275fac}),ck),dk=((uk=function(){function t(e,n,r,i,o){h(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.n,this.deactivateEvents=new s.n,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return p(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new pk(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}()).\u0275fac=function(t){return new(t||uk)(s.Mb(rk),s.Mb(s.Q),s.Mb(s.j),s.Zb("name"),s.Mb(s.h))},uk.\u0275dir=s.Hb({type:uk,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),uk),pk=function(){function t(e,n,r){h(this,t),this.route=e,this.childContexts=n,this.parent=r}return p(t,[{key:"get",value:function(t,e){return t===Hw?this.route:t===rk?this.childContexts:this.parent.get(t,e)}}]),t}(),vk=function t(){h(this,t)},yk=function(){function t(){h(this,t)}return p(t,[{key:"preload",value:function(t,e){return Object(Bt.a)(null)}}]),t}(),gk=((fk=function(){function t(e,n,r,i,o){h(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new ek(n,r,function(t){return e.triggerEvent(new Qb(t))},function(t){return e.triggerEvent(new Jb(t))})}return p(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Wt(function(t){return t instanceof qb}),Gt(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(s.y);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=a(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(u){i.e(u)}finally{i.f()}return Object(Rn.a)(r).pipe(Object(_n.a)(),Object(Jt.a)(function(t){}))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return(e._loadedConfig?Object(Bt.a)(e._loadedConfig):n.loader.load(t.injector,e)).pipe(Object(zt.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})}}]),t}()).\u0275fac=function(t){return new(t||fk)(s.Yb(hk),s.Yb(s.x),s.Yb(s.i),s.Yb(s.s),s.Yb(vk))},fk.\u0275prov=s.Ib({token:fk,factory:fk.\u0275fac}),fk),mk=((lk=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return p(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Vb?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof qb&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof ew&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new ew(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||lk)(s.Yb(hk),s.Yb(Z),s.Yb(void 0))},lk.\u0275prov=s.Ib({token:lk,factory:lk.\u0275fac}),lk),bk=new s.r("ROUTER_CONFIGURATION"),wk=new s.r("ROUTER_FORROOT_GUARD"),_k=[U,{provide:ww,useClass:_w},{provide:hk,useFactory:function(t,e,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,f=new hk(null,t,e,n,r,i,o,uw(a));if(u&&(f.urlHandlingStrategy=u),l&&(f.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(s,f),s.enableTracing){var h=c();f.events.subscribe(function(t){h.logGroup("Router Event: ".concat(t.constructor.name)),h.log(t.toString()),h.log(t),h.logGroupEnd()})}return f},deps:[ww,rk,U,s.s,s.x,s.i,tk,bk,[function(){return function t(){h(this,t)}}(),new s.B],[function(){return function t(){h(this,t)}}(),new s.B]]},rk,{provide:Hw,useFactory:function(t){return t.routerState.root},deps:[hk]},{provide:s.x,useClass:s.K},gk,yk,function(){function t(){h(this,t)}return p(t,[{key:"preload",value:function(t,e){return e().pipe(Ut(function(){return Object(Bt.a)(null)}))}}]),t}(),{provide:bk,useValue:{enableTracing:!1}}];function kk(){return new s.z("Router",hk)}var Ek,Ok=((Ek=function(){function t(e,n){h(this,t)}return p(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[_k,Ck(e),{provide:wk,useFactory:Ik,deps:[[hk,new s.B,new s.J]]},{provide:bk,useValue:n||{}},{provide:j,useFactory:Tk,deps:[y,[new s.p(L),new s.B],bk]},{provide:mk,useFactory:Sk,deps:[hk,Z,bk]},{provide:vk,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:yk},{provide:s.z,multi:!0,useFactory:kk},[Ak,{provide:s.d,multi:!0,useFactory:jk,deps:[Ak]},{provide:Pk,useFactory:Nk,deps:[Ak]},{provide:s.b,multi:!0,useExisting:Pk}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Ck(e)]}}}]),t}()).\u0275fac=function(t){return new(t||Ek)(s.Yb(wk,8),s.Yb(hk,8))},Ek.\u0275mod=s.Kb({type:Ek}),Ek.\u0275inj=s.Jb({}),Ek);function Sk(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new mk(t,e,n)}function Tk(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new F(t,e):new M(t,e)}function Ik(t){return"guarded"}function Ck(t){return[{provide:s.a,multi:!0,useValue:t},{provide:tk,multi:!0,useValue:t}]}var xk,Ak=((xk=function(){function t(e){h(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new Ge.a}return p(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(E,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(hk),i=t.injector.get(bk);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),e(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return t.initNavigation?Object(Bt.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()):e(!0),n})}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(bk),n=this.injector.get(gk),r=this.injector.get(mk),i=this.injector.get(hk),o=this.injector.get(s.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),t}()).\u0275fac=function(t){return new(t||xk)(s.Yb(s.s))},xk.\u0275prov=s.Ib({token:xk,factory:xk.\u0275fac}),xk);function jk(t){return t.appInitializer.bind(t)}function Nk(t){return t.bootstrapListener.bind(t)}var Rk,Dk,Pk=new s.r("Router Initializer"),Lk=[{path:"strava",component:(Rk=function(){function t(e,n){h(this,t),this.route=e,this.stravaService=n,this.data={},this.code="",this.wellReceive=!1}return p(t,[{key:"ngOnInit",value:function(){var t=this,e=this.route.snapshot.queryParamMap.get("code");null!=e&&this.stravaService.getToken(e).subscribe(function(e){return t.data=e})}}]),t}(),Rk.\u0275fac=function(t){return new(t||Rk)(s.Mb(Hw),s.Mb(qe))},Rk.\u0275cmp=s.Gb({type:Rk,selectors:[["app-receive-token-strava"]],decls:1,vars:1,template:function(t,e){1&t&&s.wc(0),2&t&&s.yc("",e.data.id,"\n")},styles:[""]}),Rk)},{path:"",component:He}],Mk=((Dk=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Dk)},Dk.\u0275mod=s.Kb({type:Dk,bootstrap:[He]}),Dk.\u0275inj=s.Jb({providers:[qe],imports:[[Lt,si,ui.a.initializeApp(Ab),xb,Ve,Ok.forRoot(Lk)],Ok]}),Dk);Object(s.T)(),Dt().bootstrapModule(Mk).catch(function(t){return console.error(t)})},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD"),a=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this)).parent=t,r}return p(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(r.a),s=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(r.a);function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]])}();