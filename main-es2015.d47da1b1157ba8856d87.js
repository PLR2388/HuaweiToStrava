(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService({instanceIdentifier:i});if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(void 0===e?"[DEFAULT]":e);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:i,options:r})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o)),o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.3.1","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("EY2u"),i=n("LRne"),o=n("z6cu");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return on}),n.d(e,"b",function(){return Hc}),n.d(e,"c",function(){return Fc}),n.d(e,"d",function(){return Lc}),n.d(e,"e",function(){return Mc}),n.d(e,"f",function(){return Ll}),n.d(e,"g",function(){return Il}),n.d(e,"h",function(){return Ru}),n.d(e,"i",function(){return tl}),n.d(e,"j",function(){return iu}),n.d(e,"k",function(){return Kc}),n.d(e,"l",function(){return uu}),n.d(e,"m",function(){return br}),n.d(e,"n",function(){return gc}),n.d(e,"o",function(){return bo}),n.d(e,"p",function(){return Sn}),n.d(e,"q",function(){return j}),n.d(e,"r",function(){return rn}),n.d(e,"s",function(){return Po}),n.d(e,"t",function(){return Cu}),n.d(e,"u",function(){return Au}),n.d(e,"v",function(){return Gc}),n.d(e,"w",function(){return Gu}),n.d(e,"x",function(){return xl}),n.d(e,"y",function(){return zu}),n.d(e,"z",function(){return _l}),n.d(e,"A",function(){return rl}),n.d(e,"B",function(){return Tn}),n.d(e,"C",function(){return Bc}),n.d(e,"D",function(){return qc}),n.d(e,"E",function(){return hu}),n.d(e,"F",function(){return lu}),n.d(e,"G",function(){return Tr}),n.d(e,"H",function(){return du}),n.d(e,"I",function(){return pr}),n.d(e,"J",function(){return In}),n.d(e,"K",function(){return kl}),n.d(e,"L",function(){return Vu}),n.d(e,"M",function(){return ll}),n.d(e,"N",function(){return sn}),n.d(e,"O",function(){return gu}),n.d(e,"P",function(){return pu}),n.d(e,"Q",function(){return Wu}),n.d(e,"R",function(){return L}),n.d(e,"S",function(){return El}),n.d(e,"T",function(){return bl}),n.d(e,"U",function(){return d}),n.d(e,"V",function(){return vl}),n.d(e,"W",function(){return Rl}),n.d(e,"X",function(){return dl}),n.d(e,"Y",function(){return zc}),n.d(e,"Z",function(){return _o}),n.d(e,"ab",function(){return ea}),n.d(e,"bb",function(){return fr}),n.d(e,"cb",function(){return $n}),n.d(e,"db",function(){return Ln}),n.d(e,"eb",function(){return Fn}),n.d(e,"fb",function(){return Bn}),n.d(e,"gb",function(){return Vn}),n.d(e,"hb",function(){return Un}),n.d(e,"ib",function(){return qn}),n.d(e,"jb",function(){return Js}),n.d(e,"kb",function(){return Dl}),n.d(e,"lb",function(){return Xs}),n.d(e,"mb",function(){return Zs}),n.d(e,"nb",function(){return Mn}),n.d(e,"ob",function(){return q}),n.d(e,"pb",function(){return Go}),n.d(e,"qb",function(){return hs}),n.d(e,"rb",function(){return cs}),n.d(e,"sb",function(){return ls}),n.d(e,"tb",function(){return Qs}),n.d(e,"ub",function(){return St}),n.d(e,"vb",function(){return l}),n.d(e,"wb",function(){return Pn}),n.d(e,"xb",function(){return Mo}),n.d(e,"yb",function(){return vt}),n.d(e,"zb",function(){return eu}),n.d(e,"Ab",function(){return wi}),n.d(e,"Bb",function(){return Qo}),n.d(e,"Cb",function(){return As}),n.d(e,"Db",function(){return Gs}),n.d(e,"Eb",function(){return xs}),n.d(e,"Fb",function(){return Ac}),n.d(e,"Gb",function(){return Z}),n.d(e,"Hb",function(){return st}),n.d(e,"Ib",function(){return _}),n.d(e,"Jb",function(){return E}),n.d(e,"Kb",function(){return rt}),n.d(e,"Lb",function(){return at}),n.d(e,"Mb",function(){return ts}),n.d(e,"Nb",function(){return os}),n.d(e,"Ob",function(){return as}),n.d(e,"Pb",function(){return ss}),n.d(e,"Qb",function(){return is}),n.d(e,"Rb",function(){return rs}),n.d(e,"Sb",function(){return us}),n.d(e,"Tb",function(){return Ze}),n.d(e,"Ub",function(){return Ks}),n.d(e,"Vb",function(){return Ga}),n.d(e,"Wb",function(){return Wa}),n.d(e,"Xb",function(){return Ka}),n.d(e,"Yb",function(){return _n}),n.d(e,"Zb",function(){return en}),n.d(e,"ac",function(){return Pc}),n.d(e,"bc",function(){return fs}),n.d(e,"cc",function(){return jc}),n.d(e,"dc",function(){return gs}),n.d(e,"ec",function(){return dc}),n.d(e,"fc",function(){return pc}),n.d(e,"gc",function(){return vs}),n.d(e,"hc",function(){return ys}),n.d(e,"ic",function(){return es}),n.d(e,"jc",function(){return bs}),n.d(e,"kc",function(){return ws}),n.d(e,"lc",function(){return uc}),n.d(e,"mc",function(){return cc}),n.d(e,"nc",function(){return lc}),n.d(e,"oc",function(){return Cc}),n.d(e,"pc",function(){return Zo}),n.d(e,"qc",function(){return zt}),n.d(e,"rc",function(){return gr}),n.d(e,"sc",function(){return it}),n.d(e,"tc",function(){return Cs}),n.d(e,"uc",function(){return Xo}),n.d(e,"vc",function(){return Rc}),n.d(e,"wc",function(){return qs}),n.d(e,"xc",function(){return Bs}),n.d(e,"yc",function(){return Hs}),n.d(e,"zc",function(){return zs}),n.d(e,"Ac",function(){return xc});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const f=u({__forward_ref__:u});function d(t){return t.__forward_ref__=d,t.toString=function(){return l(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(f)&&t.__forward_ref__===d}class m extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function v(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function b(t,e){const n=e?` in ${e}`:"";throw new m("201",`No provider for ${v(t)} found${n}`)}function w(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function E(t){return{providers:t.providers||[],imports:t.imports||[]}}function O(t){return S(t,I)||S(t,x)}function S(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(A))?t[C]:null}const I=u({"\u0275prov":u}),C=u({"\u0275inj":u}),x=u({ngInjectableDef:u}),A=u({ngInjectorDef:u});var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let k;function N(t){const e=k;return k=t,e}function D(t,e,n){const r=O(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&j.Optional?null:void 0!==e?e:void b(l(t),"Injector")}function R(t){return{toString:t}.toString()}var P=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,q=M||V||F||U,B={},H=[],z=[],G=u({"\u0275cmp":u}),K=u({"\u0275dir":u}),W=u({"\u0275pipe":u}),$=u({"\u0275mod":u}),Y=u({"\u0275loc":u}),Q=u({"\u0275fac":u}),J=u({__NG_ELEMENT_ID__:u});let X=0;function Z(t){return R(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===P.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=X++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(tt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(et):null,n})}function tt(t){return ut(t)||function(t){return t[K]||null}(t)}function et(t){return function(t){return t[W]||null}(t)}const nt={};function rt(t){const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&R(()=>{nt[t.id]=t.type}),e}function it(t,e){return R(()=>{const n=ct(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function ot(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const st=Z;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ut(t){return t[G]||null}function ct(t,e){const n=t[$]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}function lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function ht(t){return Array.isArray(t)&&!0===t[1]}function ft(t){return 0!=(8&t.flags)}function dt(t){return 2==(2&t.flags)}function pt(t){return 1==(1&t.flags)}function gt(t){return null!==t.template}function mt(t,e){return t.hasOwnProperty(Q)?t[Q]:null}class yt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function vt(){return bt}function bt(t){return t.type.prototype.ngOnChanges&&(t.setInput=_t),wt}function wt(){const t=Et(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function _t(t,e,n,r){const i=Et(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new yt(u&&u.currentValue,e,s===B),t[r]=e}function Et(t){return t.__ngSimpleChanges__||null}let Ot;function St(t){Ot=t}function Tt(){return void 0!==Ot?Ot:"undefined"!=typeof document?document:void 0}function It(t){return!!t.listen}vt.ngInherit=!0;const Ct={createRenderer:(t,e)=>Tt()};function xt(t){for(;Array.isArray(t);)t=t[0];return t}function At(t,e){return xt(e[t])}function jt(t,e){return xt(e[t.index])}function kt(t,e){return t.data[e]}function Nt(t,e){return t[e]}function Dt(t,e){const n=e[t];return lt(n)?n:n[0]}function Rt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Pt(t){return 4==(4&t[2])}function Lt(t){return 128==(128&t[2])}function Mt(t,e){return null==e?null:t[e]}function Ft(t){t[18]=0}function Ut(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Vt={lFrame:fe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qt(){return Vt.bindingsEnabled}function Bt(){return Vt.lFrame.lView}function Ht(){return Vt.lFrame.tView}function zt(t){Vt.lFrame.contextLView=t}function Gt(){let t=Kt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Kt(){return Vt.lFrame.currentTNode}function Wt(){const t=Vt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function $t(t,e){const n=Vt.lFrame;n.currentTNode=t,n.isParent=e}function Yt(){return Vt.lFrame.isParent}function Qt(){Vt.lFrame.isParent=!1}function Jt(){return Vt.isInCheckNoChangesMode}function Xt(t){Vt.isInCheckNoChangesMode=t}function Zt(){const t=Vt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function te(){return Vt.lFrame.bindingIndex}function ee(){return Vt.lFrame.bindingIndex++}function ne(t){const e=Vt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function re(t){Vt.lFrame.inI18n=t}function ie(t,e){const n=Vt.lFrame;n.bindingIndex=n.bindingRootIndex=t,oe(e)}function oe(t){Vt.lFrame.currentDirectiveIndex=t}function se(){return Vt.lFrame.currentQueryIndex}function ae(t){Vt.lFrame.currentQueryIndex=t}function ue(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ce(t,e,n){if(n&j.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&j.Host||(r=ue(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Vt.lFrame=he();return r.currentTNode=e,r.lView=t,!0}function le(t){const e=he(),n=t[1];Vt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function he(){const t=Vt.lFrame,e=null===t?null:t.child;return null===e?fe(t):e}function fe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function de(){const t=Vt.lFrame;return Vt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const pe=de;function ge(){const t=de();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function me(){return Vt.lFrame.selectedIndex}function ye(t){Vt.lFrame.selectedIndex=t}function ve(){const t=Vt.lFrame;return kt(t.tView,t.selectedIndex)}function be(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function we(t,e,n){Oe(t,e,3,n)}function _e(t,e,n,r){(3&t[2])===n&&Oe(t,e,n,r)}function Ee(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Oe(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Se(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Se(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class Te{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ie(t,e,n){const r=It(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];xe(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ce(t){return 3===t||4===t||6===t}function xe(t){return 64===t.charCodeAt(0)}function Ae(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||je(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function je(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function ke(t){return-1!==t}function Ne(t){return 32767&t}function De(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Re=!0;function Pe(t){const e=Re;return Re=t,e}let Le=0;function Me(t,e){const n=Ue(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Fe(r.data,t),Fe(e,null),Fe(r.blueprint,null));const i=Ve(t,e),o=t.injectorIndex;if(ke(i)){const t=Ne(i),n=De(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Fe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ue(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ve(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function qe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(J)&&(r=n[J]),null==r&&(r=n[J]=Le++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Be(t,e,n){if(n&j.Optional)return t;b(e,"NodeInjector")}function He(t,e,n,r){if(n&j.Optional&&void 0===r&&(r=null),0==(n&(j.Self|j.Host))){const i=t[9],o=N(void 0);try{return i?i.get(e,r,n&j.Optional):D(e,r,n&j.Optional)}finally{N(o)}}return Be(r,e,n)}function ze(t,e,n,r=j.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(J)?t[J]:void 0;return"number"==typeof e?e>=0?255&e:Ke:e}(n);if("function"==typeof o){if(!ce(e,t,r))return r&j.Host?Be(i,n,r):He(e,n,r,i);try{const t=o();if(null!=t||r&j.Optional)return t;b(n)}finally{pe()}}else if("number"==typeof o){let i=null,s=Ue(t,e),a=-1,u=r&j.Host?e[16][6]:null;for((-1===s||r&j.SkipSelf)&&(a=-1===s?Ve(t,e):e[s+8],-1!==a&&Je(r,!1)?(i=e[1],s=Ne(a),e=De(a,e)):s=-1);-1!==s;){const t=e[1];if(Qe(o,s,t.data)){const t=We(s,e,n,i,r,u);if(t!==Ge)return t}a=e[s+8],-1!==a&&Je(r,e[1].data[s+8]===u)&&Qe(o,s,e)?(i=t,s=Ne(a),e=De(a,e)):s=-1}}}return He(e,n,r,i)}const Ge={};function Ke(){return new Xe(Gt(),Bt())}function We(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=$e(a,s,n,null==r?dt(a)&&Re:r!=s&&0!=(3&a.type),i&j.Host&&o===a);return null!==u?Ye(e,s,u,a):Ge}function $e(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&gt(t)&&t.type===n)return u}return null}function Ye(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Te){const s=i;s.resolving&&function(t,e){throw new m("200",`Circular dependency in DI detected for ${t}`)}(v(o[n]));const a=Pe(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?N(s.injectImpl):null;ce(t,r,j.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=bt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&N(u),Pe(a),s.resolving=!1,pe()}}return i}function Qe(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Je(t,e){return!(t&j.Self||t&j.Host&&e)}class Xe{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return ze(this._tNode,this._lView,t,void 0,e)}}function Ze(t){return R(()=>{const e=t.prototype.constructor,n=e[Q]||tn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Q]||tn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function tn(t){return g(t)?()=>{const e=tn(p(t));return e&&e()}:mt(t)}function en(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ce(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Gt(),t)}function nn(t,e,n){return R(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class rn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const on=new rn("AnalyzeForEntryComponents"),sn=Function;function an(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),an(r,e)):e!==t&&e.push(r)}return e}function un(t,e){t.forEach(t=>Array.isArray(t)?un(t,e):e(t))}function cn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ln(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function hn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function fn(t,e,n){let r=pn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function dn(t,e){const n=pn(t,e);if(n>=0)return t[1|n]}function pn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const gn={},mn=/\n/gm,yn=u({provide:String,useValue:u});let vn;function bn(t){const e=vn;return vn=t,e}function wn(t,e=j.Default){if(void 0===vn)throw new Error("inject() must be called from an injection context");return null===vn?D(t,void 0,e):vn.get(t,e&j.Optional?null:void 0,e)}function _n(t,e=j.Default){return(k||wn)(p(t),e)}function En(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=j.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(_n(t,n))}else e.push(_n(r))}return e}function On(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Sn=On(nn("Inject",t=>({token:t})),-1),Tn=On(nn("Optional"),8),In=On(nn("SkipSelf"),4);let Cn;function xn(t){var e;return(null===(e=function(){if(void 0===Cn&&(Cn=null,q.trustedTypes))try{Cn=q.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Cn}())||void 0===e?void 0:e.createHTML(t))||t}class An{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class jn extends An{getTypeName(){return"HTML"}}class kn extends An{getTypeName(){return"Style"}}class Nn extends An{getTypeName(){return"Script"}}class Dn extends An{getTypeName(){return"URL"}}class Rn extends An{getTypeName(){return"ResourceURL"}}function Pn(t){return t instanceof An?t.changingThisBreaksApplicationSecurity:t}function Ln(t,e){const n=Mn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Mn(t){return t instanceof An&&t.getTypeName()||null}function Fn(t){return new jn(t)}function Un(t){return new kn(t)}function Vn(t){return new Nn(t)}function qn(t){return new Dn(t)}function Bn(t){return new Rn(t)}function Hn(t){const e=new Gn(t);return function(){try{return!!(new window.DOMParser).parseFromString(xn(""),"text/html")}catch(t){return!1}}()?new zn(e):e}class zn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(xn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Gn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=xn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=xn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Kn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Wn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $n(t){return(t=String(t)).match(Kn)||t.match(Wn)?t:"unsafe:"+t}function Yn(t){return(t=String(t)).split(",").map(t=>$n(t.trim())).join(", ")}function Qn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Jn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Xn=Qn("area,br,col,hr,img,wbr"),Zn=Qn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tr=Qn("rp,rt"),er=Jn(tr,Zn),nr=Jn(Xn,Jn(Zn,Qn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jn(tr,Qn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),er),rr=Qn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ir=Qn("srcset"),or=Jn(rr,ir,Qn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sr=Qn("script,style,template");class ar{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!nr.hasOwnProperty(e))return this.sanitizedSomething=!0,!sr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!or.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;rr[i]&&(o=$n(o)),ir[i]&&(o=Yn(o)),this.buf.push(" ",e,'="',lr(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();nr.hasOwnProperty(e)&&!Xn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(lr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ur=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cr=/([^\#-~ |!])/g;function lr(t){return t.replace(/&/g,"&amp;").replace(ur,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(cr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hr;function fr(t,e){let n=null;try{hr=hr||Hn(t);let r=e?String(e):"";n=hr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=hr.getInertBodyElement(r)}while(r!==o);return xn((new ar).sanitizeChildren(dr(n)||n))}finally{if(n){const t=dr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function dr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var pr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function gr(t){const e=function(){const t=Bt();return t&&t[12]}();return e?e.sanitize(pr.URL,t)||"":Ln(t,"URL")?Pn(t):$n(y(t))}function mr(t){return t.ngDebugContext}function yr(t){return t.ngOriginalError}function vr(t,...e){t.error(...e)}class br{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||vr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?mr(t)?mr(t):this._findContext(yr(t)):null}_findOriginalError(t){let e=yr(t);for(;e&&yr(e);)e=yr(e);return e}}const wr=/^>|^->|<!--|-->|--!>|<!-$/g,_r=/(<|>)/;function Er(t,e){t.__ngContext__=e}const Or=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function Sr(t){return t instanceof Function?t():t}var Tr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Ir;function Cr(t,e){return Ir(t,e)}function xr(t){const e=t[3];return ht(e)?e[3]:e}function Ar(t){return kr(t[13])}function jr(t){return kr(t[4])}function kr(t){for(;null!==t&&!ht(t);)t=t[4];return t}function Nr(t,e,n,r,i){if(null!=r){let o,s=!1;ht(r)?o=r:lt(r)&&(s=!0,r=r[0]);const a=xt(r);0===t&&null!==n?null==i?zr(e,n,a):Hr(e,n,a,i||null,!0):1===t&&null!==n?Hr(e,n,a,i||null,!0):2===t?ni(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==xt(n)&&Nr(e,t,r,o,i);for(let s=10;s<n.length;s++){const i=n[s];ii(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Dr(t,e){return It(t)?t.createText(e):t.createTextNode(e)}function Rr(t,e,n){It(t)?t.setValue(e,n):e.textContent=n}function Pr(t,e){return t.createComment(function(t){return t.replace(wr,t=>t.replace(_r,"\u200b$1\u200b"))}(e))}function Lr(t,e,n){return It(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Mr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ut(i,-1)),n.splice(r,1)}function Fr(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Mr(o,r),e>0&&(t[n-1][4]=r[4]);const s=ln(t,10+e);ii(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ur(t,e){if(!(256&e[2])){const n=e[11];It(n)&&n.destroyNode&&ii(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Vr(t[1],t);for(;e;){let n=null;if(lt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)lt(e)&&Vr(e[1],e),e=e[3];null===e&&(e=t),lt(e)&&Vr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Vr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Te)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):xt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&It(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ht(e[3])){n!==e[3]&&Mr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function qr(t,e,n){return Br(t,e.parent,n)}function Br(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return jt(r,n)}function Hr(t,e,n,r,i){It(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function zr(t,e,n){It(t)?t.appendChild(e,n):e.appendChild(n)}function Gr(t,e,n,r,i){null!==r?Hr(t,e,n,r,i):zr(t,e,n)}function Kr(t,e){return It(t)?t.parentNode(e):e.parentNode}function Wr(t,e,n){return Qr(t,e,n)}function $r(t,e,n){return 40&t.type?jt(t,n):null}let Yr,Qr=$r;function Jr(t,e){Qr=t,Yr=e}function Xr(t,e,n,r){const i=qr(t,r,e),o=e[11],s=Wr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Gr(o,i,n[a],s,!1);else Gr(o,i,n,s,!1);void 0!==Yr&&Yr(o,r,e,n,i)}function Zr(t,e){if(null!==e){const n=e.type;if(3&n)return jt(e,t);if(4&n)return ei(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Zr(t,n);{const n=t[e.index];return ht(n)?ei(-1,n):xt(n)}}if(32&n)return Cr(e,t)()||xt(t[e.index]);{const n=ti(t,e);return null!==n?Array.isArray(n)?n[0]:Zr(xr(t[16]),n):Zr(t,e.next)}}return null}function ti(t,e){return null!==e?t[16][6].projection[e.projection]:null}function ei(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Zr(t,r)}return e[7]}function ni(t,e,n){const r=Kr(t,e);r&&function(t,e,n,r){It(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function ri(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Er(xt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)ri(t,e,n.child,r,i,o,!1),Nr(e,t,i,a,o);else if(32&u){const s=Cr(n,r);let u;for(;u=s();)Nr(e,t,i,u,o);Nr(e,t,i,a,o)}else 16&u?oi(t,e,r,n,i,o):Nr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ii(t,e,n,r,i,o){ri(n,r,t.firstChild,e,i,o,!1)}function oi(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Nr(e,t,i,a[u],o);else ri(t,e,a,s[3],i,o,!0)}function si(t,e,n){It(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ai(t,e,n){It(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ui(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function ci(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ui(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function li(t){return 4===t.type&&"ng-template"!==t.value}function hi(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function fi(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ce(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!hi(t,u,n)||""===u&&1===e.length){if(di(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ci(t.attrs,c,n)){if(di(r))return!1;s=!0}continue}const l=pi(8&r?"class":u,i,li(t),n);if(-1===l){if(di(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ui(e,c,0)||2&r&&c!==t){if(di(r))return!1;s=!0}}}}else{if(!s&&!di(r)&&!di(u))return!1;if(s&&di(u))continue;s=!1,r=u|1&r}}return di(r)||s}function di(t){return 0==(1&t)}function pi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function gi(t,e,n=!1){for(let r=0;r<e.length;r++)if(fi(t,e[r],n))return!0;return!1}function mi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function yi(t,e){return t?":not("+e.trim()+")":e}function vi(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||di(s)||(e+=yi(o,i),i=""),r=s,o=o||!di(r);n++}return""!==i&&(e+=yi(o,i)),e}const bi={};function wi(t){_i(Ht(),Bt(),me()+t,Jt())}function _i(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&we(e,r,n)}else{const r=t.preOrderHooks;null!==r&&_e(e,r,0,n)}ye(n)}function Ei(t,e){return t<<17|e<<2}function Oi(t){return t>>17&32767}function Si(t){return 2|t}function Ti(t){return(131068&t)>>2}function Ii(t,e){return-131069&t|e<<2}function Ci(t){return 1|t}function xi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ae(i),n.contentQueries(2,e[o],o)}}}function Ai(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ft(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function ji(t,e,n,r,i){let o=t.data[e];if(null===o)o=ki(t,e,n,r,i),Vt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=Wt();o.injectorIndex=null===t?-1:t.injectorIndex}return $t(o,!0),o}function ki(t,e,n,r,i){const o=Kt(),s=Yt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}function Ni(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Di(t,e,n){le(e);try{const r=t.viewQuery;null!==r&&lo(1,r,n);const i=t.template;null!==i&&Li(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&xi(t,e),t.staticViewQueries&&lo(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)oo(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ge()}}function Ri(t,e,n,r){const i=e[2];if(256==(256&i))return;le(e);const o=Jt();try{Ft(e),Vt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Li(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&we(e,n,null)}else{const n=t.preOrderHooks;null!==n&&_e(e,n,0,null),Ee(e,0)}if(function(t){for(let e=Ar(t);null!==e;e=jr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ut(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ar(t);null!==e;e=jr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Lt(n)&&Ri(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&xi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&we(e,n)}else{const n=t.contentHooks;null!==n&&_e(e,n,1),Ee(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ye(~r);else{const i=r,o=n[++t],s=n[++t];ie(o,i),s(2,e[i])}}}finally{ye(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ro(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&lo(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&we(e,n)}else{const n=t.viewHooks;null!==n&&_e(e,n,2),Ee(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ut(e[3],-1))}finally{ge()}}function Pi(t,e,n,r){const i=e[10],o=!Jt(),s=Pt(e);try{o&&!s&&i.begin&&i.begin(),s&&Di(t,e,r),Ri(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Li(t,e,n,r,i){const o=me();try{ye(-1),2&r&&e.length>20&&_i(t,e,20,Jt()),n(r,i)}finally{ye(o)}}function Mi(t,e,n){if(ft(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Fi(t,e,n){qt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Me(n,e),Er(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=gt(r);o&&Xi(e,n,r);const u=Ye(e,t,a,n);Er(u,e),null!==s&&to(0,a-i,u,r,0,s),o&&(Dt(n.index,e)[8]=u)}}(t,e,n,jt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Vt.lFrame.currentDirectiveIndex;try{ye(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];oe(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Wi(r,i)}}finally{ye(-1),oe(s)}}(t,e,n))}function Ui(t,e,n=jt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Vi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=qi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function qi(t,e,n,r,i,o,s,a,u,c){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:bi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Bi(t,e,n,r){const i=fo(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&po(t).push(r,i.length-1))}function Hi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function zi(t,e,n,r,i,o,s,a){const u=jt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(mo(t,n,c,r,i),dt(e)&&function(t,e){const n=Dt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,It(o)?o.setProperty(u,r,i):xe(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Gi(t,e,n,r){let i=!1;if(qt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];gi(n,s.selectors,!1)&&(i||(i=[]),qe(Me(n,e),t,s.type),gt(s)?($i(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Qi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Ni(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Ae(n.mergedAttrs,c.hostAttrs),Ji(t,n,e,u,c),Yi(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||li(e)?null:eo(n,i);o.push(c),s=Hi(n,u,s),a=Hi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new m("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ae(n.mergedAttrs,n.attrs),i}function Ki(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Wi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function $i(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Yi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gt(e)&&(n[""]=t)}}function Qi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ji(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=mt(i.type)),s=new Te(o,gt(i),null);t.blueprint[r]=s,n[r]=s,Ki(t,e,0,r,Ni(t,n,i.hostVars,bi),i)}function Xi(t,e,n){const r=jt(e,t),i=Vi(n),o=t[10],s=so(t,Ai(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Zi(t,e,n,r,i,o,s){if(null==o)It(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?y(o):s(o,r||"",i);It(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function to(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function eo(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function no(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function ro(t,e){const n=Dt(e,t);if(Lt(n)){const t=n[1];80&n[2]?Ri(t,n,t.template,n[8]):n[5]>0&&io(n)}}function io(t){for(let n=Ar(t);null!==n;n=jr(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ri(t,e,t.template,e[8])}else e[5]>0&&io(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Dt(e[n],t);Lt(r)&&r[5]>0&&io(r)}}function oo(t,e){const n=Dt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Di(r,n,n[8])}function so(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ao(t){for(;t;){t[2]|=64;const e=xr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function uo(t,e,n){const r=e[10];r.begin&&r.begin();try{Ri(t,e,t.template,n)}catch(i){throw go(e,i),i}finally{r.end&&r.end()}}function co(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Rt(n),i=r[1];Pi(i,r,i.template,n)}}(t[8])}function lo(t,e,n){ae(0),e(t,n)}const ho=(()=>Promise.resolve(null))();function fo(t){return t[7]||(t[7]=[])}function po(t){return t.cleanup||(t.cleanup=[])}function go(t,e){const n=t[9],r=n?n.get(br,null):null;r&&r.handleError(e)}function mo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function yo(t,e,n){const r=At(e,t);Rr(t[11],r,n)}function vo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const bo=new rn("INJECTOR",-1);class wo{get(t,e=gn){if(e===gn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const _o=new rn("Set Injector scope."),Eo={},Oo={},So=[];let To;function Io(){return void 0===To&&(To=new wo),To}function Co(t,e=null,n=null,r){return new xo(t,n,e||Io(),r)}class xo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&un(e,n=>this.processProvider(n,t,e)),un([t],t=>this.processInjectorType(t,[],i)),this.records.set(bo,ko(void 0,this));const o=this.records.get(_o);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=gn,n=j.Default){this.assertNotDestroyed();const r=bn(this);try{if(!(n&j.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof rn)&&O(t);e=n&&this.injectableDefInScope(n)?ko(Ao(t),Eo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&j.Self?Io():this.parent).get(t,e=n&j.Optional&&e===gn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(l(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(mn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{bn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{un(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];un(r,t=>this.processProvider(t,n,r||So))}}this.injectorDefTypes.add(o);const a=mt(o)||(()=>new o);this.records.set(o,ko(a,Eo));const u=r.providers;if(null!=u&&!s){const e=t;un(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Do(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return No(t)?ko(void 0,t.useValue):ko(jo(t),Eo)}(t);if(Do(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ko(void 0,Eo,!0),e.factory=()=>En(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Eo&&(e.value=Oo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Ao(t){const e=O(t),n=null!==e?e.factory:mt(t);if(null!==n)return n;if(t instanceof rn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=hn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function jo(t,e,n){let r;if(Do(t)){const e=p(t);return mt(e)||Ao(e)}if(No(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...En(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>_n(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return mt(e)||Ao(e);r=()=>new e(...En(t.deps))}var i;return r}function ko(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function No(t){return null!==t&&"object"==typeof t&&yn in t}function Do(t){return"function"==typeof t}const Ro=function(t,e,n){return function(t,e=null,n=null,r){const i=Co(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Po=(()=>{class t{static create(t,e){return Array.isArray(t)?Ro(t,e,""):Ro(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=gn,t.NULL=new wo,t.\u0275prov=_({token:t,providedIn:"any",factory:()=>_n(bo)}),t.__NG_ELEMENT_ID__=-1,t})();function Lo(t,e){be(Rt(t)[1],Gt())}function Mo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(gt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Fo(t.inputs),e.declaredInputs=Fo(t.declaredInputs),e.outputs=Fo(t.outputs);const n=i.hostBindings;n&&qo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Uo(t,o),s&&Vo(t,s),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),gt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Mo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ae(i.hostAttrs,n=Ae(n,i.hostAttrs))}}(r)}function Fo(t){return t===B?{}:t===z?[]:t}function Uo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Vo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function qo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Bo=null;function Ho(){if(!Bo){const t=q.Symbol;if(t&&t.iterator)Bo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Bo=n)}}}return Bo}class zo{constructor(t){this.wrapped=t}static wrap(t){return new zo(t)}static unwrap(t){return zo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof zo}}function Go(t){return!!Ko(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ho()in t)}function Ko(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Wo(t,e,n){return t[e]=n}function $o(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Yo(t,e,n,r){const i=$o(t,e,n);return $o(t,e+1,r)||i}function Qo(t,e,n,r){const i=Bt();return $o(i,ee(),e)&&(Ht(),function(t,e,n,r,i,o){const s=jt(t,e);Zi(e[11],s,o,t.value,n,r,i)}(ve(),i,t,e,n,r)),Qo}function Jo(t,e,n,r){return $o(t,ee(),n)?e+y(n)+r:bi}function Xo(t,e,n,r,i,o,s,a){const u=Bt(),c=Ht(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=ji(e,t,4,s||null,Mt(c,a));Gi(e,n,l,Mt(c,u)),be(e,l);const h=l.tViews=qi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];$t(h,!1);const f=u[11].createComment("");Xr(c,u,f,h),Er(f,u),so(u,u[l]=no(f,u,f,h)),pt(h)&&Fi(c,u,h),null!=s&&Ui(u,h,a)}function Zo(t){return Nt(Vt.lFrame.contextLView,20+t)}function ts(t,e=j.Default){const n=Bt();return null===n?_n(t,e):ze(Gt(),n,p(t),e)}function es(t,e,n){const r=Bt();return $o(r,ee(),e)&&zi(Ht(),ve(),r,t,e,r[11],n,!1),es}function ns(t,e,n,r,i){const o=i?"class":"style";mo(t,n,e.inputs[o],o,r)}function rs(t,e,n,r){const i=Bt(),o=Ht(),s=20+t,a=i[11],u=i[s]=Lr(a,e,Vt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=ji(e,t,2,i,Mt(a,o));return Gi(e,n,u,Mt(a,s)),null!==u.attrs&&vo(u,u.attrs,!1),null!==u.mergedAttrs&&vo(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];$t(c,!0);const l=c.mergedAttrs;null!==l&&Ie(a,u,l);const h=c.classes;null!==h&&ai(a,u,h);const f=c.styles;null!==f&&si(a,u,f),64!=(64&c.flags)&&Xr(o,i,u,c),0===Vt.lFrame.elementDepthCount&&Er(u,i),Vt.lFrame.elementDepthCount++,pt(c)&&(Fi(o,i,c),Mi(o,c,i)),null!==r&&Ui(i,c)}function is(){let t=Gt();Yt()?Qt():(t=t.parent,$t(t,!1));const e=t;Vt.lFrame.elementDepthCount--;const n=Ht();n.firstCreatePass&&(be(n,t),ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&ns(n,e,Bt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&ns(n,e,Bt(),e.stylesWithoutHost,!1)}function os(t,e,n,r){rs(t,e,n,r),is()}function ss(t,e,n){const r=Bt(),i=Ht(),o=t+20,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Mt(o,r),a=ji(e,t,8,"ng-container",s);return null!==s&&vo(a,s,!0),Gi(e,n,a,Mt(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];$t(s,!0);const a=r[o]=r[11].createComment("");Xr(i,r,a,s),Er(a,r),pt(s)&&(Fi(i,r,s),Mi(i,s,r)),null!=n&&Ui(r,s)}function as(){let t=Gt();const e=Ht();Yt()?Qt():(t=t.parent,$t(t,!1)),e.firstCreatePass&&(be(e,t),ft(t)&&e.queries.elementEnd(t))}function us(){return Bt()}function cs(t){return!!t&&"function"==typeof t.then}function ls(t){return!!t&&"function"==typeof t.subscribe}const hs=ls;function fs(t,e,n=!1,r){const i=Bt(),o=Ht(),s=Gt();return function(t,e,n,r,i,o,s=!1,a){const u=pt(r),c=t.firstCreatePass&&po(t),l=fo(e);let h=!0;if(3&r.type){const f=jt(r,e),d=a?a(f):B,p=d.target||f,g=l.length,m=a?t=>a(xt(t[r.index])).target:r.index;if(It(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=ps(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=ps(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}else o=ps(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),fs}function ds(t,e,n){try{return!1!==e(n)}catch(r){return go(t,r),!1}}function ps(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Dt(t.index,e):e;0==(32&e[2])&&ao(s);let a=ds(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=ds(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function gs(t=1){return function(t){return(Vt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Vt.lFrame.contextLView))[8]}(t)}function ms(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?gi(t,o,!0):mi(r,o))return i}else n=i}return n}function ys(t){const e=Bt()[16][6];if(!e.projection){const n=e.projection=hn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?ms(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function vs(t,e=0,n){const r=Bt(),i=Ht(),o=ji(i,20+t,16,null,n||null);null===o.projection&&(o.projection=e),Qt(),64!=(64&o.flags)&&function(t,e,n){oi(e[11],0,e,n,qr(t,n,e),Wr(n.parent||e[6],n,e))}(i,r,o)}function bs(t,e,n){return ws(t,"",e,"",n),bs}function ws(t,e,n,r,i){const o=Bt(),s=Jo(o,e,n,r);return s!==bi&&zi(Ht(),ve(),o,t,s,o[11],i,!1),ws}function _s(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Oi(o):Ti(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Es(t[a],e)&&(u=!0,t[a+1]=r?Ci(n):Si(n)),a=r?Oi(n):Ti(n)}u&&(t[n+1]=r?Si(o):Ci(o))}function Es(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&pn(t,e)>=0}const Os={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ss(t){return t.substring(Os.key,Os.keyEnd)}function Ts(t,e){const n=Os.textEnd;return n===e?-1:(e=Os.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Os.key=e,n),Is(t,e,n))}function Is(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Cs(t,e,n){return ks(t,e,n,!1),Cs}function xs(t,e){return ks(t,e,null,!0),xs}function As(t){Ns(fn,js,t,!0)}function js(t,e){for(let n=function(t){return function(t){Os.key=0,Os.keyEnd=0,Os.value=0,Os.valueEnd=0,Os.textEnd=t.length}(t),Ts(t,Is(t,0,Os.textEnd))}(e);n>=0;n=Ts(e,n))fn(t,Ss(e),!0)}function ks(t,e,n,r){const i=Bt(),o=Ht(),s=ne(2);o.firstUpdatePass&&Rs(o,t,s,r),e!==bi&&$o(i,s,e)&&Ms(o,o.data[me()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Pn(t)))),t}(e,n),r,s)}function Ns(t,e,n,r){const i=Ht(),o=ne(2);i.firstUpdatePass&&Rs(i,null,o,r);const s=Bt();if(n!==bi&&$o(s,o,n)){const a=i.data[me()];if(Vs(a,r)&&!Ds(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),ns(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===bi&&(i=H);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,f!==d&&(g=h,p=d)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=d),null!==g&&Ms(t,e,n,r,g,p,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return H;const r=[],i=Pn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Ds(t,e){return e>=t.expandoStartIndex}function Rs(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[me()],s=Ds(t,n);Vs(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Vt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ls(n=Ps(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Ps(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ti(r))return t[Oi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Ps(null,t,e,n[1],r),n=Ls(n,e.attrs,r),function(t,e,n,r){t[Oi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Ls(r,t[o].hostAttrs,n);return Ls(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Oi(s),u=Ti(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||pn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Oi(t[a+1]);t[r+1]=Ei(e,a),0!==e&&(t[e+1]=Ii(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Ei(a,0),0!==a&&(t[a+1]=Ii(t[a+1],r)),a=r;else t[r+1]=Ei(u,0),0===a?a=r:t[u+1]=Ii(t[u+1],r),u=r;l&&(t[r+1]=Si(t[r+1])),_s(t,c,r,!0),_s(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&pn(o,e)>=0&&(n[r+1]=Ci(n[r+1]))}(e,c,t,r,o),s=Ei(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Ps(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ls(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ls(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),fn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Ms(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Us(1==(1&c)?Fs(u,e,n,i,Ti(c),s):void 0)||(Us(o)||2==(2&c)&&(o=Fs(u,null,n,i,a,s)),function(t,e,n,r,i){const o=It(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Tr.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Tr.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,At(me(),n),i,o))}function Fs(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===bi&&(l=c?H:void 0);let h=c?dn(l,r):u===r?l:void 0;if(o&&!Us(h)&&(h=dn(e,r)),Us(h)&&(a=h,s))return a;const f=t[i+1];i=s?Oi(f):Ti(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=dn(t,r))}return a}function Us(t){return void 0!==t}function Vs(t,e){return 0!=(t.flags&(e?16:32))}function qs(t,e=""){const n=Bt(),r=Ht(),i=t+20,o=r.firstCreatePass?ji(r,i,1,e,null):r.data[i],s=n[i]=Dr(n[11],e);Xr(r,n,s,o),$t(o,!1)}function Bs(t){return Hs("",t,""),Bs}function Hs(t,e,n){const r=Bt(),i=Jo(r,t,e,n);return i!==bi&&yo(r,me(),i),Hs}function zs(t,e,n,r,i){const o=Bt(),s=function(t,e,n,r,i,o){const s=Yo(t,te(),n,i);return ne(2),s?e+y(n)+r+y(i)+o:bi}(o,t,e,n,r,i);return s!==bi&&yo(o,me(),s),zs}function Gs(t,e,n,r,i,o,s,a,u){Ns(fn,js,function(t,e,n,r,i,o,s,a,u,c){const l=function(t,e,n,r,i,o){const s=Yo(t,e,n,r);return Yo(t,e+2,i,o)||s}(t,te(),n,i,s,u);return ne(4),l?e+y(n)+r+y(i)+o+y(s)+a+y(u)+c:bi}(Bt(),t,e,n,r,i,o,s,a,u),!0)}function Ks(t,e,n){const r=Bt();return $o(r,ee(),e)&&zi(Ht(),ve(),r,t,e,r[11],n,!0),Ks}const Ws=void 0;var $s=["en",[["a","p"],["AM","PM"],Ws],[["AM","PM"],Ws,Ws],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ws,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ws,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ws,"{1} 'at' {0}",Ws],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ys={};function Qs(t,e,n){"string"!=typeof e&&(n=e,e=t[ea.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ys[e]=t,n&&(Ys[e][ea.ExtraData]=n)}function Js(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ta(e);if(n)return n;const r=e.split("-")[0];if(n=ta(r),n)return n;if("en"===r)return $s;throw new Error(`Missing locale data for the locale "${t}".`)}function Xs(t){return Js(t)[ea.CurrencyCode]||null}function Zs(t){return Js(t)[ea.PluralCase]}function ta(t){return t in Ys||(Ys[t]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[t]),Ys[t]}var ea=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const na=["zero","one","two","few","many"],ra={marker:"element"},ia={marker:"ICU"};var oa=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let sa="en-US";function aa(t){var e;null==(e=t)&&w("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(sa=t.toLowerCase().replace(/_/g,"-"))}function ua(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?$r(t,0,n):xt(n[i])}function ca(t,e,n,r,i){const o=e.insertBeforeIndex;if(Array.isArray(o)){let s=r,a=null;if(3&e.type||(a=s,s=i),null!==s&&0==(2&e.flags))for(let e=1;e<o.length;e++)Hr(t,s,n[o[e]],a,!1)}}function la(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];ha(r)||fa(r,e)&&null===da(r)&&pa(r,e.index)}}function ha(t){return!(64&t.type)}function fa(t,e){return ha(e)||t.index>e.index}function da(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function pa(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(Jr(ua,ca),t.insertBeforeIndex=e)}function ga(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function ma(t,e,n){const r=ki(t,n,64,null,null);return la(e,r),r}function ya(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let va=0,ba=0;function wa(t,e,n,r){const i=n[11];let o,s=null;for(let a=0;a<e.length;a++){const u=e[a];if("string"==typeof u){const t=e[++a];null===n[t]&&(n[t]=Dr(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===s&&(s=c,o=Kr(i,r)),c===s?(l=r,h=o):(l=null,h=xt(n[c])),null!==h){const e=(131070&u)>>>1;Hr(i,h,n[e],l,!1);const r=ga(t,e);if(null!==r&&"object"==typeof r){const e=ya(r,n);null!==e&&wa(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const f=e[++a],d=e[++a];Zi(i,At(u>>>1,n),null,null,f,d,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case ia:const t=e[++a],r=e[++a];null===n[r]&&Er(n[r]=Pr(i,t),n);break;case ra:const o=e[++a],s=e[++a];null===n[s]&&Er(n[s]=Lr(i,o,null),n)}}}function _a(t,e,n,r,i){for(let o=0;o<n.length;o++){const s=n[o],a=n[++o];if(s&i){let i="";for(let s=o+1;s<=o+a;s++){const o=n[s];if("string"==typeof o)i+=o;else if("number"==typeof o)if(o<0)i+=y(e[r-o]);else{const a=o>>>2;switch(3&o){case 1:const o=n[++s],u=n[++s],c=t.data[a];"string"==typeof c?Zi(e[11],e[a],null,c,o,i,u):zi(t,c,e,o,i,e[11],u,!1);break;case 0:const l=e[a];null!==l&&Rr(e[11],l,i);break;case 2:Oa(t,ga(t,a),e,i);break;case 3:Ea(t,ga(t,a),r,e)}}}}else{const i=n[o+1];if(i>0&&3==(3&i)){const n=ga(t,i>>>2);e[n.currentCaseLViewIndex]<0&&Ea(t,n,r,e)}}o+=a}}function Ea(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let o=va;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),_a(t,r,e.update[i],n,o)}}function Oa(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=Zs(e)(parseInt(t,10)),r=na[n];return void 0!==r?r:"other"}(e,sa);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(ya(e,n)!==i&&(Sa(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&wa(t,e.create[i],n,r)}}function Sa(t,e,n){let r=ya(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=At(r,n);null!==t&&ni(n[11],t)}else Sa(t,ga(t,~r),n)}}}const Ta=/\ufffd(\d+):?\d*\ufffd/gi,Ia=/\ufffd(\d+)\ufffd/,Ca=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,xa=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Aa=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ja=/\uE500/g;function ka(t,e,n,r,i,o,s){const a=Ni(t,r,1,null);let u=a<<oa.SHIFT,c=Wt();e===c&&(c=null),null===c&&(u|=oa.APPEND_EAGERLY),s&&(u|=oa.COMMENT,void 0===Ir&&(Ir=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=ya(t,e);n=null!==i?t.remove[i]:z}function o(){if(r<n.length){const s=n[r++];return s>0?e[s]:(t.push(r,n),i(e[1].data[~s],e),o())}return 0===t.length?null:(n=t.pop(),r=t.pop(),o())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),o}}())),i.push(u,null===o?"":o);const l=ki(t,a,s?32:1,null===o?"":o,null);la(n,l);const h=l.index;return $t(l,!1),null!==c&&e!==c&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(Jr(ua,ca),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&w("Expecting array here",r,true,"=="),n.push(e))}(c,h),l}function Na(t,e,n,r,i,o,s){const a=s.match(Ta),u=ka(t,e,n,o,r,a?null:s,!1);a&&Da(i,s,u.index)}function Da(t,e,n,r,i=null){const o=t.length,s=o+1;t.push(null,null);const a=o+2,u=e.split(Ta);let c=0;for(let l=0;l<u.length;l++){const e=u[l];if(1&l){const n=parseInt(e,10);t.push(-1-n),c|=Ra(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,i),t[o]=c,t[s]=t.length-a,c}function Ra(t){return 1<<Math.min(t,31)}function Pa(t){let e,n,r="",i=0,o=!1;for(;null!==(e=xa.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function La(t,e,n,r,i,o){let s=0;const a={type:i.type,currentCaseLViewIndex:Ni(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(Ra(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,a);const u=i.values;for(let c=0;c<u.length;c++){const o=u[c],l=[];for(let t=0;t<o.length;t++){const e=o[t];if("string"!=typeof e){const n=l.push(e)-1;o[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}s=Ua(t,a,e,n,r,i.cases[c],o.join(""),l)|s}s&&function(t,e,n){t.push(e,1,n<<2|3)}(n,s,o)}function Ma(t){const e=[],n=[];let r=1,i=0;const o=Fa(t=t.replace(Ca,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=Fa(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function Fa(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Ca.test(n)?r.push(Ma(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}function Ua(t,e,n,r,i,o,s,a){const u=[],c=[],l=[];e.cases.push(o),e.create.push(u),e.remove.push(c),e.update.push(l);const h=Hn(Tt()).getInertBodyElement(s),f=dr(h)||h;return f?Va(t,e,n,r,u,c,l,f,i,a,0):0}function Va(t,e,n,r,i,o,s,a,u,c,l){let h=0,f=a.firstChild;for(;f;){const a=Ni(t,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const d=f,p=d.tagName.toLowerCase();if(nr.hasOwnProperty(p)){Ha(i,ra,p,u,a),t.data[a]=p;const g=d.attributes;for(let t=0;t<g.length;t++){const e=g.item(t),n=e.name.toLowerCase();e.value.match(Ta)?or.hasOwnProperty(n)&&(rr[n]?Da(s,e.value,a,e.name,$n):ir[n]?Da(s,e.value,a,e.name,Yn):Da(s,e.value,a,e.name)):za(i,a,e)}h=Va(t,e,n,r,i,o,s,f,a,c,l+1)|h,qa(o,a,l)}break;case Node.TEXT_NODE:const g=f.textContent||"",m=g.match(Ta);Ha(i,null,m?"":g,u,a),qa(o,a,l),m&&(h=Da(s,g,a)|h);break;case Node.COMMENT_NODE:const y=Ia.exec(f.textContent||"");if(y){const e=c[parseInt(y[1],10)];Ha(i,ia,"",u,a),La(t,n,r,u,e,a),Ba(o,a,l)}}f=f.nextSibling}return h}function qa(t,e,n){0===n&&t.push(e)}function Ba(t,e,n){0===n&&(t.push(~e),t.push(e))}function Ha(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function za(t,e,n){t.push(e<<1|1,n.name,n.value)}function Ga(t,e,n){(function(t,e,n=-1){const r=Ht(),i=Bt(),o=20+t,s=Mt(r.consts,e),a=Wt();r.firstCreatePass&&function(t,e,n,r,i,o){const s=Wt(),a=[],u=[],c=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return Pa(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Pa(t.substring(n,r))}}(i,o),h.replace(ja," ")).split(Aa);var h;for(let f=0;f<l.length;f++){let r=l[f];if(0==(1&f)){const o=Fa(r);for(let r=0;r<o.length;r++){let l=o[r];if(0==(1&r)){const e=l;""!==e&&Na(t,s,c[0],a,u,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);La(t,n,u,e,r,ka(t,s,c[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),20+Number.parseInt(r.substring(e?2:1)));if(e)c.shift(),$t(Wt(),!1);else{const e=ma(t,c[0],n);c.unshift([]),$t(e,!0)}}}t.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,o,s,n);const u=r.data[o],c=Br(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let o=0;o<e.length;o++){const s=e[o++],a=e[o],u=(s&oa.COMMENT)===oa.COMMENT,c=(s&oa.APPEND_EAGERLY)===oa.APPEND_EAGERLY,l=s>>>oa.SHIFT;let h=t[l];null===h&&(h=t[l]=u?i.createComment(a):Dr(i,a)),c&&null!==n&&Hr(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),re(!0)})(t,e,n),re(!1)}function Ka(t){return $o(Bt(),ee(),t)&&(va|=1<<Math.min(ba,31)),ba++,Ka}function Wa(t){!function(t,e,n){if(ba>0){const r=t.data[n];_a(t,e,Array.isArray(r)?r:r.update,te()-ba-1,va)}va=0,ba=0}(Ht(),Bt(),t+20)}function $a(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)$a(t[o],e,n,r,i);else{const o=Ht(),s=Bt();let a=Do(t)?t:p(t.provide),u=jo(t);const c=Gt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Do(t)||!t.multi){const r=new Te(u,i,ts),d=Ja(a,e,i?l:l+f,h);-1===d?(qe(Me(c,s),o,a),Ya(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Ja(a,e,l+f,h),p=Ja(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){qe(Me(c,s),o,a);const l=function(t,e,n,r,i){const o=new Te(t,n,ts);return o.multi=[],o.index=e,o.componentProviders=0,Qa(o,i,r&&!n),o}(i?Za:Xa,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Ya(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Ya(o,t,d>-1?d:p,Qa(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Ya(t,e,n,r){const i=Do(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Qa(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ja(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Xa(t,e,n,r){return tu(this.multi,[])}function Za(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ye(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),tu(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],tu(i,o);return o}function tu(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function eu(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ht();if(r.firstCreatePass){const i=gt(t);$a(n,r.data,r.blueprint,i,!0),$a(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class nu{}class ru{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let iu=(()=>{class t{}return t.NULL=new ru,t})();function ou(...t){}function su(t,e){return new uu(jt(t,e))}const au=function(){return su(Gt(),Bt())};let uu=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=au,t})();function cu(t){return t instanceof uu?t.nativeElement:t}class lu{}let hu=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>fu(),t})();const fu=function(){const t=Bt(),e=Dt(Gt().index,t);return function(t){return t[11]}(lt(e)?e:t)};let du=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class pu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const gu=new pu("11.2.6");class mu{constructor(){}supports(t){return Go(t)}create(t){return new vu(t)}}const yu=(t,e)=>e;class vu{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||yu}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Eu(n,r,i)?e:n,s=Eu(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Go(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ho()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new bu(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new _u),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _u),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class bu{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wu{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class _u{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new wu,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Eu(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ou{constructor(){}supports(t){return t instanceof Map||Ko(t)}create(){return new Su}}class Su{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ko(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Tu(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Tu{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Iu(){return new Cu([new mu])}let Cu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Iu()),deps:[[t,new In,new Tn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:Iu}),t})();function xu(){return new Au([new Ou])}let Au=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||xu()),deps:[[t,new In,new Tn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:xu}),t})();function ju(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(xt(o)),ht(o))for(let t=10;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&ju(e[1],e,n,r)}const s=n.type;if(8&s)ju(t,e,n.child,r);else if(32&s){const t=Cr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=ti(e,n);if(Array.isArray(t))r.push(...t);else{const n=xr(e[16]);ju(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class ku{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ju(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ht(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Fr(t,n),ln(e,n))}this._attachedToViewContainer=!1}Ur(this._lView[1],this._lView)}onDestroy(t){Bi(this._lView[1],this._lView,null,t)}markForCheck(){ao(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){uo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Xt(!0);try{uo(t,e,n)}finally{Xt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ii(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Nu extends ku{constructor(t){super(t),this._view=t}detectChanges(){co(this._view)}checkNoChanges(){!function(t){Xt(!0);try{co(t)}finally{Xt(!1)}}(this._view)}get context(){return null}}const Du=Pu;let Ru=(()=>{class t{}return t.__NG_ELEMENT_ID__=Du,t.__ChangeDetectorRef__=!0,t})();function Pu(t=!1){return function(t,e,n){if(!n&&dt(t)){const n=Dt(t.index,e);return new ku(n,n)}return 47&t.type?new ku(e[16],e):null}(Gt(),Bt(),t)}const Lu=[new Ou],Mu=new Cu([new mu]),Fu=new Au(Lu),Uu=function(){return Hu(Gt(),Bt())};let Vu=(()=>{class t{}return t.__NG_ELEMENT_ID__=Uu,t})();const qu=Vu,Bu=class extends qu{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ai(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Di(e,n,t),new ku(n)}};function Hu(t,e){return 4&t.type?new Bu(e,t,su(t,e)):null}class zu{}class Gu{}const Ku=function(){return Xu(Gt(),Bt())};let Wu=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ku,t})();const $u=Wu,Yu=class extends $u{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return su(this._hostTNode,this._hostLView)}get injector(){return new Xe(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ve(this._hostTNode,this._hostLView);if(ke(t)){const e=De(t,this._hostLView),n=Ne(t);return new Xe(e[1].data[n+8],e)}return new Xe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Qu(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(zu,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(ht(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Yu(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],cn(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=ei(i,o),a=n[11],u=Kr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,ii(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),cn(Ju(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Qu(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Fr(this._lContainer,e);n&&(ln(Ju(this._lContainer),e),Ur(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Fr(this._lContainer,e);return n&&null!=ln(Ju(this._lContainer),e)?new ku(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Qu(t){return t[8]}function Ju(t){return t[8]||(t[8]=[])}function Xu(t,e){let n;const r=e[t.index];if(ht(r))n=r;else{let i;if(8&t.type)i=xt(r);else{const n=e[11];i=n.createComment("");const r=jt(t,e);Hr(n,Kr(n,r),i,function(t,e){return It(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=no(r,e,i,t),so(e,n)}return new Yu(n,t,e)}const Zu={};class tc extends iu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ut(t);return new rc(e,this.ngModule)}}function ec(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const nc=new rn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Or});class rc extends nu{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(vi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ec(this.componentDef.inputs)}get outputs(){return ec(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Zu,i);return o!==Zu||r===Zu?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(lu,Ct),s=i.get(du,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(It(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Lr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Or,clean:ho,playerHandler:null,flags:0},f=qi(0,null,null,1,0,null,null,null,null,null),d=Ai(null,f,h,l,null,null,o,a,s,i);let p,g;le(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=ji(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(vo(a,u,!0),null!==t&&(Ie(i,t,u),null!==a.classes&&ai(i,t,a.classes),null!==a.styles&&si(i,t,a.styles)));const c=r.createRenderer(t,e),l=Ai(n,Vi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(qe(Me(a,n),s,e.type),$i(s,a),Qi(a,n.length,1)),so(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Ie(a,c,["ng-version",gu.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!di(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ie(a,c,t),e&&e.length>0&&ai(a,c,e.join(" "))}if(g=kt(f,20),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Gt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ji(t,r,e,Ni(t,e,1,null),n));const i=Ye(e,t,r.directiveStart,r);Er(i,e);const o=jt(r,e);return o&&Er(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Gt();e.contentQueries(1,s,t.directiveStart)}const a=Gt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ye(a.index),Ki(n[1],a,0,a.directiveStart,a.directiveEnd,e),Wi(e,s)),s}(t,this.componentDef,d,h,[Lo]),Di(f,d,null)}finally{ge()}return new ic(this.componentType,p,su(g,d),d,g)}}class ic extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Nu(r),this.componentType=t}get injector(){return new Xe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const oc=new Map;class sc extends zu{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new tc(this);const n=ct(t),r=t[Y]||null;r&&aa(r),this._bootstrapComponents=Sr(n.bootstrap),this._r3Injector=Co(t,e,[{provide:zu,useValue:this},{provide:iu,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Po.THROW_IF_NOT_FOUND,n=j.Default){return t===Po||t===zu||t===bo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ac extends Gu{constructor(t){super(),this.moduleType=t,null!==ct(t)&&function(t){const e=new Set;!function t(n){const r=ct(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,oc.get(i),n),oc.set(i,n));const o=Sr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new sc(this.moduleType,t)}}function uc(t,e,n,r){return fc(Bt(),Zt(),t,e,n,r)}function cc(t,e,n,r,i){return function(t,e,n,r,i,o,s){const a=e+n;return Yo(t,a,i,o)?Wo(t,a+2,s?r.call(s,i,o):r(i,o)):hc(t,a+2)}(Bt(),Zt(),t,e,n,r,i)}function lc(t,e,n,r,i,o){return function(t,e,n,r,i,o,s,a){const u=e+n;return function(t,e,n,r,i){const o=Yo(t,e,n,r);return $o(t,e+2,i)||o}(t,u,i,o,s)?Wo(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):hc(t,u+3)}(Bt(),Zt(),t,e,n,r,i,o)}function hc(t,e){const n=t[e];return n===bi?void 0:n}function fc(t,e,n,r,i,o){const s=e+n;return $o(t,s,i)?Wo(t,s+1,o?r.call(o,i):r(i)):hc(t,s+1)}function dc(t,e){const n=Ht();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new m("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=mt(r.type)),s=N(ts);try{const t=Pe(!1),e=o();return Pe(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Bt(),i,e),e}finally{N(s)}}function pc(t,e,n){const r=t+20,i=Bt(),o=Nt(i,r);return function(t,e){return zo.isWrapped(e)&&(e=zo.unwrap(e),t[te()]=bi),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?fc(i,Zt(),e,o.transform,n,o):o.transform(n))}const gc=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function mc(){return this._results[Ho()]()}class yc{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ho(),n=yc.prototype;n[e]||(n[e]=mc)}get changes(){return this._changes||(this._changes=new gc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const n=an(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class vc{constructor(t){this.queryList=t,this.matches=null}clone(){return new vc(this.queryList)}setDirty(){this.queryList.setDirty()}}class bc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new bc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Dc(t,e).matches&&this.queries[e].setDirty()}}class wc{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class _c{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new _c(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ec{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ec(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Oc(e,i)),this.matchTNodeWithReadOption(t,e,$e(e,t,i,!1,!1))}else n===Vu?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,$e(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===uu||r===Wu||r===Vu&&4&e.type)this.addMatch(e.index,-2);else{const n=$e(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Oc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Sc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?su(t,e):4&t.type?Hu(t,e):null}(e,t):-2===n?function(t,e,n){return n===uu?su(e,t):n===Vu?Hu(e,t):n===Wu?Xu(e,t):void 0}(t,e,r):Ye(t,t[1],n,e)}function Tc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Sc(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Ic(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Tc(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=10;t<s.length;t++){const e=s[t];e[17]===e[3]&&Ic(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Ic(n[1],n,i,r)}}}}}return r}function Cc(t){const e=Bt(),n=Ht(),r=se();ae(r+1);const i=Dc(n,r);if(t.dirty&&Pt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Ic(n,e,r,[]):Tc(n,e,i,r);t.reset(o,cu),t.notifyOnChanges()}return!0}return!1}function xc(t,e,n){const r=Ht();r.firstCreatePass&&(Nc(r,new wc(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),kc(r,Bt(),e)}function Ac(t,e,n,r){const i=Ht();if(i.firstCreatePass){const o=Gt();Nc(i,new wc(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}kc(i,Bt(),n)}function jc(){return t=Bt(),e=se(),t[19].queries[e].queryList;var t,e}function kc(t,e,n){const r=new yc(4==(4&n));Bi(t,e,r,r.destroy),null===e[19]&&(e[19]=new bc),e[19].queries.push(new vc(r))}function Nc(t,e,n){null===t.queries&&(t.queries=new _c),t.queries.track(new Ec(e,n))}function Dc(t,e){return t.queries.getByIndex(e)}function Rc(t,e){return Hu(t,e)}function Pc(t=j.Default){const e=Pu(!0);if(null!=e||t&j.Optional)return e;b("ChangeDetectorRef")}const Lc=new rn("Application Initializer");let Mc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=ou,this.reject=ou,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();cs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(_n(Lc,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Fc=new rn("AppId"),Uc={provide:Fc,useFactory:function(){return`${Vc()}${Vc()}${Vc()}`},deps:[]};function Vc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qc=new rn("Platform Initializer"),Bc=new rn("Platform ID"),Hc=new rn("appBootstrapListener");let zc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Gc=new rn("LocaleId"),Kc=new rn("DefaultCurrencyCode");class Wc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const $c=function(t){return new ac(t)},Yc=$c,Qc=function(t){return Promise.resolve($c(t))},Jc=function(t){const e=$c(t),n=Sr(ct(t).declarations).reduce((t,e)=>{const n=ut(e);return n&&t.push(new rc(n)),t},[]);return new Wc(e,n)},Xc=Jc,Zc=function(t){return Promise.resolve(Jc(t))};let tl=(()=>{class t{constructor(){this.compileModuleSync=Yc,this.compileModuleAsync=Qc,this.compileModuleAndAllComponentsSync=Xc,this.compileModuleAndAllComponentsAsync=Zc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const el=(()=>Promise.resolve(0))();function nl(t){"undefined"==typeof Zone?el.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class rl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gc(!1),this.onMicrotaskEmpty=new gc(!1),this.onStable=new gc(!1),this.onError=new gc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!n&&e,this.shouldCoalesceRunChangeDetection=n,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=q.requestAnimationFrame,e=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(q,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,sl(t),ol(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),sl(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return al(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),ul(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return al(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),ul(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,sl(t),ol(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!rl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(rl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,il,ou,ou);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const il={};function ol(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function al(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ul(t){t._nesting--,ol(t)}class cl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gc,this.onMicrotaskEmpty=new gc,this.onStable=new gc,this.onError=new gc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ll=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rl.assertNotInAngularZone(),nl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())nl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(_n(rl))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),hl=(()=>{class t{constructor(){this._applications=new Map,gl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return gl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class fl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function dl(t){gl=t}let pl,gl=new fl,ml=!0,yl=!1;function vl(){return yl=!0,ml}function bl(){if(yl)throw new Error("Cannot enable prod mode after platform setup.");ml=!1}const wl=new rn("AllowMultipleToken");class _l{constructor(t,e){this.name=t,this.token=e}}function El(t,e,n=[]){const r=`Platform: ${e}`,i=new rn(r);return(e=[])=>{let o=Ol();if(!o||o.injector.get(wl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:_o,useValue:"platform"});!function(t){if(pl&&!pl.destroyed&&!pl.injector.get(wl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");pl=t.get(Sl);const e=t.get(qc,null);e&&e.forEach(t=>t())}(Po.create({providers:t,name:r}))}return function(t){const e=Ol();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ol(){return pl&&!pl.destroyed?pl:null}let Sl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new cl:("zone.js"===t?void 0:t)||new rl({enableLongStackTrace:vl(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:rl,useValue:n}];return n.run(()=>{const e=Po.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(br,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Cl(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return cs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Mc);return t.runInitializers(),t.donePromise.then(()=>(aa(i.injector.get(Gc,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Tl({},e);return function(t,e,n){const r=new ac(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Il);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(_n(Po))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Tl(t,e){return Array.isArray(e)?e.reduce(Tl,t):Object.assign(Object.assign({},t),e)}let Il=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{rl.assertNotInAngularZone(),nl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{rl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(u,c.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof nu?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(zu),i=n.create(Po.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(ll,null),a=s&&i.injector.get(hl);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Cl(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Cl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Hc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(_n(rl),_n(Po),_n(br),_n(iu),_n(Mc))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Cl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class xl{}class Al{}const jl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let kl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||jl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Nl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Nl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(_n(tl),_n(Al,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Nl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Dl=function(t){return null},Rl=El(null,"core",[{provide:Bc,useValue:"unknown"},{provide:Sl,deps:[Po]},{provide:hl,deps:[]},{provide:zc,deps:[]}]),Pl=[{provide:Il,useClass:Il,deps:[rl,Po,br,iu,Mc]},{provide:nc,deps:[rl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Mc,useClass:Mc,deps:[[new Tn,Lc]]},{provide:tl,useClass:tl,deps:[]},Uc,{provide:Cu,useFactory:function(){return Mu},deps:[]},{provide:Au,useFactory:function(){return Fu},deps:[]},{provide:Gc,useFactory:function(t){return aa(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new Sn(Gc),new Tn,new In]]},{provide:Kc,useValue:"USD"}];let Ll=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(_n(Il))},t.\u0275mod=rt({type:t}),t.\u0275inj=E({providers:Pl}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,y.prototype.create),o}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new m(i,a,r);return u},t}();function v(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function O(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return I}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return S}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.r("angularfire2.app.options"),b=new u.r("angularfire2.app.nameOrConfig"),w=new u.P("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&O("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const E=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:_,deps:[v,u.A,[new u.B,b]]};let I=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Yb(u.C))},t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("Y7HM");class g extends r.a{constructor(t,e=0,n=d){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(p.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EQ5u"),i=n("x+ZX"),o=n("XNiG");function s(){return new o.a}function a(){return t=>{return Object(i.a)()((e=s,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.b("@firebase/app"),p=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return d.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.f)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(p);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var b=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new m(t)},"PRIVATE")),t.registerVersion(h,"0.6.17",void 0),t.registerVersion("fire-js","")}(b),e.a=b},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Yb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=Object(r.Ib)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Yb)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Yb)(s).location;return new b(Object(r.Yb)(a),e&&e.origin||"")}const v=new r.r("appBaseHref");let b=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a),r.Yb(v,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a),r.Yb(v,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(m),r.Yb(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Ib)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new _(Object(r.Yb)(m),Object(r.Yb)(a))}function O(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const T=r.mb;class I{}let C=(()=>{class t extends I{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.v))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function x(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[{provide:I,useClass:C}]}),t})();function j(t){return"server"===t}let k=(()=>{class t{}return t.\u0275prov=Object(r.Ib)({token:t,providedIn:"root",factory:()=>new N(Object(r.Yb)(s),window)}),t})();class N{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=D(this.window.history)||D(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function D(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class R extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new R,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=L||(L=document.querySelector("base"),L)?L.getAttribute("href"):null;return null==e?null:(n=e,P||(P=document.createElement("a")),P.setAttribute("href",n),"/"===P.pathname.charAt(0)?P.pathname:"/"+P.pathname);var n}resetBaseElement(){L=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return x(document.cookie,t)}}let P,L=null;const M=new r.r("TRANSITION_ID"),F=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[M,s,r.s],multi:!0}];class U{static init(){Object(r.X)(new U)}addToWindow(t){r.ob.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ob.getAllAngularRootElements=()=>t.getAllRootElements(),r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push(t=>{const e=r.ob.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const V=new r.r("EventManagerPlugins");let q=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(V),r.Yb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class B{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let H=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),z=(()=>{class t extends H{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const G={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},K=/%COMP%/g;function W(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?W(t,i,n):(i=i.replace(K,t),n.push(i))}return n}function $(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Y=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Q(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new J(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new X(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=W(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(q),r.Yb(z),r.Yb(r.c))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class Q{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(G[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=G[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=G[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,$(n)):this.eventManager.addEventListener(t,e,$(n))}}class J extends Q{constructor(t,e,n,r){super(t),this.component=n;const i=W(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(K,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(K,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class X extends Q{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=W(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Z=(()=>{class t extends B{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const tt=["alt","control","meta","shift"],et={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},rt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let it=(()=>{class t extends B{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(tt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&nt.hasOwnProperty(e)&&(e=nt[e]))}return et[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),tt.forEach(r=>{r!=n&&(0,rt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const ot=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){R.makeCurrent(),U.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],st=Object(r.S)(r.W,"browser",ot),at=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:V,useClass:Z,multi:!0,deps:[s,r.A,r.C]},{provide:V,useClass:it,multi:!0,deps:[s]},[],{provide:Y,useClass:Y,deps:[q,z,r.c]},{provide:r.F,useExisting:Y},{provide:H,useExisting:z},{provide:z,useClass:z,deps:[s]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:q,useClass:q,deps:[V,r.A]},[]];let ut=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:M,useExisting:r.c},F]}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(t,12))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:at,imports:[A,r.f]}),t})();"undefined"!=typeof window&&window;var ct=n("z6cu"),lt=n("zx2A");function ht(t){return function(e){const n=new ft(t),r=e.lift(n);return n.caught=r}}class ft{constructor(t){this.selector=t}call(t,e){return e.subscribe(new dt(t,this.selector,this.caught))}}class dt extends lt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new lt.a(this);this.add(r);const i=Object(lt.c)(n,r);i!==r&&this.add(i)}}}var pt=n("LRne"),gt=n("HDdC"),mt=n("5+tZ");function yt(t,e){return Object(mt.a)(t,e,1)}var vt=n("7o/Q");function bt(t,e){return function(n){return n.lift(new wt(t,e))}}class wt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new _t(t,this.predicate,this.thisArg))}}class _t extends vt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var Et=n("lJxs");class Ot{}class St{}class Tt{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Tt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Tt;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Tt?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class It{encodeKey(t){return Ct(t)}encodeValue(t){return Ct(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Ct(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class xt{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new It,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new xt({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function At(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function jt(t){return"undefined"!=typeof Blob&&t instanceof Blob}function kt(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Nt{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Tt),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new xt,this.urlWithParams=e}serializeBody(){return null===this.body?null:At(this.body)||jt(this.body)||kt(this.body)||"string"==typeof this.body?this.body:this.body instanceof xt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||kt(this.body)?null:jt(this.body)?this.body.type||null:At(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new Nt(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var Dt=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Rt{constructor(t,e=200,n="OK"){this.headers=t.headers||new Tt,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Pt extends Rt{constructor(t={}){super(t),this.type=Dt.ResponseHeader}clone(t={}){return new Pt({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Lt extends Rt{constructor(t={}){super(t),this.type=Dt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Lt({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Mt extends Rt{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Ft(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Ut=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Nt)r=t;else{let i,o;i=n.headers instanceof Tt?n.headers:new Tt(n.headers),n.params&&(o=n.params instanceof xt?n.params:new xt({fromObject:n.params})),r=new Nt(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(pt.a)(r).pipe(yt(t=>this.handler.handle(t)));if(t instanceof Nt||"events"===n.observe)return i;const o=i.pipe(bt(t=>t instanceof Lt));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(Et.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(Et.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(Et.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(Et.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new xt).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Ft(n,e))}post(t,e,n={}){return this.request("POST",t,Ft(n,e))}put(t,e,n={}){return this.request("PUT",t,Ft(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Ot))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class Vt{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const qt=new r.r("HTTP_INTERCEPTORS");let Bt=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Ht=/^\)\]\}',?\n/;class zt{}let Gt=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Kt=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new gt.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new Tt(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Pt({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(Ht,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new Lt({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new Mt({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new Mt({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:Dt.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:Dt.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:Dt.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(zt))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Wt=new r.r("XSRF_COOKIE_NAME"),$t=new r.r("XSRF_HEADER_NAME");class Yt{}let Qt=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=x(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s),r.Yb(r.C),r.Yb(Wt))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Jt=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Yt),r.Yb($t))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Xt=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(qt,[]);this.chain=t.reduceRight((t,e)=>new Vt(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(St),r.Yb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Zt=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Jt,useClass:Bt}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Wt,useValue:e.cookieName}:[],e.headerName?{provide:$t,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[Jt,{provide:qt,useExisting:Jt,multi:!0},{provide:Yt,useClass:Qt},{provide:Wt,useValue:"XSRF-TOKEN"},{provide:$t,useValue:"X-XSRF-TOKEN"}]}),t})(),te=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[Ut,{provide:Ot,useClass:Xt},Kt,{provide:St,useExisting:Kt},Gt,{provide:zt,useExisting:Gt}],imports:[[Zt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),ee=(()=>{class t{constructor(t){this.httpClient=t,this.urlConnection="https://www.strava.com/oauth/authorize?client_id=36102&redirect_uri=https://plr2388.github.io/HuaweiToStrava/strava&response_type=code&scope=activity:write"}getToken(t){return this.httpClient.post("https://www.strava.com/oauth/token?client_id=36102&client_secret=d4ca7b238820272379613358d5fbe5e9a4571e68&code="+t+"&grant_type=authorization_code",null,{observe:"body"}).pipe(ht(this.handleError))}handleError(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error(`Backend returned code ${t.status}, body was: ${t.error}`),Object(ct.a)("Something bad happened; please try again later.")}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Ut))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),ne=(()=>{class t{constructor(t){this.stravaService=t,this.stravaURLConnection=""}ngOnInit(){this.stravaURLConnection=this.stravaService.urlConnection}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ee))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-connect-strava"]],decls:2,vars:1,consts:[[3,"href"]],template:function(t,e){1&t&&(r.Rb(0,"a",0),r.wc(1,"Click here to connect to Strava"),r.Qb()),2&t&&r.jc("href",e.stravaURLConnection,r.rc)},styles:[""]}),t})(),re=(()=>{class t{constructor(){this.title="huaweiToStrava"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-xs-12"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"h2"),r.wc(4,"Connect your Strava account"),r.Qb(),r.Nb(5,"app-connect-strava"),r.Qb(),r.Qb(),r.Qb())},directives:[ne],styles:[""]}),t})();var ie=n("EY2u"),oe=n("XNiG"),se=n("DH7j"),ae=n("n6bG");function ue(t,e,n,r){return Object(ae.a)(n)&&(r=n,n=void 0),r?ue(t,e,n).pipe(Object(Et.a)(t=>Object(se.a)(t)?r(...t):r(t))):new gt.a(r=>{ce(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function ce(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)ce(t[o],e,n,r,i)}r.add(o)}var le=n("D0XW"),he=n("Y7HM"),fe=n("z+Ro");function de(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}var pe=n("yCtX");class ge extends vt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class me extends vt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ye=n("SeVD");function ve(t,e,n,r,i=new me(t,n,r)){if(!i.closed)return e instanceof gt.a?e.subscribe(i):Object(ye.a)(e)(i)}class be{call(t,e){return e.subscribe(new we(t))}}class we extends ge{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=ve(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}var _e=n("9ppp");class Ee extends oe.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _e.a;return this._value}next(t){super.next(this._value=t)}}const Oe={};class Se{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Te(t,this.resultSelector))}}class Te extends ge{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Oe),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(ve(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Oe?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n("KqfI");var Ie=n("Lhse");function Ce(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(pe.a)(t,void 0).lift(new xe(e))}class xe{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ae(t,this.resultSelector))}}class Ae extends vt.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(se.a)(t)?e.push(new ke(t)):e.push("function"==typeof t[Ie.a]?new je(t[Ie.a]()):new Ne(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let o=0;o<e;o++){let e=t[o],s=e.next();if(e.hasCompleted()&&(r=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class je{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class ke{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[Ie.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Ne extends lt.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Ie.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(lt.c)(this.observable,new lt.a(this))}}var De=n("VRyK"),Re=n("bHdf");function Pe(...t){return Object(Re.a)(1)(Object(pt.a)(...t))}function Le(t){return e=>e.lift(new Me(t))}class Me{constructor(t){this.notifier=t}call(t,e){const n=new Fe(t),r=Object(lt.c)(this.notifier,new lt.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Fe extends lt.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const Ue=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Ve(t){return e=>0===t?Object(ie.b)():e.lift(new qe(t))}class qe{constructor(t){if(this.total=t,this.total<0)throw new Ue}call(t,e){return e.subscribe(new Be(t,this.total))}}class Be extends vt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function He(...t){const e=t[t.length-1];return Object(fe.a)(e)?(t.pop(),n=>Pe(t,n,e)):e=>Pe(t,e)}class ze{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Ge(t,this.compare,this.keySelector))}}class Ge extends vt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Ke=n("Cfvw");function We(t,e){return"function"==typeof e?n=>n.pipe(We((n,r)=>Object(Ke.a)(t(n,r)).pipe(Object(Et.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new $e(t))}class $e{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ye(t,this.project))}}class Ye extends lt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new lt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(lt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var Qe=n("vkgz");function Je(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Xe(t,n))}}class Xe{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new Ze(t,this.observables,this.project))}}class Ze extends ge{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(ve(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n("WMd4"),n("w1tV"),n("XoHu");let tn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})(),en=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[tn]]}),t})(),nn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[en]}),t})();const rn=["*"],on=["dialog"];function sn(t){return null!=t}function an(t){return(t||document.body).offsetHeight}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const un={animation:!0,transitionTimerDelayMs:5};let cn=(()=>{class t{constructor(){this.animation=un.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const ln=()=>{},{transitionTimerDelayMs:hn}=un,fn=new Map,dn=(t,e,n,r)=>{let i=r.context||{};const o=fn.get(e);if(o)switch(r.runningTransition){case"continue":return ie.a;case"stop":t.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),fn.delete(e)}const s=n(e,r.animation,i)||ln;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>s()),Object(pt.a)(void 0).pipe(function(t){return e=>new gt.a(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const a=new oe.a,u=new oe.a,c=a.pipe(function(...t){return e=>Pe(e,Object(pt.a)(...t))}(!0));fn.set(e,{transition$:a,complete:()=>{u.next(),u.complete()},context:i});const l=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=ue(e,"transitionend").pipe(Le(c),bt(({target:t})=>t===e));(function(...t){if(1===t.length){if(!Object(se.a)(t[0]))return t[0];t=t[0]}return Object(pe.a)(t,void 0).lift(new be)})(function(t=0,e,n){let r=-1;return Object(he.a)(e)?r=Number(e)<1?1:Number(e):Object(fe.a)(e)&&(n=e),Object(fe.a)(n)||(n=le.a),new gt.a(e=>{const i=Object(he.a)(t)?t:+t-n.now();return n.schedule(de,i,{index:0,period:r,subscriber:e})})}(l+hn).pipe(Le(c)),n,u).pipe(Le(c)).subscribe(()=>{fn.delete(e),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let pn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[A]]}),t})(),gn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[A]]}),t})(),mn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})(),yn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[A]]}),t})(),vn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();var bn=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const wn=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function _n(t){const e=Array.from(t.querySelectorAll(wn)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,n,r){const[i="top",o="center"]=n.split("-"),s=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),u=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let f=0,d=0;switch(i){case"top":f=s.top-(e.offsetHeight+u+c);break;case"bottom":f=s.top+s.height;break;case"left":d=s.left-(e.offsetWidth+l+h);break;case"right":d=s.left+s.width}switch(o){case"top":f=s.top;break;case"bottom":f=s.top+s.height-e.offsetHeight;break;case"left":d=s.left;break;case"right":d=s.left+s.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?d=s.left+s.width/2-e.offsetWidth/2:f=s.top+s.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(d)}px, ${Math.round(f)}px)`;const p=e.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,y=window.innerWidth||g.clientWidth;return p.left>=0&&p.top>=0&&p.right<=y&&p.bottom<=m}},new Date(1882,10,12),new Date(2174,10,25);let En=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[A,nn]]}),t})(),On=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})(),Sn=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(cn))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(cn))},token:t,providedIn:"root"}),t})();class Tn{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const In=()=>{};let Cn=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):In}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(s))},token:t,providedIn:"root"}),t})(),xn=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(Ve(1)).subscribe(()=>{dn(this._zone,this._el.nativeElement,(t,e)=>{e&&an(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return dn(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.A))},t.\u0275cmp=r.Gb({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Cb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.Eb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class An{close(t){}dismiss(t){}}class jn{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new oe.a,this._dismissed=new oe.a,this._hidden=new oe.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Le(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Le(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(pt.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ce(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var kn=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let Nn=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new oe.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.n,this.shown=new oe.a,this.hidden=new oe.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=Ce(dn(this._zone,t,()=>t.classList.remove("show"),e),dn(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};Ce(dn(this._zone,this._elRef.nativeElement,(t,e)=>{e&&an(t),t.classList.add("show")},t),dn(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{ue(t,"keydown").pipe(Le(this._closed$),bt(t=>t.which===bn.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(kn.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;ue(this._dialogEl.nativeElement,"mousedown").pipe(Le(this._closed$),Object(Qe.a)(()=>e=!1),We(()=>ue(t,"mouseup").pipe(Le(this._closed$),Ve(1))),bt(({target:e})=>t===e)).subscribe(()=>{e=!0}),ue(t,"click").pipe(Le(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(kn.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=_n(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&dn(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(s),r.Mb(r.l),r.Mb(r.A))},t.\u0275cmp=r.Gb({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&r.Ac(on,3),2&t){let t;r.oc(t=r.cc())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Bb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Cb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.Eb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:rn,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.hc(),r.Rb(0,"div",0,1),r.Rb(2,"div",2),r.gc(3),r.Qb(),r.Qb()),2&t&&r.Cb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),Dn=(()=>{class t{constructor(t,e,n,i,o,s){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new oe.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new r.n,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=ue(e,"focusin").pipe(Le(n),Object(Et.a)(t=>t.target));ue(e,"keydown").pipe(Le(n),bt(t=>t.which===bn.Tab),Je(t)).subscribe(([t,n])=>{const[r,i]=_n(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&ue(e,"click").pipe(Le(n),Je(t),Object(Et.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:sn(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new An,c=this._getContentRef(t,r.injector||e,n,u,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),f=new jn(h,c,l,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.result.then(s,s),f.result.then(a,a),u.close=t=>{f.close(t)},u.dismiss=t=>{f.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&this._applyBackdropOptions(l.instance,r),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(xn).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(Nn).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{sn(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{sn(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,o){return n?n instanceof r.L?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,o):new Tn([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new Tn([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new Tn([[e]])}_createFromComponent(t,e,n,i,o){const s=t.resolveComponentFactory(n),a=r.s.create({providers:[{provide:An,useValue:i}],parent:e}),u=s.create(a),c=u.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new Tn([[c]],u.hostView,u)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.g),r.Yb(r.s),r.Yb(s),r.Yb(Cn),r.Yb(r.F),r.Yb(r.A))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(r.g),Object(r.Yb)(r.o),Object(r.Yb)(s),Object(r.Yb)(Cn),Object(r.Yb)(r.F),Object(r.Yb)(r.A))},token:t,providedIn:"root"}),t})(),Rn=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.j),r.Yb(r.s),r.Yb(Dn),r.Yb(Sn))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(r.j),Object(r.Yb)(r.o),Object(r.Yb)(Dn),Object(r.Yb)(Sn))},token:t,providedIn:"root"}),t})(),Pn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[Rn]}),t})(),Ln=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[A]]}),t})(),Mn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[A]]}),t})(),Fn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[A]]}),t})(),Un=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[A]]}),t})(),Vn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[A]]}),t})(),qn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[A]]}),t})(),Bn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[A]]}),t})(),Hn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();new r.r("live announcer delay",{providedIn:"root",factory:function(){return 100}});let zn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[A]]}),t})();const Gn=[pn,gn,mn,yn,vn,En,On,Pn,Ln,Mn,Fn,Un,Vn,qn,Bn,Hn,zn];let Kn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[Gn,pn,gn,mn,yn,vn,En,On,Pn,Ln,Mn,Fn,Un,Vn,qn,Bn,Hn,zn]}),t})();var Wn=n("spgP");function $n(){return t=>t.lift(new Yn)}class Yn{call(t,e){return e.subscribe(new Qn(t))}}class Qn extends vt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function Jn(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Xn(t,e,n))}}class Xn{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Zn(t,this.accumulator,this.seed,this.hasSeed))}}class Zn extends vt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}var tr=n("pxpQ"),er=n("Jgta"),nr=n("zIRd"),rr=n("q/0M"),ir=n("qOnz"),or=function(t,e){return(or=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function sr(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ar,ur="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},cr=cr||{},lr=ur||self;function hr(){}function fr(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function dr(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var pr="closure_uid_"+(1e9*Math.random()>>>0),gr=0;function mr(t,e,n){return t.call.apply(t.bind,arguments)}function yr(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function vr(t,e,n){return(vr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mr:yr).apply(null,arguments)}function br(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function wr(){return Date.now()}function _r(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Er(){this.j=this.j,this.i=this.i}Er.prototype.j=!1,Er.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,pr)&&t[pr]||(t[pr]=++gr)}(this)},Er.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Or=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Sr=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Tr(t){return Array.prototype.concat.apply([],arguments)}function Ir(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Cr(t){return/^[\s\xa0]*$/.test(t)}var xr,Ar=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function jr(t,e){return-1!=t.indexOf(e)}function kr(t,e){return t<e?-1:t>e?1:0}t:{var Nr=lr.navigator;if(Nr){var Dr=Nr.userAgent;if(Dr){xr=Dr;break t}}xr=""}function Rr(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Pr(t){var e={};for(var n in t)e[n]=t[n];return e}var Lr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mr(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Lr.length;o++)n=Lr[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Fr(t){return Fr[" "](t),t}Fr[" "]=hr;var Ur,Vr,qr=jr(xr,"Opera"),Br=jr(xr,"Trident")||jr(xr,"MSIE"),Hr=jr(xr,"Edge"),zr=Hr||Br,Gr=jr(xr,"Gecko")&&!(jr(xr.toLowerCase(),"webkit")&&!jr(xr,"Edge"))&&!(jr(xr,"Trident")||jr(xr,"MSIE"))&&!jr(xr,"Edge"),Kr=jr(xr.toLowerCase(),"webkit")&&!jr(xr,"Edge");function Wr(){var t=lr.document;return t?t.documentMode:void 0}t:{var $r="",Yr=(Vr=xr,Gr?/rv:([^\);]+)(\)|;)/.exec(Vr):Hr?/Edge\/([\d\.]+)/.exec(Vr):Br?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Vr):Kr?/WebKit\/(\S+)/.exec(Vr):qr?/(?:Version)[ \/]?(\S+)/.exec(Vr):void 0);if(Yr&&($r=Yr?Yr[1]:""),Br){var Qr=Wr();if(null!=Qr&&Qr>parseFloat($r)){Ur=String(Qr);break t}}Ur=$r}var Jr={};function Xr(t){return function(t,e){var n=Jr;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Ar(String(Ur)).split("."),r=Ar(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=kr(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||kr(0==s[2].length,0==a[2].length)||kr(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Zr=lr.document&&Br&&(Wr()||parseInt(Ur,10))||void 0,ti=!Br||9<=Number(Zr),ei=Br&&!Xr("9"),ni=function(){if(!lr.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{lr.addEventListener("test",hr,e),lr.removeEventListener("test",hr,e)}catch(n){}return t}();function ri(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ii(t,e){if(ri.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Gr){t:{try{Fr(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:oi[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ri.prototype.b=function(){this.defaultPrevented=!0},_r(ii,ri);var oi={2:"touch",3:"pen",4:"mouse"};ii.prototype.b=function(){ii.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ei)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var si="closure_listenable_"+(1e6*Math.random()|0),ai=0;function ui(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ai,this.Y=this.Z=!1}function ci(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function li(t){this.src=t,this.a={},this.b=0}function hi(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Or(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ci(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function fi(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}li.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=fi(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ui(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var di="closure_lm_"+(1e6*Math.random()|0),pi={};function gi(t,e,n,r,i){if(r&&r.once)return yi(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)gi(t,e[o],n,r,i);return null}return n=Ti(n),t&&t[si]?t.va(e,n,dr(r)?!!r.capture:!!r,i):mi(t,e,n,!1,r,i)}function mi(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=dr(i)?!!i.capture:!!i;if(s&&!ti)return null;var a=Oi(t);if(a||(t[di]=a=new li(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Ei,e=ti?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ni||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wi(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function yi(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)yi(t,e[o],n,r,i);return null}return n=Ti(n),t&&t[si]?t.wa(e,n,dr(r)?!!r.capture:!!r,i):mi(t,e,n,!0,r,i)}function vi(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)vi(t,e[o],n,r,i);else r=dr(r)?!!r.capture:!!r,n=Ti(n),t&&t[si]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=fi(o=t.a[e],n,r,i))&&(ci(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Oi(t))&&(e=t.a[e.toString()],t=-1,e&&(t=fi(e,n,r,i)),(n=-1<t?e[t]:null)&&bi(n))}function bi(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[si])hi(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wi(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Oi(e))?(hi(n,t),0==n.b&&(n.src=null,e[di]=null)):ci(t)}}}function wi(t){return t in pi?pi[t]:pi[t]="on"+t}function _i(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&bi(t),n.call(r,e)}function Ei(t,e){if(t.Y)return!0;if(!ti){if(!e)t:{e=["window","event"];for(var n=lr,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return _i(t,e=new ii(e,this))}return _i(t,new ii(e,this))}function Oi(t){return(t=t[di])instanceof li?t:null}var Si="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ti(t){return"function"==typeof t?t:(t[Si]||(t[Si]=function(e){return t.handleEvent(e)}),t[Si])}function Ii(){Er.call(this),this.c=new li(this),this.J=this,this.C=null}function Ci(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ri(e,t);else if(e instanceof ri)e.target=e.target||t;else{var i=e;Mr(e=new ri(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=xi(s,r,!0,e)&&i}if(i=xi(s=e.a=t,r,!0,e)&&i,i=xi(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=xi(s=e.a=n[o],r,!1,e)&&i}function xi(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&hi(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}_r(Ii,Er),Ii.prototype[si]=!0,(ar=Ii.prototype).addEventListener=function(t,e,n,r){gi(this,t,e,n,r)},ar.removeEventListener=function(t,e,n,r){vi(this,t,e,n,r)},ar.G=function(){if(Ii.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ci(n[r]);delete e.a[t],e.b--}}this.C=null},ar.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},ar.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ai=lr.JSON.stringify;function ji(){this.b=this.a=null}var ki,Ni=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ri},function(t){t.reset()});function Di(){var t=Fi,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ri(){this.next=this.b=this.a=null}function Pi(t){lr.setTimeout(function(){throw t},0)}function Li(t,e){ki||function(){var t=lr.Promise.resolve(void 0);ki=function(){t.then(Ui)}}(),Mi||(ki(),Mi=!0),Fi.add(t,e)}ji.prototype.add=function(t,e){var n=Ni.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ri.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ri.prototype.reset=function(){this.next=this.b=this.a=null};var Mi=!1,Fi=new ji;function Ui(){for(var t;t=Di();){try{t.a.call(t.b)}catch(n){Pi(n)}var e=Ni;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Mi=!1}function Vi(t,e){Ii.call(this),this.b=t||1,this.a=e||lr,this.f=vr(this.Za,this),this.g=wr()}function qi(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Bi(t,e,n){if("function"==typeof t)n&&(t=vr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=vr(t.handleEvent,t)}return 2147483647<Number(e)?-1:lr.setTimeout(t,e||0)}function Hi(t){t.a=Bi(function(){t.a=null,t.c&&(t.c=!1,Hi(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}_r(Vi,Ii),(ar=Vi.prototype).aa=!1,ar.M=null,ar.Za=function(){if(this.aa){var t=wr()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ci(this,"tick"),this.aa&&(qi(this),this.start()))}},ar.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=wr())},ar.G=function(){Vi.X.G.call(this),qi(this),delete this.a};var zi=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}or(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Hi(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(lr.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Er);function Gi(t){Er.call(this),this.b=t,this.a={}}_r(Gi,Er);var Ki=[];function Wi(t,e,n,r){Array.isArray(n)||(n&&(Ki[0]=n.toString()),n=Ki);for(var i=0;i<n.length;i++){var o=gi(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function $i(t){Rr(t.a,function(t,e){this.a.hasOwnProperty(e)&&bi(t)},t),t.a={}}function Yi(){this.a=!0}function Qi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ai(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Gi.prototype.G=function(){Gi.X.G.call(this),$i(this)},Gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yi.prototype.info=function(){};var Ji={},Xi=null;function Zi(){return Xi=Xi||new Ii}function to(t){ri.call(this,Ji.Fa,t)}function eo(t){var e=Zi();Ci(e,new to(e,t))}function no(t,e){ri.call(this,Ji.STAT_EVENT,t),this.stat=e}function ro(t){var e=Zi();Ci(e,new no(e,t))}function io(t){ri.call(this,Ji.Ga,t)}function oo(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return lr.setTimeout(function(){t()},e)}Ji.Fa="serverreachability",_r(to,ri),Ji.STAT_EVENT="statevent",_r(no,ri),Ji.Ga="timingevent",_r(io,ri);var so={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},ao={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function uo(){}function co(){}uo.prototype.a=null;var lo,ho={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function fo(){ri.call(this,"d")}function po(){ri.call(this,"c")}function go(){}function mo(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Gi(this),this.P=yo,this.R=new Vi(t=zr?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}_r(fo,ri),_r(po,ri),_r(go,uo),lo=new go;var yo=45e3,vo={},bo={};function wo(t,e,n){t.H=1,t.i=Bo(Lo(e)),t.j=n,t.I=!0,_o(t,null)}function _o(t,e){t.u=wr(),So(t),t.l=Lo(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),es(n.b,"t",r),t.D=0,t.a=Ys(t.g,t.g.C?e:null),0<t.O&&(t.F=new zi(vr(t.Ca,t,t.a),t.O)),Wi(t.J,t.a,"readystatechange",t.Xa),e=t.B?Pr(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),eo(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Eo(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Oo(t,n);if(i==bo){4==e&&(t.h=4,ro(14),r=!1),Qi(t.c,t.f,null,"[Incomplete Response]");break}if(i==vo){t.h=4,ro(15),Qi(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Qi(t.c,t.f,i,null),Ao(t,i)}4==e&&0==n.length&&(t.h=1,ro(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),qs(e),e.F=!0,ro(11))):(Qi(t.c,t.f,n,"[Invalid Chunked Response]"),xo(t),Co(t))}function Oo(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?bo:(n=Number(e.substring(n,r)),isNaN(n)?vo:(r+=1)+n>e.length?bo:(e=e.substr(r,n),t.D=r+n,e))}function So(t){t.T=wr()+t.P,To(t,t.P)}function To(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=oo(vr(t.Va,t),e)}function Io(t){t.o&&(lr.clearTimeout(t.o),t.o=null)}function Co(t){0==t.g.v||t.A||zs(t.g,t)}function xo(t){Io(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,qi(t.R),$i(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ao(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||us(n.b,t)))if(n.I=t.N,!t.C&&us(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Dm){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Hs(n),Ns(n)}Vs(n),ro(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=oo(vr(n.Sa,n),6e3));if(1>=as(n.b)&&n.ea){try{n.ea()}catch(Dm){}n.ea=void 0}}else Ks(n,11)}else if((t.C||n.a==t)&&Hs(n),!Cr(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(jr(l,"spdy")||jr(l,"quic")||jr(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(cs(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,qo(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=wr()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=$s(u,u.C?u.ga:null,u.fa),d.C){ls(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Io(p),So(p)),u.a=d}else Us(u);0<n.g.length&&Ps(n)}else"stop"!=i[0]&&"close"!=i[0]||Ks(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Ks(n,7):ks(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);eo(4)}catch(Dm){}}function jo(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(fr(t)||"string"==typeof t)Sr(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(fr(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(fr(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ko(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ko)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function No(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Do(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Do(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Do(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(ar=mo.prototype).setTimeout=function(t){this.P=t},ar.Xa=function(t){t=t.target;var e=this.F;e&&3==Cs(t)?e.f():this.Ca(t)},ar.Ca=function(t){try{if(t==this.a)t:{var e=Cs(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!zr&&!this.a.$())){this.A||4!=e||7==n||eo(8==n||0>=r?3:2),Io(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cr(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,ro(12),xo(this),Co(this);break t}Qi(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ao(this,u)}this.I?(Eo(this,e,o),zr&&this.b&&3==e&&(Wi(this.J,this.R,"tick",this.Wa),this.R.start())):(Qi(this.c,this.f,o,null),Ao(this,o)),4==e&&xo(this),this.b&&!this.A&&(4==e?zs(this.g,this):(this.b=!1,So(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ro(12)):(this.h=0,ro(13)),xo(this),Co(this)}}}catch(c){}},ar.Wa=function(){if(this.a){var t=Cs(this.a),e=this.a.$();this.D<e.length&&(Io(this),Eo(this,t,e),this.b&&4!=t&&So(this))}},ar.cancel=function(){this.A=!0,xo(this)},ar.Va=function(){this.o=null;var t=wr();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(eo(3),ro(17)),xo(this),this.h=2,Co(this)):To(this,this.T-t)},(ar=ko.prototype).K=function(){No(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},ar.L=function(){return No(this),this.a.concat()},ar.get=function(t,e){return Do(this.b,t)?this.b[t]:e},ar.set=function(t,e){Do(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},ar.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ro=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Po(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Po){this.a=void 0!==e?e:t.a,Mo(this,t.f),this.j=t.j,Fo(this,t.c),Uo(this,t.h),this.g=t.g,e=t.b;var n=new Jo;n.c=e.c,e.a&&(n.a=new ko(e.a),n.b=e.b),Vo(this,n),this.i=t.i}else t&&(n=String(t).match(Ro))?(this.a=!!e,Mo(this,n[1]||"",!0),this.j=Ho(n[2]||""),Fo(this,n[3]||"",!0),Uo(this,n[4]),this.g=Ho(n[5]||"",!0),Vo(this,n[6]||"",!0),this.i=Ho(n[7]||"")):(this.a=!!e,this.b=new Jo(null,this.a))}function Lo(t){return new Po(t)}function Mo(t,e,n){t.f=n?Ho(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Fo(t,e,n){t.c=n?Ho(e,!0):e}function Uo(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Vo(t,e,n){e instanceof Jo?(t.b=e,function(t,e){e&&!t.f&&(Xo(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Zo(this,e),es(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=zo(e,Yo)),t.b=new Jo(e,t.a))}function qo(t,e,n){t.b.set(e,n)}function Bo(t){return qo(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^wr()).toString(36)),t}function Ho(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zo(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Go),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Go(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Po.prototype.toString=function(){var t=[],e=this.f;e&&t.push(zo(e,Ko,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(zo(e,Ko,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(zo(n,"/"==n.charAt(0)?$o:Wo,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",zo(n,Qo)),t.join("")};var Ko=/[#\/\?@]/g,Wo=/[#\?:]/g,$o=/[#\?]/g,Yo=/[#\?@]/g,Qo=/#/g;function Jo(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Xo(t){t.a||(t.a=new ko,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Zo(t,e){Xo(t),e=ns(t,e),Do(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Do((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&No(t)))}function ts(t,e){return Xo(t),e=ns(t,e),Do(t.a.b,e)}function es(t,e,n){Zo(t,e),0<n.length&&(t.c=null,t.a.set(ns(t,e),Ir(n)),t.b+=n.length)}function ns(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(ar=Jo.prototype).add=function(t,e){Xo(this),this.c=null,t=ns(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},ar.forEach=function(t,e){Xo(this),this.a.forEach(function(n,r){Sr(n,function(n){t.call(e,n,r,this)},this)},this)},ar.L=function(){Xo(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},ar.K=function(t){Xo(this);var e=[];if("string"==typeof t)ts(this,t)&&(e=Tr(e,this.a.get(ns(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Tr(e,t[n])}return e},ar.set=function(t,e){return Xo(this),this.c=null,ts(this,t=ns(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},ar.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},ar.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var rs=function(){return function(t,e){this.b=t,this.a=e}}();function is(t){this.g=t||os,t=lr.PerformanceNavigationTiming?0<(t=lr.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(lr.ia&&lr.ia.ya&&lr.ia.ya()&&lr.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var os=10;function ss(t){return!!t.b||!!t.a&&t.a.size>=t.f}function as(t){return t.b?1:t.a?t.a.size:0}function us(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function cs(t,e){t.a?t.a.add(e):t.b=e}function ls(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function hs(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=sr(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ir(t.c)}function fs(){}function ds(){this.a=new fs}function ps(t,e,n){var r=n||"";try{jo(t,function(t,n){var i=t;dr(t)&&(i=Ai(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(wy){throw e.push(r+"type="+encodeURIComponent("_badmap")),wy}}function gs(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}is.prototype.cancel=function(){var t,e;if(this.c=hs(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=sr(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},fs.prototype.stringify=function(t){return lr.JSON.stringify(t,void 0)},fs.prototype.parse=function(t){return lr.JSON.parse(t,void 0)};var ms=lr.JSON.parse;function ys(t){Ii.call(this),this.headers=new ko,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=vs,this.D=this.F=!1}_r(ys,Ii);var vs="",bs=/^https?$/i,ws=["POST","PUT"];function _s(t){return"content-type"==t.toLowerCase()}function Es(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Os(t),Ts(t)}function Os(t){t.u||(t.u=!0,Ci(t,"complete"),Ci(t,"error"))}function Ss(t){if(t.b&&void 0!==cr&&(!t.s[1]||4!=Cs(t)||2!=t.W()))if(t.l&&4==Cs(t))Bi(t.za,0,t);else if(Ci(t,"readystatechange"),4==Cs(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ro)[1]||null;if(!o&&lr.self&&lr.self.location){var s=lr.self.location.protocol;o=s.substr(0,s.length-1)}i=!bs.test(o?o.toLowerCase():"")}e=i}if(e)Ci(t,"complete"),Ci(t,"success");else{t.h=6;try{var a=2<Cs(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Os(t)}}finally{Ts(t)}}}function Ts(t,e){if(t.a){Is(t);var n=t.a,r=t.s[0]?hr:null;t.a=null,t.s=null,e||Ci(t,"ready");try{n.onreadystatechange=r}catch(wy){}}}function Is(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(lr.clearTimeout(t.m),t.m=null)}function Cs(t){return t.a?t.a.readyState:0}function xs(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Rr(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):qo(t,e,n))}function As(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function js(t){this.pa=0,this.g=[],this.c=new Yi,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=As("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=As("baseRetryDelayMs",5e3,t),this.Ra=As("retryDelaySeedMs",1e4,t),this.Ma=As("forwardChannelMaxRetries",2,t),this.ma=As("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new is(t&&t.concurrentRequestLimit),this.ka=new ds,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function ks(t){if(Ds(t),3==t.v){var e=t.R++,n=Lo(t.B);qo(n,"SID",t.J),qo(n,"RID",e),qo(n,"TYPE","terminate"),Ms(t,n),(e=new mo(t,t.c,e,void 0)).H=2,e.i=Bo(Lo(n)),n=!1,lr.navigator&&lr.navigator.sendBeacon&&(n=lr.navigator.sendBeacon(e.i.toString(),"")),!n&&lr.Image&&((new Image).src=e.i,n=!0),n||(e.a=Ys(e.g,null),e.a.ba(e.i)),e.u=wr(),So(e)}Ws(t)}function Ns(t){t.a&&(qs(t),t.a.cancel(),t.a=null)}function Ds(t){Ns(t),t.j&&(lr.clearTimeout(t.j),t.j=null),Hs(t),t.b.cancel(),t.h&&("number"==typeof t.h&&lr.clearTimeout(t.h),t.h=null)}function Rs(t,e){t.g.push(new rs(t.Oa++,e)),3==t.v&&Ps(t)}function Ps(t){ss(t.b)||t.h||(t.h=!0,Li(t.Ba,t),t.u=0)}function Ls(t,e){var n;n=e?e.f:t.R++;var r=Lo(t.B);qo(r,"SID",t.J),qo(r,"RID",n),qo(r,"AID",t.P),Ms(t,r),t.i&&t.l&&xs(r,t.i,t.l),n=new mo(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Fs(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),cs(t.b,n),wo(n,r,e)}function Ms(t,e){t.f&&jo({},function(t,n){qo(e,n,t)})}function Fs(t,e,n){n=Math.min(t.g.length,n);var r=t.f?vr(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{ps(l,s,"req"+c+"_")}catch(xa){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Us(t){t.a||t.j||(t.T=1,Li(t.Aa,t),t.o=0)}function Vs(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=oo(vr(t.Aa,t),Gs(t,t.o)),t.o++,0))}function qs(t){null!=t.s&&(lr.clearTimeout(t.s),t.s=null)}function Bs(t){t.a=new mo(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Lo(t.la);qo(e,"RID","rpc"),qo(e,"SID",t.J),qo(e,"CI",t.H?"0":"1"),qo(e,"AID",t.P),Ms(t,e),qo(e,"TYPE","xmlhttp"),t.i&&t.l&&xs(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Bo(Lo(e)),n.j=null,n.I=!0,_o(n,t)}function Hs(t){null!=t.m&&(lr.clearTimeout(t.m),t.m=null)}function zs(t,e){var n=null;if(t.a==e){Hs(t),qs(t),t.a=null;var r=2}else{if(!us(t.b,e))return;n=e.s,ls(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=wr()-e.u;var i=t.u;Ci(r=Zi(),new io(r,n,e,i)),Ps(t)}else Us(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(as(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=oo(vr(t.Ba,t,e),Gs(t,t.u)),t.u++,0)))}(t,e)||2==r&&Vs(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Ks(t,5);break;case 4:Ks(t,10);break;case 3:Ks(t,6);break;default:Ks(t,2)}}function Gs(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Ks(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=vr(t.Ya,t);n||(n=new Po("//www.google.com/images/cleardot.gif"),lr.location&&"http"==lr.location.protocol||Mo(n,"https"),Bo(n)),function(t,e){var n=new Yi;if(lr.Image){var r=new Image;r.onload=br(gs,n,r,"TestLoadImage: loaded",!0,e),r.onerror=br(gs,n,r,"TestLoadImage: error",!1,e),r.onabort=br(gs,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=br(gs,n,r,"TestLoadImage: timeout",!1,e),lr.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ro(2);t.v=0,t.f&&t.f.ra(e),Ws(t),Ds(t)}function Ws(t){t.v=0,t.I=-1,t.f&&(0==hs(t.b).length&&0==t.g.length||(t.b.c.length=0,Ir(t.g),t.g.length=0),t.f.qa())}function $s(t,e,n){var r=function(t){return t instanceof Po?Lo(t):new Po(t,void 0)}(n);if(""!=r.c)e&&Fo(r,e+"."+r.c),Uo(r,r.h);else{var i=lr.location;r=function(t,e,n,r){var i=new Po(null,void 0);return t&&Mo(i,t),e&&Fo(i,e),n&&Uo(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Rr(t.V,function(t,e){qo(r,e,t)}),n=t.na,(e=t.A)&&n&&qo(r,e,n),qo(r,"VER",t.ha),Ms(t,r),r}function Ys(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ys(t.Na)).F=t.C,e}function Qs(){}function Js(){if(Br&&!(10<=Number(Zr)))throw Error("Environmental error: no available transport.")}function Xs(t,e){Ii.call(this),this.a=new js(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Cr(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cr(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ea(this)}function Zs(t){fo.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ta(){po.call(this),this.status=1}function ea(t){this.a=t}(ar=ys.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:lo),this.a.onreadystatechange=vr(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Es(this,o)}t=n||"";var i=new ko(this.headers);r&&jo(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=_s,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=lr.FormData&&t instanceof lr.FormData,!(0<=Or(ws,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Is(this),0<this.o&&((this.D=function(t){return Br&&Xr(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=vr(this.xa,this)):this.m=Bi(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Es(this,o)}},ar.xa=function(){void 0!==cr&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ci(this,"timeout"),this.abort(8))},ar.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ci(this,"complete"),Ci(this,"abort"),Ts(this))},ar.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ts(this,!0)),ys.X.G.call(this)},ar.za=function(){this.j||(this.A||this.l||this.g?Ss(this):this.Ua())},ar.Ua=function(){Ss(this)},ar.W=function(){try{return 2<Cs(this)?this.a.status:-1}catch(Vr){return-1}},ar.$=function(){try{return this.a?this.a.responseText:""}catch(Vr){return""}},ar.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ms(e)}},ar.ua=function(){return this.h},ar.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ar=js.prototype).ha=8,ar.v=1,ar.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new mo(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Mr(r=Pr(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Fs(this,n,e),qo(i=Lo(this.B),"RID",t),qo(i,"CVER",22),this.A&&qo(i,"X-HTTP-Session-Id",this.A),Ms(this,i),this.i&&r&&xs(i,this.i,r),cs(this.b,n),this.Ia&&qo(i,"TYPE","init"),this.da?(qo(i,"$req",e),qo(i,"SID","null"),n.U=!0,wo(n,i,null)):wo(n,i,e),this.v=2}}else 3==this.v&&(t?Ls(this,t):0==this.g.length||ss(this.b)||Ls(this))},ar.Aa=function(){if(this.j=null,Bs(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=oo(vr(this.Ta,this),t)}},ar.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ro(10),Ns(this),Bs(this))},ar.Sa=function(){null!=this.m&&(this.m=null,Ns(this),Vs(this),ro(19))},ar.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ro(2)):(this.c.info("Failed to ping google.com"),ro(1))},(ar=Qs.prototype).ta=function(){},ar.sa=function(){},ar.ra=function(){},ar.qa=function(){},ar.Ja=function(){},Js.prototype.a=function(t,e){return new Xs(t,e)},_r(Xs,Ii),Xs.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ro(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=$s(t,null,t.fa),Ps(t)},Xs.prototype.close=function(){ks(this.a)},Xs.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Rs(this.a,e)}else this.l?((e={}).__data__=Ai(t),Rs(this.a,e)):Rs(this.a,t)},Xs.prototype.G=function(){this.a.f=null,delete this.f,ks(this.a),delete this.a,Xs.X.G.call(this)},_r(Zs,fo),_r(ta,po),_r(ea,Qs),ea.prototype.ta=function(){Ci(this.a,"a")},ea.prototype.sa=function(t){Ci(this.a,new Zs(t))},ea.prototype.ra=function(t){Ci(this.a,new ta(t))},ea.prototype.qa=function(){Ci(this.a,"b")},Js.prototype.createWebChannel=Js.prototype.a,Xs.prototype.send=Xs.prototype.h,Xs.prototype.open=Xs.prototype.g,Xs.prototype.close=Xs.prototype.close,so.NO_ERROR=0,so.TIMEOUT=8,so.HTTP_ERROR=6,ao.COMPLETE="complete",co.EventType=ho,ho.OPEN="a",ho.CLOSE="b",ho.ERROR="c",ho.MESSAGE="d",Ii.prototype.listen=Ii.prototype.va,ys.prototype.listenOnce=ys.prototype.wa,ys.prototype.getLastError=ys.prototype.Qa,ys.prototype.getLastErrorCode=ys.prototype.ua,ys.prototype.getStatus=ys.prototype.W,ys.prototype.getResponseJson=ys.prototype.Pa,ys.prototype.getResponseText=ys.prototype.$,ys.prototype.send=ys.prototype.ba;var na=so,ra=ao,ia=Ji,oa=co,sa=ys,aa=n("mrSG"),ua=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();ua.o=-1;var ca=new rr.b("@firebase/firestore");function la(){return ca.logLevel}function ha(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ca.logLevel<=rr.a.DEBUG){var r=e.map(pa);ca.debug.apply(ca,Object(aa.f)(["Firestore (8.3.1): "+t],r))}}function fa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ca.logLevel<=rr.a.ERROR){var r=e.map(pa);ca.error.apply(ca,Object(aa.f)(["Firestore (8.3.1): "+t],r))}}function da(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ca.logLevel<=rr.a.WARN){var r=e.map(pa);ca.warn.apply(ca,Object(aa.f)(["Firestore (8.3.1): "+t],r))}}function pa(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(wy){return t}}function ga(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+t;throw fa(e),new Error(e)}function ma(t,e){t||ga()}function ya(t,e){return t}function va(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ba=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=va(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function wa(t,e){return t<e?-1:t>e?1:0}function _a(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Ea(t){return t+"\0"}function Oa(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sa(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ta(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ia(t){return null==t}function Ca(t){return 0===t&&1/t==-1/0}function xa(t){return"number"==typeof t&&Number.isInteger(t)&&!Ca(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Aa={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ja=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(aa.c)(e,t),e}(Error),ka=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ga(),void 0===n?n=t.length-e:n>t.length-e&&ga(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Na=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(aa.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new ja(Aa.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(ka),Da=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ra=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(aa.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Da.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new ja(Aa.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new ja(Aa.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ja(Aa.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ja(Aa.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(ka),Pa=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Na.fromString(e))},t.fromName=function(e){return new t(Na.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Na.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Na.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Na(e.slice()))},t}(),La=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return wa(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();La.EMPTY_BYTE_STRING=new La("");var Ma=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fa(t){if(ma(!!t),"string"==typeof t){var e=0,n=Ma.exec(t);if(ma(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ua(t.seconds),nanos:Ua(t.nanos)}}function Ua(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Va(t){return"string"==typeof t?La.fromBase64String(t):La.fromUint8Array(t)}var qa=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ja(Aa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ja(Aa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ja(Aa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ja(Aa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?wa(this.nanoseconds,t.nanoseconds):wa(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}();function Ba(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ha(t){var e=t.mapValue.fields.__previous_value__;return Ba(e)?Ha(e):e}function za(t){var e=Fa(t.mapValue.fields.__local_write_time__.timestampValue);return new qa(e.seconds,e.nanos)}function Ga(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ba(t)?4:10:ga()}function Ka(t,e){var n=Ga(t);if(n!==Ga(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return za(t).isEqual(za(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Fa(t.timestampValue),r=Fa(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Va(t.bytesValue).isEqual(Va(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ua(t.geoPointValue.latitude)===Ua(e.geoPointValue.latitude)&&Ua(t.geoPointValue.longitude)===Ua(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ua(t.integerValue)===Ua(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ua(t.doubleValue),r=Ua(e.doubleValue);return n===r?Ca(n)===Ca(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return _a(t.arrayValue.values||[],e.arrayValue.values||[],Ka);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Oa(n)!==Oa(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ka(n[i],r[i])))return!1;return!0}(t,e);default:return ga()}}function Wa(t,e){return void 0!==(t.values||[]).find(function(t){return Ka(t,e)})}function $a(t,e){var n=Ga(t),r=Ga(e);if(n!==r)return wa(n,r);switch(n){case 0:return 0;case 1:return wa(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ua(t.integerValue||t.doubleValue),r=Ua(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ya(t.timestampValue,e.timestampValue);case 4:return Ya(za(t),za(e));case 5:return wa(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Va(t),r=Va(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=wa(n[i],r[i]);if(0!==o)return o}return wa(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=wa(Ua(t.latitude),Ua(e.latitude));return 0!==n?n:wa(Ua(t.longitude),Ua(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=$a(n[i],r[i]);if(o)return o}return wa(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=wa(r[s],o[s]);if(0!==a)return a;var u=$a(n[r[s]],i[o[s]]);if(0!==u)return u}return wa(r.length,o.length)}(t.mapValue,e.mapValue);default:throw ga()}}function Ya(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return wa(t,e);var n=Fa(t),r=Fa(e),i=wa(n.seconds,r.seconds);return 0!==i?i:wa(n.nanos,r.nanos)}function Qa(t){return Ja(t)}function Ja(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Fa(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Va(t.bytesValue).toBase64():"referenceValue"in t?Pa.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Ja(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Ja(t.fields[o])}return e+"}"}(t.mapValue):ga();var e}function Xa(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Za(t){return!!t&&"integerValue"in t}function tu(t){return!!t&&"arrayValue"in t}function eu(t){return!!t&&"nullValue"in t}function nu(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ru(t){return!!t&&"mapValue"in t}var iu=function(t,e){this.key=t,this.version=e},ou=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).objectValue=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(aa.c)(e,t),e.prototype.field=function(t){return this.objectValue.field(t)},e.prototype.data=function(){return this.objectValue},e.prototype.toProto=function(){return this.objectValue.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.objectValue.isEqual(t.objectValue)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(iu),su=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(aa.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(iu),au=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(aa.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(iu),uu=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function cu(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new uu(t,e,n,r,i,o,s)}function lu(t){var e=ya(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Qa(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Ia(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ou(e.startAt)),e.endAt&&(n+="|ub:",n+=Ou(e.endAt)),e.h=n}return e.h}function hu(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Tu(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Ka(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Cu(t.startAt,e.startAt)&&Cu(t.endAt,e.endAt)}function fu(t){return Pa.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var du=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(aa.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new pu(t,n,r):"array-contains"===n?new vu(t,r):"in"===n?new bu(t,r):"not-in"===n?new wu(t,r):"array-contains-any"===n?new _u(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new gu(t,n):new mu(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.m($a(e,this.value)):null!==e&&Ga(this.value)===Ga(e)&&this.m($a(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ga()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),pu=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Pa.fromName(r.referenceValue),i}return Object(aa.c)(e,t),e.prototype.matches=function(t){var e=Pa.comparator(t.key,this.key);return this.m(e)},e}(du),gu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=yu(0,n),r}return Object(aa.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(du),mu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=yu(0,n),r}return Object(aa.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(du);function yu(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Pa.fromName(t.referenceValue)})}var vu=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(aa.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return tu(e)&&Wa(e.arrayValue,this.value)},e}(du),bu=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(aa.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Wa(this.value.arrayValue,e)},e}(du),wu=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(aa.c)(e,t),e.prototype.matches=function(t){if(Wa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Wa(this.value.arrayValue,e)},e}(du),_u=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(aa.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!tu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Wa(e.value.arrayValue,t)})},e}(du),Eu=function(t,e){this.position=t,this.before=e};function Ou(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Qa(t)}).join(",")}var Su=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Tu(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Iu(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Pa.comparator(Pa.fromName(s.referenceValue),n.key):$a(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Cu(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ka(t.position[n],e.position[n]))return!1;return!0}var xu=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Au(t,e,n,r,i,o,s,a){return new xu(t,e,n,r,i,o,s,a)}function ju(t){return new xu(t)}function ku(t){return!Ia(t.limit)&&"F"===t.limitType}function Nu(t){return!Ia(t.limit)&&"L"===t.limitType}function Du(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Ru(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Pu(t){return null!==t.collectionGroup}function Lu(t){var e=ya(t);if(null===e.p){e.p=[];var n=Ru(e),r=Du(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Su(n)),e.p.push(new Su(Ra.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Su(Ra.keyField(),u))}}}return e.p}function Mu(t){var e=ya(t);if(!e.T)if("F"===e.limitType)e.T=cu(e.path,e.collectionGroup,Lu(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Lu(e);r<i.length;r++){var o=i[r];n.push(new Su(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Eu(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Eu(e.startAt.position,!e.startAt.before):null;e.T=cu(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Fu(t,e,n){return new xu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uu(t,e){return hu(Mu(t),Mu(e))&&t.limitType===e.limitType}function Vu(t){return lu(Mu(t))+"|lt:"+t.limitType}function qu(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Qa(e.value);var e}).join(", ")+"]"),Ia(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ou(t.startAt)),t.endAt&&(e+=", endAt: "+Ou(t.endAt)),"Target("+e+")"}(Mu(t))+"; limitType="+t.limitType+")"}function Bu(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Pa.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Iu(t.startAt,Lu(t),e)||t.endAt&&Iu(t.endAt,Lu(t),e))}(t,e)}function Hu(t){return function(e,n){for(var r=!1,i=0,o=Lu(t);i<o.length;i++){var s=o[i],a=zu(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function zu(t,e,n){var r=t.field.isKeyField()?Pa.comparator(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?$a(r,i):ga()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ga()}}var Gu=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new qa(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}(),Ku=function(){function t(t){this.fields=t,t.sort(Ra.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return _a(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Wu=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!ru(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.isEqual=function(t){return Ka(this.proto,t.proto)},t}(),$u=function(){function t(t){void 0===t&&(t=Wu.empty()),this.I=t,this.A=new Map}return t.prototype.set=function(t,e){return this.R(t,e),this},t.prototype.delete=function(t){return this.R(t,null),this},t.prototype.R=function(t,e){for(var n=this.A,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Ga(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.v=function(){var t=this.P(Ra.emptyPath(),this.A);return null!=t?new Wu(t):this.I},t.prototype.P=function(t,e){var n=this,r=!1,i=this.I.field(t),o=ru(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.P(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Yu(t){var e=[];return Sa(t.fields||{},function(t,n){var r=new Ra([t]);if(ru(n)){var i=Yu(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Ku(e)}function Qu(t,e){if(t.V){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ca(e)?"-0":e}}function Ju(t){return{integerValue:""+t}}function Xu(t,e){return xa(e)?Ju(e):Qu(t,e)}var Zu=function(){this._=void 0};function tc(t,e,n){return t instanceof rc?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ic?oc(t,e):t instanceof sc?ac(t,e):function(t,e){var n=nc(t,e),r=cc(n)+cc(t.S);return Za(n)&&Za(t.S)?Ju(r):Qu(t.D,r)}(t,e)}function ec(t,e,n){return t instanceof ic?oc(t,e):t instanceof sc?ac(t,e):n}function nc(t,e){return t instanceof uc?Za(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var rc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(aa.c)(e,t),e}(Zu),ic=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(aa.c)(e,t),e}(Zu);function oc(t,e){for(var n=lc(e),r=function(t){n.some(function(e){return Ka(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var sc=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(aa.c)(e,t),e}(Zu);function ac(t,e){for(var n=lc(e),r=function(t){n=n.filter(function(e){return!Ka(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var uc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).D=e,r.S=n,r}return Object(aa.c)(e,t),e}(Zu);function cc(t){return Ua(t.integerValue||t.doubleValue)}function lc(t){return tu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var hc=function(t,e){this.field=t,this.transform=e},fc=function(t,e){this.version=t,this.transformResults=e},dc=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function pc(t,e){return void 0!==t.updateTime?e instanceof ou&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof ou}var gc=function(){};function mc(t,e,n){return t instanceof _c?function(t,e,n){var r=t.value,i=Sc(t.fieldTransforms,e,n.transformResults);return r=Ic(t.fieldTransforms,r,i),new ou(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Ec?function(t,e,n){if(!pc(t.precondition,e))return new au(t.key,n.version);var r=Oc(t,e,Sc(t.fieldTransforms,e,n.transformResults));return new ou(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new su(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function yc(t,e,n){return t instanceof _c?function(t,e,n){if(!pc(t.precondition,e))return e;var r=t.value,i=Tc(t.fieldTransforms,n,e);r=Ic(t.fieldTransforms,r,i);var o=wc(e);return new ou(t.key,o,r,{hasLocalMutations:!0})}(t,e,n):t instanceof Ec?function(t,e,n){if(!pc(t.precondition,e))return e;var r=wc(e),i=Oc(t,e,Tc(t.fieldTransforms,n,e));return new ou(t.key,r,i,{hasLocalMutations:!0})}(t,e,n):function(t,e){return pc(t.precondition,e)?new su(t.key,Gu.min()):e}(t,e)}function vc(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof ou?e.field(o.field):void 0,a=nc(o.transform,s||null);null!=a&&(n=null==n?(new $u).set(o.field,a):n.set(o.field,a))}return n?n.v():null}(t.fieldTransforms,e)}function bc(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&_a(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ic&&e instanceof ic||t instanceof sc&&e instanceof sc?_a(t.elements,e.elements,Ka):t instanceof uc&&e instanceof uc?Ka(t.S,e.S):t instanceof rc&&e instanceof rc}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function wc(t){return t instanceof ou?t.version:Gu.min()}var _c=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(aa.c)(e,t),e}(gc),Ec=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(aa.c)(e,t),e}(gc);function Oc(t,e,n){var r;return r=function(t,e){var n=new $u(e);return t.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.v()}(t,r=e instanceof ou?e.data():Wu.empty()),Ic(t.fieldTransforms,r,n)}function Sc(t,e,n){var r=[];ma(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof ou&&(a=e.field(o.field)),r.push(ec(s,a,n[i]))}return r}function Tc(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=null;n instanceof ou&&(u=n.field(s.field)),r.push(tc(a,u,e))}return r}function Ic(t,e,n){for(var r=new $u(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.v()}var Cc,xc,Ac=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(aa.c)(e,t),e}(gc),jc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(aa.c)(e,t),e}(gc),kc=function(t){this.count=t};function Nc(t){switch(t){case Aa.OK:return ga();case Aa.CANCELLED:case Aa.UNKNOWN:case Aa.DEADLINE_EXCEEDED:case Aa.RESOURCE_EXHAUSTED:case Aa.INTERNAL:case Aa.UNAVAILABLE:case Aa.UNAUTHENTICATED:return!1;case Aa.INVALID_ARGUMENT:case Aa.NOT_FOUND:case Aa.ALREADY_EXISTS:case Aa.PERMISSION_DENIED:case Aa.FAILED_PRECONDITION:case Aa.ABORTED:case Aa.OUT_OF_RANGE:case Aa.UNIMPLEMENTED:case Aa.DATA_LOSS:return!0;default:return ga()}}function Dc(t){if(void 0===t)return fa("GRPC error has no .code"),Aa.UNKNOWN;switch(t){case Cc.OK:return Aa.OK;case Cc.CANCELLED:return Aa.CANCELLED;case Cc.UNKNOWN:return Aa.UNKNOWN;case Cc.DEADLINE_EXCEEDED:return Aa.DEADLINE_EXCEEDED;case Cc.RESOURCE_EXHAUSTED:return Aa.RESOURCE_EXHAUSTED;case Cc.INTERNAL:return Aa.INTERNAL;case Cc.UNAVAILABLE:return Aa.UNAVAILABLE;case Cc.UNAUTHENTICATED:return Aa.UNAUTHENTICATED;case Cc.INVALID_ARGUMENT:return Aa.INVALID_ARGUMENT;case Cc.NOT_FOUND:return Aa.NOT_FOUND;case Cc.ALREADY_EXISTS:return Aa.ALREADY_EXISTS;case Cc.PERMISSION_DENIED:return Aa.PERMISSION_DENIED;case Cc.FAILED_PRECONDITION:return Aa.FAILED_PRECONDITION;case Cc.ABORTED:return Aa.ABORTED;case Cc.OUT_OF_RANGE:return Aa.OUT_OF_RANGE;case Cc.UNIMPLEMENTED:return Aa.UNIMPLEMENTED;case Cc.DATA_LOSS:return Aa.DATA_LOSS;default:return ga()}}(xc=Cc||(Cc={}))[xc.OK=0]="OK",xc[xc.CANCELLED=1]="CANCELLED",xc[xc.UNKNOWN=2]="UNKNOWN",xc[xc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xc[xc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xc[xc.NOT_FOUND=5]="NOT_FOUND",xc[xc.ALREADY_EXISTS=6]="ALREADY_EXISTS",xc[xc.PERMISSION_DENIED=7]="PERMISSION_DENIED",xc[xc.UNAUTHENTICATED=16]="UNAUTHENTICATED",xc[xc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xc[xc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xc[xc.ABORTED=10]="ABORTED",xc[xc.OUT_OF_RANGE=11]="OUT_OF_RANGE",xc[xc.UNIMPLEMENTED=12]="UNIMPLEMENTED",xc[xc.INTERNAL=13]="INTERNAL",xc[xc.UNAVAILABLE=14]="UNAVAILABLE",xc[xc.DATA_LOSS=15]="DATA_LOSS";var Rc=function(){function t(t,e){this.comparator=t,this.root=e||Lc.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lc.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lc.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Pc(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Pc(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Pc(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Pc(this.root,t,this.comparator,!0)},t}(),Pc=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Lc=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw ga();if(this.right.isRed())throw ga();var t=this.left.check();if(t!==this.right.check())throw ga();return t+(this.isRed()?0:1)},t}();Lc.EMPTY=null,Lc.RED=!0,Lc.BLACK=!1,Lc.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ga()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ga()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ga()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ga()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ga()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Lc(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Mc=function(){function t(t){this.comparator=t,this.data=new Rc(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Fc(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Fc(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Fc=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Uc=new Rc(Pa.comparator);function Vc(){return Uc}function qc(){return Vc()}var Bc=new Rc(Pa.comparator);function Hc(){return Bc}var zc=new Rc(Pa.comparator);function Gc(){return zc}var Kc=new Mc(Pa.comparator);function Wc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Kc,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var $c=new Mc(wa);function Yc(){return $c}var Qc=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Jc.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Gu.min(),r,Yc(),Vc(),Wc())},t}(),Jc=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(La.EMPTY_BYTE_STRING,n,Wc(),Wc(),Wc())},t}(),Xc=function(t,e,n,r){this.C=t,this.removedTargetIds=e,this.key=n,this.N=r},Zc=function(t,e){this.targetId=t,this.$=e},tl=function(t,e,n,r){void 0===n&&(n=La.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},el=function(){function t(){this.F=0,this.O=il(),this.k=La.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),t.prototype.U=function(t){t.approximateByteSize()>0&&(this.L=!0,this.k=t)},t.prototype.K=function(){var t=Wc(),e=Wc(),n=Wc();return this.O.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ga()}}),new Jc(this.k,this.M,t,e,n)},t.prototype.W=function(){this.L=!1,this.O=il()},t.prototype.j=function(t,e){this.L=!0,this.O=this.O.insert(t,e)},t.prototype.G=function(t){this.L=!0,this.O=this.O.remove(t)},t.prototype.H=function(){this.F+=1},t.prototype.J=function(){this.F-=1},t.prototype.Y=function(){this.L=!0,this.M=!0},t}(),nl=function(){function t(t){this.X=t,this.Z=new Map,this.tt=Vc(),this.et=rl(),this.nt=new Mc(wa)}return t.prototype.st=function(t){for(var e=0,n=t.C;e<n.length;e++){var r=n[e];t.N instanceof ou?this.it(r,t.N):t.N instanceof su&&this.rt(r,t.key,t.N)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.rt(r=o[i],t.key,t.N)},t.prototype.ot=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ct(n);switch(t.state){case 0:e.at(n)&&r.U(t.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(t.resumeToken);break;case 2:r.J(),r.B||e.removeTarget(n);break;case 3:e.at(n)&&(r.Y(),r.U(t.resumeToken));break;case 4:e.at(n)&&(e.ut(n),r.U(t.resumeToken));break;default:ga()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Z.forEach(function(t,r){n.at(r)&&e(r)})},t.prototype.ht=function(t){var e=t.targetId,n=t.$.count,r=this.lt(e);if(r){var i=r.target;if(fu(i))if(0===n){var o=new Pa(i.path);this.rt(e,o,new su(o,Gu.min()))}else ma(1===n);else this.ft(e)!==n&&(this.ut(e),this.nt=this.nt.add(e))}},t.prototype.dt=function(t){var e=this,n=new Map;this.Z.forEach(function(r,i){var o=e.lt(i);if(o){if(r.current&&fu(o.target)){var s=new Pa(o.target.path);null!==e.tt.get(s)||e.wt(i,s)||e.rt(i,s,new su(s,t))}r.q&&(n.set(i,r.K()),r.W())}});var r=Wc();this.et.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.lt(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Qc(t,n,this.nt,this.tt,r);return this.tt=Vc(),this.et=rl(),this.nt=new Mc(wa),i},t.prototype.it=function(t,e){if(this.at(t)){var n=this.wt(t,e.key)?2:0;this.ct(t).j(e.key,n),this.tt=this.tt.insert(e.key,e),this.et=this.et.insert(e.key,this._t(e.key).add(t))}},t.prototype.rt=function(t,e,n){if(this.at(t)){var r=this.ct(t);this.wt(t,e)?r.j(e,1):r.G(e),this.et=this.et.insert(e,this._t(e).delete(t)),n&&(this.tt=this.tt.insert(e,n))}},t.prototype.removeTarget=function(t){this.Z.delete(t)},t.prototype.ft=function(t){var e=this.ct(t).K();return this.X.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.H=function(t){this.ct(t).H()},t.prototype.ct=function(t){var e=this.Z.get(t);return e||(e=new el,this.Z.set(t,e)),e},t.prototype._t=function(t){var e=this.et.get(t);return e||(e=new Mc(wa),this.et=this.et.insert(t,e)),e},t.prototype.at=function(t){var e=null!==this.lt(t);return e||ha("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.lt=function(t){var e=this.Z.get(t);return e&&e.B?null:this.X.yt(t)},t.prototype.ut=function(t){var e=this;this.Z.set(t,new el),this.X.getRemoteKeysForTarget(t).forEach(function(n){e.rt(t,n,null)})},t.prototype.wt=function(t,e){return this.X.getRemoteKeysForTarget(t).has(e)},t}();function rl(){return new Rc(Pa.comparator)}function il(){return new Rc(Pa.comparator)}var ol={asc:"ASCENDING",desc:"DESCENDING"},sl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},al=function(t,e){this.databaseId=t,this.V=e};function ul(t,e){return t.V?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function cl(t,e){return t.V?e.toBase64():e.toUint8Array()}function ll(t,e){return ul(t,e.toTimestamp())}function hl(t){return ma(!!t),Gu.fromTimestamp(function(t){var e=Fa(t);return new qa(e.seconds,e.nanos)}(t))}function fl(t,e){return function(t){return new Na(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function dl(t){var e=Na.fromString(t);return ma(Ml(e)),e}function pl(t,e){return fl(t.databaseId,e.path)}function gl(t,e){var n=dl(e);if(n.get(1)!==t.databaseId.projectId)throw new ja(Aa.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ja(Aa.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pa(bl(n))}function ml(t,e){return fl(t.databaseId,e)}function yl(t){var e=dl(t);return 4===e.length?Na.emptyPath():bl(e)}function vl(t){return new Na(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bl(t){return ma(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function wl(t,e,n){return{name:pl(t,e),fields:n.proto.mapValue.fields}}function _l(t,e,n){var r=gl(t,e.name),i=hl(e.updateTime),o=new Wu({mapValue:{fields:e.fields}});return new ou(r,i,o,{hasCommittedMutations:!!n})}function El(t,e){var n;if(e instanceof _c)n={update:wl(t,e.key,e.value)};else if(e instanceof Ac)n={delete:pl(t,e.key)};else if(e instanceof Ec)n={update:wl(t,e.key,e.data),updateMask:Ll(e.fieldMask)};else{if(!(e instanceof jc))return ga();n={verify:pl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof rc)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ic)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof sc)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof uc)return{fieldPath:e.field.canonicalString(),increment:n.S};throw ga()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ll(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ga()}(t,e.precondition)),n}function Ol(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?dc.updateTime(hl(t.updateTime)):void 0!==t.exists?dc.exists(t.exists):dc.none()}(e.currentDocument):dc.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(ma("REQUEST_TIME"===e.setToServerValue),n=new rc):"appendMissingElements"in e?n=new ic(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new sc(e.removeAllFromArray.values||[]):"increment"in e?n=new uc(t,e.increment):ga();var r=Ra.fromServerFormat(e.fieldPath);return new hc(r,n)}(t,e)}):[];if(e.update){var i=gl(t,e.update.name),o=new Wu({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Ku((t.fieldPaths||[]).map(function(t){return Ra.fromServerFormat(t)}))}(e.updateMask);return new Ec(i,o,s,n,r)}return new _c(i,o,n,r)}if(e.delete){var a=gl(t,e.delete);return new Ac(a,n)}if(e.verify){var u=gl(t,e.verify);return new jc(u,n)}return ga()}function Sl(t,e){return{documents:[ml(t,e.path)]}}function Tl(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ml(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ml(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(nu(t.value))return{unaryFilter:{field:Nl(t.field),op:"IS_NAN"}};if(eu(t.value))return{unaryFilter:{field:Nl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(nu(t.value))return{unaryFilter:{field:Nl(t.field),op:"IS_NOT_NAN"}};if(eu(t.value))return{unaryFilter:{field:Nl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nl(t.field),op:kl(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Nl(t.field),direction:jl(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.V||Ia(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=xl(e.startAt)),e.endAt&&(n.structuredQuery.endAt=xl(e.endAt)),n}function Il(t){var e=yl(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ma(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Cl(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Su(Dl(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Ia(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Al(n.startAt));var l=null;return n.endAt&&(l=Al(n.endAt)),Au(e,i,a,s,u,"F",c,l)}function Cl(t){return t?void 0!==t.unaryFilter?[Pl(t)]:void 0!==t.fieldFilter?[Rl(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Cl(t)}).reduce(function(t,e){return t.concat(e)}):ga():[]}function xl(t){return{before:t.before,values:t.position}}function Al(t){return new Eu(t.values||[],!!t.before)}function jl(t){return ol[t]}function kl(t){return sl[t]}function Nl(t){return{fieldPath:t.canonicalString()}}function Dl(t){return Ra.fromServerFormat(t.fieldPath)}function Rl(t){return du.create(Dl(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ga()}}(t.fieldFilter.op),t.fieldFilter.value)}function Pl(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Dl(t.unaryFilter.field);return du.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Dl(t.unaryFilter.field);return du.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Dl(t.unaryFilter.field);return du.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Dl(t.unaryFilter.field);return du.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ga()}}function Ll(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Ml(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Fl(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Vl(e)),e=Ul(t.get(n),e);return Vl(e)}function Ul(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Vl(t){return t+"\x01\x01"}function ql(t){var e=t.length;if(ma(e>=2),2===e)return ma("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Na.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&ga(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:ga()}o=s+2}return new Na(r)}var Bl=function(t,e){this.seconds=t,this.nanoseconds=e},Hl=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Hl.store="owner",Hl.key="owner";var zl=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};zl.store="mutationQueues",zl.keyPath="userId";var Gl=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Gl.store="mutations",Gl.keyPath="batchId",Gl.userMutationsIndex="userMutationsIndex",Gl.userMutationsKeyPath=["userId","batchId"];var Kl=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Fl(e)]},t.key=function(t,e,n){return[t,Fl(e),n]},t}();Kl.store="documentMutations",Kl.PLACEHOLDER=new Kl;var Wl=function(t,e){this.path=t,this.readTime=e},$l=function(t,e){this.path=t,this.version=e},Yl=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Yl.store="remoteDocuments",Yl.readTimeIndex="readTimeIndex",Yl.readTimeIndexPath="readTime",Yl.collectionReadTimeIndex="collectionReadTimeIndex",Yl.collectionReadTimeIndexPath=["parentPath","readTime"];var Ql=function(t){this.byteSize=t};Ql.store="remoteDocumentGlobal",Ql.key="remoteDocumentGlobalKey";var Jl=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Jl.store="targets",Jl.keyPath="targetId",Jl.queryTargetsIndexName="queryTargetsIndex",Jl.queryTargetsKeyPath=["canonicalId","targetId"];var Xl=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Xl.store="targetDocuments",Xl.keyPath=["targetId","path"],Xl.documentTargetsIndex="documentTargetsIndex",Xl.documentTargetsKeyPath=["path","targetId"];var Zl=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Zl.key="targetGlobalKey",Zl.store="targetGlobal";var th=function(t,e){this.collectionId=t,this.parent=e};th.store="collectionParents",th.keyPath=["collectionId","parent"];var eh=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};eh.store="clientMetadata",eh.keyPath="clientId";var nh=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};nh.store="bundles",nh.keyPath="bundleId";var rh=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};rh.store="namedQueries",rh.keyPath="name";var ih=Object(aa.f)(Object(aa.f)([],Object(aa.f)(Object(aa.f)([],Object(aa.f)(Object(aa.f)([],Object(aa.f)(Object(aa.f)([],[zl.store,Gl.store,Kl.store,Yl.store,Jl.store,Hl.store,Zl.store,Xl.store]),[eh.store])),[Ql.store])),[th.store])),[nh.store,rh.store]),oh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sh=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),ah=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},uh=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&ga(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),ch=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.gt=new ah,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){e.error?n.gt.reject(new fh(t,e.error)):n.gt.resolve()},this.transaction.onerror=function(e){var r=yh(e.target.error);n.gt.reject(new fh(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new fh(n,e)}},Object.defineProperty(t.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.gt.reject(t),this.aborted||(ha("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ph(e)},t}(),lh=function(){function t(e,n,r){this.name=e,this.version=n,this.Tt=r,12.2===t.It(Object(ir.g)())&&fa("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ha("SimpleDb","Removing database:",t),gh(window.indexedDB.deleteDatabase(t)).toPromise()},t.At=function(){if("undefined"==typeof indexedDB)return!1;if(t.Rt())return!0;var e=Object(ir.g)(),n=t.It(e),r=0<n&&n<10,i=t.bt(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Rt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.vt)},t.Pt=function(t,e){return t.store(e)},t.It=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.bt=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Vt=function(t){return Object(aa.b)(this,void 0,void 0,function(){var e,n=this;return Object(aa.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(ha("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new fh(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new ja(Aa.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new fh(t,n))},i.onupgradeneeded=function(t){ha("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Tt.St(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){ha("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(t){return n.Dt(t)}),this.db)]}})})},t.prototype.Ct=function(t){this.Dt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(aa.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(aa.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(aa.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Vt(t)];case 2:return a.db=h.sent(),e=ch.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),uh.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.Et];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return ha("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),hh=function(){function t(t){this.xt=t,this.Nt=!1,this.$t=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.xt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Nt=!0},t.prototype.Ot=function(t){this.$t=t},t.prototype.delete=function(){return gh(this.xt.delete())},t}(),fh=function(t){function e(e,n){var r=this;return(r=t.call(this,Aa.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(aa.c)(e,t),e}(ja);function dh(t){return"IndexedDbTransactionError"===t.name}var ph=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ha("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ha("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),gh(n)},t.prototype.add=function(t){return ha("SimpleDb","ADD",this.store.name,t,t),gh(this.store.add(t))},t.prototype.get=function(t){var e=this;return gh(this.store.get(t)).next(function(n){return void 0===n&&(n=null),ha("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return ha("SimpleDb","DELETE",this.store.name,t),gh(this.store.delete(t))},t.prototype.count=function(){return ha("SimpleDb","COUNT",this.store.name),gh(this.store.count())},t.prototype.kt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Mt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Lt=function(t,e){ha("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,function(t,e,n){return n.delete()})},t.prototype.qt=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Mt(r,e)},t.prototype.Ut=function(t){var e=this.cursor({});return new uh(function(n,r){e.onerror=function(t){var e=yh(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.Mt=function(t,e){var n=[];return new uh(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new hh(i),s=e(i.primaryKey,i.value,o);if(s instanceof uh){var a=s.catch(function(t){return o.done(),uh.reject(t)});n.push(a)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}else r()}}).next(function(){return uh.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Bt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function gh(t){return new uh(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=yh(t.target.error);n(e)}})}var mh=!1;function yh(t){var e=lh.It(Object(ir.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ja("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return mh||(mh=!0,setTimeout(function(){throw r},0)),r}}return t}var vh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.currentSequenceNumber=n,r}return Object(aa.c)(e,t),e}(sh);function bh(t,e){var n=ya(t);return lh.Pt(n.Qt,e)}var wh=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=mc(o,e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=yc(s,e,this.localWriteTime));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=yc(s,e,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Wc())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&_a(this.mutations,t.mutations,function(t,e){return bc(t,e)})&&_a(this.baseMutations,t.baseMutations,function(t,e){return bc(t,e)})},t}(),_h=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){ma(e.mutations.length===r.length);for(var i=Gc(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Eh=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Gu.min()),void 0===o&&(o=Gu.min()),void 0===s&&(s=La.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Oh=function(t){this.Kt=t};function Sh(t,e){if(e.document)return _l(t.Kt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Pa.fromSegments(e.noDocument.path),r=Ah(e.noDocument.readTime);return new su(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Pa.fromSegments(e.unknownDocument.path);return r=Ah(e.unknownDocument.version),new au(i,r)}return ga()}function Th(t,e,n){var r=Ih(n),i=e.key.path.popLast().toArray();if(e instanceof ou){var o=function(t,e){return{name:pl(t,e.key),fields:e.toProto().mapValue.fields,updateTime:ul(t,e.version.toTimestamp())}}(t.Kt,e),s=e.hasCommittedMutations;return new Yl(null,null,o,s,r,i)}if(e instanceof su){var a=e.key.path.toArray(),u=xh(e.version);return s=e.hasCommittedMutations,new Yl(null,new Wl(a,u),null,s,r,i)}if(e instanceof au){var c=e.key.path.toArray(),l=xh(e.version);return new Yl(new $l(c,l),null,null,!0,r,i)}return ga()}function Ih(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ch(t){var e=new qa(t[0],t[1]);return Gu.fromTimestamp(e)}function xh(t){var e=t.toTimestamp();return new Bl(e.seconds,e.nanoseconds)}function Ah(t){var e=new qa(t.seconds,t.nanoseconds);return Gu.fromTimestamp(e)}function jh(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Ol(t.Kt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Ol(t.Kt,e)}),o=qa.fromMillis(e.localWriteTimeMs);return new wh(e.batchId,o,n,i)}function kh(t){var e,n,r=Ah(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ah(t.lastLimboFreeSnapshotVersion):Gu.min();return void 0!==t.query.documents?(ma(1===(n=t.query).documents.length),e=Mu(ju(yl(n.documents[0])))):e=function(t){return Mu(Il(t))}(t.query),new Eh(e,t.targetId,0,t.lastListenSequenceNumber,r,i,La.fromBase64String(t.resumeToken))}function Nh(t,e){var n,r=xh(e.snapshotVersion),i=xh(e.lastLimboFreeSnapshotVersion);n=fu(e.target)?Sl(t.Kt,e.target):Tl(t.Kt,e.target);var o=e.resumeToken.toBase64();return new Jl(e.targetId,lu(e.target),r,o,e.sequenceNumber,i,n)}function Dh(t){var e=Il({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Fu(e,e.limit,"L"):e}var Rh=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Ph(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Ah(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Ph(t).put({bundleId:(n=e).id,createTime:xh(hl(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Lh(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Dh(e.bundledQuery),readTime:Ah(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Lh(t).put(function(t){return{name:t.name,readTime:xh(hl(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Ph(t){return bh(t,nh.store)}function Lh(t){return bh(t,rh.store)}var Mh=function(){function t(){this.Wt=new Fh}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Wt.add(e),uh.resolve()},t.prototype.getCollectionParents=function(t,e){return uh.resolve(this.Wt.getEntries(e))},t}(),Fh=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Mc(Na.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Mc(Na.comparator)).toArray()},t}(),Uh=function(){function t(){this.jt=new Fh}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.jt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.jt.add(e)});var o={collectionId:r,parent:Fl(i)};return Vh(t).put(o)}return uh.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ea(e),""],!1,!0);return Vh(t).kt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(ql(o.parent))}return n})},t}();function Vh(t){return bh(t,th.store)}var qh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bh=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Hh(t,e,n){var r=t.store(Gl.store),i=t.store(Kl.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.qt({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){ma(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Kl.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return uh.waitFor(o).next(function(){return c})}function zh(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ga();e=t.noDocument}return JSON.stringify(e).length}Bh.DEFAULT_COLLECTION_PERCENTILE=10,Bh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bh.DEFAULT=new Bh(41943040,Bh.DEFAULT_COLLECTION_PERCENTILE,Bh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bh.DISABLED=new Bh(-1,0,0);var Gh=function(){function t(t,e,n,r){this.userId=t,this.D=e,this.Gt=n,this.referenceDelegate=r,this.zt={}}return t.Ht=function(e,n,r,i){return ma(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wh(t).qt({index:Gl.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=$h(t),s=Wh(t);return s.add({}).next(function(a){ma("number"==typeof a);for(var u=new wh(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return El(t.Kt,e)}),i=n.mutations.map(function(e){return El(t.Kt,e)});return new Gl(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,u),l=[],h=new Mc(function(t,e){return wa(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Kl.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,Kl.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Gt.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.zt[a]=u.keys()}),uh.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Wh(t).get(e).next(function(t){return t?(ma(t.userId===n.userId),jh(n.D,t)):null})},t.prototype.Jt=function(t,e){var n=this;return this.zt[e]?uh.resolve(this.zt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.zt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Wh(t).qt({index:Gl.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(ma(e.batchId>=r),o=jh(n.D,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Wh(t).qt({index:Gl.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wh(t).kt(Gl.userMutationsIndex,n).next(function(t){return t.map(function(t){return jh(e.D,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Kl.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return $h(t).qt({range:i},function(r,i,s){var a=r[0],u=r[2],c=ql(r[1]);if(a===n.userId&&e.path.isEqual(c))return Wh(t).get(u).next(function(t){if(!t)throw ga();ma(t.userId===n.userId),o.push(jh(n.D,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Mc(wa),i=[];return e.forEach(function(e){var o=Kl.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=$h(t).qt({range:s},function(t,i,o){var s=t[0],a=t[2],u=ql(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),uh.waitFor(i).next(function(){return n.Yt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Kl.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Mc(wa);return $h(t).qt({range:s},function(t,e,o){var s=t[0],u=t[2],c=ql(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Yt(t,a)})},t.prototype.Yt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Wh(t).get(e).next(function(t){if(null===t)throw ga();ma(t.userId===n.userId),r.push(jh(n.D,t))}))}),uh.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Hh(t.Qt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Xt(e.batchId)}),uh.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Xt=function(t){delete this.zt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return uh.resolve();var r=IDBKeyRange.lowerBound(Kl.prefixForUser(e.userId)),i=[];return $h(t).qt({range:r},function(t,n,r){if(t[0]===e.userId){var o=ql(t[1]);i.push(o)}else r.done()}).next(function(){ma(0===i.length)})})},t.prototype.containsKey=function(t,e){return Kh(t,this.userId,e)},t.prototype.Zt=function(t){var e=this;return Yh(t).get(this.userId).next(function(t){return t||new zl(e.userId,-1,"")})},t}();function Kh(t,e,n){var r=Kl.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return $h(t).qt({range:o,Bt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Wh(t){return bh(t,Gl.store)}function $h(t){return bh(t,Kl.store)}function Yh(t){return bh(t,zl.store)}var Qh=function(){function t(t){this.te=t}return t.prototype.next=function(){return this.te+=2,this.te},t.ee=function(){return new t(0)},t.ne=function(){return new t(-1)},t}(),Jh=function(){function t(t,e){this.referenceDelegate=t,this.D=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.se(t).next(function(n){var r=new Qh(n.highestTargetId);return n.highestTargetId=r.next(),e.ie(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.se(t).next(function(t){return Gu.fromTimestamp(new qa(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.se(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.se(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.ie(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.re(t,e).next(function(){return n.se(t).next(function(r){return r.targetCount+=1,n.oe(e,r),n.ie(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.re(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Xh(t).delete(e.targetId)}).next(function(){return n.se(t)}).next(function(e){return ma(e.targetCount>0),e.targetCount-=1,n.ie(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Xh(t).qt(function(s,a){var u=kh(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return uh.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Xh(t).qt(function(t,n){var r=kh(n);e(r)})},t.prototype.se=function(t){return Zh(t).get(Zl.key).next(function(t){return ma(null!==t),t})},t.prototype.ie=function(t,e){return Zh(t).put(Zl.key,e)},t.prototype.re=function(t,e){return Xh(t).put(Nh(this.D,e))},t.prototype.oe=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.se(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=lu(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Xh(t).qt({range:r,index:Jl.queryTargetsIndexName},function(t,n,r){var o=kh(n);hu(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=tf(t);return e.forEach(function(e){var s=Fl(e.path);i.push(o.put(new Xl(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),uh.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=tf(t);return uh.forEach(e,function(e){var o=Fl(e.path);return uh.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=tf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=tf(t),i=Wc();return r.qt({range:n,Bt:!0},function(t,e,n){var r=ql(t[1]),o=new Pa(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Fl(e.path),r=IDBKeyRange.bound([n],[Ea(n)],!1,!0),i=0;return tf(t).qt({index:Xl.documentTargetsIndex,Bt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.yt=function(t,e){return Xh(t).get(e).next(function(t){return t?kh(t):null})},t}();function Xh(t){return bh(t,Jl.store)}function Zh(t){return bh(t,Zl.store)}function tf(t){return bh(t,Xl.store)}function ef(t){return Object(aa.b)(this,void 0,void 0,function(){return Object(aa.d)(this,function(e){if(t.code!==Aa.FAILED_PRECONDITION||t.message!==oh)throw t;return ha("LocalStore","Unexpectedly lost primary lease"),[2]})})}function nf(t,e){var n=t[1],r=e[1],i=wa(t[0],e[0]);return 0===i?wa(n,r):i}var rf=function(){function t(t){this.ce=t,this.buffer=new Mc(nf),this.ae=0}return t.prototype.ue=function(){return++this.ae},t.prototype.he=function(t){var e=[t,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();nf(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),of=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.le=!1,this.fe=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(t)},t.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),t.prototype.de=function(t){var e=this,n=this.le?3e5:6e4;ha("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(aa.b)(e,void 0,void 0,function(){var e;return Object(aa.d)(this,function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return dh(e=n.sent())?(ha("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ef(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(t)];case 8:return n.sent(),[2]}})})})},t}(),sf=function(){function t(t,e){this.we=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.we._e(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return uh.resolve(ua.o);var r=new rf(e);return this.we.forEachTarget(t,function(t){return r.he(t.sequenceNumber)}).next(function(){return n.we.me(t,function(t){return r.he(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.we.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.we.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ha("LruGarbageCollector","Garbage collection skipped; disabled"),uh.resolve(qh)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(ha("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),qh):n.ye(t,e)})},t.prototype.getCacheSize=function(t){return this.we.getCacheSize(t)},t.prototype.ye=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(ha("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),la()<=rr.a.DEBUG&&ha("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),uh.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),af=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new sf(t,e)}(this,e)}return t.prototype._e=function(t){var e=this.ge(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.ge=function(t){var e=0;return this.me(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.me=function(t,e){return this.pe(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return uf(t,n)},t.prototype.removeReference=function(t,e,n){return uf(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return uf(t,e)},t.prototype.Ee=function(t,e){return function(t,e){var n=!1;return Yh(t).Ut(function(r){return Kh(t,r,e).next(function(t){return t&&(n=!0),uh.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.pe(t,function(s,a){if(a<=e){var u=n.Ee(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),tf(t).delete([0,Fl(s.path)])})});i.push(u)}}).next(function(){return uh.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return uf(t,e)},t.prototype.pe=function(t,e){var n,r=tf(t),i=ua.o;return r.qt({index:Xl.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==ua.o&&e(new Pa(ql(n)),i),i=s,n=o):i=ua.o}).next(function(){i!==ua.o&&e(new Pa(ql(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function uf(t,e){return tf(t).put(function(t,e){return new Xl(0,Fl(t.path),e)}(e,t.currentSequenceNumber))}var cf=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Sa(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Ta(this.inner)},t}(),lf=function(){function t(){this.changes=new cf(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Gu.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{maybeDocument:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{maybeDocument:null,readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?uh.resolve(n.maybeDocument):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),hf=function(){function t(t,e){this.D=t,this.Gt=e}return t.prototype.addEntry=function(t,e,n){return pf(t).put(gf(e),n)},t.prototype.removeEntry=function(t,e){var n=pf(t),r=gf(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Te(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return pf(t).get(gf(e)).next(function(t){return n.Ie(t)})},t.prototype.Ae=function(t,e){var n=this;return pf(t).get(gf(e)).next(function(t){var e=n.Ie(t);return e?{maybeDocument:e,size:zh(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=qc();return this.Re(t,e,function(t,e){var i=n.Ie(e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.be=function(t,e){var n=this,r=qc(),i=new Rc(Pa.comparator);return this.Re(t,e,function(t,e){var o=n.Ie(e);o?(r=r.insert(t,o),i=i.insert(t,zh(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{ve:r,Pe:i}})},t.prototype.Re=function(t,e,n){if(e.isEmpty())return uh.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return pf(t).qt({range:r},function(t,e,r){for(var s=Pa.fromSegments(t);o&&Pa.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ot(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Hc(),o=e.path.length+1,s={};if(n.isEqual(Gu.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Ih(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Yl.collectionReadTimeIndex}return pf(t).qt(s,function(t,n,s){if(t.length===o){var a=Sh(r.D,n);e.path.isPrefixOf(a.key.path)?a instanceof ou&&Bu(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new ff(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return df(t).get(Ql.key).next(function(t){return ma(!!t),t})},t.prototype.Te=function(t,e){return df(t).put(Ql.key,e)},t.prototype.Ie=function(t){if(t){var e=Sh(this.D,t);return e instanceof su&&e.version.isEqual(Gu.min())?null:e}return null},t}(),ff=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ve=e,r.trackRemovals=n,r.Se=new cf(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(aa.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Mc(function(t,e){return wa(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Se.get(o);if(s.maybeDocument){var u=Th(e.Ve.D,s.maybeDocument,e.getReadTime(o));i=i.add(o.path.popLast());var c=zh(u);r+=c-a,n.push(e.Ve.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Th(e.Ve.D,new su(o,Gu.min()),e.getReadTime(o));n.push(e.Ve.addEntry(t,o,l))}else n.push(e.Ve.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ve.Gt.addToCollectionParentIndex(t,r))}),n.push(this.Ve.updateMetadata(t,r)),uh.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ve.Ae(t,e).next(function(t){return null===t?(n.Se.set(e,0),null):(n.Se.set(e,t.size),t.maybeDocument)})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ve.be(t,e).next(function(t){var e=t.ve;return t.Pe.forEach(function(t,e){n.Se.set(t,e)}),e})},e}(lf);function df(t){return bh(t,Ql.store)}function pf(t){return bh(t,Yl.store)}function gf(t){return t.path.toArray()}var mf=function(){function t(t){this.D=t}return t.prototype.St=function(t,e,n,r){var i=this;ma(n<r&&n>=0&&r<=11);var o=new ch("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Hl.store)}(t),function(t){t.createObjectStore(zl.store,{keyPath:zl.keyPath}),t.createObjectStore(Gl.store,{keyPath:Gl.keyPath,autoIncrement:!0}).createIndex(Gl.userMutationsIndex,Gl.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Kl.store)}(t),yf(t),function(t){t.createObjectStore(Yl.store)}(t));var s=uh.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Xl.store),t.deleteObjectStore(Jl.store),t.deleteObjectStore(Zl.store)}(t),yf(t)),s=s.next(function(){return function(t){var e=t.store(Zl.store),n=new Zl(0,0,Gu.min().toTimestamp(),0);return e.put(Zl.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Gl.store).kt().next(function(n){t.deleteObjectStore(Gl.store),t.createObjectStore(Gl.store,{keyPath:Gl.keyPath,autoIncrement:!0}).createIndex(Gl.userMutationsIndex,Gl.userMutationsKeyPath,{unique:!0});var r=e.store(Gl.store),i=n.map(function(t){return r.put(t)});return uh.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(eh.store,{keyPath:eh.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.De(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Ql.store)}(t),i.Ce(o)})),n<7&&r>=7&&(s=s.next(function(){return i.xe(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Ne(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Yl.store);e.createIndex(Yl.readTimeIndex,Yl.readTimeIndexPath,{unique:!1}),e.createIndex(Yl.collectionReadTimeIndex,Yl.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.$e(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(nh.store,{keyPath:nh.keyPath})}(t),function(t){t.createObjectStore(rh.store,{keyPath:rh.keyPath})}(t)})),s},t.prototype.Ce=function(t){var e=0;return t.store(Yl.store).qt(function(t,n){e+=zh(n)}).next(function(){var n=new Ql(e);return t.store(Ql.store).put(Ql.key,n)})},t.prototype.De=function(t){var e=this,n=t.store(zl.store),r=t.store(Gl.store);return n.kt().next(function(n){return uh.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(Gl.userMutationsIndex,i).next(function(r){return uh.forEach(r,function(r){ma(r.userId===n.userId);var i=jh(e.D,r);return Hh(t,n.userId,i).next(function(){})})})})})},t.prototype.xe=function(t){var e=t.store(Xl.store),n=t.store(Yl.store);return t.store(Zl.store).get(Zl.key).next(function(t){var r=[];return n.qt(function(n,i){var o=new Na(n),s=function(t){return[0,Fl(t)]}(o);r.push(e.get(s).next(function(n){return n?uh.resolve():function(n){return e.put(new Xl(0,Fl(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return uh.waitFor(r)})})},t.prototype.Ne=function(t,e){t.createObjectStore(th.store,{keyPath:th.keyPath});var n=e.store(th.store),r=new Fh,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Fl(i)})}};return e.store(Yl.store).qt({Bt:!0},function(t,e){var n=new Na(t);return i(n.popLast())}).next(function(){return e.store(Kl.store).qt({Bt:!0},function(t,e){var n=ql(t[1]);return i(n.popLast())})})},t.prototype.$e=function(t){var e=this,n=t.store(Jl.store);return n.qt(function(t,r){var i=kh(r),o=Nh(e.D,i);return n.put(o)})},t}();function yf(t){t.createObjectStore(Xl.store,{keyPath:Xl.keyPath}).createIndex(Xl.documentTargetsIndex,Xl.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Jl.store,{keyPath:Jl.keyPath}).createIndex(Jl.queryTargetsIndexName,Jl.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Zl.store)}var vf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",bf=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fe=o,this.window=s,this.document=a,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(t){return Promise.resolve()},!t.At())throw new ja(Aa.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new af(this,i),this.We=n+"main",this.D=new Oh(u),this.je=new lh(this.We,11,new mf(this.D)),this.Ge=new Jh(this.referenceDelegate,this.D),this.Gt=new Uh,this.ze=function(t,e){return new hf(t,e)}(this.D,this.Gt),this.He=new Rh,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&fa("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Ye().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ja(Aa.FAILED_PRECONDITION,vf);return t.Xe(),t.Ze(),t.tn(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Ge.getHighestSequenceNumber(e)})}).then(function(e){t.Me=new ua(e,t.Oe)}).then(function(){t.Le=!0}).catch(function(e){return t.je&&t.je.close(),Promise.reject(e)})},t.prototype.en=function(t){var e=this;return this.Ke=function(n){return Object(aa.b)(e,void 0,void 0,function(){return Object(aa.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.je.Ct(function(n){return Object(aa.b)(e,void 0,void 0,function(){return Object(aa.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Fe.enqueueAndForget(function(){return Object(aa.b)(e,void 0,void 0,function(){return Object(aa.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Ye=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return _f(e).put(new eh(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.nn(e).next(function(e){e||(t.isPrimary=!1,t.Fe.enqueueRetryable(function(){return t.Ke(!1)}))})}).next(function(){return t.sn(e)}).next(function(n){return t.isPrimary&&!n?t.rn(e).next(function(){return!1}):!!n&&t.on(e).next(function(){return!0})})}).catch(function(e){if(dh(e))return ha("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ha("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Fe.enqueueRetryable(function(){return t.Ke(e)}),t.isPrimary=e})},t.prototype.nn=function(t){var e=this;return wf(t).get(Hl.key).next(function(t){return uh.resolve(e.cn(t))})},t.prototype.an=function(t){return _f(t).delete(this.clientId)},t.prototype.un=function(){return Object(aa.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(aa.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=bh(t,eh.store);return e.kt().next(function(t){var n=r.ln(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return uh.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Je)for(e=0,n=t;e<n.length;e++)this.Je.removeItem(this.fn(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.tn=function(){var t=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.Ye().then(function(){return t.un()}).then(function(){return t.tn()})})},t.prototype.cn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sn=function(t){var e=this;return this.ke?uh.resolve(!0):wf(t).get(Hl.key).next(function(n){if(null!==n&&e.hn(n.leaseTimestampMs,5e3)&&!e.dn(n.ownerId)){if(e.cn(n)&&e.networkEnabled)return!0;if(!e.cn(n)){if(!n.allowTabSynchronization)throw new ja(Aa.FAILED_PRECONDITION,vf);return!1}}return!(!e.networkEnabled||!e.inForeground)||_f(t).kt().next(function(t){return void 0===e.ln(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&ha("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(aa.b)(this,void 0,void 0,function(){var t=this;return Object(aa.d)(this,function(e){switch(e.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[Hl.store,eh.store],function(e){var n=new vh(e,ua.o);return t.rn(n).next(function(){return t.an(n)})})];case 1:return e.sent(),this.je.close(),this.yn(),[2]}})})},t.prototype.ln=function(t,e){var n=this;return t.filter(function(t){return n.hn(t.updateTimeMs,e)&&!n.dn(t.clientId)})},t.prototype.gn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return _f(e).kt().next(function(e){return t.ln(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Gh.Ht(t,this.D,this.Gt,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ha("IndexedDbPersistence","Starting transaction:",t),this.je.runTransaction(t,"readonly"===e?"readonly":"readwrite",ih,function(o){return r=new vh(o,i.Me?i.Me.next():ua.o),"readwrite-primary"===e?i.nn(r).next(function(t){return!!t||i.sn(r)}).next(function(e){if(!e)throw fa("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Fe.enqueueRetryable(function(){return i.Ke(!1)}),new ja(Aa.FAILED_PRECONDITION,oh);return n(r)}).next(function(t){return i.on(r).next(function(){return t})}):i.pn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.pn=function(t){var e=this;return wf(t).get(Hl.key).next(function(t){if(null!==t&&e.hn(t.leaseTimestampMs,5e3)&&!e.dn(t.ownerId)&&!e.cn(t)&&!(e.ke||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ja(Aa.FAILED_PRECONDITION,vf)})},t.prototype.on=function(t){var e=new Hl(this.clientId,this.allowTabSynchronization,Date.now());return wf(t).put(Hl.key,e)},t.At=function(){return lh.At()},t.prototype.rn=function(t){var e=this,n=wf(t);return n.get(Hl.key).next(function(t){return e.cn(t)?(ha("IndexedDbPersistence","Releasing primary lease."),n.delete(Hl.key)):uh.resolve()})},t.prototype.hn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(fa("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xe=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){t.Fe.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.Ye()})},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},t.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},t.prototype.Ze=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Be=function(){e.wn(),e.Fe.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Be))},t.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},t.prototype.dn=function(t){var e;try{var n=null!==(null===(e=this.Je)||void 0===e?void 0:e.getItem(this.fn(t)));return ha("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return fa("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(t){fa("Failed to set zombie client id.",t)}},t.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(t){}},t.prototype.fn=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function wf(t){return bh(t,Hl.store)}function _f(t){return bh(t,eh.store)}function Ef(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Of=function(t,e){this.progress=t,this.En=e},Sf=function(){function t(t,e,n){this.ze=t,this.Tn=e,this.Gt=n}return t.prototype.In=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.An(t,e,r)})},t.prototype.An=function(t,e,n){return this.ze.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t})},t.prototype.Rn=function(t,e,n){var r=qc();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.bn=function(t,e){var n=this;return this.ze.getEntries(t,e).next(function(e){return n.vn(t,e)})},t.prototype.vn=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.Rn(t,e,r),o=Vc();return i.forEach(function(t,e){e||(e=new su(t,Gu.min())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Pa.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Pn(t,e.path):Pu(e)?this.Vn(t,e,n):this.Sn(t,e,n)},t.prototype.Pn=function(t,e){return this.In(t,new Pa(e)).next(function(t){var e=Hc();return t instanceof ou&&(e=e.insert(t.key,t)),e})},t.prototype.Vn=function(t,e,n){var r=this,i=e.collectionGroup,o=Hc();return this.Gt.getCollectionParents(t,i).next(function(s){return uh.forEach(s,function(s){var a=function(t,e){return new xu(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.Sn(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.Sn=function(t,e,n){var r,i,o=this;return this.ze.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o.Tn.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Dn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=yc(u,r.get(c),o.localWriteTime);r=l instanceof ou?r.insert(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Bu(e,n)||(r=r.remove(t))}),r})},t.prototype.Dn=function(t,e,n){for(var r=Wc(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Ec&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ze.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof ou&&(c=c.insert(t,e))}),c})},t}(),Tf=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Cn=n,this.xn=r}return t.Nn=function(e,n){for(var r=Wc(),i=Wc(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),If=function(){function t(){}return t.prototype.$n=function(t){this.Fn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Gu.min())?this.On(t,e):this.Fn.bn(t,r).next(function(o){var s=i.kn(e,o);return(ku(e)||Nu(e))&&i.Mn(e.limitType,s,r,n)?i.On(t,e):(la()<=rr.a.DEBUG&&ha("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),qu(e)),i.Fn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.kn=function(t,e){var n=new Mc(Hu(t));return e.forEach(function(e,r){r instanceof ou&&Bu(t,r)&&(n=n.add(r))}),n},t.prototype.Mn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.On=function(t,e){return la()<=rr.a.DEBUG&&ha("QueryEngine","Using full collection scan to execute query:",qu(e)),this.Fn.getDocumentsMatchingQuery(t,e,Gu.min())},t}(),Cf=function(){function t(t,e,n,r){this.persistence=t,this.Ln=e,this.D=r,this.Bn=new Rc(wa),this.qn=new cf(function(t){return lu(t)},hu),this.Un=Gu.min(),this.Tn=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.Ge=t.getTargetCache(),this.Kn=new Sf(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=t.getBundleCache(),this.Ln.$n(this.Kn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Bn)})},t}();function xf(t,e,n,r){return new Cf(t,e,n,r)}function Af(t,e){return Object(aa.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(aa.d)(this,function(s){switch(s.label){case 0:return n=ya(t),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Tn.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Sf(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=Wc(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.bn(t,s).next(function(t){return{Wn:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),o)]}})})}function jf(t,e){var n=ya(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=uh.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=e,s=n.docVersions.get(t);ma(null!==s),(!o||o.version.compareTo(s)<0)&&(o=i.applyToRemoteDocument(t,o,n))&&r.addEntry(o,n.commitVersion)})}),s.next(function(){return t.Tn.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}function kf(t){var e=ya(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Ge.getLastRemoteSnapshotVersion(t)})}function Nf(t,e){var n=ya(t),r=e.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.Ge.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.Ge.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return ma(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.Ge.updateTargetData(t,c))}}});var a=Vc();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(Df(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Gu.min())){var u=n.Ge.getLastRemoteSnapshotVersion(t).next(function(e){return n.Ge.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return uh.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Kn.vn(t,a)})}).then(function(t){return n.Bn=i,t})}function Df(t,e,n,r,i){var o=Wc();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Vc();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof su&&s.version.isEqual(Gu.min())?(e.removeEntry(n,u),o=o.insert(n,s)):null==a||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):ha("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Rf(t,e){var n=ya(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Tn.getNextMutationBatchAfterBatchId(t,e)})}function Pf(t,e){var n=ya(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Ge.getTargetData(t,e).next(function(i){return i?uh.resolve(r=i):n.Ge.allocateTargetId(t).next(function(i){return r=new Eh(e,i,0,t.currentSequenceNumber),n.Ge.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Bn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(t.targetId,t),n.qn.set(e,t.targetId)),t})}function Lf(t,e,n){return Object(aa.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(aa.d)(this,function(a){switch(a.label){case 0:r=ya(t),i=r.Bn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!dh(s=a.sent()))throw s;return ha("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Bn=r.Bn.remove(e),r.qn.delete(i.target),[2]}})})}function Mf(t,e,n){var r=ya(t),i=Gu.min(),o=Wc();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=ya(t),i=r.qn.get(n);return void 0!==i?uh.resolve(r.Bn.get(i)):r.Ge.getTargetData(e,n)}(r,t,Mu(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.Ln.getDocumentsMatchingQuery(t,e,n?i:Gu.min(),n?o:Wc())}).next(function(t){return{documents:t,jn:o}})})}function Ff(t,e){var n=ya(t),r=ya(n.Ge),i=n.Bn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.yt(t,e).next(function(t){return t?t.target:null})})}function Uf(t){var e=ya(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=ya(t),i=Vc(),o=Ih(n),s=pf(e),a=IDBKeyRange.lowerBound(o,!0);return s.qt({index:Yl.readTimeIndex,range:a},function(t,e){var n=Sh(r.D,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{En:i,readTime:Ch(o)}})}(e.Qn,t,e.Un)}).then(function(t){var n=t.En;return e.Un=t.readTime,n})}function Vf(t){return Object(aa.b)(this,void 0,void 0,function(){var e;return Object(aa.d)(this,function(n){return[2,(e=ya(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=pf(t),n=Gu.min();return e.qt({index:Yl.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Ch(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Un=t})]})})}function qf(t,e,n,r){return Object(aa.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(aa.d)(this,function(p){switch(p.label){case 0:for(i=ya(t),o=Wc(),s=Vc(),a=Gc(),u=0,c=n;u<c.length;u++)h=e.Gn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.zn(l)),a=a.insert(h,e.Hn(l.metadata.readTime));return f=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,Pf(i,function(t){return Mu(ju(Na.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Df(t,f,s,Gu.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.Ge.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.Ge.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Kn.vn(t,e)})})})]}})})}function Bf(t,e,n){return void 0===n&&(n=Wc()),Object(aa.b)(this,void 0,void 0,function(){var r,i;return Object(aa.d)(this,function(o){switch(o.label){case 0:return[4,Pf(t,Mu(Dh(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=ya(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=hl(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.He.saveNamedQuery(t,e);var s=r.withResumeToken(La.EMPTY_BYTE_STRING,o);return i.Bn=i.Bn.insert(s.targetId,s),i.Ge.updateTargetData(t,s).next(function(){return i.Ge.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.Ge.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.He.saveNamedQuery(t,e)})})]}})})}var Hf=function(){function t(t){this.D=t,this.Jn=new Map,this.Yn=new Map}return t.prototype.getBundleMetadata=function(t,e){return uh.resolve(this.Jn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:hl(n.createTime)}),uh.resolve()},t.prototype.getNamedQuery=function(t,e){return uh.resolve(this.Yn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:Dh(t.bundledQuery),readTime:hl(t.readTime)}}(e)),uh.resolve()},t}(),zf=function(){function t(){this.Xn=new Mc(Gf.Zn),this.ts=new Mc(Gf.es)}return t.prototype.isEmpty=function(){return this.Xn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Gf(t,e);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},t.prototype.ns=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.ss(new Gf(t,e))},t.prototype.rs=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.os=function(t){var e=this,n=new Pa(new Na([])),r=new Gf(n,t),i=new Gf(n,t+1),o=[];return this.ts.forEachInRange([r,i],function(t){e.ss(t),o.push(t.key)}),o},t.prototype.cs=function(){var t=this;this.Xn.forEach(function(e){return t.ss(e)})},t.prototype.ss=function(t){this.Xn=this.Xn.delete(t),this.ts=this.ts.delete(t)},t.prototype.us=function(t){var e=new Pa(new Na([])),n=new Gf(e,t),r=new Gf(e,t+1),i=Wc();return this.ts.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Gf(t,0),n=this.Xn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Gf=function(){function t(t,e){this.key=t,this.hs=e}return t.Zn=function(t,e){return Pa.comparator(t.key,e.key)||wa(t.hs,e.hs)},t.es=function(t,e){return wa(t.hs,e.hs)||Pa.comparator(t.key,e.key)},t}(),Kf=function(){function t(t,e){this.Gt=t,this.referenceDelegate=e,this.Tn=[],this.ls=1,this.fs=new Mc(Gf.Zn)}return t.prototype.checkEmpty=function(t){return uh.resolve(0===this.Tn.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ls;this.ls++;var o=new wh(i,e,n,r);this.Tn.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.fs=this.fs.add(new Gf(u.key,i)),this.Gt.addToCollectionParentIndex(t,u.key.path.popLast())}return uh.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return uh.resolve(this.ds(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.ws(e+1),r=n<0?0:n;return uh.resolve(this.Tn.length>r?this.Tn[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return uh.resolve(0===this.Tn.length?-1:this.ls-1)},t.prototype.getAllMutationBatches=function(t){return uh.resolve(this.Tn.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Gf(e,0),i=new Gf(e,Number.POSITIVE_INFINITY),o=[];return this.fs.forEachInRange([r,i],function(t){var e=n.ds(t.hs);o.push(e)}),uh.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Mc(wa);return e.forEach(function(t){var e=new Gf(t,0),i=new Gf(t,Number.POSITIVE_INFINITY);n.fs.forEachInRange([e,i],function(t){r=r.add(t.hs)})}),uh.resolve(this._s(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Pa.isDocumentKey(i)||(i=i.child(""));var o=new Gf(new Pa(i),0),s=new Mc(wa);return this.fs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.hs)),!0)},o),uh.resolve(this._s(s))},t.prototype._s=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.ds(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;ma(0===this.ys(e.batchId,"removed")),this.Tn.shift();var r=this.fs;return uh.forEach(e.mutations,function(i){var o=new Gf(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.fs=r})},t.prototype.Xt=function(t){},t.prototype.containsKey=function(t,e){var n=new Gf(e,0),r=this.fs.firstAfterOrEqual(n);return uh.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return uh.resolve()},t.prototype.ys=function(t,e){return this.ws(t)},t.prototype.ws=function(t){return 0===this.Tn.length?0:t-this.Tn[0].batchId},t.prototype.ds=function(t){var e=this.ws(t);return e<0||e>=this.Tn.length?null:this.Tn[e]},t}(),Wf=function(){function t(t,e){this.Gt=t,this.gs=e,this.docs=new Rc(Pa.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.gs(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:s,readTime:n}),this.size+=s-o,this.Gt.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return uh.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=qc();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),uh.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Hc(),i=new Pa(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.maybeDocument,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||u instanceof ou&&Bu(e,u)&&(r=r.insert(u.key,u))}return uh.resolve(r)},t.prototype.ps=function(t,e){return uh.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new $f(this)},t.prototype.getSize=function(t){return uh.resolve(this.size)},t}(),$f=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ve=e,n}return Object(aa.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i&&i.maybeDocument?n.push(e.Ve.addEntry(t,i.maybeDocument,e.getReadTime(r))):e.Ve.removeEntry(r)}),uh.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ve.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ve.getEntries(t,e)},e}(lf),Yf=function(){function t(t){this.persistence=t,this.Es=new cf(function(t){return lu(t)},hu),this.lastRemoteSnapshotVersion=Gu.min(),this.highestTargetId=0,this.Ts=0,this.Is=new zf,this.targetCount=0,this.As=Qh.ee()}return t.prototype.forEachTarget=function(t,e){return this.Es.forEach(function(t,n){return e(n)}),uh.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return uh.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return uh.resolve(this.Ts)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.As.next(),uh.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ts&&(this.Ts=e),uh.resolve()},t.prototype.re=function(t){this.Es.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.As=new Qh(e),this.highestTargetId=e),t.sequenceNumber>this.Ts&&(this.Ts=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.re(e),this.targetCount+=1,uh.resolve()},t.prototype.updateTargetData=function(t,e){return this.re(e),uh.resolve()},t.prototype.removeTargetData=function(t,e){return this.Es.delete(e.target),this.Is.os(e.targetId),this.targetCount-=1,uh.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.Es.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Es.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),uh.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return uh.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.Es.get(e)||null;return uh.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.Is.ns(e,n),uh.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this.Is.rs(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),uh.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.Is.os(e),uh.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.Is.us(e);return uh.resolve(n)},t.prototype.containsKey=function(t,e){return uh.resolve(this.Is.containsKey(e))},t}(),Qf=function(){function t(t,e){var n=this;this.Rs={},this.Me=new ua(0),this.Le=!1,this.Le=!0,this.referenceDelegate=t(this),this.Ge=new Yf(this),this.Gt=new Mh,this.ze=function(t,e){return new Wf(t,function(t){return n.referenceDelegate.bs(t)})}(this.Gt),this.D=new Oh(e),this.He=new Hf(this.D)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getMutationQueue=function(t){var e=this.Rs[t.toKey()];return e||(e=new Kf(this.Gt,this.referenceDelegate),this.Rs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r=this;ha("MemoryPersistence","Starting transaction:",t);var i=new Jf(this.Me.next());return this.referenceDelegate.vs(),n(i).next(function(t){return r.referenceDelegate.Ps(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Vs=function(t,e){return uh.or(Object.values(this.Rs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Jf=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(aa.c)(e,t),e}(sh),Xf=function(){function t(t){this.persistence=t,this.Ss=new zf,this.Ds=null}return t.Cs=function(e){return new t(e)},Object.defineProperty(t.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw ga()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.Ss.addReference(n,e),this.xs.delete(n.toString()),uh.resolve()},t.prototype.removeReference=function(t,e,n){return this.Ss.removeReference(n,e),this.xs.add(n.toString()),uh.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.xs.add(e.toString()),uh.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Ss.os(e.targetId).forEach(function(t){return n.xs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.xs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.vs=function(){this.Ds=new Set},t.prototype.Ps=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return uh.forEach(this.xs,function(r){var i=Pa.fromPath(r);return e.Ns(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Ds=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ns(t,e).next(function(t){t?n.xs.delete(e.toString()):n.xs.add(e.toString())})},t.prototype.bs=function(t){return 0},t.prototype.Ns=function(t,e){var n=this;return uh.or([function(){return uh.resolve(n.Ss.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Vs(t,e)}])},t}(),Zf=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function td(t,e){return"firestore_clients_"+t+"_"+e}function ed(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function nd(t,e){return"firestore_targets_"+t+"_"+e}Zf.UNAUTHENTICATED=new Zf(null),Zf.GOOGLE_CREDENTIALS=new Zf("google-credentials-uid"),Zf.FIRST_PARTY=new Zf("first-party-uid");var rd=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.$s=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new ja(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(fa("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),id=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.$s=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ja(i.error.code,i.error.message)),o?new t(e,i.state,r):(fa("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),od=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.$s=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Yc(),s=0;i&&s<r.activeTargetIds.length;++s)i=xa(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(fa("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),sd=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.$s=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(fa("SharedClientState","Failed to parse online state: "+e),null)},t}(),ad=function(){function t(){this.activeTargetIds=Yc()}return t.prototype.Os=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ks=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fs=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ud=function(){function t(t,e,n,r,i){this.window=t,this.Fe=e,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new Rc(wa),this.started=!1,this.Us=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=td(this.persistenceKey,this.Ms),this.Ks=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new ad),this.Ws=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.zs=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Hs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return t.At=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(aa.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(aa.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.gn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ms&&(i=this.getItem(td(this.persistenceKey,r)))&&(o=od.$s(r,i))&&(this.qs=this.qs.insert(o.clientId,o));for(this.Js(),(s=this.storage.getItem(this.zs))&&(a=this.Ys(s))&&this.Xs(a),u=0,c=this.Us;u<c.length;u++)this.Bs(c[u]);return this.Us=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ks,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.qs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.ti(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.ti(t,e,n),this.ei(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(nd(this.persistenceKey,t));if(n){var r=id.$s(t,n);r&&(e=r.state)}}return this.ni.Os(t),this.Js(),e},t.prototype.removeLocalQueryTarget=function(t){this.ni.ks(t),this.Js()},t.prototype.isLocalQueryTarget=function(t){return this.ni.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(nd(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.si(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.ei(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.ii(t)},t.prototype.notifyBundleLoaded=function(){this.ri()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ha("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ha("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ha("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Bs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ha("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void fa("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable(function(){return Object(aa.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(aa.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return t=this.oi(n.key),[2,this.ci(t,null)];if(e=this.ai(n.key,n.newValue))return[2,this.ci(e.clientId,e)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(o=this.Ys(n.newValue)))return[2,this.Xs(o)]}else if(n.key===this.Ks)(s=function(t){var e=ua.o;if(null!=t)try{var n=JSON.parse(t);ma("number"==typeof n),e=n}catch(t){fa("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==ua.o&&this.sequenceNumberHandler(s);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),t.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},t.prototype.ti=function(t,e,n){var r=new rd(this.currentUser,t,e,n),i=ed(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Fs())},t.prototype.ei=function(t){var e=ed(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ii=function(t){this.storage.setItem(this.zs,JSON.stringify({clientId:this.Ms,onlineState:t}))},t.prototype.si=function(t,e,n){var r=nd(this.persistenceKey,t),i=new id(t,e,n);this.setItem(r,i.Fs())},t.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},t.prototype.oi=function(t){var e=this.Ws.exec(t);return e?e[1]:null},t.prototype.ai=function(t,e){var n=this.oi(t);return od.$s(n,e)},t.prototype.ui=function(t,e){var n=this.js.exec(t),r=Number(n[1]);return rd.$s(new Zf(void 0!==n[2]?n[2]:null),r,e)},t.prototype.li=function(t,e){var n=this.Gs.exec(t),r=Number(n[1]);return id.$s(r,e)},t.prototype.Ys=function(t){return sd.$s(t)},t.prototype.hi=function(t){return Object(aa.b)(this,void 0,void 0,function(){return Object(aa.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(t.batchId,t.state,t.error)]:(ha("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.fi=function(t){return this.syncEngine._i(t.targetId,t.state,t.error)},t.prototype.ci=function(t,e){var n=this,r=e?this.qs.insert(t,e):this.qs.remove(t),i=this.Zs(this.qs),o=this.Zs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.mi(s,a).then(function(){n.qs=r})},t.prototype.Xs=function(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Zs=function(t){var e=Yc();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),cd=function(){function t(){this.yi=new ad,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.yi.Os(t),this.gi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.gi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.yi.ks(t)},t.prototype.isLocalQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.gi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.start=function(){return this.yi=new ad,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),ld=function(){function t(){}return t.prototype.pi=function(t){},t.prototype.shutdown=function(){},t}(),hd=function(){function t(){var t=this;this.Ei=function(){return t.Ti()},this.Ii=function(){return t.Ai()},this.Ri=[],this.bi()}return t.prototype.pi=function(t){this.Ri.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},t.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},t.prototype.Ti=function(){ha("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(0)},t.prototype.Ai=function(){ha("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(1)},t.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),fd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},dd=function(){function t(t){this.vi=t.vi,this.Pi=t.Pi}return t.prototype.Vi=function(t){this.Si=t},t.prototype.Di=function(t){this.Ci=t},t.prototype.onMessage=function(t){this.xi=t},t.prototype.close=function(){this.Pi()},t.prototype.send=function(t){this.vi(t)},t.prototype.Ni=function(){this.Si()},t.prototype.$i=function(t){this.Ci(t)},t.prototype.Fi=function(t){this.xi(t)},t}(),pd=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(aa.c)(e,t),e.prototype.qi=function(t,e,n,r){return new Promise(function(i,o){var s=new sa;s.listenOnce(ra.COMPLETE,function(){try{switch(s.getLastErrorCode()){case na.NO_ERROR:var e=s.getResponseJson();ha("Connection","XHR received:",JSON.stringify(e)),i(e);break;case na.TIMEOUT:ha("Connection",'RPC "'+t+'" timed out'),o(new ja(Aa.DEADLINE_EXCEEDED,"Request time out"));break;case na.HTTP_ERROR:var n=s.getStatus();if(ha("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Aa).indexOf(e)>=0?e:Aa.UNKNOWN}(r.status);o(new ja(a,r.message))}else o(new ja(Aa.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new ja(Aa.UNAVAILABLE,"Connection failed."));break;default:ga()}}finally{ha("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Qi=function(t,e){var n=[this.Oi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Js,i=Zi(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(o.initMessageHeaders,e),Object(ir.l)()||Object(ir.n)()||Object(ir.j)()||Object(ir.k)()||Object(ir.o)()||Object(ir.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");ha("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new dd({vi:function(t){c?ha("Connection","Not sending because WebChannel is closed:",t):(u||(ha("Connection","Opening WebChannel transport."),a.open(),u=!0),ha("Connection","WebChannel sending:",t),a.send(t))},Pi:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,oa.EventType.OPEN,function(){c||ha("Connection","WebChannel transport opened.")}),h(a,oa.EventType.CLOSE,function(){c||(c=!0,ha("Connection","WebChannel transport closed"),l.$i())}),h(a,oa.EventType.ERROR,function(t){c||(c=!0,da("Connection","WebChannel transport errored:",t),l.$i(new ja(Aa.UNAVAILABLE,"The operation could not be completed")))}),h(a,oa.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];ma(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ha("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Cc[t];if(void 0!==e)return Dc(e)}(i),s=r.message;void 0===o&&(o=Aa.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.$i(new ja(o,s)),a.close()}else ha("Connection","WebChannel received:",n),l.Fi(n)}}),h(i,ia.STAT_EVENT,function(t){10===t.stat?ha("Connection","Detected buffering proxy"):11===t.stat&&ha("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ni()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Oi=(t.ssl?"https":"http")+"://"+t.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Mi=function(t,e,n,r){var i=this.Li(t,e);ha("RestConnection","Sending: ",i,n);var o={};return this.Bi(o,r),this.qi(t,i,o,n).then(function(t){return ha("RestConnection","Received: ",t),t},function(e){throw da("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Ui=function(t,e,n,r){return this.Mi(t,e,n,r)},t.prototype.Bi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.Li=function(t,e){return this.Oi+"/v1/"+e+":"+fd[t]},t}());function gd(){return"undefined"!=typeof window?window:null}function md(){return"undefined"!=typeof document?document:null}function yd(t){return new al(t,!0)}var vd=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=t,this.timerId=e,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return t.prototype.reset=function(){this.Gi=0},t.prototype.Ji=function(){this.Gi=this.ji},t.prototype.Yi=function(t){var e=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&ha("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,function(){return e.Hi=Date.now(),t()}),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},t.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},t.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},t.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},t}(),bd=function(){function t(t,e,n,r,i,o){this.Fe=t,this.tr=n,this.er=r,this.nr=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new vd(t,e)}return t.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ar=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ur()},t.prototype.stop=function(){return Object(aa.b)(this,void 0,void 0,function(){return Object(aa.d)(this,function(t){switch(t.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.hr=function(){this.state=0,this.rr.reset()},t.prototype.lr=function(){var t=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,function(){return t.dr()}))},t.prototype.wr=function(t){this._r(),this.stream.send(t)},t.prototype.dr=function(){return Object(aa.b)(this,void 0,void 0,function(){return Object(aa.d)(this,function(t){return this.ar()?[2,this.close(0)]:[2]})})},t.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},t.prototype.close=function(t,e){return Object(aa.b)(this,void 0,void 0,function(){return Object(aa.d)(this,function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():e&&e.code===Aa.RESOURCE_EXHAUSTED?(fa(e.toString()),fa("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):e&&e.code===Aa.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Di(e)];case 1:return n.sent(),[2]}})})},t.prototype.mr=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.yr(this.sr),n=this.sr;this.nr.getToken().then(function(e){t.sr===n&&t.gr(e)},function(n){e(function(){var e=new ja(Aa.UNKNOWN,"Fetching auth token failed: "+n.message);return t.pr(e)})})},t.prototype.gr=function(t){var e=this,n=this.yr(this.sr);this.stream=this.Er(t),this.stream.Vi(function(){n(function(){return e.state=2,e.listener.Vi()})}),this.stream.Di(function(t){n(function(){return e.pr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.ur=function(){var t=this;this.state=4,this.rr.Yi(function(){return Object(aa.b)(t,void 0,void 0,function(){return Object(aa.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.pr=function(t){return ha("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.yr=function(t){var e=this;return function(n){e.Fe.enqueueAndForget(function(){return e.sr===t?n():(ha("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),wd=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).D=i,s}return Object(aa.c)(e,t),e.prototype.Er=function(t){return this.er.Qi("Listen",t)},e.prototype.onMessage=function(t){this.rr.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ga()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.V?(ma(void 0===e||"string"==typeof e),La.fromBase64String(e||"")):(ma(void 0===e||e instanceof Uint8Array),La.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Aa.UNKNOWN:Dc(t.code);return new ja(e,t.message||"")}(a);n=new tl(r,i,o,s||null)}else if("documentChange"in e){i=gl(t,(r=e.documentChange).document.name),o=hl(r.document.updateTime);var a=new Wu({mapValue:{fields:r.document.fields}}),u=(s=new ou(i,o,a,{}),r.targetIds||[]);n=new Xc(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=gl(t,(r=e.documentDelete).document),o=r.readTime?hl(r.readTime):Gu.min(),a=new su(i,o),n=new Xc([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=gl(t,(r=e.documentRemove).document),n=new Xc([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return ga();var c=e.filter;i=new kc(r=c.count||0),n=new Zc(o=c.targetId,i)}return n}(this.D,t),n=function(t){if(!("targetChange"in t))return Gu.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Gu.min():e.readTime?hl(e.readTime):Gu.min()}(t);return this.listener.Tr(e,n)},e.prototype.Ir=function(t){var e={};e.database=vl(this.D),e.addTarget=function(t,e){var n,r=e.target;return(n=fu(r)?{documents:Sl(t,r)}:{query:Tl(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=cl(t,e.resumeToken):e.snapshotVersion.compareTo(Gu.min())>0&&(n.readTime=ul(t,e.snapshotVersion.toTimestamp())),n}(this.D,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ga()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.wr(e)},e.prototype.Ar=function(t){var e={};e.database=vl(this.D),e.removeTarget=t,this.wr(e)},e}(bd),_d=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).D=i,s.Rr=!1,s}return Object(aa.c)(e,t),Object.defineProperty(e.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mr=function(){this.Rr&&this.vr([])},e.prototype.Er=function(t){return this.er.Qi("Write",t)},e.prototype.onMessage=function(t){if(ma(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();var e=function(t,e){return t&&t.length>0?(ma(void 0!==e),t.map(function(t){return function(t,e){var n=hl(t.updateTime?t.updateTime:e);return n.isEqual(Gu.min())&&(n=hl(e)),new fc(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=hl(t.commitTime);return this.listener.Pr(n,e)}return ma(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()},e.prototype.Sr=function(){var t={};t.database=vl(this.D),this.wr(t)},e.prototype.vr=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return El(e.D,t)})};this.wr(n)},e}(bd),Ed=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.er=n,i.D=r,i.Dr=!1,i}return Object(aa.c)(e,t),e.prototype.Cr=function(){if(this.Dr)throw new ja(Aa.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mi=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Mi(t,e,n,i)}).catch(function(t){throw t.code===Aa.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Ui=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Ui(t,e,n,i)}).catch(function(t){throw t.code===Aa.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Dr=!1},e}(function(){}),Od=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return t.prototype.Or=function(){var t=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.$r=null,t.Mr("Backend didn't respond within 10 seconds."),t.kr("Offline"),Promise.resolve()}))},t.prototype.Lr=function(t){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+t.toString()),this.kr("Offline")))},t.prototype.set=function(t){this.Br(),this.Nr=0,"Online"===t&&(this.Fr=!1),this.kr(t)},t.prototype.kr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Mr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(fa(e),this.Fr=!1):ha("OnlineStateTracker",e)},t.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},t}(),Sd=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi(function(t){n.enqueueAndForget(function(){return Object(aa.b)(o,void 0,void 0,function(){return Object(aa.d)(this,function(t){switch(t.label){case 0:return Dd(this)?(ha("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(aa.b)(this,void 0,void 0,function(){var e;return Object(aa.d)(this,function(n){switch(n.label){case 0:return(e=ya(t)).Qr.add(4),[4,Id(e)];case 1:return n.sent(),e.jr.set("Unknown"),e.Qr.delete(4),[4,Td(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.jr=new Od(n,r)};function Td(t){return Object(aa.b)(this,void 0,void 0,function(){var e,n;return Object(aa.d)(this,function(r){switch(r.label){case 0:if(!Dd(t))return[3,4];e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Id(t){return Object(aa.b)(this,void 0,void 0,function(){var e,n;return Object(aa.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Cd(t,e){var n=ya(t);n.Ur.has(e.targetId)||(n.Ur.set(e.targetId,e),Nd(n)?kd(n):$d(n).ar()&&Ad(n,e))}function xd(t,e){var n=ya(t),r=$d(n);n.Ur.delete(e),r.ar()&&jd(n,e),0===n.Ur.size&&(r.ar()?r.lr():Dd(n)&&n.jr.set("Unknown"))}function Ad(t,e){t.Gr.H(e.targetId),$d(t).Ir(e)}function jd(t,e){t.Gr.H(e),$d(t).Ar(e)}function kd(t){t.Gr=new nl({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},yt:function(e){return t.Ur.get(e)||null}}),$d(t).start(),t.jr.Or()}function Nd(t){return Dd(t)&&!$d(t).cr()&&t.Ur.size>0}function Dd(t){return 0===ya(t).Qr.size}function Rd(t){t.Gr=void 0}function Pd(t){return Object(aa.b)(this,void 0,void 0,function(){return Object(aa.d)(this,function(e){return t.Ur.forEach(function(e,n){Ad(t,e)}),[2]})})}function Ld(t,e){return Object(aa.b)(this,void 0,void 0,function(){return Object(aa.d)(this,function(n){return Rd(t),Nd(t)?(t.jr.Lr(e),kd(t)):t.jr.set("Unknown"),[2]})})}function Md(t,e,n){return Object(aa.b)(this,void 0,void 0,function(){var r,i,o;return Object(aa.d)(this,function(s){switch(s.label){case 0:if(t.jr.set("Online"),!(e instanceof tl&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(aa.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(aa.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Ur.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Ur.delete(o),t.Gr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),ha("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Fd(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Xc?t.Gr.st(e):e instanceof Zc?t.Gr.ht(e):t.Gr.ot(e),n.isEqual(Gu.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,kf(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.Gr.dt(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Ur.get(r);i&&t.Ur.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Ur.get(e);if(n){t.Ur.set(e,n.withResumeToken(La.EMPTY_BYTE_STRING,n.snapshotVersion)),jd(t,e);var r=new Eh(n.target,e,1,n.sequenceNumber);Ad(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return ha("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Fd(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Fd(t,e,n){return Object(aa.b)(this,void 0,void 0,function(){var r=this;return Object(aa.d)(this,function(i){switch(i.label){case 0:if(!dh(e))throw e;return t.Qr.add(1),[4,Id(t)];case 1:return i.sent(),t.jr.set("Offline"),n||(n=function(){return kf(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(aa.b)(r,void 0,void 0,function(){return Object(aa.d)(this,function(e){switch(e.label){case 0:return ha("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Qr.delete(1),[4,Td(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Ud(t,e){return e().catch(function(n){return Fd(t,n,e)})}function Vd(t){return Object(aa.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(aa.d)(this,function(s){switch(s.label){case 0:e=ya(t),n=Yd(e),r=e.qr.length>0?e.qr[e.qr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Dd(t)&&t.qr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Rf(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(t,e){t.qr.push(e);var n=Yd(t);n.ar()&&n.br&&n.vr(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Fd(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return qd(e)&&Bd(e),[2]}})})}function qd(t){return Dd(t)&&!Yd(t).cr()&&t.qr.length>0}function Bd(t){Yd(t).start()}function Hd(t){return Object(aa.b)(this,void 0,void 0,function(){return Object(aa.d)(this,function(e){return Yd(t).Sr(),[2]})})}function zd(t){return Object(aa.b)(this,void 0,void 0,function(){var e,n,r;return Object(aa.d)(this,function(i){for(e=Yd(t),n=0,r=t.qr;n<r.length;n++)e.vr(r[n].mutations);return[2]})})}function Gd(t,e,n){return Object(aa.b)(this,void 0,void 0,function(){var r,i;return Object(aa.d)(this,function(o){switch(o.label){case 0:return r=t.qr.shift(),i=_h.from(r,e,n),[4,Ud(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Vd(t)];case 2:return o.sent(),[2]}})})}function Kd(t,e){return Object(aa.b)(this,void 0,void 0,function(){return Object(aa.d)(this,function(n){switch(n.label){case 0:return e&&Yd(t).br?[4,function(t,e){return Object(aa.b)(this,void 0,void 0,function(){var n,r;return Object(aa.d)(this,function(i){switch(i.label){case 0:return Nc(r=e.code)&&r!==Aa.ABORTED?(n=t.qr.shift(),Yd(t).hr(),[4,Ud(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Vd(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return qd(t)&&Bd(t),[2]}})})}function Wd(t,e){return Object(aa.b)(this,void 0,void 0,function(){var n;return Object(aa.d)(this,function(r){switch(r.label){case 0:return n=ya(t),e?(n.Qr.delete(2),[4,Td(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Qr.add(2),[4,Id(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function $d(t){var e=this;return t.zr||(t.zr=function(t,e,n){var r=ya(t);return r.Cr(),new wd(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:Pd.bind(null,t),Di:Ld.bind(null,t),Tr:Md.bind(null,t)}),t.Kr.push(function(n){return Object(aa.b)(e,void 0,void 0,function(){return Object(aa.d)(this,function(e){switch(e.label){case 0:return n?(t.zr.hr(),Nd(t)?kd(t):t.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.zr.stop()];case 2:e.sent(),Rd(t),e.label=3;case 3:return[2]}})})})),t.zr}function Yd(t){var e=this;return t.Hr||(t.Hr=function(t,e,n){var r=ya(t);return r.Cr(),new _d(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:Hd.bind(null,t),Di:Kd.bind(null,t),Vr:zd.bind(null,t),Pr:Gd.bind(null,t)}),t.Kr.push(function(n){return Object(aa.b)(e,void 0,void 0,function(){return Object(aa.d)(this,function(e){switch(e.label){case 0:return n?(t.Hr.hr(),[4,Vd(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Hr.stop()];case 3:e.sent(),t.qr.length>0&&(ha("RemoteStore","Stopping write stream with "+t.qr.length+" pending writes"),t.qr=[]),e.label=4;case 4:return[2]}})})})),t.Hr}var Qd=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ah,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ja(Aa.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Jd(t,e){if(fa("AsyncQueue",e+": "+t),dh(t))return new ja(Aa.UNAVAILABLE,e+": "+t);throw t}var Xd=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Pa.comparator(e.key,n.key)}:function(t,e){return Pa.comparator(t.key,e.key)},this.keyedMap=Hc(),this.sortedSet=new Rc(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Zd=function(){function t(){this.Jr=new Rc(Pa.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):ga():this.Jr=this.Jr.insert(e,t)},t.prototype.Yr=function(){var t=[];return this.Jr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),tp=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Xd.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Uu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ep=function(){this.Xr=void 0,this.listeners=[]},np=function(){this.queries=new cf(function(t){return Vu(t)},Uu),this.onlineState="Unknown",this.Zr=new Set};function rp(t,e){return Object(aa.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(aa.d)(this,function(c){switch(c.label){case 0:if(n=ya(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new ep),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Xr=c.sent(),[3,4];case 3:return a=c.sent(),u=Jd(a,"Initialization of query '"+qu(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.eo(n.onlineState),o.Xr&&e.no(o.Xr)&&ap(n),[2]}})})}function ip(t,e){return Object(aa.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(aa.d)(this,function(a){return n=ya(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function op(t,e){for(var n=ya(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].no(s)&&(r=!0);a.Xr=s}}r&&ap(n)}function sp(t,e,n){var r=ya(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function ap(t){t.Zr.forEach(function(t){t.next()})}var up=function(){function t(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.no=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new tp(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.io?this.oo(t)&&(this.so.next(t),o=!0):this.co(t,this.onlineState)&&(this.ao(t),o=!0),this.ro=t,o},t.prototype.onError=function(t){this.so.error(t)},t.prototype.eo=function(t){this.onlineState=t;var e=!1;return this.ro&&!this.io&&this.co(this.ro,t)&&(this.ao(this.ro),e=!0),e},t.prototype.co=function(t,e){return!t.fromCache||!(this.options.uo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.oo=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ao=function(t){t=tp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)},t}(),cp=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.ho=function(){return"metadata"in this.payload},t}(),lp=function(){function t(t){this.D=t}return t.prototype.Gn=function(t){return gl(this.D,t)},t.prototype.zn=function(t){return t.metadata.exists?_l(this.D,t.document,!1):new su(this.Gn(t.metadata.name),this.Hn(t.metadata.readTime))},t.prototype.Hn=function(t){return hl(t)},t}();!function(){function t(t,e,n){this.lo=t,this.localStore=e,this.D=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.fo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.wo=function(t){for(var e=new Map,n=new lp(this.D),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Gn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Wc()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(aa.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(aa.d)(this,function(o){switch(o.label){case 0:return[4,qf(this.localStore,new lp(this.D),this.documents,this.lo.id)];case 1:t=o.sent(),e=this.wo(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Bf(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Of(Object.assign({},this.progress),t))]}})})}}();var hp=function(t){this.key=t},fp=function(t){this.key=t},dp=function(){function t(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=Wc(),this.mutatedKeys=Wc(),this.po=Hu(t),this.Eo=new Xd(this.po)}return Object.defineProperty(t.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),t.prototype.Io=function(t,e){var n=this,r=e?e.Ao:new Zd,i=e?e.Eo:this.Eo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=ku(this.query)&&i.size===this.query.limit?i.last():null,c=Nu(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=e instanceof ou?e:null;h&&(h=Bu(n.query,h)?h:null);var f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Ro(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.po(h,u)>0||c&&n.po(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),ku(this.query)||Nu(this.query))for(;s.size>this.query.limit;){var l=ku(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Eo:s,Ao:r,Mn:a,mutatedKeys:o}},t.prototype.Ro=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;var o=t.Ao.Yr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ga()}};return n(t)-n(e)}(t.type,e.type)||r.po(t.doc,e.doc)}),this.bo(n);var s=e?this.vo():[],a=0===this.yo.size&&this.current?1:0,u=a!==this.mo;return this.mo=a,0!==o.length||u?{snapshot:new tp(this.query,t.Eo,i,o,t.mutatedKeys,0===a,u,!1),Po:s}:{Po:s}},t.prototype.eo=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Zd,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},t.prototype.Vo=function(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations},t.prototype.bo=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._o=e._o.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e._o=e._o.delete(t)}),this.current=t.current)},t.prototype.vo=function(){var t=this;if(!this.current)return[];var e=this.yo;this.yo=Wc(),this.Eo.forEach(function(e){t.Vo(e.key)&&(t.yo=t.yo.add(e.key))});var n=[];return e.forEach(function(e){t.yo.has(e)||n.push(new fp(e))}),this.yo.forEach(function(t){e.has(t)||n.push(new hp(t))}),n},t.prototype.So=function(t){this._o=t.jn,this.yo=Wc();var e=this.Io(t.documents);return this.applyChanges(e,!0)},t.prototype.Do=function(){return tp.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},t}(),pp=function(t,e,n){this.query=t,this.targetId=e,this.view=n},gp=function(t){this.key=t,this.Co=!1},mp=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.xo={},this.No=new cf(function(t){return Vu(t)},Uu),this.$o=new Map,this.Fo=new Set,this.Oo=new Rc(Pa.comparator),this.ko=new Map,this.Mo=new zf,this.Lo={},this.Bo=new Map,this.qo=Qh.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),t}();function yp(t,e){return Object(aa.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(aa.d)(this,function(a){switch(a.label){case 0:return n=Kp(t),(i=n.No.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Do(),[3,4]):[3,1];case 1:return[4,Pf(n.localStore,Mu(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,vp(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&Cd(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function vp(t,e,n,r){return Object(aa.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(aa.d)(this,function(l){switch(l.label){case 0:return t.Qo=function(e,n,r){return function(t,e,n,r){return Object(aa.b)(this,void 0,void 0,function(){var i,o,s;return Object(aa.d)(this,function(a){switch(a.label){case 0:return(i=e.view.Io(n)).Mn?[4,Mf(t.localStore,e.query,!1).then(function(t){return e.view.Io(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(kp(t,e.targetId,s.Po),s.snapshot)]}})})}(t,e,n,r)},[4,Mf(t.localStore,e,!0)];case 1:return i=l.sent(),o=new dp(e,i.jn),s=o.Io(i.documents),a=Jc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),kp(t,n,u.Po),c=new pp(e,n,o),[2,(t.No.set(e,c),t.$o.has(n)?t.$o.get(n).push(e):t.$o.set(n,[e]),u.snapshot)]}})})}function bp(t,e){return Object(aa.b)(this,void 0,void 0,function(){var n,r,i;return Object(aa.d)(this,function(o){switch(o.label){case 0:return n=ya(t),r=n.No.get(e),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter(function(t){return!Uu(t,e)})),void n.No.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Lf(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),xd(n.remoteStore,r.targetId),Ap(n,r.targetId)}).catch(ef)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Ap(n,r.targetId),[4,Lf(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function wp(t,e,n){return Object(aa.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(aa.d)(this,function(a){switch(a.label){case 0:r=Wp(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=ya(t),i=qa.now(),o=e.reduce(function(t,e){return t.add(e.key)},Wc());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Kn.bn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=vc(c,n.get(c.key));null!=l&&s.push(new Ec(c.key,l,Yu(l.proto.mapValue),dc.exists(!0)))}return r.Tn.addMutationBatch(t,i,s,e)})}).then(function(t){var e=t.applyToLocalDocumentSet(n);return{batchId:t.batchId,changes:e}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.Lo[t.currentUser.toKey()];r||(r=new Rc(wa)),r=r.insert(e,n),t.Lo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Rp(r,i.changes)];case 3:return a.sent(),[4,Vd(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Jd(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function _p(t,e){return Object(aa.b)(this,void 0,void 0,function(){var n,r;return Object(aa.d)(this,function(i){switch(i.label){case 0:n=ya(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Nf(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.ko.get(e);r&&(ma(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Co=!0:t.modifiedDocuments.size>0?ma(r.Co):t.removedDocuments.size>0&&(ma(r.Co),r.Co=!1))}),[4,Rp(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,ef(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Ep(t,e,n){var r=ya(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach(function(t,n){var r=n.view.eo(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=ya(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].eo(e)&&(r=!0)}),r&&ap(n)}(r.eventManager,e),i.length&&r.xo.Tr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Op(t,e,n){return Object(aa.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(aa.d)(this,function(c){switch(c.label){case 0:return(r=ya(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.ko.get(e),(o=i&&i.key)?(s=(s=new Rc(Pa.comparator)).insert(o,new su(o,Gu.min())),a=Wc().add(o),u=new Qc(Gu.min(),new Map,new Mc(wa),s,a),[4,_p(r,u)]):[3,2];case 1:return c.sent(),r.Oo=r.Oo.remove(o),r.ko.delete(e),Dp(r),[3,4];case 2:return[4,Lf(r.localStore,e,!1).then(function(){return Ap(r,e,n)}).catch(ef)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Sp(t,e){return Object(aa.b)(this,void 0,void 0,function(){var n,r,i;return Object(aa.d)(this,function(o){switch(o.label){case 0:n=ya(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,jf(n.localStore,e)];case 2:return i=o.sent(),xp(n,r,null),Cp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Rp(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,ef(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Tp(t,e,n){return Object(aa.b)(this,void 0,void 0,function(){var r,i;return Object(aa.d)(this,function(o){switch(o.label){case 0:r=ya(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=ya(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Tn.lookupMutationBatch(t,e).next(function(e){return ma(null!==e),r=e.keys(),n.Tn.removeMutationBatch(t,e)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),xp(r,e,n),Cp(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Rp(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,ef(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Ip(t,e){return Object(aa.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(aa.d)(this,function(a){switch(a.label){case 0:Dd((n=ya(t)).remoteStore)||ha("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=ya(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Tn.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Bo.get(r)||[]).push(e),n.Bo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Jd(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Cp(t,e){(t.Bo.get(e)||[]).forEach(function(t){t.resolve()}),t.Bo.delete(e)}function xp(t,e,n){var r=ya(t),i=r.Lo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Lo[r.currentUser.toKey()]=i}}function Ap(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.$o.get(e);r<i.length;r++){var o=i[r];t.No.delete(o),n&&t.xo.Ko(o,n)}t.$o.delete(e),t.isPrimaryClient&&t.Mo.os(e).forEach(function(e){t.Mo.containsKey(e)||jp(t,e)})}function jp(t,e){t.Fo.delete(e.path.canonicalString());var n=t.Oo.get(e);null!==n&&(xd(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.ko.delete(n),Dp(t))}function kp(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof hp?(t.Mo.addReference(o.key,e),Np(t,o)):o instanceof fp?(ha("SyncEngine","Document no longer in limbo: "+o.key),t.Mo.removeReference(o.key,e),t.Mo.containsKey(o.key)||jp(t,o.key)):ga()}}function Np(t,e){var n=e.key,r=n.path.canonicalString();t.Oo.get(n)||t.Fo.has(r)||(ha("SyncEngine","New document in limbo: "+n),t.Fo.add(r),Dp(t))}function Dp(t){for(;t.Fo.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){var e=t.Fo.values().next().value;t.Fo.delete(e);var n=new Pa(Na.fromString(e)),r=t.qo.next();t.ko.set(r,new gp(n)),t.Oo=t.Oo.insert(n,r),Cd(t.remoteStore,new Eh(Mu(ju(n.path)),r,2,ua.o))}}function Rp(t,e,n){return Object(aa.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(aa.d)(this,function(a){switch(a.label){case 0:return r=ya(t),i=[],o=[],s=[],r.No.isEmpty()?[3,3]:(r.No.forEach(function(t,a){s.push(r.Qo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Tf.Nn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.xo.Tr(i),[4,function(t,e){return Object(aa.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(aa.d)(this,function(l){switch(l.label){case 0:n=ya(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return uh.forEach(e,function(e){return uh.forEach(e.Cn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return uh.forEach(e.xn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!dh(r=l.sent()))throw r;return ha("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Bn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Bn=n.Bn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Pp(t,e){return Object(aa.b)(this,void 0,void 0,function(){var n,r;return Object(aa.d)(this,function(i){switch(i.label){case 0:return(n=ya(t)).currentUser.isEqual(e)?[3,3]:(ha("SyncEngine","User change. New user:",e.toKey()),[4,Af(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Bo.forEach(function(t){t.forEach(function(t){t.reject(new ja(Aa.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Rp(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Lp(t,e){var n=ya(t),r=n.ko.get(e);if(r&&r.Co)return Wc().add(r.key);var i=Wc(),o=n.$o.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.No.get(a[s]);i=i.unionWith(u.view.To)}return i}function Mp(t,e){return Object(aa.b)(this,void 0,void 0,function(){var n,r,i;return Object(aa.d)(this,function(o){switch(o.label){case 0:return[4,Mf((n=ya(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.So(r),[2,(n.isPrimaryClient&&kp(n,e.targetId,i.Po),i)]}})})}function Fp(t){return Object(aa.b)(this,void 0,void 0,function(){var e;return Object(aa.d)(this,function(n){return[2,Uf((e=ya(t)).localStore).then(function(t){return Rp(e,t)})]})})}function Up(t,e,n,r){return Object(aa.b)(this,void 0,void 0,function(){var i,o;return Object(aa.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=ya(t),r=ya(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Jt(t,e).next(function(e){return e?n.Kn.bn(t,e):uh.resolve(null)})})}((i=ya(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Vd(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(xp(i,e,r||null),Cp(i,e),function(t,e){ya(ya(t).Tn).Xt(e)}(i.localStore,e)):ga(),s.label=4;case 4:return[4,Rp(i,o)];case 5:return s.sent(),[3,7];case 6:ha("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Vp(t,e){return Object(aa.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(aa.d)(this,function(c){switch(c.label){case 0:return Kp(n=ya(t)),Wp(n),!0!==e||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,qp(n,r.toArray())]);case 1:return i=c.sent(),n.Uo=!0,[4,Wd(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Cd(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Uo?[3,7]:(a=[],u=Promise.resolve(),n.$o.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Ap(n,e),Lf(n.localStore,e,!0)}),xd(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,qp(n,a)];case 5:return c.sent(),function(t){var e=ya(t);e.ko.forEach(function(t,n){xd(e.remoteStore,n)}),e.Mo.cs(),e.ko=new Map,e.Oo=new Rc(Pa.comparator)}(n),n.Uo=!1,[4,Wd(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function qp(t,e,n){return Object(aa.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(aa.d)(this,function(g){switch(g.label){case 0:n=ya(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.$o.get(a=s[o]))&&0!==c.length?[4,Pf(n.localStore,Mu(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.No.get(h[l]),[4,Mp(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Ff(n.localStore,a)];case 8:return p=g.sent(),[4,Pf(n.localStore,p)];case 9:return u=g.sent(),[4,vp(n,Bp(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}})})}function Bp(t){return Au(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Hp(t){var e=ya(t);return ya(ya(e.localStore).persistence).gn()}function zp(t,e,n,r){return Object(aa.b)(this,void 0,void 0,function(){var i,o,s;return Object(aa.d)(this,function(a){switch(a.label){case 0:return(i=ya(t)).Uo?(ha("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Uf(i.localStore)];case 3:return o=a.sent(),s=Qc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Rp(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Lf(i.localStore,e,!0)];case 6:return a.sent(),Ap(i,e,r),[3,8];case 7:ga(),a.label=8;case 8:return[2]}})})}function Gp(t,e,n){return Object(aa.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(aa.d)(this,function(f){switch(f.label){case 0:if(!(r=Kp(t)).Uo)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.$o.has(s=o[i])?(ha("SyncEngine","Adding an already active target "+s),[3,5]):[4,Ff(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,Pf(r.localStore,a)];case 3:return u=f.sent(),[4,vp(r,Bp(a),u.targetId,!1)];case 4:f.sent(),Cd(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(aa.d)(this,function(e){switch(e.label){case 0:return r.$o.has(t)?[4,Lf(r.localStore,t,!1).then(function(){xd(r.remoteStore,t),Ap(r,t)}).catch(ef)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Kp(t){var e=ya(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_p.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Op.bind(null,e),e.xo.Tr=op.bind(null,e.eventManager),e.xo.Ko=sp.bind(null,e.eventManager),e}function Wp(t){var e=ya(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tp.bind(null,e),e}var $p=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(aa.b)(this,void 0,void 0,function(){return Object(aa.d)(this,function(e){switch(e.label){case 0:return this.D=yd(t.databaseInfo.databaseId),this.sharedClientState=this.jo(t),this.persistence=this.Go(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t),[2]}})})},t.prototype.zo=function(t){return null},t.prototype.Ho=function(t){return xf(this.persistence,new If,t.initialUser,this.D)},t.prototype.Go=function(t){return new Qf(Xf.Cs,this.D)},t.prototype.jo=function(t){return new cd},t.prototype.terminate=function(){return Object(aa.b)(this,void 0,void 0,function(){return Object(aa.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Yp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Jo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(aa.c)(e,t),e.prototype.initialize=function(e){return Object(aa.b)(this,void 0,void 0,function(){return Object(aa.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Vf(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,e)];case 3:return n.sent(),[4,Wp(this.Jo.syncEngine)];case 4:return n.sent(),[4,Vd(this.Jo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ho=function(t){return xf(this.persistence,new If,t.initialUser,this.D)},e.prototype.zo=function(t){return new of(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.Go=function(t){var e=Ef(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Bh.withCacheSize(this.cacheSizeBytes):Bh.DEFAULT;return new bf(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,gd(),md(),this.D,this.sharedClientState,!!this.forceOwnership)},e.prototype.jo=function(t){return new cd},e}($p),Qp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Jo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(aa.c)(e,t),e.prototype.initialize=function(e){return Object(aa.b)(this,void 0,void 0,function(){var n,r=this;return Object(aa.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof ud?(this.sharedClientState.syncEngine={wi:Up.bind(null,n),_i:zp.bind(null,n),mi:Gp.bind(null,n),gn:Hp.bind(null,n),di:Fp.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en(function(t){return Object(aa.b)(r,void 0,void 0,function(){return Object(aa.d)(this,function(e){switch(e.label){case 0:return[4,Vp(this.Jo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jo=function(t){var e=gd();if(!ud.At(e))throw new ja(Aa.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ef(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new ud(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Yp),Jp=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(aa.b)(this,void 0,void 0,function(){var n=this;return Object(aa.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Ep(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Pp.bind(null,this.syncEngine),[4,Wd(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new np},t.prototype.createDatastore=function(t){var e=yd(t.databaseInfo.databaseId),n=new pd(t.databaseInfo);return function(t,e,n){return new Ed(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Ep(s.syncEngine,t,0)},o=hd.At()?new hd:new ld,new Sd(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new mp(t,e,n,r,i,o);return s&&(a.Uo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(aa.b)(this,void 0,void 0,function(){var e;return Object(aa.d)(this,function(n){switch(n.label){case 0:return e=ya(t),ha("RemoteStore","RemoteStore shutting down."),e.Qr.add(5),[4,Id(e)];case 1:return n.sent(),e.Wr.shutdown(),e.jr.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Xp=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xo=function(){this.muted=!0},t.prototype.Yo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Zp=(function(){function t(t,e){var n=this;this.Zo=t,this.D=e,this.metadata=new ah,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then(function(t){t&&t.ho()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Zo.cancel()},t.prototype.getMetadata=function(){return Object(aa.b)(this,void 0,void 0,function(){return Object(aa.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Wo=function(){return Object(aa.b)(this,void 0,void 0,function(){return Object(aa.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.ec())]}})})},t.prototype.ec=function(){return Object(aa.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(aa.d)(this,function(i){switch(i.label){case 0:return[4,this.nc()];case 1:return null===(t=i.sent())?[2,null]:(e=this.tc.decode(t),n=Number(e),isNaN(n)&&this.sc("length string ("+e+") is not valid number"),[4,this.ic(n)]);case 2:return r=i.sent(),[2,new cp(JSON.parse(r),t.length+n)]}})})},t.prototype.rc=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.nc=function(){return Object(aa.b)(this,void 0,void 0,function(){var t,e;return Object(aa.d)(this,function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.ic=function(t){return Object(aa.b)(this,void 0,void 0,function(){var e;return Object(aa.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.tc.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.sc=function(t){throw this.Zo.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.oc=function(){return Object(aa.b)(this,void 0,void 0,function(){var t,e;return Object(aa.d)(this,function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(aa.b)(this,void 0,void 0,function(){var e,n=this;return Object(aa.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ja(Aa.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(aa.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(aa.d)(this,function(u){switch(u.label){case 0:return n=ya(t),r=vl(n.D)+"/documents",i={documents:e.map(function(t){return pl(n.D,t)})},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){ma(!!e.found);var n=gl(t,e.found.name),r=hl(e.found.updateTime),i=new Wu({mapValue:{fields:e.found.fields}});return new ou(n,r,i,{})}(t,e):"missing"in e?function(t,e){ma(!!e.missing),ma(!!e.readTime);var n=gl(t,e.missing),r=hl(e.readTime);return new su(n,r)}(t,e):ga()}(n.D,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());ma(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof su||t instanceof ou?n.recordVersion(t):ga()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Ac(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(aa.b)(this,void 0,void 0,function(){var t,e=this;return Object(aa.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Pa.fromPath(n);e.mutations.push(new jc(r,e.precondition(r)))}),[4,function(t,e){return Object(aa.b)(this,void 0,void 0,function(){var n,r,i;return Object(aa.d)(this,function(o){switch(o.label){case 0:return n=ya(t),r=vl(n.D)+"/documents",i={writes:e.map(function(t){return El(n.D,t)})},[4,n.Mi("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t instanceof ou)e=t.version;else{if(!(t instanceof su))throw ga();e=Gu.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ja(Aa.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?dc.updateTime(e):dc.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Gu.min()))throw new ja(Aa.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dc.updateTime(e)}return dc.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),tg=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new vd(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ac()},t.prototype.ac=function(){var t=this;this.rr.Yi(function(){return Object(aa.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(aa.d)(this,function(r){return t=new Zp(this.datastore),(e=this.uc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.hc(t)})})}).catch(function(t){n.hc(t)}),[2]})})})},t.prototype.uc=function(t){try{var e=this.updateFunction(t);return!Ia(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.hc=function(t){var e=this;this.cc>0&&this.lc(t)?(this.cc-=1,this.asyncQueue.enqueueAndForget(function(){return e.ac(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.lc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Nc(e)}return!1},t}(),eg=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Zf.UNAUTHENTICATED,this.clientId=ba.u(),this.credentialListener=function(){},this.receivedInitialUser=new ah,this.credentials.setChangeListener(function(t){ha("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(aa.b)(this,void 0,void 0,function(){return Object(aa.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ja(Aa.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new ah;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(aa.b)(t,void 0,void 0,function(){var t,n;return Object(aa.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Jd(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function ng(t,e){return Object(aa.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(aa.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),ha("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(aa.b)(i,void 0,void 0,function(){return Object(aa.d)(this,function(t){switch(t.label){case 0:return[4,Af(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function rg(t,e){return Object(aa.b)(this,void 0,void 0,function(){var n,r;return Object(aa.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,ig(t)];case 1:return n=i.sent(),ha("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(aa.b)(this,void 0,void 0,function(){var n,r;return Object(aa.d)(this,function(i){switch(i.label){case 0:return(n=ya(t)).asyncQueue.verifyOperationInProgress(),ha("RemoteStore","RemoteStore received new credentials"),r=Dd(n),n.Qr.add(3),[4,Id(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Qr.delete(3),[4,Td(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function ig(t){return Object(aa.b)(this,void 0,void 0,function(){return Object(aa.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(ha("FirestoreClient","Using default OfflineComponentProvider"),[4,ng(t,new $p)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function og(t){return Object(aa.b)(this,void 0,void 0,function(){return Object(aa.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(ha("FirestoreClient","Using default OnlineComponentProvider"),[4,rg(t,new Jp)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function sg(t){return ig(t).then(function(t){return t.persistence})}function ag(t){return ig(t).then(function(t){return t.localStore})}function ug(t){return og(t).then(function(t){return t.remoteStore})}function cg(t){return og(t).then(function(t){return t.syncEngine})}function lg(t){return Object(aa.b)(this,void 0,void 0,function(){var e,n;return Object(aa.d)(this,function(r){switch(r.label){case 0:return[4,og(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=yp.bind(null,e.syncEngine),n.onUnlisten=bp.bind(null,e.syncEngine),n)]}})})}function hg(t,e,n){var r=this;void 0===n&&(n={});var i=new ah;return t.asyncQueue.enqueueAndForget(function(){return Object(aa.b)(r,void 0,void 0,function(){var r;return Object(aa.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Xp({next:function(o){e.enqueueAndForget(function(){return ip(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new ja(Aa.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new ja(Aa.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new up(ju(n.path),o,{includeMetadataChanges:!0,uo:!0});return rp(t,s)},[4,lg(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function fg(t,e,n){var r=this;void 0===n&&(n={});var i=new ah;return t.asyncQueue.enqueueAndForget(function(){return Object(aa.b)(r,void 0,void 0,function(){var r;return Object(aa.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Xp({next:function(n){e.enqueueAndForget(function(){return ip(t,s)}),n.fromCache&&"server"===r.source?i.reject(new ja(Aa.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new up(n,o,{includeMetadataChanges:!0,uo:!0});return rp(t,s)},[4,lg(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var dg=function(t,e,n,r,i,o){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=o},pg=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),gg=new Map,mg=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},yg=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(Zf.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),vg=function(){function t(t){var e=this;this.fc=null,this.currentUser=Zf.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){e.dc++,e.currentUser=e.wc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.dc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),t.get().then(function(t){e.auth=t,e.fc&&e.auth.addAuthTokenListener(e.fc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.dc!==e?(ha("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ma("string"==typeof n.accessToken),new mg(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},t.prototype.wc=function(){var t=this.auth&&this.auth.getUid();return ma(null===t||"string"==typeof t),new Zf(t)},t}(),bg=function(){function t(t,e){this._c=t,this.mc=e,this.type="FirstParty",this.user=Zf.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.mc},e=this._c.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),wg=function(){function t(t,e){this._c=t,this.mc=e}return t.prototype.getToken=function(){return Promise.resolve(new bg(this._c,this.mc))},t.prototype.setChangeListener=function(t){t(Zf.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function _g(t,e,n){if(!n)throw new ja(Aa.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Eg(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ja(Aa.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Og(t,e,n,r){if(!0===e&&!0===r)throw new ja(Aa.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Sg(t){if(!Pa.isDocumentKey(t))throw new ja(Aa.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Tg(t){if(Pa.isDocumentKey(t))throw new ja(Aa.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Ig(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ga()}function Cg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ja(Aa.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ig(t);throw new ja(Aa.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function xg(t,e){if(e<=0)throw new ja(Aa.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Ag=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ja(Aa.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ja(Aa.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Og("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),jg=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Ag({}),this._settingsFrozen=!1,t instanceof pg?(this._databaseId=t,this._credentials=new yg):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ja(Aa.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pg(t.options.projectId)}(t),this._credentials=new vg(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new ja(Aa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new ja(Aa.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ag(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new yg;switch(t.type){case"gapi":var e=t.client;return ma(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new wg(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new ja(Aa.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=gg.get(this))&&(ha("ComponentProvider","Removing Datastore"),gg.delete(this),t.terminate()),Promise.resolve();var t},t}(),kg=function(t){this._delegate=t},Ng=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Rg(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Dg=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Rg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ju(r))||this).firestore=e,i._path=r,i.type="collection",i}return Object(aa.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Ng(this.firestore,null,new Pa(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Dg);function Pg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof kg&&(t=t._delegate),_g("collection","path",e),t instanceof jg)return Tg(n=Na.fromString.apply(Na,Object(aa.f)([e],r))),new Rg(t,null,n);if(!(t instanceof Ng||t instanceof Rg))throw new ja(Aa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Tg(n=Na.fromString.apply(Na,Object(aa.f)([t.path],r)).child(Na.fromString(e))),new Rg(t.firestore,null,n)}function Lg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof kg&&(t=t._delegate),1===arguments.length&&(e=ba.u()),_g("doc","path",e),t instanceof jg)return Sg(n=Na.fromString.apply(Na,Object(aa.f)([e],r))),new Ng(t,null,new Pa(n));if(!(t instanceof Ng||t instanceof Rg))throw new ja(Aa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Sg(n=t._path.child(Na.fromString.apply(Na,Object(aa.f)([e],r)))),new Ng(t.firestore,t instanceof Rg?t._converter:null,new Pa(n))}function Mg(t,e){return t instanceof kg&&(t=t._delegate),e instanceof kg&&(e=e._delegate),(t instanceof Ng||t instanceof Rg)&&(e instanceof Ng||e instanceof Rg)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function Fg(t,e){return t instanceof kg&&(t=t._delegate),e instanceof kg&&(e=e._delegate),t instanceof Dg&&e instanceof Dg&&t.firestore===e.firestore&&Uu(t._query,e._query)&&t._converter===e._converter}var Ug=function(){function t(){var t=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new vd(this,"async_queue_retry"),this.bc=function(){var e=md();e&&ha("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.Zi()};var e=md();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.vc(),this.Pc(t)},t.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var t=md();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}},t.prototype.enqueue=function(t){return this.vc(),this.Ec?new Promise(function(t){}):this.Pc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.gc.push(t),e.Vc()})},t.prototype.Vc=function(){return Object(aa.b)(this,void 0,void 0,function(){var t,e=this;return Object(aa.d)(this,function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!dh(t=n.sent()))throw t;return ha("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gc.length>0&&this.rr.Yi(function(){return e.Vc()}),n.label=5;case 5:return[2]}})})},t.prototype.Pc=function(t){var e=this,n=this.yc.then(function(){return e.Ac=!0,t().catch(function(t){throw e.Ic=t,e.Ac=!1,fa("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Ac=!1,t})});return this.yc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.vc(),this.Rc.indexOf(t)>-1&&(e=0);var i=Qd.createAndSchedule(this,t,e,n,function(t){return r.Sc(t)});return this.Tc.push(i),i},t.prototype.vc=function(){this.Ic&&ga()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Dc=function(){return Object(aa.b)(this,void 0,void 0,function(){var t;return Object(aa.d)(this,function(e){switch(e.label){case 0:return[4,t=this.yc];case 1:e.sent(),e.label=2;case 2:if(t!==this.yc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Cc=function(t){for(var e=0,n=this.Tc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.xc=function(t){var e=this;return this.Dc().then(function(){e.Tc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Dc()})},t.prototype.Nc=function(t){this.Rc.push(t)},t.prototype.Sc=function(t){var e=this.Tc.indexOf(t);this.Tc.splice(e,1)},t}();function Vg(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new ah,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var qg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new Ug,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(aa.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Hg(this),this._firestoreClient.terminate()},e}(jg);function Bg(t){return t._firestoreClient||Hg(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Hg(t){var e=t._freezeSettings(),n=function(t,e,n){return new dg(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t._databaseId,t._persistenceKey,e);t._firestoreClient=new eg(t._credentials,t._queue,n)}function zg(t,e,n){var r=this,i=new ah;return t.asyncQueue.enqueue(function(){return Object(aa.b)(r,void 0,void 0,function(){var r;return Object(aa.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ng(t,n)];case 1:return o.sent(),[4,rg(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Aa.FAILED_PRECONDITION||t.code===Aa.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Gg(t){if(t._initialized||t._terminated)throw new ja(Aa.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Kg=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new ja(Aa.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ra(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Wg=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(La.fromBase64String(e))}catch(e){throw new ja(Aa.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(La.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),$g=function(t){this._methodName=t},Yg=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new ja(Aa.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ja(Aa.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return wa(this._lat,t._lat)||wa(this._long,t._long)},t}(),Qg=/^__.*__$/,Jg=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Ec(t,this.data,this.fieldMask,e,this.fieldTransforms):new _c(t,this.data,e,this.fieldTransforms)},t}(),Xg=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Ec(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Zg(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ga()}}var tm=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),t.prototype.Oc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.Lc(t),r},t.prototype.Bc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.$c(),r},t.prototype.qc=function(t){return this.Oc({path:void 0,Mc:!0})},t.prototype.Uc=function(t){return wm(t,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.$c=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Lc(this.path.get(t))},t.prototype.Lc=function(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(Zg(this.Fc)&&Qg.test(t))throw this.Uc('Document fields cannot begin and end with "__"')},t}(),em=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.D=n||yd(t)}return t.prototype.Wc=function(t,e,n,r){return void 0===r&&(r=!1),new tm({Fc:t,methodName:e,Kc:n,path:Ra.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},t}();function nm(t){var e=t._freezeSettings(),n=yd(t._databaseId);return new em(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rm(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Wc(o.merge||o.mergeFields?2:0,e,n,i);mm("Data must be an object, but it was:",s,r);var a,u,c=pm(r,s);if(o.merge)a=new Ku(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=ym(e,f[h],n);if(!s.contains(d))throw new ja(Aa.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");_m(l,d)||l.push(d)}a=new Ku(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new Jg(new Wu(c),a,u)}var im=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(aa.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Fc)throw t.Uc(1===t.Fc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}($g);function om(t,e,n){return new tm({Fc:3,Kc:e.settings.Kc,methodName:t._methodName,Mc:n},e.databaseId,e.D,e.ignoreUndefinedProperties)}var sm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(aa.c)(e,t),e.prototype._toFieldTransform=function(t){return new hc(t.path,new rc)},e.prototype.isEqual=function(t){return t instanceof e},e}($g),am=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(aa.c)(e,t),e.prototype._toFieldTransform=function(t){var e=om(this,t,!0),n=this.jc.map(function(t){return dm(t,e)}),r=new ic(n);return new hc(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}($g),um=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(aa.c)(e,t),e.prototype._toFieldTransform=function(t){var e=om(this,t,!0),n=this.jc.map(function(t){return dm(t,e)}),r=new sc(n);return new hc(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}($g),cm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Gc=n,r}return Object(aa.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new uc(t.D,Xu(t.D,this.Gc));return new hc(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}($g);function lm(t,e,n,r){var i=t.Wc(1,e,n);mm("Data must be an object, but it was:",i,r);var o=[],s=new $u;Sa(r,function(t,r){var a=bm(e,t,n);r instanceof kg&&(r=r._delegate);var u=i.Bc(a);if(r instanceof im)o.push(a);else{var c=dm(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new Ku(o);return new Xg(s.v(),a,i.fieldTransforms)}function hm(t,e,n,r,i,o){var s=t.Wc(1,e,n),a=[ym(e,r,n)],u=[i];if(o.length%2!=0)throw new ja(Aa.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(ym(e,o[c])),u.push(o[c+1]);for(var l=[],h=new $u,f=a.length-1;f>=0;--f)if(!_m(l,a[f])){var d=a[f],p=u[f];p instanceof kg&&(p=p._delegate);var g=s.Bc(d);if(p instanceof im)l.push(d);else{var m=dm(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new Ku(l);return new Xg(h.v(),y,s.fieldTransforms)}function fm(t,e,n,r){return void 0===r&&(r=!1),dm(n,t.Wc(r?4:3,e))}function dm(t,e){if(t instanceof kg&&(t=t._delegate),gm(t))return mm("Unsupported field value:",e,t),pm(t,e);if(t instanceof $g)return function(t,e){if(!Zg(e.Fc))throw e.Uc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Uc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Mc&&4!==e.Fc)throw e.Uc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=dm(o[i],e.qc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof kg&&(t=t._delegate),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Xu(e.D,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=qa.fromDate(t);return{timestampValue:ul(e.D,n)}}if(t instanceof qa)return n=new qa(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:ul(e.D,n)};if(t instanceof Yg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Wg)return{bytesValue:cl(e.D,t._byteString)};if(t instanceof Ng){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:fl(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc("Unsupported field value: "+Ig(t))}(t,e)}function pm(t,e){var n={};return Ta(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sa(t,function(t,r){var i=dm(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function gm(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof qa||t instanceof Yg||t instanceof Wg||t instanceof Ng||t instanceof $g)}function mm(t,e,n){if(!gm(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Ig(n);throw e.Uc("an object"===r?t+" a custom object":t+" "+r)}}function ym(t,e,n){if(e instanceof kg&&(e=e._delegate),e instanceof Kg)return e._internalPath;if("string"==typeof e)return bm(t,e);throw wm("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var vm=new RegExp("[~\\*/\\[\\]]");function bm(t,e,n){if(e.search(vm)>=0)throw wm("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Kg.bind.apply(Kg,Object(aa.f)([void 0],e.split(".")))))._internalPath}catch(r){throw wm("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function wm(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new ja(Aa.INVALID_ARGUMENT,(a+=". ")+t+u)}function _m(t,e){return t.some(function(t){return t.isEqual(e)})}var Em=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ng(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Om(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data().field(Sm("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Om=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(aa.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Em);function Sm(t,e){return"string"==typeof e?bm(t,e):e instanceof kg?e._delegate._internalPath:e._internalPath}var Tm=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Im=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(aa.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Cm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data().field(Sm("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Em),Cm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(aa.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Im),xm=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Tm(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Cm(n._firestore,n._userDataWriter,r.key,r,new Tm(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ja(Aa.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Cm(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Tm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Cm(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Tm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Am(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Am(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ga()}}function jm(t,e){return t instanceof Im&&e instanceof Im?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof xm&&e instanceof xm&&t._firestore===e._firestore&&Fg(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function km(t){if(Nu(t)&&0===t.explicitOrderBy.length)throw new ja(Aa.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nm=function(){};function Dm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Rm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).zc=e,i.Hc=n,i.Jc=r,i.type="where",i}return Object(aa.c)(e,t),e.prototype._apply=function(t){var e=nm(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ja(Aa.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){qm(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Vm(r,t,l[c]));a={arrayValue:{values:u}}}else a=Vm(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||qm(s,o),a=fm(n,"where",s,"in"===o||"not-in"===o);var h=du.create(i,o,a);return function(t,e){if(e.g()){var n=Ru(t);if(null!==n&&!n.isEqual(e.field))throw new ja(Aa.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Du(t);null!==r&&Bm(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new ja(Aa.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Dg(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new xu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Nm),Pm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zc=e,r.Yc=n,r.type="orderBy",r}return Object(aa.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new ja(Aa.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ja(Aa.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Su(e,n);return function(t,e){if(null===Du(t)){var n=Ru(t);null!==n&&Bm(0,n,e.field)}}(t,r),r}(t._query,this.zc,this.Yc);return new Dg(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new xu(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Nm),Lm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(aa.c)(e,t),e.prototype._apply=function(t){return new Dg(t.firestore,t._converter,Fu(t._query,this.Xc,this.Zc))},e}(Nm),Mm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(aa.c)(e,t),e.prototype._apply=function(t){var e=Um(t,this.type,this.ta,this.ea);return new Dg(t.firestore,t._converter,function(t,e){return new xu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Nm),Fm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(aa.c)(e,t),e.prototype._apply=function(t){var e=Um(t,this.type,this.ta,this.ea);return new Dg(t.firestore,t._converter,function(t,e){return new xu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Nm);function Um(t,e,n,r){if(n[0]instanceof kg&&(n[0]=n[0]._delegate),n[0]instanceof Em)return function(t,e,n,r,i){if(!r)throw new ja(Aa.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Lu(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Xa(e,r.key));else{var c=r.field(u.field);if(Ba(c))throw new ja(Aa.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new ja(Aa.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Eu(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=nm(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new ja(Aa.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new ja(Aa.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Pu(t)&&-1!==c.indexOf("/"))throw new ja(Aa.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Na.fromString(c));if(!Pa.isDocumentKey(l))throw new ja(Aa.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Pa(l);a.push(Xa(e,h))}else{var f=fm(n,r,c);a.push(f)}}return new Eu(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Vm(t,e,n){if(n instanceof kg&&(n=n._delegate),"string"==typeof n){if(""===n)throw new ja(Aa.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pu(e)&&-1!==n.indexOf("/"))throw new ja(Aa.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Na.fromString(n));if(!Pa.isDocumentKey(r))throw new ja(Aa.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Xa(t,new Pa(r))}if(n instanceof Ng)return Xa(t,n._key);throw new ja(Aa.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ig(n)+".")}function qm(t,e){if(!Array.isArray(t)||0===t.length)throw new ja(Aa.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ja(Aa.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Bm(t,e,n){if(!n.isEqual(e))throw new ja(Aa.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Hm=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Ga(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ua(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Va(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ga()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Sa(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Yg(Ua(t.latitude),Ua(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Ha(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(za(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Fa(t);return new qa(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Na.fromString(t);ma(Ml(n));var r=new pg(n.get(1),n.get(3)),i=new Pa(n.popFirst(5));return r.isEqual(e)||fa("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function zm(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Gm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(aa.c)(e,t),e.prototype.convertBytes=function(t){return new Wg(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ng(this.firestore,null,e)},e}(Hm),Km=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=nm(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Wm(t,this._firestore),i=zm(r._converter,e,n),o=rm(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,dc.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=Wm(t,this._firestore);return e instanceof kg&&(e=e._delegate),o="string"==typeof e||e instanceof Kg?hm(this._dataReader,"WriteBatch.update",s._key,e,n,r):lm(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,dc.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Wm(t,this._firestore);return this._mutations=this._mutations.concat(new Ac(e._key,dc.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new ja(Aa.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Wm(t,e){if(t instanceof kg&&(t=t._delegate),t.firestore!==e)throw new ja(Aa.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var $m=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(aa.c)(e,t),e.prototype.convertBytes=function(t){return new Wg(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ng(this.firestore,null,e)},e}(Hm);function Ym(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Cg(t,Ng);var o=Cg(t.firestore,qg),s=nm(o);return e instanceof kg&&(e=e._delegate),Jm(o,[("string"==typeof e||e instanceof Kg?hm(s,"updateDoc",t._key,e,n,r):lm(s,"updateDoc",t._key,e)).toMutation(t._key,dc.exists(!0))])}function Qm(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof kg&&(t=t._delegate);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Vg(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Vg(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Ng)c=Cg(t.firestore,qg),l=ju(t._key.path),u={next:function(e){i[a]&&i[a](Xm(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Cg(t,Dg);c=Cg(d.firestore,qg),l=d._query;var p=new $m(c);u={next:function(t){i[a]&&i[a](new xm(c,p,d,t))},error:i[a+1],complete:i[a+2]},km(t._query)}return function(t,e,n,r){var i=this,o=new Xp(r),s=new up(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(aa.b)(i,void 0,void 0,function(){var e;return Object(aa.d)(this,function(n){switch(n.label){case 0:return e=rp,[4,lg(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(aa.b)(i,void 0,void 0,function(){var e;return Object(aa.d)(this,function(n){switch(n.label){case 0:return e=ip,[4,lg(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Bg(c),l,h,u)}function Jm(t,e){return function(t,e){var n=this,r=new ah;return t.asyncQueue.enqueueAndForget(function(){return Object(aa.b)(n,void 0,void 0,function(){var n;return Object(aa.d)(this,function(i){switch(i.label){case 0:return n=wp,[4,cg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Bg(t),e)}function Xm(t,e,n){var r=n.docs.get(e._key),i=new $m(t);return new Im(t,i,e._key,r,new Tm(n.hasPendingWrites,n.fromCache),e._converter)}var Zm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(aa.c)(e,t),e.prototype.get=function(e){var n=this,r=Wm(e,this._firestore),i=new $m(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Im(n._firestore,i,r._key,t._document,new Tm(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=nm(t)}return t.prototype.get=function(t){var e=this,n=Wm(t,this._firestore),r=new Gm(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return ga();var i=t[0];if(i instanceof su)return new Em(e._firestore,r,n._key,null,n._converter);if(i instanceof ou)return new Em(e._firestore,r,i.key,i,n._converter);throw ga()})},t.prototype.set=function(t,e,n){var r=Wm(t,this._firestore),i=zm(r._converter,e,n),o=rm(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Wm(t,this._firestore);return e instanceof kg&&(e=e._delegate),o="string"==typeof e||e instanceof Kg?hm(this._dataReader,"Transaction.update",s._key,e,n,r):lm(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Wm(t,this._firestore);return this._transaction.delete(e._key),this},t}());function ty(){if("undefined"==typeof Uint8Array)throw new ja(Aa.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ey(){if("undefined"==typeof atob)throw new ja(Aa.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ny=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(aa.c)(e,t),e.fromBase64String=function(t){return ey(),new e(Wg.fromBase64String(t))},e.fromUint8Array=function(t){return ty(),new e(Wg.fromUint8Array(t))},e.prototype.toBase64=function(){return ey(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return ty(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(kg),ry=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Gg(t=Cg(t,qg));var n=Bg(t),r=t._freezeSettings(),i=new Jp;return zg(n,i,new Yp(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Gg(t=Cg(t,qg));var e=Bg(t),n=t._freezeSettings(),r=new Jp;return zg(e,r,new Qp(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new ja(Aa.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ah;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(aa.b)(e,void 0,void 0,function(){var e;return Object(aa.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(aa.b)(this,void 0,void 0,function(){return Object(aa.d)(this,function(e){switch(e.label){case 0:return lh.At()?[4,lh.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Ef(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),iy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof pg||(i.sa=e),i}return Object(aa.c)(e,t),Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Cg(t,jg))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&da("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(aa.b)(e,void 0,void 0,function(){var e,n;return Object(aa.d)(this,function(r){switch(r.label){case 0:return[4,sg(t)];case 1:return e=r.sent(),[4,ug(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=ya(t);return e.Qr.delete(0),Td(e)}(n))]}})})})}(Bg(Cg(this._delegate,qg)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(aa.b)(e,void 0,void 0,function(){var e,n;return Object(aa.d)(this,function(r){switch(r.label){case 0:return[4,sg(t)];case 1:return e=r.sent(),[4,ug(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(aa.b)(this,void 0,void 0,function(){var e;return Object(aa.d)(this,function(n){switch(n.label){case 0:return(e=ya(t)).Qr.add(0),[4,Id(e)];case 1:return n.sent(),e.jr.set("Offline"),[2]}})})}(n))]}})})})}(Bg(Cg(this._delegate,qg)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Og("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new ah;return t.asyncQueue.enqueueAndForget(function(){return Object(aa.b)(e,void 0,void 0,function(){var e;return Object(aa.d)(this,function(r){switch(r.label){case 0:return e=Ip,[4,cg(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Bg(Cg(this._delegate,qg)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Xp(e);return t.asyncQueue.enqueueAndForget(function(){return Object(aa.b)(n,void 0,void 0,function(){var e;return Object(aa.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){ya(t).Zr.add(e),e.next()},[4,lg(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(aa.b)(n,void 0,void 0,function(){var e;return Object(aa.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){ya(t).Zr.delete(e)},[4,lg(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Bg(t=Cg(t,qg)),Vg(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.sa)throw new ja(Aa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new vy(this,Pg(this._delegate,t))}catch(t){throw ly(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new cy(this,Lg(this._delegate,t))}catch(t){throw ly(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new gy(this,function(t,e){if(t=Cg(t,jg),_g("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ja(Aa.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Dg(t,null,function(t){return new xu(Na.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw ly(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new ah;return t.asyncQueue.enqueueAndForget(function(){return Object(aa.b)(n,void 0,void 0,function(){var n;return Object(aa.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return og(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new tg(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Bg(t),function(n){return e(new Zm(t,n))})}(this._delegate,function(n){return t(new sy(e,n))})},e.prototype.batch=function(){var t=this;return Bg(this._delegate),new ay(new Km(this._delegate,function(e){return Jm(t._delegate,e)}))},e.prototype.loadBundle=function(t){throw new ja(Aa.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new ja(Aa.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(kg),oy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(aa.c)(e,t),e.prototype.convertBytes=function(t){return new ny(new Wg(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return cy.ia(e,this.firestore,null)},e}(Hm),sy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r._userDataWriter=new oy(e),r}return Object(aa.c)(e,t),e.prototype.get=function(t){var e=this,n=by(t);return this._delegate.get(n).then(function(t){return new dy(e._firestore,new Im(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},e.prototype.set=function(t,e,n){var r=by(t);return n?(Eg("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=by(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(aa.f)([s,e,n],i)),this},e.prototype.delete=function(t){var e=by(t);return this._delegate.delete(e),this},e}(kg),ay=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(aa.c)(e,t),e.prototype.set=function(t,e,n){var r=by(t);return n?(Eg("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=by(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(aa.f)([s,e,n],i)),this},e.prototype.delete=function(t){var e=by(t);return this._delegate.delete(e),this},e.prototype.commit=function(){return this._delegate.commit()},e}(kg),uy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this)._firestore=e,i._userDataWriter=n,i}return Object(aa.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new Cm(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new py(this._firestore,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},e.ra=function(t,n){var r=e.oa,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new oy(t),n),i.set(n,o)),o},e}(kg);uy.oa=new WeakMap;var cy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new oy(e),r}return Object(aa.c)(e,t),e.ca=function(t,n,r){if(t.length%2!=0)throw new ja(Aa.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Ng(n._delegate,r,new Pa(t)))},e.ia=function(t,n,r){return new e(n,new Ng(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new vy(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new vy(this.firestore,Pg(this._delegate,t))}catch(t){throw ly(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof kg&&(t=t._delegate),t instanceof Ng&&Mg(this._delegate,t)},e.prototype.set=function(t,e){e=Eg("DocumentReference.set",e);try{return function(t,e,n){t=Cg(t,Ng);var r=Cg(t.firestore,qg),i=zm(t._converter,e,n);return Jm(r,[rm(nm(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,dc.none())])}(this._delegate,t,e)}catch(t){throw ly(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Ym(this._delegate,t):Ym.apply(void 0,Object(aa.f)([this._delegate,t,e],n))}catch(t){throw ly(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Jm(Cg((t=this._delegate).firestore,qg),[new Ac(t._key,dc.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=hy(e),i=fy(e,function(e){return new dy(t.firestore,new Im(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return Qm(this._delegate,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Cg(t,Ng);var e=Cg(t.firestore,qg),n=Bg(e),r=new $m(e);return function(t,e){var n=this,r=new ah;return t.asyncQueue.enqueueAndForget(function(){return Object(aa.b)(n,void 0,void 0,function(){var n;return Object(aa.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(aa.b)(this,void 0,void 0,function(){var r,i;return Object(aa.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=ya(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Kn.In(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof ou?n.resolve(i):i instanceof su?n.resolve(null):n.reject(new ja(Aa.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Jd(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,ag(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Im(e,r,t._key,n,new Tm(n instanceof ou&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Cg(t,Ng);var e=Cg(t.firestore,qg);return hg(Bg(e),t._key,{source:"server"}).then(function(n){return Xm(e,t,n)})}(this._delegate):function(t){t=Cg(t,Ng);var e=Cg(t.firestore,qg);return hg(Bg(e),t._key).then(function(n){return Xm(e,t,n)})}(this._delegate)).then(function(t){return new dy(e.firestore,new Im(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?uy.ra(this.firestore,t):null))},e}(kg);function ly(t,e,n){return t.message=t.message.replace(e,n),t}function hy(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Vg(r))return r}return{}}function fy(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Vg(t[0])?t[0]:Vg(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var dy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(aa.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new cy(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,e){return this._delegate.get(t,e)},e.prototype.isEqual=function(t){return jm(this._delegate,t._delegate)},e}(kg),py=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(aa.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(dy),gy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new oy(e),r}return Object(aa.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Dm(this._delegate,function(t,e,n){var r=e,i=Sm("where",t);return new Rm(i,r,n)}(t,n,r)))}catch(t){throw ly(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Dm(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Sm("orderBy",t);return new Pm(r,n)}(t,n)))}catch(t){throw ly(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Dm(this._delegate,function(t){return xg("limit",t),new Lm("limit",t,"F")}(t)))}catch(t){throw ly(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Dm(this._delegate,function(t){return xg("limitToLast",t),new Lm("limitToLast",t,"L")}(t)))}catch(t){throw ly(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Dm(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mm("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw ly(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Dm(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mm("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw ly(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Dm(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fm("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw ly(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Dm(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fm("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw ly(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Fg(this._delegate,t._delegate)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Cg(t,Dg);var e=Cg(t.firestore,qg),n=Bg(e),r=new $m(e);return function(t,e){var n=this,r=new ah;return t.asyncQueue.enqueueAndForget(function(){return Object(aa.b)(n,void 0,void 0,function(){var n;return Object(aa.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(aa.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(aa.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Mf(t,e,!0)];case 1:return a=u.sent(),r=new dp(e,a.jn),i=r.Io(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Jd(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,ag(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new xm(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Cg(t,Dg);var e=Cg(t.firestore,qg),n=Bg(e),r=new $m(e);return fg(n,t._query,{source:"server"}).then(function(n){return new xm(e,r,t,n)})}(this._delegate):function(t){t=Cg(t,Dg);var e=Cg(t.firestore,qg),n=Bg(e),r=new $m(e);return km(t._query),fg(n,t._query).then(function(n){return new xm(e,r,t,n)})}(this._delegate)).then(function(t){return new yy(e.firestore,new xm(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=hy(e),i=fy(e,function(e){return new yy(t.firestore,new xm(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Qm(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?uy.ra(this.firestore,t):null))},e}(kg),my=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(aa.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new py(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(kg),yy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(aa.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new gy(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new py(t._firestore,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new my(e._firestore,t)})},e.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new py(n._firestore,r))})},e.prototype.isEqual=function(t){return jm(this._delegate,t._delegate)},e}(kg),vy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(aa.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new cy(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new cy(this.firestore,void 0===t?Lg(this._delegate):Lg(this._delegate,t))}catch(t){throw ly(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Cg(t.firestore,qg),r=Lg(t),i=zm(t._converter,e);return Jm(n,[rm(nm(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,dc.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new cy(e.firestore,t)})},e.prototype.isEqual=function(t){return Mg(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?uy.ra(this.firestore,t):null))},e}(gy);function by(t){return t instanceof kg&&(t=t._delegate),Cg(t,Ng)}var wy,_y=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Kg.bind.apply(Kg,Object(aa.f)([void 0],e))))||this}return Object(aa.c)(e,t),e.documentId=function(){return new e(Ra.keyField().canonicalString())},e.prototype.isEqual=function(t){return t instanceof kg&&(t=t._delegate),t instanceof Kg&&this._delegate._internalPath.isEqual(t._internalPath)},e}(kg),Ey=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(aa.c)(e,t),e.serverTimestamp=function(){var t=new sm("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new im("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new am("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new um("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new cm("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(kg),Oy=n("/6Yf"),Sy={Firestore:iy,GeoPoint:Yg,Timestamp:qa,Blob:ny,Transaction:sy,WriteBatch:ay,DocumentReference:cy,DocumentSnapshot:dy,Query:gy,QueryDocumentSnapshot:py,QuerySnapshot:yy,CollectionReference:vy,FieldPath:_y,FieldValue:Ey,setLogLevel:function(t){ca.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Oy.a("firestore",function(t){return function(t,e){return new iy(t,new qg(t,e),new ry)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Sy)))})(wy=nr.a),wy.registerVersion("@firebase/firestore","2.2.1");var Ty=n("qgXg"),Iy=n("quSY"),Cy=n("Ylt2");class xy extends oe.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Ay(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new _e.a;if(this.isStopped||this.hasError?o=Iy.a.EMPTY:(this.observers.push(t),o=new Cy.a(this,t)),r&&t.add(t=new tr.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Ty.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Ay{constructor(t,e){this.time=t,this.value=e}}function jy(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new xy(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}const ky=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function Ny(t=null){return e=>e.lift(new Dy(t))}class Dy{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ry(t,this.defaultValue))}}class Ry extends vt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Py(t=Fy){return e=>e.lift(new Ly(t))}class Ly{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new My(t,this.errorFactory))}}class My extends vt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(wy){t=wy}this.destination.error(t)}}}function Fy(){return new ky}var Uy=n("SpAZ");function Vy(t,e){const n=arguments.length>=2;return r=>r.pipe(t?bt((e,n)=>t(e,n,r)):Uy.a,Ve(1),n?Ny(e):Py(()=>new ky))}function qy(t,e){return e?We(()=>t,e):We(()=>t)}var By=n("tf+s");const Hy=new r.r("angularfire2.auth.use-emulator"),zy=new r.r("angularfire2.auth.settings"),Gy=new r.r("angularfire2.auth.tenant-id"),Ky=new r.r("angularfire2.auth.langugage-code"),Wy=new r.r("angularfire2.auth.use-device-language"),$y=new r.r("angularfire.auth.persistence");let Yy=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new Wn.d(i),f=Object(Wn.h)(h),d=new oe.a,p=Object(pt.a)(void 0).pipe(Object(tr.b)(h.outsideAngular),We(()=>i.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),Object(Et.a)(()=>Object(Wn.g)(t,i,e)),Object(Et.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Wn.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),jy({bufferSize:1,refCount:!1}));if(j(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(pt.a)(null);else{p.pipe(Vy()).subscribe();const t=p.pipe(We(t=>t.getRedirectResult().then(t=>t,()=>null)),f,jy({bufferSize:1,refCount:!1})),e=t=>new gt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(We(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(We(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(qy(n),Object(By.a)(h.outsideAngular),Object(tr.b)(h.insideAngular)),this.user=t.pipe(qy(r),Object(By.a)(h.outsideAngular),Object(tr.b)(h.insideAngular)),this.idToken=this.user.pipe(We(t=>t?Object(Ke.a)(t.getIdToken()):Object(pt.a)(null))),this.idTokenResult=this.user.pipe(We(t=>t?Object(Ke.a)(t.getIdTokenResult()):Object(pt.a)(null))),this.credential=Object(De.a)(t,d,this.authState.pipe(bt(t=>!t))).pipe(Object(Et.a)(t=>(null==t?void 0:t.user)?t:null),Object(By.a)(h.outsideAngular),Object(tr.b)(h.insideAngular))}return Object(Wn.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Wn.c),r.Yb(Wn.b,8),r.Yb(r.C),r.Yb(r.A),r.Yb(Hy,8),r.Yb(zy,8),r.Yb(Gy,8),r.Yb(Ky,8),r.Yb(Wy,8),r.Yb($y,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(Wn.c),Object(r.Yb)(Wn.b,8),Object(r.Yb)(r.C),Object(r.Yb)(r.A),Object(r.Yb)(Hy,8),Object(r.Yb)(zy,8),Object(r.Yb)(Gy,8),Object(r.Yb)(Ky,8),Object(r.Yb)(Wy,8),Object(r.Yb)($y,8))},token:t,providedIn:"any"}),t})();function Qy(t,e){return function(t,e=le.b){return new gt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Jy(t,e){return Qy(t,e).pipe(Object(Et.a)(t=>({payload:t,type:"query"})))}function Xy(t,e){return Jy(t,e).pipe(He(void 0),$n(),Object(Et.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Zy(t,e,n){return Xy(t,n).pipe(Jn((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return tv(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return tv(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return tv(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new ze(void 0,void 0)),Object(Et.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function tv(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function ev(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Wn.e)(Yy,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class nv{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Xy(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Et.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(He(void 0),$n(),bt(([t,e])=>e.length>0||!t),Object(Et.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Jn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ev(t);return Zy(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Jy(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Et.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Ke.a)(this.query.get(t)).pipe(Object(tr.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new rv(this.ref.doc(t),this.afs)}}class rv{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=cv(n,e);return new nv(r,i,this.afs)}snapshotChanges(){return Qy(this.ref,this.afs.schedulers.outsideAngular).pipe(He(void 0),$n(),Object(Et.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Et.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Ke.a)(this.ref.get(t)).pipe(Object(tr.b)(this.afs.schedulers.insideAngular))}}class iv{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Xy(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Et.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),bt(t=>t.length>0),this.afs.keepUnstableUntilFirst):Xy(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Jn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ev(t);return Zy(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Jy(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Et.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Ke.a)(this.query.get(t)).pipe(Object(tr.b)(this.afs.schedulers.insideAngular))}}const ov=new r.r("angularfire2.enableFirestorePersistence"),sv=new r.r("angularfire2.firestore.persistenceSettings"),av=new r.r("angularfire2.firestore.settings"),uv=new r.r("angularfire2.firestore.use-emulator");function cv(t,e=(t=>t)){return{query:e(t),ref:t}}let lv=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new Wn.d(o),this.keepUnstableUntilFirst=Object(Wn.h)(this.schedulers);const c=Object(Wn.g)(t,o,e);!er.a.auth&&u&&Object(Wn.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Wn.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!j(i)){const e=()=>{try{return Object(Ke.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(wy){return"undefined"!=typeof console&&console.warn(wy),Object(pt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(pt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=cv(n,e),o=this.schedulers.ngZone.run(()=>r);return new nv(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new iv(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new rv(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Wn.c),r.Yb(Wn.b,8),r.Yb(ov,8),r.Yb(av,8),r.Yb(r.C),r.Yb(r.A),r.Yb(sv,8),r.Yb(uv,8),r.Yb(Hy,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(Wn.c),Object(r.Yb)(Wn.b,8),Object(r.Yb)(ov,8),Object(r.Yb)(av,8),Object(r.Yb)(r.C),Object(r.Yb)(r.A),Object(r.Yb)(sv,8),Object(r.Yb)(uv,8),Object(r.Yb)(Hy,8))},token:t,providedIn:"any"}),t})(),hv=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:ov,useValue:!0},{provide:sv,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[lv]}),t})();const fv={apiKey:"AIzaSyDvoK8xNki9xglDT_iNBonCGKbdCogMY6o",authDomain:"huaweiexporter.firebaseapp.com",databaseURL:"https://huaweiexporter-default-rtdb.firebaseio.com",projectId:"huaweiexporter",storageBucket:"huaweiexporter.appspot.com",messagingSenderId:"420687984337",appId:"1:420687984337:web:f6ec3e21f266d02bde77f0",measurementId:"G-18FH7EVG9J"};function dv(t){return new gt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Ke.a)(n):Object(ie.b)()).subscribe(e)})}var pv=n("EQ5u");function gv(t){return function(e){return 0===t?Object(ie.b)():e.lift(new mv(t))}}class mv{constructor(t){if(this.total=t,this.total<0)throw new Ue}call(t,e){return e.subscribe(new yv(t,this.total))}}class yv extends vt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var vv=n("x+ZX");class bv{constructor(t){this.callback=t}call(t,e){return e.subscribe(new wv(t,this.callback))}}class wv extends vt.a{constructor(t,e){super(t),this.add(new Iy.a(e))}}class _v{constructor(t,e){this.id=t,this.url=e}}class Ev extends _v{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ov extends _v{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sv extends _v{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tv extends _v{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Iv extends _v{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cv extends _v{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xv extends _v{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Av extends _v{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jv extends _v{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kv{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Nv{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Dv{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rv{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pv{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lv{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mv{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Fv{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Uv(t){return new Fv(t)}function Vv(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function qv(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Bv(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Hv(t[i],e[i]))return!1;return!0}function Hv(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function zv(t){return Array.prototype.concat.apply([],t)}function Gv(t){return t.length>0?t[t.length-1]:null}function Kv(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Wv(t){return Object(r.qb)(t)?t:Object(r.rb)(t)?Object(Ke.a)(Promise.resolve(t)):Object(pt.a)(t)}function $v(t,e,n){return n?function(t,e){return Bv(t,e)}(t.queryParams,e.queryParams)&&Yv(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Hv(t[n],e[n]))}(t.queryParams,e.queryParams)&&Qv(t.root,e.root)}function Yv(t,e){if(!eb(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Yv(t.children[n],e.children[n]))return!1}return!0}function Qv(t,e){return Jv(t,e,e.segments)}function Jv(t,e,n){if(t.segments.length>n.length)return!!eb(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!eb(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Qv(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!eb(t.segments,r)&&!!t.children.primary&&Jv(t.children.primary,e,i)}}class Xv{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uv(this.queryParams)),this._queryParamMap}toString(){return ib.serialize(this)}}class Zv{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Kv(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ob(this)}}class tb{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Uv(this.parameters)),this._parameterMap}toString(){return fb(this)}}function eb(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class nb{}class rb{parse(t){const e=new yb(t);return new Xv(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${sb(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${ub(e)}=${ub(t)}`).join("&"):`${ub(e)}=${ub(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const ib=new rb;function ob(t){return t.segments.map(t=>fb(t)).join("/")}function sb(t,e){if(!t.hasChildren())return ob(t);if(e){const e=t.children.primary?sb(t.children.primary,!1):"",n=[];return Kv(t.children,(t,e)=>{"primary"!==e&&n.push(`${e}:${sb(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Kv(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Kv(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>"primary"===n?[sb(t.children.primary,!1)]:[`${n}:${sb(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${ob(t)}/${e[0]}`:`${ob(t)}/(${e.join("//")})`}}function ab(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ub(t){return ab(t).replace(/%3B/gi,";")}function cb(t){return ab(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lb(t){return decodeURIComponent(t)}function hb(t){return lb(t.replace(/\+/g,"%20"))}function fb(t){return`${cb(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${cb(t)}=${cb(e[t])}`).join("")}`;var e}const db=/^[^\/()?;=#]+/;function pb(t){const e=t.match(db);return e?e[0]:""}const gb=/^[^=?&#]+/,mb=/^[^?&#]+/;class yb{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zv([],{}):new Zv([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Zv(t,e)),n}parseSegment(){const t=pb(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new tb(lb(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=pb(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=pb(this.remaining);t&&(n=t,this.capture(n))}t[lb(e)]=lb(n)}parseQueryParam(t){const e=function(t){const e=t.match(gb);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(mb);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=hb(e),i=hb(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=pb(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Zv([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class vb{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=bb(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=bb(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=wb(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return wb(t,this._root).map(t=>t.value)}}function bb(t,e){if(t===e.value)return e;for(const n of e.children){const e=bb(t,n);if(e)return e}return null}function wb(t,e){if(t===e.value)return[e];for(const n of e.children){const r=wb(t,n);if(r.length)return r.unshift(e),r}return[]}class _b{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Eb(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Ob extends vb{constructor(t,e){super(t),this.snapshot=e,Ab(this,t)}toString(){return this.snapshot.toString()}}function Sb(t,e){const n=function(t,e){const n=new Cb([],{},{},"",{},"primary",e,null,t.root,-1,{});return new xb("",new _b(n,[]))}(t,e),r=new Ee([new tb("",{})]),i=new Ee({}),o=new Ee({}),s=new Ee({}),a=new Ee(""),u=new Tb(r,i,s,a,o,"primary",e,n.root);return u.snapshot=n.root,new Ob(new _b(u,[]),n)}class Tb{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Et.a)(t=>Uv(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Et.a)(t=>Uv(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ib(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Cb{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Uv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xb extends vb{constructor(t,e){super(e),this.url=t,Ab(this,e)}toString(){return jb(this._root)}}function Ab(t,e){e.value._routerState=t,e.children.forEach(e=>Ab(t,e))}function jb(t){const e=t.children.length>0?` { ${t.children.map(jb).join(", ")} } `:"";return`${t.value}${e}`}function kb(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Bv(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Bv(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Bv(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Bv(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Nb(t,e){return Bv(t.params,e.params)&&function(t,e){return eb(t,e)&&t.every((t,n)=>Bv(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Nb(t.parent,e.parent))}function Db(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Db(t,e,r);return Db(t,e)})}(t,e,n);return new _b(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Rb(e,t),t}{const n=new Tb(new Ee((r=e.value).url),new Ee(r.params),new Ee(r.queryParams),new Ee(r.fragment),new Ee(r.data),r.outlet,r.component,r),i=e.children.map(e=>Db(t,e));return new _b(n,i)}}var r}function Rb(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Rb(t.children[n],e.children[n])}function Pb(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Lb(t){return"object"==typeof t&&null!=t&&t.outlets}function Mb(t,e,n,r,i){let o={};return r&&Kv(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Xv(n.root===t?e:Fb(n.root,t,e),o,i)}function Fb(t,e,n){const r={};return Kv(t.children,(t,i)=>{r[i]=t===e?n:Fb(t,e,n)}),new Zv(t.segments,r)}class Ub{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Pb(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Lb);if(r&&r!==Gv(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vb{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function qb(t,e,n){if(t||(t=new Zv([],{})),0===t.segments.length&&t.hasChildren())return Bb(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Lb(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Kb(a,u,e))return o;r+=2}else{if(!Kb(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Zv(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Zv(t.segments.slice(r.pathIndex),t.children),Bb(e,0,i)}return r.match&&0===i.length?new Zv(t.segments,{}):r.match&&!t.hasChildren()?Hb(t,e,n):r.match?Bb(t,0,i):Hb(t,e,n)}function Bb(t,e,n){if(0===n.length)return new Zv(t.segments,{});{const r=function(t){return Lb(t[0])?t[0].outlets:{primary:t}}(n),i={};return Kv(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=qb(t.children[r],e,n))}),Kv(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Zv(t.segments,i)}}function Hb(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Lb(o)){const t=zb(o.outlets);return new Zv(r,t)}if(0===i&&Pb(n[0])){r.push(new tb(t.segments[e].path,Gb(n[0]))),i++;continue}const s=Lb(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Pb(a)?(r.push(new tb(s,Gb(a))),i+=2):(r.push(new tb(s,{})),i++)}return new Zv(r,{})}function zb(t){const e={};return Kv(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Hb(new Zv([],{}),0,t))}),e}function Gb(t){const e={};return Kv(t,(t,n)=>e[n]=`${t}`),e}function Kb(t,e,n){return t==n.path&&Bv(e,n.parameters)}class Wb{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),kb(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Eb(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Kv(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Eb(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=Eb(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Lv(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Rv(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(kb(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),$b(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function $b(t){kb(t.value),t.children.forEach($b)}class Yb{constructor(t,e){this.routes=t,this.module=e}}function Qb(t){return"function"==typeof t}function Jb(t){return t instanceof Xv}const Xb=Symbol("INITIAL_VALUE");function Zb(){return We(t=>function(...t){let e,n;return Object(fe.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(se.a)(t[0])&&(t=t[0]),Object(pe.a)(t,n).lift(new Se(e))}(t.map(t=>t.pipe(Ve(1),He(Xb)))).pipe(Jn((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Xb)return t;if(r===Xb&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Jb(r))return r}return t},t)},Xb),bt(t=>t!==Xb),Object(Et.a)(t=>Jb(t)?t:!0===t),Ve(1)))}let tw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:function(){return[Gw]},encapsulation:2}),t})();function ew(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];nw(r,rw(e,r))}}function nw(t,e){t.children&&ew(t.children,e)}function rw(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function iw(t){const e=t.children&&t.children.map(iw),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=tw),n}function ow(t){return t.outlet||"primary"}function sw(t,e){const n=t.filter(t=>ow(t)===e);return n.push(...t.filter(t=>ow(t)!==e)),n}const aw={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function uw(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},aw):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||qv)(n,t,e);if(!i)return Object.assign({},aw);const o={};Kv(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function cw(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>lw(t,e,n)&&"primary"!==ow(n))}(t,n,r)){const i=new Zv(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==ow(o)){const n=new Zv([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[ow(o)]=n}return i}(t,e,r,new Zv(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>lw(t,e,n))}(t,n,r)){const o=new Zv(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(lw(t,n,a)&&!i[ow(a)]){const n=new Zv([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[ow(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Zv(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function lw(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function hw(t,e,n,r){return!!(ow(t)===r||"primary"!==r&&lw(e,n,t))&&("**"===t.path||uw(e,t,n).matched)}function fw(t,e,n){return 0===e.length&&!t.children[n]}class dw{constructor(t){this.segmentGroup=t||null}}class pw{constructor(t){this.urlTree=t}}function gw(t){return new gt.a(e=>e.error(new dw(t)))}function mw(t){return new gt.a(e=>e.error(new pw(t)))}function yw(t){return new gt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class vw{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=cw(this.urlTree.root,[],[],this.config).segmentGroup,e=new Zv(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,"primary").pipe(Object(Et.a)(t=>this.createUrlTree(bw(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ht(t=>{if(t instanceof pw)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof dw)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(Et.a)(e=>this.createUrlTree(bw(e),t.queryParams,t.fragment))).pipe(ht(t=>{if(t instanceof dw)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Zv([],{primary:t}):t;return new Xv(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Et.a)(t=>new Zv([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(Ke.a)(r).pipe(yt(r=>{const i=n.children[r],o=sw(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(Et.a)(t=>({segment:t,outlet:r})))}),Jn((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?bt((e,n)=>t(e,n,r)):Uy.a,gv(1),n?Ny(e):Py(()=>new ky))}())}expandSegment(t,e,n,r,i,o){return Object(Ke.a)(n).pipe(yt(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(ht(t=>{if(t instanceof dw)return Object(pt.a)(null);throw t}))),Vy(t=>!!t),ht((t,n)=>{if(t instanceof ky||"EmptyError"===t.name){if(fw(e,r,i))return Object(pt.a)(new Zv([],{}));throw new dw(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return hw(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):gw(e):gw(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?mw(i):this.lineralizeSegments(n,i).pipe(Object(mt.a)(n=>{const i=new Zv(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=uw(e,r,i);if(!s)return gw(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?mw(l):this.lineralizeSegments(r,l).pipe(Object(mt.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(pt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(Et.a)(t=>(n._loadedConfig=t,new Zv(r,{})))):Object(pt.a)(new Zv(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=uw(e,n,r);if(!o)return gw(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(mt.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=cw(e,s,u,o),l=new Zv(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(Et.a)(t=>new Zv(s,t)));if(0===o.length&&0===c.length)return Object(pt.a)(new Zv(s,{}));const h=ow(n)===i;return this.expandSegment(r,l,o,c,h?"primary":i,!0).pipe(Object(Et.a)(t=>new Zv(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(pt.a)(new Yb(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(pt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(mt.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Et.a)(t=>(e._loadedConfig=t,t))):function(t){return new gt.a(e=>e.error(Vv(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(pt.a)(new Yb([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(pt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Qb(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Qb(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Wv(o)});return Object(pt.a)(i).pipe(Zb(),Object(Qe.a)(t=>{if(!Jb(t))return;const e=Vv(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Et.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(pt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return yw(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Xv(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Kv(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Kv(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Zv(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function bw(t){const e={};for(const n of Object.keys(t.children)){const r=bw(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Zv(t.segments.concat(e.segments),e.children)}return t}(new Zv(t.segments,e))}class ww{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class _w{constructor(t,e){this.component=t,this.route=e}}function Ew(t,e,n){const r=t._root;return Sw(r,e?e._root:null,n,[r.value])}function Ow(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Sw(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Eb(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!eb(t.url,e.url);case"pathParamsOrQueryParamsChange":return!eb(t.url,e.url)||!Bv(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nb(t,e)||!Bv(t.queryParams,e.queryParams);case"paramsChange":default:return!Nb(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ww(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Sw(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new _w(a.outlet.component,s))}else s&&Tw(e,a,i),i.canActivateChecks.push(new ww(r)),Sw(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Kv(o,(t,e)=>Tw(t,n.getContext(e),i)),i}function Tw(t,e,n){const r=Eb(t),i=t.value;Kv(r,(t,r)=>{Tw(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new _w(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Iw{}function Cw(t){return new gt.a(e=>e.error(t))}class xw{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=cw(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;const n=new Cb([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new _b(n,e),i=new xb(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Ib(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=sw(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!Aw(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return fw(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!hw(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Gv(n).parameters:{};i=new Cb(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Nw(t),ow(t),t.component,t,jw(e),kw(e)+n.length,Dw(t))}else{const r=uw(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Cb(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Nw(t),ow(t),t.component,t,jw(e),kw(e)+o.length,Dw(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=cw(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new _b(i,t)]}if(0===a.length&&0===c.length)return[new _b(i,[])];const l=ow(t)===r,h=this.processSegment(a,u,c,l?"primary":r);return null===h?null:[new _b(i,h)]}}function Aw(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function jw(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function kw(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Nw(t){return t.data||{}}function Dw(t){return t.resolve||{}}function Rw(t){return We(e=>{const n=t(e);return n?Object(Ke.a)(n).pipe(Object(Et.a)(()=>e)):Object(pt.a)(e)})}class Pw extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Lw=new r.r("ROUTES");class Mw{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(Et.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Yb(zv(i.injector.get(Lw,void 0,r.q.Self|r.q.Optional)).map(iw),i)}),ht(t=>{throw e._loader$=void 0,t}));return e._loader$=new pv.a(n,()=>new oe.a).pipe(Object(vv.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(Ke.a)(this.loader.load(t)):Wv(t()).pipe(Object(mt.a)(t=>t instanceof r.w?Object(pt.a)(t):Object(Ke.a)(this.compiler.compileModuleAsync(t))))}}class Fw{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Uw,this.attachRef=null}}class Uw{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Fw,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Vw{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function qw(t){throw t}function Bw(t,e,n){return e.parse("/")}function Hw(t,e){return Object(pt.a)(null)}let zw=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new oe.a,this.errorHandler=qw,this.malformedUriErrorHandler=Bw,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Hw,afterPreactivation:Hw},this.urlHandlingStrategy=new Vw,this.routeReuseStrategy=new Pw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.y),this.console=o.get(r.Y);const c=o.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Xv(new Zv([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Mw(s,a,t=>this.triggerEvent(new kv(t)),t=>this.triggerEvent(new Nv(t))),this.routerState=Sb(this.currentUrlTree,this.rootComponentType),this.transitions=new Ee({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(bt(t=>0!==t.id),Object(Et.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),We(t=>{let n=!1,r=!1;return Object(pt.a)(t).pipe(Object(Qe.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),We(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(pt.a)(t).pipe(We(t=>{const n=this.transitions.getValue();return e.next(new Ev(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?ie.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,We(t=>function(t,e,n,r,i){return new vw(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Et.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Qe.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(mt.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new xw(t,e,n,r,i,o).recognize();return null===s?Cw(new Iw):Object(pt.a)(s)}catch(wy){return Cw(wy)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Et.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Qe.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Iv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Ev(n,this.serializeUrl(r),i,o);e.next(a);const u=Sb(r,this.rootComponentType).snapshot;return Object(pt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ie.a}),Rw(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Qe.a)(t=>{const e=new Cv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Et.a)(t=>Object.assign(Object.assign({},t),{guards:Ew(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(mt.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(pt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Ke.a)(t).pipe(Object(mt.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(pt.a)(!0);const s=o.map(o=>{const s=Ow(o,e,i);let a;if(function(t){return t&&Qb(t.canDeactivate)}(s))a=Wv(s.canDeactivate(t,e,n,r));else{if(!Qb(s))throw new Error("Invalid CanDeactivate guard");a=Wv(s(t,e,n,r))}return a.pipe(Vy())});return Object(pt.a)(s).pipe(Zb())}(t.component,t.route,n,e,r)),Vy(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(mt.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Ke.a)(e).pipe(yt(e=>Pe(function(t,e){return null!==t&&e&&e(new Dv(t)),Object(pt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Pv(t)),Object(pt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>dv(()=>{const i=e.guards.map(i=>{const o=Ow(i,e.node,n);let s;if(function(t){return t&&Qb(t.canActivateChild)}(o))s=Wv(o.canActivateChild(r,t));else{if(!Qb(o))throw new Error("Invalid CanActivateChild guard");s=Wv(o(r,t))}return s.pipe(Vy())});return Object(pt.a)(i).pipe(Zb())}));return Object(pt.a)(i).pipe(Zb())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(pt.a)(!0);const i=r.map(r=>dv(()=>{const i=Ow(r,e,n);let o;if(function(t){return t&&Qb(t.canActivate)}(i))o=Wv(i.canActivate(e,t));else{if(!Qb(i))throw new Error("Invalid CanActivate guard");o=Wv(i(e,t))}return o.pipe(Vy())}));return Object(pt.a)(i).pipe(Zb())}(t,e.route,n))),Vy(t=>!0!==t,!0))}(r,o,t,e):Object(pt.a)(n)),Object(Et.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Qe.a)(t=>{if(Jb(t.guardsResult)){const e=Vv(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new xv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),bt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Sv(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Rw(t=>{if(t.guards.canActivateChecks.length)return Object(pt.a)(t).pipe(Object(Qe.a)(t=>{const e=new Av(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),We(t=>{let n=!1;return Object(pt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(mt.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(pt.a)(t);let o=0;return Object(Ke.a)(n).pipe(yt(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(pt.a)({});const o={};return Object(Ke.a)(i).pipe(Object(mt.a)(i=>function(t,e,n,r){const i=Ow(t,e,r);return Wv(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Qe.a)(t=>{o[i]=t}))),gv(1),Object(mt.a)(()=>Object.keys(o).length===i.length?Object(pt.a)(o):ie.a))}(t._resolve,t,e,r).pipe(Object(Et.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Ib(t,n).resolve),null)))}(t.route,e,r,i)),Object(Qe.a)(()=>o++),gv(1),Object(mt.a)(e=>o===n.length?Object(pt.a)(t):ie.a))})),Object(Qe.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Sv(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Qe.a)(t=>{const e=new jv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Rw(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Et.a)(t=>{const e=function(t,e,n){const r=Db(t,e._root,n?n._root:void 0);return new Ob(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Qe.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Et.a)(t=>(new Wb(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(Qe.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Sv(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new bv(i))),ht(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Jb(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Sv(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Tv(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Bu){t.reject(Bu)}}var i;return ie.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ew(t),this.config=t.map(iw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Mb(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ub(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Kv(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Ub(n,e,r)}(n);if(o.toRoot())return Mb(e.root,new Zv([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Vb(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Vb(t,t===e.root,0)}const r=Pb(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Vb(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Bb(s.segmentGroup,s.index,o.commands):qb(s.segmentGroup,s.index,o.commands);return Mb(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Jb(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(wy){e=this.malformedUriErrorHandler(wy,this.urlSerializer,t)}return e}isActive(t,e){if(Jb(t))return $v(this.currentUrlTree,t,e);const n=this.parseUrl(t);return $v(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Ov(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.N),r.Yb(nb),r.Yb(Uw),r.Yb(_),r.Yb(r.s),r.Yb(r.x),r.Yb(r.i),r.Yb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Gw=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Kw(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Uw),r.Mb(r.Q),r.Mb(r.j),r.Zb("name"),r.Mb(r.h))},t.\u0275dir=r.Hb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Kw{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Tb?this.route:t===Uw?this.childContexts:this.parent.get(t,e)}}class Ww{}class $w{preload(t,e){return Object(pt.a)(null)}}let Yw=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Mw(e,n,e=>t.triggerEvent(new kv(e)),e=>t.triggerEvent(new Nv(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(bt(t=>t instanceof Ov),yt(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Ke.a)(n).pipe(Object(Re.a)(),Object(Et.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(pt.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(mt.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(zw),r.Yb(r.x),r.Yb(r.i),r.Yb(r.s),r.Yb(Ww))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Qw=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ev?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ov&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Mv&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Mv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(zw),r.Yb(k),r.Yb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Jw=new r.r("ROUTER_CONFIGURATION"),Xw=new r.r("ROUTER_FORROOT_GUARD"),Zw=[_,{provide:nb,useClass:rb},{provide:zw,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new zw(null,t,e,n,r,i,s,zv(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[nb,Uw,_,r.s,r.x,r.i,Lw,Jw,[class{},new r.B],[class{},new r.B]]},Uw,{provide:Tb,useFactory:function(t){return t.routerState.root},deps:[zw]},{provide:r.x,useClass:r.K},Yw,$w,class{preload(t,e){return e().pipe(ht(()=>Object(pt.a)(null)))}},{provide:Jw,useValue:{enableTracing:!1}}];function t_(){return new r.z("Router",zw)}let e_=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Zw,o_(e),{provide:Xw,useFactory:i_,deps:[[zw,new r.B,new r.J]]},{provide:Jw,useValue:n||{}},{provide:m,useFactory:r_,deps:[a,[new r.p(v),new r.B],Jw]},{provide:Qw,useFactory:n_,deps:[zw,k,Jw]},{provide:Ww,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:$w},{provide:r.z,multi:!0,useFactory:t_},[s_,{provide:r.d,multi:!0,useFactory:a_,deps:[s_]},{provide:c_,useFactory:u_,deps:[s_]},{provide:r.b,multi:!0,useExisting:c_}]]}}static forChild(e){return{ngModule:t,providers:[o_(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Xw,8),r.Yb(zw,8))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();function n_(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Qw(t,e,n)}function r_(t,e,n={}){return n.useHash?new w(t,e):new b(t,e)}function i_(t){return"guarded"}function o_(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Lw,multi:!0,useValue:t}]}let s_=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new oe.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(zw),r=this.injector.get(Jw);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(pt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Jw),n=this.injector.get(Yw),i=this.injector.get(Qw),o=this.injector.get(zw),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function a_(t){return t.appInitializer.bind(t)}function u_(t){return t.bootstrapListener.bind(t)}const c_=new r.r("Router Initializer"),l_=[{path:"strava",component:(()=>{class t{constructor(t,e){this.route=t,this.stravaService=e,this.data={},this.code=""}ngOnInit(){const t=this.route.snapshot.queryParamMap.get("code");console.log(t),null!=t&&this.stravaService.getToken(t).subscribe(t=>{this.data=t,console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Tb),r.Mb(ee))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-receive-token-strava"]],decls:1,vars:1,template:function(t,e){1&t&&r.wc(0),2&t&&r.yc("",e.data.id,"\n")},styles:[""]}),t})()},{path:"",component:re}];let h_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t,bootstrap:[re]}),t.\u0275inj=r.Jb({providers:[ee],imports:[[ut,Kn,Wn.a.initializeApp(fv),hv,te,e_.forRoot(l_)],e_]}),t})();Object(r.T)(),st().bootstrapModule(h_).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);